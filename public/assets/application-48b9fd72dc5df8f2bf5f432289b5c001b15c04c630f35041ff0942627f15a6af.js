function isScrolledIntoView(t){if(void 0!==t&&0<$(t).length){var e=$(window).scrollTop(),n=e+$(window).height(),i=$(t).offset().top;return i+$(t).height()<=n&&e<=i}return!1}if(function(g,C){function a(t){var e=t.length,n=Dt.type(t);return!Dt.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||"function"!==n&&(0===e||"number"==typeof e&&0<e&&e-1 in t)))}function t(t){var n=kt[t]={};return Dt.each(t.match(dt)||[],function(t,e){n[e]=!0}),n}function i(t,e,n,i){if(Dt.acceptData(t)){var o,r,s=Dt.expando,a=t.nodeType,l=a?Dt.cache:t,u=a?t[s]:t[s]&&s;if(u&&l[u]&&(i||l[u].data)||n!==C||"string"!=typeof e)return u||(u=a?t[s]=et.pop()||Dt.guid++:s),l[u]||(l[u]=a?{}:{toJSON:Dt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[u]=Dt.extend(l[u],e):l[u].data=Dt.extend(l[u].data,e)),r=l[u],i||(r.data||(r.data={}),r=r.data),n!==C&&(r[Dt.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[Dt.camelCase(e)]):o=r,o}}function n(t,e,n){if(Dt.acceptData(t)){var i,o,r=t.nodeType,s=r?Dt.cache:t,a=r?t[Dt.expando]:Dt.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){o=(e=Dt.isArray(e)?e.concat(Dt.map(e,Dt.camelCase)):e in i?[e]:(e=Dt.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!u(i):!Dt.isEmptyObject(i))return}(n||(delete s[a].data,u(s[a])))&&(r?Dt.cleanData([t],!0):Dt.support.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function l(t,e,n){if(n===C&&1===t.nodeType){var i="data-"+e.replace(St,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Tt.test(n)?Dt.parseJSON(n):n)}catch(o){}Dt.data(t,e,n)}else n=C}return n}function u(t){var e;for(e in t)if(("data"!==e||!Dt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function o(){return!0}function c(){return!1}function e(){try{return X.activeElement}catch(t){}}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t,n,i){if(Dt.isFunction(n))return Dt.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return Dt.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(jt.test(n))return Dt.filter(n,t,i);n=Dt.filter(n,t)}return Dt.grep(t,function(t){return 0<=Dt.inArray(t,n)!==i})}function m(t){var e=Wt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function d(t,e){return Dt.nodeName(t,"table")&&Dt.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function v(t){return t.type=(null!==Dt.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function y(t,e){for(var n,i=0;null!=(n=t[i]);i++)Dt._data(n,"globalEval",!e||Dt._data(e[i],"globalEval"))}function h(t,e){if(1===e.nodeType&&Dt.hasData(t)){var n,i,o,r=Dt._data(t),s=Dt._data(e,r),a=r.events;if(a)for(n in delete s.handle,s.events={},a)for(i=0,o=a[n].length;i<o;i++)Dt.event.add(e,n,a[n][i]);s.data&&(s.data=Dt.extend({},s.data))}}function f(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!Dt.support.noCloneEvent&&e[Dt.expando]){for(i in(o=Dt._data(e)).events)Dt.removeEvent(e,i,o.handle);e.removeAttribute(Dt.expando)}"script"===n&&e.text!==t.text?(v(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),Dt.support.html5Clone&&t.innerHTML&&!Dt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&ee.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function w(t,e){var n,i,o=0,r=typeof t.getElementsByTagName!==K?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==K?t.querySelectorAll(e||"*"):C;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||Dt.nodeName(i,e)?r.push(i):Dt.merge(r,w(i,e));return e===C||e&&Dt.nodeName(t,e)?Dt.merge([t],r):r}function _(t){ee.test(t.type)&&(t.defaultChecked=t.checked)}function p(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=Ce.length;o--;)if((e=Ce[o]+n)in t)return e;return i}function x(t,e){return t=e||t,"none"===Dt.css(t,"display")||!Dt.contains(t.ownerDocument,t)}function k(t,e){for(var n,i,o,r=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(r[s]=Dt._data(i,"olddisplay"),n=i.style.display,e?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(r[s]=Dt._data(i,"olddisplay",N(i.nodeName)))):r[s]||(o=x(i),(n&&"none"!==n||!o)&&Dt._data(i,"olddisplay",o?n:Dt.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function T(t,e,n){var i=me.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function S(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,s=0;r<4;r+=2)"margin"===n&&(s+=Dt.css(t,n+xe[r],!0,o)),i?("content"===n&&(s-=Dt.css(t,"padding"+xe[r],!0,o)),"margin"!==n&&(s-=Dt.css(t,"border"+xe[r]+"Width",!0,o))):(s+=Dt.css(t,"padding"+xe[r],!0,o),"padding"!==n&&(s+=Dt.css(t,"border"+xe[r]+"Width",!0,o)));return s}function E(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=ue(t),s=Dt.support.boxSizing&&"border-box"===Dt.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=ce(t,e,r))<0||null==o)&&(o=t.style[e]),ve.test(o))return o;i=s&&(Dt.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+S(t,e,n||(s?"border":"content"),i,r)+"px"}function N(t){var e=X,n=ye[t];return n||("none"!==(n=D(t,e))&&n||((e=((le=(le||Dt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement))[0].contentWindow||le[0].contentDocument).document).write("<!doctype html><html><body>"),e.close(),n=D(t,e),le.detach()),ye[t]=n),n}function D(t,e){var n=Dt(e.createElement(t)).appendTo(e.body),i=Dt.css(n[0],"display");return n.remove(),i}function A(n,t,i,o){var e;if(Dt.isArray(t))Dt.each(t,function(t,e){i||Te.test(n)?o(n,e):A(n+"["+("object"==typeof e?t:"")+"]",e,i,o)});else if(i||"object"!==Dt.type(t))o(n,t);else for(e in t)A(n+"["+e+"]",t[e],i,o)}function z(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(dt)||[];if(Dt.isFunction(e))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function M(e,o,r,s){function a(t){var i;return l[t]=!0,Dt.each(e[t]||[],function(t,e){var n=e(o,r,s);return"string"!=typeof n||u||l[n]?u?!(i=n):void 0:(o.dataTypes.unshift(n),a(n),!1)}),i}var l={},u=e===je;return a(o.dataTypes[0])||!l["*"]&&a("*")}function I(t,e){var n,i,o=Dt.ajaxSettings.flatOptions||{};for(i in e)e[i]!==C&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&Dt.extend(!0,t,n),t}function P(t,e,n){for(var i,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===C&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in n)r=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}i||(i=s)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}function R(t,e,n,i){var o,r,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function H(){try{return new g.XMLHttpRequest}catch(t){}}function O(){try{return new g.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function L(){return setTimeout(function(){Xe=C}),Xe=Dt.now()}function F(t,e,n){for(var i,o=(nn[e]||[]).concat(nn["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,e,t))return i}function B(r,t,e){var n,s,i=0,o=en.length,a=Dt.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Xe||L(),e=Math.max(0,u.startTime+u.duration-t),n=1-(e/u.duration||0),i=0,o=u.tweens.length;i<o;i++)u.tweens[i].run(n);return a.notifyWith(r,[u,n,e]),n<1&&o?e:(a.resolveWith(r,[u]),!1)},u=a.promise({elem:r,props:Dt.extend({},t),opts:Dt.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:Xe||L(),duration:e.duration,tweens:[],createTween:function(t,e){var n=Dt.Tween(r,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var e=0,n=t?u.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)u.tweens[e].run(1);return t?a.resolveWith(r,[u,t]):a.rejectWith(r,[u,t]),this}}),c=u.props;for($(c,u.opts.specialEasing);i<o;i++)if(n=en[i].call(u,r,c,u.opts))return n;return Dt.map(c,F,u),Dt.isFunction(u.opts.start)&&u.opts.start.call(r,u),Dt.fx.timer(Dt.extend(l,{elem:r,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function $(t,e){var n,i,o,r,s;for(n in t)if(o=e[i=Dt.camelCase(n)],r=t[n],Dt.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(s=Dt.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}function j(e,t,n){var i,o,r,s,a,l,u=this,c={},d=e.style,h=e.nodeType&&x(e),f=Dt._data(e,"fxshow");for(i in n.queue||(null==(a=Dt._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,Dt.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===Dt.css(e,"display")&&"none"===Dt.css(e,"float")&&(Dt.support.inlineBlockNeedsLayout&&"inline"!==N(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",Dt.support.shrinkWrapBlocks||u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(o=t[i],Je.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(h?"hide":"show"))continue;c[i]=f&&f[i]||Dt.style(e,i)}if(!Dt.isEmptyObject(c))for(i in f?"hidden"in f&&(h=f.hidden):f=Dt._data(e,"fxshow",{}),r&&(f.hidden=!h),h?Dt(e).show():u.done(function(){Dt(e).hide()}),u.done(function(){var t;for(t in Dt._removeData(e,"fxshow"),c)Dt.style(e,t,c[t])}),c)s=F(h?f[i]:0,i,u),i in f||(f[i]=s.start,h&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}function V(t,e,n,i,o){return new V.prototype.init(t,e,n,i,o)}function U(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=xe[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function q(t){return Dt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var W,Y,K=typeof C,G=g.location,X=g.document,Q=X.documentElement,J=g.jQuery,Z=g.$,tt={},et=[],nt="1.10.0",it=et.concat,ot=et.push,rt=et.slice,st=et.indexOf,at=tt.toString,lt=tt.hasOwnProperty,ut=nt.trim,Dt=function(t,e){return new Dt.fn.init(t,e,Y)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,ht=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,vt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,yt=/^-ms-/,wt=/-([\da-z])/gi,_t=function(t,e){return e.toUpperCase()},xt=function(t){(X.addEventListener||"load"===t.type||"complete"===X.readyState)&&(Ct(),Dt.ready())},Ct=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",xt,!1),g.removeEventListener("load",xt,!1)):(X.detachEvent("onreadystatechange",xt),g.detachEvent("onload",xt))};Dt.fn=Dt.prototype={jquery:nt,constructor:Dt,init:function(t,e,n){var i,o;if(!t)return this;if("string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):Dt.isFunction(t)?n.ready(t):(t.selector!==C&&(this.selector=t.selector,this.context=t.context),Dt.makeArray(t,this));if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:ft.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Dt?e[0]:e,Dt.merge(this,Dt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:X,!0)),pt.test(i[1])&&Dt.isPlainObject(e))for(i in e)Dt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=X.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return n.find(t);this.length=1,this[0]=o}return this.context=X,this.selector=t,this},selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null==t?this.toArray():t<0?this[this.length+t]:this[t]},pushStack:function(t){var e=Dt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Dt.each(this,t,e)},ready:function(t){return Dt.ready.promise().done(t),this},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},map:function(n){return this.pushStack(Dt.map(this,function(t,e){return n.call(t,e,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:ot,sort:[].sort,splice:[].splice},Dt.fn.init.prototype=Dt.fn,Dt.extend=Dt.fn.extend=function(t,e){var n,i,o,r,s,a,l=t||{},u=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=e||{},u=2),"object"==typeof l||Dt.isFunction(l)||(l={}),c===u&&(l=this,--u);u<c;u++)if(null!=(s=arguments[u]))for(r in s)n=l[r],l!==(o=s[r])&&(d&&o&&(Dt.isPlainObject(o)||(i=Dt.isArray(o)))?(i?(i=!1,a=n&&Dt.isArray(n)?n:[]):a=n&&Dt.isPlainObject(n)?n:{},l[r]=Dt.extend(d,a,o)):o!==C&&(l[r]=o));return l},Dt.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return g.$===Dt&&(g.$=Z),t&&g.jQuery===Dt&&(g.jQuery=J),Dt},isReady:!1,readyWait:1,holdReady:function(t){t?Dt.readyWait++:Dt.ready(!0)},ready:function(t){if(!0===t?!--Dt.readyWait:!Dt.isReady){if(!X.body)return setTimeout(Dt.ready);(Dt.isReady=!0)!==t&&0<--Dt.readyWait||(W.resolveWith(X,[Dt]),Dt.fn.trigger&&Dt(X).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===Dt.type(t)},isArray:Array.isArray||function(t){return"array"===Dt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?tt[at.call(t)]||"object":typeof t},isPlainObject:function(t){var e;if(!t||"object"!==Dt.type(t)||t.nodeType||Dt.isWindow(t))return!1;try{if(t.constructor&&!lt.call(t,"constructor")&&!lt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(Dt.support.ownLast)for(e in t)return lt.call(t,e);for(e in t);return e===C||lt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||X;var i=pt.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=Dt.buildFragment([t],e,o),o&&Dt(o).remove(),Dt.merge([],i.childNodes))},parseJSON:function(t){return g.JSON&&g.JSON.parse?g.JSON.parse(t):null===t?t:"string"==typeof t&&(t=Dt.trim(t))&&gt.test(t.replace(vt,"@").replace(bt,"]").replace(mt,""))?new Function("return "+t)():void Dt.error("Invalid JSON: "+t)},parseXML:function(t){var e;if(!t||"string"!=typeof t)return null;try{g.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=C}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||Dt.error("Invalid XML: "+t),e},noop:function(){},globalEval:function(t){t&&Dt.trim(t)&&(g.execScript||function(t){g.eval.call(g,t)})(t)},camelCase:function(t){return t.replace(yt,"ms-").replace(wt,_t)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,o=t.length,r=a(t);if(n){if(r)for(;i<o&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(r)for(;i<o&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:ut&&!ut.call("\ufeff\xa0")?function(t){return null==t?"":ut.call(t)}:function(t){return null==t?"":(t+"").replace(ht,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?Dt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){var n=e.length,i=t.length,o=0;if("number"==typeof n)for(;o<n;o++)t[i++]=e[o];else for(;e[o]!==C;)t[i++]=e[o++];return t.length=i,t},grep:function(t,e,n){var i=[],o=0,r=t.length;for(n=!!n;o<r;o++)n!==!!e(t[o],o)&&i.push(t[o]);return i},map:function(t,e,n){var i,o=0,r=t.length,s=[];if(a(t))for(;o<r;o++)null!=(i=e(t[o],o,n))&&(s[s.length]=i);else for(o in t)null!=(i=e(t[o],o,n))&&(s[s.length]=i);return it.apply([],s)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),Dt.isFunction(t)?(n=rt.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(rt.call(arguments)))}).guid=t.guid=t.guid||Dt.guid++,i):C},access:function(t,e,n,i,o,r,s){var a=0,l=t.length,u=null==n;if("object"===Dt.type(n))for(a in o=!0,n)Dt.access(t,e,a,n[a],!0,r,s);else if(i!==C&&(o=!0,Dt.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(Dt(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:u?e.call(t):l?e(t[0],n):r},now:function(){return(new Date).getTime()},swap:function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=s[r];return o}}),Dt.ready.promise=function(t){if(!W)if(W=Dt.Deferred(),"complete"===X.readyState)setTimeout(Dt.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",xt,!1),g.addEventListener("load",xt,!1);else{X.attachEvent("onreadystatechange",xt),g.attachEvent("onload",xt);var e=!1;try{e=null==g.frameElement&&X.documentElement}catch(n){}e&&e.doScroll&&function i(){if(!Dt.isReady){try{e.doScroll("left")}catch(n){return setTimeout(i,50)}Ct(),Dt.ready()}}()}return W.promise(t)},Dt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()}),Y=Dt(X),function(n,o){function _(t,e,n,i){var o,r,s,a,l,u,c,d,h,f;if((e?e.ownerDocument||e:U)!==H&&R(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=(e=e||H).nodeType)&&9!==a)return[];if(L&&!i){if(o=xt.exec(t))if(s=o[1]){if(9===a){if(!(r=e.getElementById(s))||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&j(e,r)&&r.id===s)return n.push(r),n}else{if(o[2])return ot.apply(n,e.getElementsByTagName(t)),n;if((s=o[3])&&E.getElementsByClassName&&e.getElementsByClassName)return ot.apply(n,e.getElementsByClassName(s)),n}if(E.qsa&&(!F||!F.test(t))){if(d=c=V,h=e,f=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=g(t),(c=e.getAttribute("id"))?d=c.replace(Tt,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+m(u[l]);h=mt.test(t)&&e.parentNode||e,f=u.join(",")}if(f)try{return ot.apply(n,h.querySelectorAll(f)),n}catch(p){}finally{c||e.removeAttribute("id")}}}return k(t.replace(ft,"$1"),e,n,i)}function e(t){return _t.test(t+"")}function t(){function n(t,e){return i.push(t+=" ")>D.cacheLength&&delete n[i.shift()],n[t]=e}var i=[];return n}function l(t){return t[V]=!0,t}function i(t){var e=H.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e,n){for(var i,o=(t=t.split("|")).length,r=n?null:e;o--;)(i=D.attrHandle[t[o]])&&i!==e||(D.attrHandle[t[o]]=r)}function s(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:!0===t[e]?e.toLowerCase():null}function a(t,e){return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}function u(t){if("input"===t.nodeName.toLowerCase())return t.defaultValue}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Z)-(~t.sourceIndex||Z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function d(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function h(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function f(s){return l(function(r){return r=+r,l(function(t,e){for(var n,i=s([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function g(t,e){var n,i,o,r,s,a,l,u=K[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=D.preFilter;s;){for(r in n&&!(i=pt.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(o=[])),n=!1,(i=gt.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(ft," ")}),s=s.slice(n.length)),D.filter)!(i=wt[r].exec(s))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?_.error(t):K(t,a).slice(0)}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(a,t,e){var l=t.dir,u=e&&"parentNode"===l,c=W++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||u)return a(t,e,n)}:function(t,e,n){var i,o,r,s=q+" "+c;if(n){for(;t=t[l];)if((1===t.nodeType||u)&&a(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||u)if((o=(r=t[V]||(t[V]={}))[l])&&o[0]===s){if(!0===(i=o[1])||i===N)return!0===i}else if((o=r[l]=[s])[1]=a(t,e,n)||N,!0===o[1])return!0}}function v(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function x(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(r=t[a])&&(n&&!n(r,i,o)||(s.push(r),u&&e.push(a)));return s}function b(f,p,g,m,v,t){return m&&!m[V]&&(m=b(m)),v&&!v[V]&&(v=b(v,t)),l(function(t,e,n,i){var o,r,s,a=[],l=[],u=e.length,c=t||C(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?c:x(c,a,f,n,i),h=g?v||(t?f:u||m)?[]:e:d;if(g&&g(d,h,n,i),m)for(o=x(h,l),m(o,[],n,i),r=o.length;r--;)(s=o[r])&&(h[l[r]]=!(d[l[r]]=s));if(t){if(v||f){if(v){for(o=[],r=h.length;r--;)(s=h[r])&&o.push(d[r]=s);v(null,h=[],o,i)}for(r=h.length;r--;)(s=h[r])&&-1<(o=v?st.call(t,s):a[r])&&(t[o]=!(e[o]=s))}}else h=x(h===e?h.splice(u,h.length):h),v?v(null,e,h,i):ot.apply(e,h)})}function y(t){for(var i,e,n,o=t.length,r=D.relative[t[0].type],s=r||D.relative[" "],a=r?1:0,l=p(function(t){return t===i},s,!0),u=p(function(t){return-1<st.call(i,t)},s,!0),c=[function(t,e,n){return!r&&(n||e!==I)||((i=e).nodeType?l(t,e,n):u(t,e,n))}];a<o;a++)if(e=D.relative[t[a].type])c=[p(v(c),e)];else{if((e=D.filter[t[a].type].apply(null,t[a].matches))[V]){for(n=++a;n<o&&!D.relative[t[n].type];n++);return b(1<a&&v(c),1<a&&m(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ft,"$1"),e,a<n&&y(t.slice(a,n)),n<o&&y(t=t.slice(n)),n<o&&m(t))}c.push(e)}return v(c)}function w(m,v){var b=0,y=0<v.length,w=0<m.length,t=function(t,e,n,i,o){var r,s,a,l=[],u=0,c="0",d=t&&[],h=null!=o,f=I,p=t||w&&D.find.TAG("*",o&&e.parentNode||e),g=q+=null==f?1:Math.random()||.1;for(h&&(I=e!==H&&e,N=b);null!=(r=p[c]);c++){if(w&&r){for(s=0;a=m[s++];)if(a(r,e,n)){i.push(r);break}h&&(q=g,N=++b)}y&&((r=!a&&r)&&u--,t&&d.push(r))}if(u+=c,y&&c!==u){for(s=0;a=v[s++];)a(d,l,e,n);if(t){if(0<u)for(;c--;)d[c]||l[c]||(l[c]=nt.call(i));l=x(l)}ot.apply(i,l),h&&!t&&0<l.length&&1<u+v.length&&_.uniqueSort(i)}return h&&(q=g,I=f),d};return y?l(t):t}function C(t,e,n){for(var i=0,o=e.length;i<o;i++)_(t,e[i],n);return n}function k(t,e,n,i){var o,r,s,a,l,u=g(t);if(!i&&1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(s=r[0]).type&&E.getById&&9===e.nodeType&&L&&D.relative[r[1].type]){if(!(e=(D.find.ID(s.matches[0].replace(St,Et),e)||[])[0]))return n;t=t.slice(r.shift().value.length)}for(o=wt.needsContext.test(t)?0:r.length;o--&&(s=r[o],!D.relative[a=s.type]);)if((l=D.find[a])&&(i=l(s.matches[0].replace(St,Et),mt.test(r[0].type)&&e.parentNode||e))){if(r.splice(o,1),!(t=i.length&&m(r)))return ot.apply(n,i),n;break}}return M(t,u)(i,e,!L,n,mt.test(t)),n}function T(){}var S,E,N,D,A,z,M,I,P,R,H,O,L,F,B,$,j,V="sizzle"+-new Date,U=n.document,q=0,W=0,Y=t(),K=t(),G=t(),X=!1,Q=function(){return 0},J=typeof o,Z=1<<31,tt={}.hasOwnProperty,et=[],nt=et.pop,it=et.push,ot=et.push,rt=et.slice,st=et.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},at="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",lt="[\\x20\\t\\r\\n\\f]",ut="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ct=ut.replace("w","w#"),dt="\\["+lt+"*("+ut+")"+lt+"*(?:([*^$|!~]?=)"+lt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ct+")|)|)"+lt+"*\\]",ht=":("+ut+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+dt.replace(3,8)+")*)|.*)\\)|)",ft=new RegExp("^"+lt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+lt+"+$","g"),pt=new RegExp("^"+lt+"*,"+lt+"*"),gt=new RegExp("^"+lt+"*([>+~]|"+lt+")"+lt+"*"),mt=new RegExp(lt+"*[+~]"),vt=new RegExp("="+lt+"*([^\\]'\"]*)"+lt+"*\\]","g"),bt=new RegExp(ht),yt=new RegExp("^"+ct+"$"),wt={ID:new RegExp("^#("+ut+")"),CLASS:new RegExp("^\\.("+ut+")"),TAG:new RegExp("^("+ut.replace("w","w*")+")"),ATTR:new RegExp("^"+dt),PSEUDO:new RegExp("^"+ht),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+lt+"*(even|odd|(([+-]|)(\\d*)n|)"+lt+"*(?:([+-]|)"+lt+"*(\\d+)|))"+lt+"*\\)|)","i"),bool:new RegExp("^(?:"+at+")$","i"),needsContext:new RegExp("^"+lt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+lt+"*((?:-\\d)?\\d*)"+lt+"*\\)|)(?=[^-]|$)","i")},_t=/^[^{]+\{\s*\[native \w/,xt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ct=/^(?:input|select|textarea|button)$/i,kt=/^h\d$/i,Tt=/'|\\/g,St=new RegExp("\\\\([\\da-f]{1,6}"+lt+"?|("+lt+")|.)","ig"),Et=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{ot.apply(et=rt.call(U.childNodes),U.childNodes),et[U.childNodes.length].nodeType}catch(Nt){ot={apply:et.length?function(t,e){it.apply(t,rt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(S in z=_.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},E=_.support={},R=_.setDocument=function(t){var l=t?t.ownerDocument||t:U;return l!==H&&9===l.nodeType&&l.documentElement?(O=(H=l).documentElement,L=!z(l),E.attributes=i(function(t){return t.innerHTML="<a href='#'></a>",r("type|href|height|width",a,"#"===t.firstChild.getAttribute("href")),r(at,s,null==t.getAttribute("disabled")),t.className="i",!t.getAttribute("className")}),E.input=i(function(t){return t.innerHTML="<input>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}),r("value",u,E.attributes&&E.input),E.getElementsByTagName=i(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),E.getElementsByClassName=i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),E.getById=i(function(t){return O.appendChild(t).id=V,!l.getElementsByName||!l.getElementsByName(V).length}),E.getById?(D.find.ID=function(t,e){if(typeof e.getElementById!==J&&L){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},D.filter.ID=function(t){var e=t.replace(St,Et);return function(t){return t.getAttribute("id")===e}}):(delete D.find.ID,D.filter.ID=function(t){var n=t.replace(St,Et);return function(t){var e=typeof t.getAttributeNode!==J&&t.getAttributeNode("id");return e&&e.value===n}}),D.find.TAG=E.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==J)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},D.find.CLASS=E.getElementsByClassName&&function(t,e){if(typeof e.getElementsByClassName!==J&&L)return e.getElementsByClassName(t)},B=[],F=[],(E.qsa=e(l.querySelectorAll))&&(i(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||F.push("\\["+lt+"*(?:value|"+at+")"),t.querySelectorAll(":checked").length||F.push(":checked")}),i(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&F.push("[*^$]="+lt+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(E.matchesSelector=e($=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(t){E.disconnectedMatch=$.call(t,"div"),$.call(t,"[s!='']:x"),B.push("!=",ht)}),F=F.length&&new RegExp(F.join("|")),B=B.length&&new RegExp(B.join("|")),j=e(O.contains)||O.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E.sortDetached=i(function(t){return 1&t.compareDocumentPosition(l.createElement("div"))}),Q=O.compareDocumentPosition?function(t,e){if(t===e)return X=!0,0;var n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e);return n?1&n||!E.sortDetached&&e.compareDocumentPosition(t)===n?t===l||j(U,t)?-1:e===l||j(U,e)?1:P?st.call(P,t)-st.call(P,e):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,i=0,o=t.parentNode,r=e.parentNode,s=[t],a=[e];if(t===e)return X=!0,0;if(!o||!r)return t===l?-1:e===l?1:o?-1:r?1:P?st.call(P,t)-st.call(P,e):0;if(o===r)return c(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?c(s[i],a[i]):s[i]===U?-1:a[i]===U?1:0},l):H},_.matches=function(t,e){return _(t,null,null,e)},_.matchesSelector=function(t,e){if((t.ownerDocument||t)!==H&&R(t),e=e.replace(vt,"='$1']"),E.matchesSelector&&L&&(!B||!B.test(e))&&(!F||!F.test(e)))try{var n=$.call(t,e);if(n||E.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(Nt){}return 0<_(e,H,null,[t]).length},_.contains=function(t,e){return(t.ownerDocument||t)!==H&&R(t),j(t,e)},_.attr=function(t,e){(t.ownerDocument||t)!==H&&R(t);var n=D.attrHandle[e.toLowerCase()],i=n&&tt.call(D.attrHandle,e.toLowerCase())?n(t,e,!L):o;return i===o?E.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null:i},_.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},_.uniqueSort=function(t){var e,n=[],i=0,o=0;if(X=!E.detectDuplicates,P=!E.sortStable&&t.slice(0),t.sort(Q),X){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return t},A=_.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=A(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i];i++)n+=A(e);return n},D=_.selectors={cacheLength:50,createPseudo:l,match:wt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(St,Et),t[3]=(t[4]||t[5]||"").replace(St,Et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||_.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&_.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return wt.CHILD.test(t[0])?null:(t[3]&&t[4]!==o?t[2]=t[4]:n&&bt.test(n)&&(e=g(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(St,Et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Y[t+" "];return e||(e=new RegExp("(^|"+lt+")"+t+"("+lt+"|$)"))&&Y(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==J&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=_.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,t,e,p,g){var m="nth"!==f.slice(0,3),v="last"!==f.slice(-4),b="of-type"===t;return 1===p&&0===g?function(t){return!!t.parentNode}:function(t,e,n
){var i,o,r,s,a,l,u=m!==v?"nextSibling":"previousSibling",c=t.parentNode,d=b&&t.nodeName.toLowerCase(),h=!n&&!b;if(c){if(m){for(;u;){for(r=t;r=r[u];)if(b?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&h){for(a=(i=(o=c[V]||(c[V]={}))[f]||[])[0]===q&&i[1],s=i[0]===q&&i[2],r=a&&c.childNodes[a];r=++a&&r&&r[u]||(s=a=0)||l.pop();)if(1===r.nodeType&&++s&&r===t){o[f]=[q,a,s];break}}else if(h&&(i=(t[V]||(t[V]={}))[f])&&i[0]===q)s=i[1];else for(;(r=++a&&r&&r[u]||(s=a=0)||l.pop())&&((b?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++s||(h&&((r[V]||(r[V]={}))[f]=[q,s]),r!==t)););return(s-=g)===p||s%p==0&&0<=s/p}}},PSEUDO:function(t,r){var e,s=D.pseudos[t]||D.setFilters[t.toLowerCase()]||_.error("unsupported pseudo: "+t);return s[V]?s(r):1<s.length?(e=[t,t,"",r],D.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=s(t,r),o=i.length;o--;)t[n=st.call(t,i[o])]=!(e[n]=i[o])}):function(t){return s(t,0,e)}):s}},pseudos:{not:l(function(t){var i=[],o=[],a=M(t.replace(ft,"$1"));return a[V]?l(function(t,e,n,i){for(var o,r=a(t,null,i,[]),s=t.length;s--;)(o=r[s])&&(t[s]=!(e[s]=o))}):function(t,e,n){return i[0]=t,a(i,null,n,o),!o.pop()}}),has:l(function(e){return function(t){return 0<_(e,t).length}}),contains:l(function(e){return function(t){return-1<(t.textContent||t.innerText||A(t)).indexOf(e)}}),lang:l(function(n){return yt.test(n||"")||_.error("unsupported lang: "+n),n=n.replace(St,Et).toLowerCase(),function(t){var e;do{if(e=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===O},focus:function(t){return t===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if("@"<t.nodeName||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!D.pseudos.empty(t)},header:function(t){return kt.test(t.nodeName)},input:function(t){return Ct.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:f(function(){return[0]}),last:f(function(t,e){return[e-1]}),eq:f(function(t,e,n){return[n<0?n+e:n]}),even:f(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:f(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:f(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:f(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[S]=d(S);for(S in{submit:!0,reset:!0})D.pseudos[S]=h(S);M=_.compile=function(t,e){var n,i=[],o=[],r=G[t+" "];if(!r){for(e||(e=g(t)),n=e.length;n--;)(r=y(e[n]))[V]?i.push(r):o.push(r);r=G(t,w(o,i))}return r},D.pseudos.nth=D.pseudos.eq,T.prototype=D.filters=D.pseudos,D.setFilters=new T,E.sortStable=V.split("").sort(Q).join("")===V,R(),[0,0].sort(Q),E.detectDuplicates=X,Dt.find=_,Dt.expr=_.selectors,Dt.expr[":"]=Dt.expr.pseudos,Dt.unique=_.uniqueSort,Dt.text=_.getText,Dt.isXMLDoc=_.isXML,Dt.contains=_.contains}(g);var kt={};Dt.Callbacks=function(o){o="string"==typeof o?kt[o]||t(o):Dt.extend({},o);var r,e,n,s,i,a,l=[],u=!o.once&&[],c=function(t){for(e=o.memory&&t,n=!0,i=a||0,a=0,s=l.length,r=!0;l&&i<s;i++)if(!1===l[i].apply(t[0],t[1])&&o.stopOnFalse){e=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):e?l=[]:d.disable())},d={add:function(){if(l){var t=l.length;!function i(t){Dt.each(t,function(t,e){var n=Dt.type(e);"function"===n?o.unique&&d.has(e)||l.push(e):e&&e.length&&"string"!==n&&i(e)})}(arguments),r?s=l.length:e&&(a=t,c(e))}return this},remove:function(){return l&&Dt.each(arguments,function(t,e){for(var n;-1<(n=Dt.inArray(e,l,n));)l.splice(n,1),r&&(n<=s&&s--,n<=i&&i--)}),this},has:function(t){return t?-1<Dt.inArray(t,l):!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=e=C,this},disabled:function(){return!l},lock:function(){return u=C,e||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return e=[t,(e=e||[]).slice?e.slice():e],!l||n&&!u||(r?u.push(e):c(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Dt.extend({Deferred:function(t){var s=[["resolve","done",Dt.Callbacks("once memory"),"resolved"],["reject","fail",Dt.Callbacks("once memory"),"rejected"],["notify","progress",Dt.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var r=arguments;return Dt.Deferred(function(o){Dt.each(s,function(t,e){var n=e[0],i=Dt.isFunction(r[t])&&r[t];l[e[1]](function(){var t=i&&i.apply(this,arguments);t&&Dt.isFunction(t.promise)?t.promise().done(o.resolve).fail(o.reject).progress(o.notify):o[n+"With"](this===a?o.promise():this,i?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?Dt.extend(t,a):a}},l={};return a.pipe=a.then,Dt.each(s,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){o=i},s[1^t][2].disable,s[2][2].lock),l[e[0]]=function(){return l[e[0]+"With"](this===l?a:this,arguments),this},l[e[0]+"With"]=n.fireWith}),a.promise(l),t&&t.call(l,l),l},when:function(t){var o,e,n,i=0,r=rt.call(arguments),s=r.length,a=1!==s||t&&Dt.isFunction(t.promise)?s:0,l=1===a?t:Dt.Deferred(),u=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?rt.call(arguments):t,i===o?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(1<s)for(o=new Array(s),e=new Array(s),n=new Array(s);i<s;i++)r[i]&&Dt.isFunction(r[i].promise)?r[i].promise().done(u(i,n,r)).fail(l.reject).progress(u(i,e,o)):--a;return a||l.resolveWith(n,r),l.promise()}}),Dt.support=function(r){var t,e,n,i,o,s,a,l,u,c=X.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=c.getElementsByTagName("*")||[],!(e=c.getElementsByTagName("a")[0])||!e.style||!t.length)return r;s=(i=X.createElement("select")).appendChild(X.createElement("option")),n=c.getElementsByTagName("input")[0],e.style.cssText="top:1px;float:left;opacity:.5",r.getSetAttribute="t"!==c.className,r.leadingWhitespace=3===c.firstChild.nodeType,r.tbody=!c.getElementsByTagName("tbody").length,r.htmlSerialize=!!c.getElementsByTagName("link").length,r.style=/top/.test(e.getAttribute("style")),r.hrefNormalized="/a"===e.getAttribute("href"),r.opacity=/^0.5/.test(e.style.opacity),r.cssFloat=!!e.style.cssFloat,r.checkOn=!!n.value,r.optSelected=s.selected,r.enctype=!!X.createElement("form").enctype,r.html5Clone="<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,r.inlineBlockNeedsLayout=!1,r.shrinkWrapBlocks=!1,r.pixelPosition=!1,r.deleteExpando=!0,r.noCloneEvent=!0,r.reliableMarginRight=!0,r.boxSizingReliable=!0,n.checked=!0,r.noCloneChecked=n.cloneNode(!0).checked,i.disabled=!0,r.optDisabled=!s.disabled;try{delete c.test}catch(d){r.deleteExpando=!1}for(u in(n=X.createElement("input")).setAttribute("value",""),r.input=""===n.getAttribute("value"),n.value="t",n.setAttribute("type","radio"),r.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),(o=X.createDocumentFragment()).appendChild(n),r.appendChecked=n.checked,r.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,c.attachEvent&&(c.attachEvent("onclick",function(){r.noCloneEvent=!1}),c.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})c.setAttribute(a="on"+u,"t"),r[u+"Bubbles"]=a in g||!1===c.attributes[a].expando;for(u in c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",r.clearCloneStyle="content-box"===c.style.backgroundClip,Dt(r))break;return r.ownLast="0"!==u,Dt(function(){var t,e,n,i="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=X.getElementsByTagName("body")[0];o&&((t=X.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(t).appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(n=c.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",r.reliableHiddenOffsets=l&&0===n[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",Dt.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){r.boxSizing=4===c.offsetWidth}),g.getComputedStyle&&(r.pixelPosition="1%"!==(g.getComputedStyle(c,null)||{}).top,r.boxSizingReliable="4px"===(g.getComputedStyle(c,null)||{width:"4px"}).width,(e=c.appendChild(X.createElement("div"))).style.cssText=c.style.cssText=i,e.style.marginRight=e.style.width="0",c.style.width="1px",r.reliableMarginRight=!parseFloat((g.getComputedStyle(e,null)||{}).marginRight)),typeof c.style.zoom!==K&&(c.innerHTML="",c.style.cssText=i+"width:1px;padding:1px;display:inline;zoom:1",r.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.innerHTML="<div></div>",c.firstChild.style.width="5px",r.shrinkWrapBlocks=3!==c.offsetWidth,r.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(t),t=c=n=e=null)}),t=i=o=s=e=n=null,r}({});var Tt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;Dt.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?Dt.cache[t[Dt.expando]]:t[Dt.expando])&&!u(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return n(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return n(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&Dt.noData[t.nodeName.toLowerCase()];return!e||!0!==e&&t.getAttribute("classid")===e}}),Dt.fn.extend({data:function(t,e){var n,i,o=null,r=0,s=this[0];if(t!==C)return"object"==typeof t?this.each(function(){Dt.data(this,t)}):1<arguments.length?this.each(function(){Dt.data(this,t,e)}):s?l(s,t,Dt.data(s,t)):null;if(this.length&&(o=Dt.data(s),1===s.nodeType&&!Dt._data(s,"parsedAttrs"))){for(n=s.attributes;r<n.length;r++)0===(i=n[r].name).indexOf("data-")&&l(s,i=Dt.camelCase(i.slice(5)),o[i]);Dt._data(s,"parsedAttrs",!0)}return o},removeData:function(t){return this.each(function(){Dt.removeData(this,t)})}}),Dt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Dt._data(t,e),n&&(!i||Dt.isArray(n)?i=Dt._data(t,e,Dt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=Dt.queue(t,e),i=n.length,o=n.shift(),r=Dt._queueHooks(t,e),s=function(){Dt.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),(r.cur=o)&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Dt._data(t,n)||Dt._data(t,n,{empty:Dt.Callbacks("once memory").add(function(){Dt._removeData(t,e+"queue"),Dt._removeData(t,n)})})}}),Dt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?Dt.queue(this[0],e):n===C?this:this.each(function(){var t=Dt.queue(this,e,n);Dt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Dt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){Dt.dequeue(this,t)})},delay:function(i,t){return i=Dt.fx&&Dt.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=setTimeout(t,i);e.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=Dt.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=C),t=t||"fx";s--;)(n=Dt._data(r[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var Et,Nt,At=/[\t\r\n\f]/g,zt=/\r/g,Mt=/^(?:input|select|textarea|button|object)$/i,It=/^(?:a|area)$/i,Pt=/^(?:checked|selected)$/i,Rt=Dt.support.getSetAttribute,Ht=Dt.support.input;Dt.fn.extend({attr:function(t,e){return Dt.access(this,Dt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){Dt.removeAttr(this,t)})},prop:function(t,e){return Dt.access(this,Dt.prop,t,e,1<arguments.length)},removeProp:function(e){return e=Dt.propFix[e]||e,this.each(function(){try{this[e]=C,delete this[e]}catch(t){}})},addClass:function(e){var t,n,i,o,r,s=0,a=this.length,l="string"==typeof e&&e;if(Dt.isFunction(e))return this.each(function(t){Dt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];s<a;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");n.className=Dt.trim(i)}return this},removeClass:function(e){var t,n,i,o,r,s=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(Dt.isFunction(e))return this.each(function(t){Dt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];s<a;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(r=0;o=t[r++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");n.className=e?Dt.trim(i):""}return this},toggleClass:function(r,s){var a=typeof r,l="boolean"==typeof s;return Dt.isFunction(r)?this.each(function(t){Dt(this).toggleClass(r.call(this,t,this.className,s),s)}):this.each(function(){if("string"===a)for(var t,e=0,n=Dt(this),i=s,o=r.match(dt)||[];t=o[e++];)i=l?i:!n.hasClass(t),n[i?"addClass":"removeClass"](t);else a!==K&&"boolean"!==a||(this.className&&Dt._data(this,"__className__",this.className),this.className=this.className||!1===r?"":Dt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(At," ").indexOf(e))return!0;return!1},val:function(n){var t,i,o,e=this[0];return arguments.length?(o=Dt.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,Dt(this).val()):n)?e="":"number"==typeof e?e+="":Dt.isArray(e)&&(e=Dt.map(e,function(t){return null==t?"":t+""})),(i=Dt.valHooks[this.type]||Dt.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==C||(this.value=e))})):e?(i=Dt.valHooks[e.type]||Dt.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==C?t:"string"==typeof(t=e.value)?t.replace(zt,""):null==t?"":t:void 0}}),Dt.extend({valHooks:{option:{get:function(t){var e=Dt.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,s=r?null:[],a=r?o+1:i.length,l=o<0?a:r?o:0;l<a;l++)if(((n=i[l]).selected||l===o)&&(Dt.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Dt.nodeName(n.parentNode,"optgroup"))){if(e=Dt(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=Dt.makeArray(e),s=o.length;s--;)((i=o[s]).selected=0<=Dt.inArray(Dt(i).val(),r))&&(n=!0);return n||(t.selectedIndex=-1),r}}},attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===K?Dt.prop(t,e,n):(1===r&&Dt.isXMLDoc(t)||(e=e.toLowerCase(),i=Dt.attrHooks[e]||(Dt.expr.match.bool.test(e)?Nt:Et)),n===C?i&&"get"in i&&null!==(o=i.get(t,e))?o:null==(o=Dt.find.attr(t,e))?C:o:null!==n?i&&"set"in i&&(o=i.set(t,n,e))!==C?o:(t.setAttribute(e,n+""),n):void Dt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(dt);if(r&&1===t.nodeType)for(;n=r[o++];)i=Dt.propFix[n]||n,Dt.expr.match.bool.test(n)?Ht&&Rt||!Pt.test(n)?t[i]=!1:t[Dt.camelCase("default-"+n)]=t[i]=!1:Dt.attr(t,n,""),t.removeAttribute(Rt?n:i)},attrHooks:{type:{set:function(t,e){if(!Dt.support.radioValue&&"radio"===e&&Dt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return(1!==r||!Dt.isXMLDoc(t))&&(e=Dt.propFix[e]||e,o=Dt.propHooks[e]),n!==C?o&&"set"in o&&(i=o.set(t,n,e))!==C?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=Dt.find.attr(t,"tabindex");return e?parseInt(e,10):Mt.test(t.nodeName)||It.test(t.nodeName)&&t.href?0:-1}}}}),Nt={set:function(t,e,n){return!1===e?Dt.removeAttr(t,n):Ht&&Rt||!Pt.test(n)?t.setAttribute(!Rt&&Dt.propFix[n]||n,n):t[Dt.camelCase("default-"+n)]=t[n]=!0,n}},Dt.each(Dt.expr.match.bool.source.match(/\w+/g),function(t,e){var r=Dt.expr.attrHandle[e]||Dt.find.attr;Dt.expr.attrHandle[e]=Ht&&Rt||!Pt.test(e)?function(t,e,n){var i=Dt.expr.attrHandle[e],o=n?C:(Dt.expr.attrHandle[e]=C)!=r(t,e,n)?e.toLowerCase():null;return Dt.expr.attrHandle[e]=i,o}:function(t,e,n){return n?C:t[Dt.camelCase("default-"+e)]?e.toLowerCase():null}}),Ht&&Rt||(Dt.attrHooks.value={set:function(t,e,n){if(!Dt.nodeName(t,"input"))return Et&&Et.set(t,e,n);t.defaultValue=e}}),Rt||(Et={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:C}},Dt.expr.attrHandle.id=Dt.expr.attrHandle.name=Dt.expr.attrHandle.coords=function(t,e,n){var i;return n?C:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},Dt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:C},set:Et.set},Dt.attrHooks.contenteditable={set:function(t,e,n){Et.set(t,""!==e&&e,n)}},Dt.each(["width","height"],function(t,n){Dt.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),Dt.support.hrefNormalized||Dt.each(["href","src"],function(t,e){Dt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),Dt.support.style||(Dt.attrHooks.style={get:function(t){return t.style.cssText||C},set:function(t,e){return t.style.cssText=e+""}}),Dt.support.optSelected||(Dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),Dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Dt.propFix[this.toLowerCase()]=this}),Dt.support.enctype||(Dt.propFix.enctype="encoding"),Dt.each(["radio","checkbox"],function(){Dt.valHooks[this]={set:function(t,e){if(Dt.isArray(e))return t.checked=0<=Dt.inArray(Dt(t).val(),e)}},Dt.support.checkOn||(Dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ot=/^(?:input|select|textarea)$/i,Lt=/^key/,Ft=/^(?:mouse|contextmenu)|click/,Bt=/^(?:focusinfocus|focusoutblur)$/,$t=/^([^.]*)(?:\.(.+)|)$/;Dt.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,u,c,d,h,f,p,g,m=Dt._data(t);if(m){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=Dt.guid++),(s=m.events)||(s=m.events={}),(c=m.handle)||((c=m.handle=function(t){return typeof Dt===K||t&&Dt.event.triggered===t.type?C:Dt.event.dispatch.apply(c.elem,arguments)}).elem=t),a=(e=(e||"").match(dt)||[""]).length;a--;)f=g=(r=$t.exec(e[a])||[])[1],p=(r[2]||"").split(".").sort(),f&&(u=Dt.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=Dt.event.special[f]||{},d=Dt.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&Dt.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=s[f])||((h=s[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),Dt.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,s,a,l,u,c,d,h,f,p,g,m=Dt.hasData(t)&&Dt._data(t);if(m&&(c=m.events)){for(u=(e=(e||"").match(dt)||[""]).length;u--;)if(f=g=(a=$t.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=Dt.event.special[f]||{},h=c[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)s=h[r],!o&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(r,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||Dt.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)Dt.event.remove(t,f+e[u],n,i,!0);Dt.isEmptyObject(c)&&(delete m.handle,Dt._removeData(t,"events"))}},trigger:function(t,e,n,i){var o,r,s,a,l,u,c,d=[n||X],h=lt.call(t,"type")?t.type:t,f=lt.call(t,"namespace")?t.namespace.split("."):[];if(s=u=n=n||X,3!==n.nodeType&&8!==n.nodeType&&!Bt.test(h+Dt.event.triggered)&&(0<=h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),r=h.indexOf(":")<0&&"on"+h,(t=t[Dt.expando]?t:new Dt.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=C,t.target||(t.target=n),e=null==e?[t]:Dt.makeArray(e,[t]),l=Dt.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!Dt.isWindow(n)){for(a=l.delegateType||h,Bt.test(a+h)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(n.ownerDocument||X)&&d.push(u.defaultView||u.parentWindow||g)}for(c=0;(s=d[c++])&&!t.isPropagationStopped();)t.type=1<c?a:l.bindType||h,(o=(Dt._data(s,"events")||{})[t.type]&&Dt._data(s,"handle"))&&o.apply(s,e),(o=r&&s[r])&&Dt.acceptData(s)&&o.apply&&!1===o.apply(s,e)&&t.preventDefault();if(t.type=h,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),e))&&Dt.acceptData(n)&&r&&n[h]&&!Dt.isWindow(n)){(u=n[r])&&(n[r]=null),Dt.event.triggered=h;try{n[h]()}catch(p){}Dt.event.triggered=C,u&&(n[r]=u)}return t.result}},dispatch:function(t){t=Dt.event.fix(t);var e,n,i,o,r,s=[],a=rt.call(arguments),l=(Dt._data(this,"events")||{})[t.type]||[],u=Dt.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(s=Dt.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(i.namespace)||(t.handleObj=i,t.data=i.data,(n=((Dt.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a))!==C&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(o=[],r=0;r<a;r++)o[n=(i=e[r]).selector+" "]===C&&(o[n]=i.needsContext?0<=Dt(n,this).index(l):Dt.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[Dt.expando])return t;var e,n,i,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Ft.test(o)?this.mouseHooks:Lt.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new Dt.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=r.srcElement||X),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||X).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||r===C||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==e()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===e()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(Dt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return Dt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==C&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=Dt.extend(new Dt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Dt.event.trigger(o,null,e):Dt.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},Dt.removeEvent=X.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===K&&(t[i]=null),t.detachEvent(i,n))},Dt.Event=function(t,e){if(!(this instanceof Dt.Event))return new Dt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||!1===t.returnValue||t.getPreventDefault&&t.getPreventDefault()?o:c):this.type=t,e&&Dt.extend(this,e),this.timeStamp=t&&t.timeStamp||Dt.now(),this[Dt.expando]=!0},Dt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=o,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=o,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()}},Dt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,r){Dt.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||Dt.contains(n,i))||(t.type=o.origType,e=o.handler.apply(this,arguments),t.type=r),e}}}),Dt.support.submitBubbles||(Dt.event.special.submit={setup:function(){if(Dt.nodeName(this,"form"))return!1;Dt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=Dt.nodeName(e,"input")||Dt.nodeName(e,"button")?e.form:C;n&&!Dt._data(n,"submitBubbles")&&(Dt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),Dt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&Dt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){if(Dt.nodeName(this,"form"))return!1;Dt.event.remove(this,"._submit")}}),Dt.support.changeBubbles||(Dt.event.special.change={setup:function(){if(Ot.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(Dt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),Dt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),Dt.event.simulate("change",this,t,!0)})),!1;Dt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ot.test(e.nodeName)&&!Dt._data(e,"changeBubbles")&&(Dt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||Dt.event.simulate("change",this.parentNode,t,!0)}),Dt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return Dt.event.remove(this,"._change"),!Ot.test(this.nodeName)}}),Dt.support.focusinBubbles||Dt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){Dt.event.simulate(e,t.target,Dt.event.fix(t),!0)};Dt.event.special[e]={setup:function(){0==n++&&X.addEventListener(t,i,!0)},teardown:function(){0==--n&&X.removeEventListener(t,i,!0)}}}),Dt.fn.extend({on:function(t,e,n,i,o){var r,s;if("object"==typeof t){for(r in"string"!=typeof e&&(n=n||e,e=C),t)this.on(r,e,n,t[r],o);return this}if(null==n&&null==i?(i=e,n=e=C):null==i&&("string"==typeof e?(i=n,n=C):(i=n,n=e,e=C)),!1===i)i=c;else if(!i)return this;return 1===o&&(s=i,(i=function(t){return Dt().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=Dt.guid++)),this.each(function(){Dt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Dt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=C),!1===n&&(n=c),this.each(function(){Dt.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this},trigger:function(t,e){return this.each(function(){Dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return Dt.event.trigger(t,e,n,!0)}});var jt=/^.[^:#\[\.,]*$/,Vt=/^(?:parents|prev(?:Until|All))/,Ut=Dt.expr.match.needsContext,qt={children:!0,contents:!0,next:!0,prev:!0};Dt.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(Dt(t).filter(function(){for(e=0;e<o;e++)if(Dt.contains(i[e],this))return!0}));for(e=0;e<o;e++)Dt.find(t,i[e],n);return(n=this.pushStack(1<o?Dt.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e,n=Dt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(Dt.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(s(this,t||[],!0))},filter:function(t){return this.pushStack(s(this,t||[],!1))},is:function(t){return!!s(this,"string"==typeof t&&Ut.test(t)?Dt(t):t||[],!1).length},closest:function(t,e){for(var n,i=0,o=this.length,r=[],s=Ut.test(t)||"string"!=typeof t?Dt(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&Dt.find.matchesSelector(n,t))){n=r.push(n);break}return this.pushStack(1<r.length?Dt.unique(r):r)},index:function(t){return t?"string"==typeof t?Dt.inArray(this[0],Dt(t)):Dt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?Dt(t,e):Dt.makeArray(t&&t.nodeType?[t]:t),i=Dt.merge(this.get(),n);return this.pushStack(Dt.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Dt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Dt.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Dt.dir(t,"nextSibling")},prevAll:function(t){return Dt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Dt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Dt.dir(t,"previousSibling",n)},siblings:function(t){return Dt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Dt.sibling(t.firstChild)},contents:function(t){return Dt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:Dt.merge([],t.childNodes)}},function(i,o){Dt.fn[i]=function(t,e){var n=Dt.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=Dt.filter(e,n)),1<this.length&&(qt[i]||(n=Dt.unique(n)),Vt.test(i)&&(n=n.reverse())),this.pushStack(n)}}),Dt.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Dt.find.matchesSelector(i,t)?[i]:[]:Dt.find.matches(t,Dt.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,e,n){for(var i=[],o=t[e];o&&9!==o.nodeType&&(n===C||1!==o.nodeType||!Dt(o).is(n));)1===o.nodeType&&i.push(o),o=o[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Yt=/ jQuery\d+="(?:null|\d+)"/g,Kt=new RegExp("<(?:"+Wt+")[\\s/>]","i"),Gt=/^\s+/,
Xt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qt=/<([\w:]+)/,Jt=/<tbody/i,Zt=/<|&#?\w+;/,te=/<(?:script|style|link)/i,ee=/^(?:checkbox|radio)$/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^$|\/(?:java|ecma)script/i,oe=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Dt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ae=m(X).appendChild(X.createElement("div"));se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td,Dt.fn.extend({text:function(t){return Dt.access(this,function(t){return t===C?Dt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||d(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?Dt.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||Dt.cleanData(w(n)),n.parentNode&&(e&&Dt.contains(n.ownerDocument,n)&&y(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&Dt.cleanData(w(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&Dt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Dt.clone(this,t,e)})},html:function(t){return Dt.access(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===C)return 1===e.nodeType?e.innerHTML.replace(Yt,""):C;if("string"==typeof t&&!te.test(t)&&(Dt.support.htmlSerialize||!Kt.test(t))&&(Dt.support.leadingWhitespace||!Gt.test(t))&&!se[(Qt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Xt,"<$1></$2>");try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(Dt.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=Dt.map(this,function(t){return[t.nextSibling,t.parentNode]}),o=0;return this.domManip(arguments,function(t){var e=i[o++],n=i[o++];n&&(e&&e.parentNode!==n&&(e=this.nextSibling),Dt(this).remove(),n.insertBefore(t,e))},!0),o?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(n,i,o){n=it.apply([],n);var t,e,r,s,a,l,u=0,c=this.length,d=this,h=c-1,f=n[0],p=Dt.isFunction(f);if(p||!(c<=1||"string"!=typeof f||Dt.support.checkClone)&&ne.test(f))return this.each(function(t){var e=d.eq(t);p&&(n[0]=f.call(this,t,e.html())),e.domManip(n,i,o)});if(c&&(t=(l=Dt.buildFragment(n,this[0].ownerDocument,!1,!o&&this)).firstChild,1===l.childNodes.length&&(l=t),t)){for(r=(s=Dt.map(w(l,"script"),v)).length;u<c;u++)e=l,u!==h&&(e=Dt.clone(e,!0,!0),r&&Dt.merge(s,w(e,"script"))),i.call(this[u],e,u);if(r)for(a=s[s.length-1].ownerDocument,Dt.map(s,b),u=0;u<r;u++)e=s[u],ie.test(e.type||"")&&!Dt._data(e,"globalEval")&&Dt.contains(a,e)&&(e.src?Dt._evalUrl(e.src):Dt.globalEval((e.text||e.textContent||e.innerHTML||"").replace(re,"")));l=t=null}return this}}),Dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){Dt.fn[t]=function(t){for(var e,n=0,i=[],o=Dt(t),r=o.length-1;n<=r;n++)e=n===r?this:this.clone(!0),Dt(o[n])[s](e),ot.apply(i,e.get());return this.pushStack(i)}}),Dt.extend({clone:function(t,e,n){var i,o,r,s,a,l=Dt.contains(t.ownerDocument,t);if(Dt.support.html5Clone||Dt.isXMLDoc(t)||!Kt.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(ae.innerHTML=t.outerHTML,ae.removeChild(r=ae.firstChild)),!(Dt.support.noCloneEvent&&Dt.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Dt.isXMLDoc(t)))for(i=w(r),a=w(t),s=0;null!=(o=a[s]);++s)i[s]&&f(o,i[s]);if(e)if(n)for(a=a||w(t),i=i||w(r),s=0;null!=(o=a[s]);s++)h(o,i[s]);else h(t,r);return 0<(i=w(r,"script")).length&&y(i,!l&&w(t,"script")),i=a=o=null,r},buildFragment:function(t,e,n,i){for(var o,r,s,a,l,u,c,d=t.length,h=m(e),f=[],p=0;p<d;p++)if((r=t[p])||0===r)if("object"===Dt.type(r))Dt.merge(f,r.nodeType?[r]:r);else if(Zt.test(r)){for(a=a||h.appendChild(e.createElement("div")),l=(Qt.exec(r)||["",""])[1].toLowerCase(),c=se[l]||se._default,a.innerHTML=c[1]+r.replace(Xt,"<$1></$2>")+c[2],o=c[0];o--;)a=a.lastChild;if(!Dt.support.leadingWhitespace&&Gt.test(r)&&f.push(e.createTextNode(Gt.exec(r)[0])),!Dt.support.tbody)for(o=(r="table"!==l||Jt.test(r)?"<table>"!==c[1]||Jt.test(r)?0:a:a.firstChild)&&r.childNodes.length;o--;)Dt.nodeName(u=r.childNodes[o],"tbody")&&!u.childNodes.length&&r.removeChild(u);for(Dt.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else f.push(e.createTextNode(r));for(a&&h.removeChild(a),Dt.support.appendChecked||Dt.grep(w(f,"input"),_),p=0;r=f[p++];)if((!i||-1===Dt.inArray(r,i))&&(s=Dt.contains(r.ownerDocument,r),a=w(h.appendChild(r),"script"),s&&y(a),n))for(o=0;r=a[o++];)ie.test(r.type||"")&&n.push(r);return a=null,h},cleanData:function(t,e){for(var n,i,o,r,s=0,a=Dt.expando,l=Dt.cache,u=Dt.support.deleteExpando,c=Dt.event.special;null!=(n=t[s]);s++)if((e||Dt.acceptData(n))&&(r=(o=n[a])&&l[o])){if(r.events)for(i in r.events)c[i]?Dt.event.remove(n,i):Dt.removeEvent(n,i,r.handle);l[o]&&(delete l[o],u?delete n[a]:typeof n.removeAttribute!==K?n.removeAttribute(a):n[a]=null,et.push(o))}},_evalUrl:function(t){return Dt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),Dt.fn.extend({wrapAll:function(e){if(Dt.isFunction(e))return this.each(function(t){Dt(this).wrapAll(e.call(this,t))});if(this[0]){var t=Dt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return Dt.isFunction(n)?this.each(function(t){Dt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=Dt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=Dt.isFunction(e);return this.each(function(t){Dt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){Dt.nodeName(this,"body")||Dt(this).replaceWith(this.childNodes)}).end()}});var le,ue,ce,de=/alpha\([^)]*\)/i,he=/opacity\s*=\s*([^)]*)/,fe=/^(top|right|bottom|left)$/,pe=/^(none|table(?!-c[ea]).+)/,ge=/^margin/,me=new RegExp("^("+ct+")(.*)$","i"),ve=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),be=new RegExp("^([+-])=("+ct+")","i"),ye={BODY:"block"},we={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:0,fontWeight:400},xe=["Top","Right","Bottom","Left"],Ce=["Webkit","O","Moz","ms"];Dt.fn.extend({css:function(t,e){return Dt.access(this,function(t,e,n){var i,o,r={},s=0;if(Dt.isArray(e)){for(o=ue(t),i=e.length;s<i;s++)r[e[s]]=Dt.css(t,e[s],!1,o);return r}return n!==C?Dt.style(t,e,n):Dt.css(t,e)},t,e,1<arguments.length)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:x(this))?Dt(this).show():Dt(this).hide()})}}),Dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ce(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Dt.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=Dt.camelCase(e),l=t.style;if(e=Dt.cssProps[a]||(Dt.cssProps[a]=p(l,a)),s=Dt.cssHooks[e]||Dt.cssHooks[a],n===C)return s&&"get"in s&&(o=s.get(t,!1,i))!==C?o:l[e];if(!("string"===(r=typeof n)&&(o=be.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(Dt.css(t,e)),r="number"),null==n||"number"===r&&isNaN(n)||("number"!==r||Dt.cssNumber[a]||(n+="px"),Dt.support.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&(n=s.set(t,n,i))===C)))try{l[e]=n}catch(u){}}},css:function(t,e,n,i){var o,r,s,a=Dt.camelCase(e);return e=Dt.cssProps[a]||(Dt.cssProps[a]=p(t.style,a)),(s=Dt.cssHooks[e]||Dt.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),r===C&&(r=ce(t,e,i)),"normal"===r&&e in _e&&(r=_e[e]),""===n||n?(o=parseFloat(r),!0===n||Dt.isNumeric(o)?o||0:r):r}}),g.getComputedStyle?(ue=function(t){return g.getComputedStyle(t,null)},ce=function(t,e,n){var i,o,r,s=n||ue(t),a=s?s.getPropertyValue(e)||s[e]:C,l=t.style;return s&&(""!==a||Dt.contains(t.ownerDocument,t)||(a=Dt.style(t,e)),ve.test(a)&&ge.test(e)&&(i=l.width,o=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=s.width,l.width=i,l.minWidth=o,l.maxWidth=r)),a}):X.documentElement.currentStyle&&(ue=function(t){return t.currentStyle},ce=function(t,e,n){var i,o,r,s=n||ue(t),a=s?s[e]:C,l=t.style;return null==a&&l&&l[e]&&(a=l[e]),ve.test(a)&&!fe.test(e)&&(i=l.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),l.left="fontSize"===e?"1em":a,a=l.pixelLeft+"px",l.left=i,r&&(o.left=r)),""===a?"auto":a}),Dt.each(["height","width"],function(t,o){Dt.cssHooks[o]={get:function(t,e,n){if(e)return 0===t.offsetWidth&&pe.test(Dt.css(t,"display"))?Dt.swap(t,we,function(){return E(t,o,n)}):E(t,o,n)},set:function(t,e,n){var i=n&&ue(t);return T(t,e,n?S(t,o,n,Dt.support.boxSizing&&"border-box"===Dt.css(t,"boxSizing",!1,i),i):0)}}}),Dt.support.opacity||(Dt.cssHooks.opacity={get:function(t,e){return he.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=Dt.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===Dt.trim(r.replace(de,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=de.test(r)?r.replace(de,o):r+" "+o)}}),Dt(function(){Dt.support.reliableMarginRight||(Dt.cssHooks.marginRight={get:function(t,e){if(e)return Dt.swap(t,{display:"inline-block"},ce,[t,"marginRight"])}}),!Dt.support.pixelPosition&&Dt.fn.position&&Dt.each(["top","left"],function(t,n){Dt.cssHooks[n]={get:function(t,e){if(e)return e=ce(t,n),ve.test(e)?Dt(t).position()[n]+"px":e}}})}),Dt.expr&&Dt.expr.filters&&(Dt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!Dt.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||Dt.css(t,"display"))},Dt.expr.filters.visible=function(t){return!Dt.expr.filters.hidden(t)}),Dt.each({margin:"",padding:"",border:"Width"},function(o,r){Dt.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+xe[e]+r]=i[e]||i[e-2]||i[0];return n}},ge.test(o)||(Dt.cssHooks[o+r].set=T)});var ke=/%20/g,Te=/\[\]$/,Se=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Ne=/^(?:input|select|textarea|keygen)/i;Dt.fn.extend({serialize:function(){return Dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Dt.prop(this,"elements");return t?Dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Dt(this).is(":disabled")&&Ne.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!ee.test(t))}).map(function(t,e){var n=Dt(this).val();return null==n?null:Dt.isArray(n)?Dt.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}}),Dt.param=function(t,e){var n,i=[],o=function(t,e){e=Dt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===C&&(e=Dt.ajaxSettings&&Dt.ajaxSettings.traditional),Dt.isArray(t)||t.jquery&&!Dt.isPlainObject(t))Dt.each(t,function(){o(this.name,this.value)});else for(n in t)A(n,t[n],e,o);return i.join("&").replace(ke,"+")},Dt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){Dt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),Dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var De,Ae,ze=Dt.now(),Me=/\?/,Ie=/#.*$/,Pe=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,He=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Oe=/^(?:GET|HEAD)$/,Le=/^\/\//,Fe=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Be=Dt.fn.load,$e={},je={},Ve="*/".concat("*");try{Ae=G.href}catch(on){(Ae=X.createElement("a")).href="",Ae=Ae.href}De=Fe.exec(Ae.toLowerCase())||[],Dt.fn.load=function(t,e,n){if("string"!=typeof t&&Be)return Be.apply(this,arguments);var i,o,r,s=this,a=t.indexOf(" ");return 0<=a&&(i=t.slice(a,t.length),t=t.slice(0,a)),Dt.isFunction(e)?(n=e,e=C):e&&"object"==typeof e&&(r="POST"),0<s.length&&Dt.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?Dt("<div>").append(Dt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},Dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Dt.fn[e]=function(t){return this.on(e,t)}}),Dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae,type:"GET",isLocal:He.test(De[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Dt.parseJSON,"text xml":Dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?I(I(t,Dt.ajaxSettings),e):I(Dt.ajaxSettings,t)},ajaxPrefilter:z($e),ajaxTransport:z(je),ajax:function(t,e){function n(t,e,n,i){var o,r,s,a,l,u=e;2!==_&&(_=2,h&&clearTimeout(h),p=C,d=i||"",x.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(a=P(g,x,n)),a=R(g,a,x,o),o?(g.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(Dt.lastModified[c]=l),(l=x.getResponseHeader("etag"))&&(Dt.etag[c]=l)),204===t||"HEAD"===g.type?u="nocontent":304===t?u="notmodified":(u=a.state,r=a.data,o=!(s=a.error))):(s=u,!t&&u||(u="error",t<0&&(t=0))),x.status=t,x.statusText=(e||u)+"",o?b.resolveWith(m,[r,u,x]):b.rejectWith(m,[x,u,s]),x.statusCode(w),w=C,f&&v.trigger(o?"ajaxSuccess":"ajaxError",[x,g,o?r:s]),y.fireWith(m,[x,u]),f&&(v.trigger("ajaxComplete",[x,g]),--Dt.active||Dt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=C),e=e||{};var i,o,c,d,h,f,p,r,g=Dt.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?Dt(m):Dt.event,b=Dt.Deferred(),y=Dt.Callbacks("once memory"),w=g.statusCode||{},s={},a={},_=0,l="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!r)for(r={};e=Re.exec(d);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?d:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=a[n]=a[n]||t,s[t]=e),this},overrideMimeType:function(t){return _||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)w[e]=[w[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||l;return p&&p.abort(e),n(0,e),this}};if(b.promise(x).complete=y.add,x.success=x.done,x.error=x.fail,g.url=((t||g.url||Ae)+"").replace(Ie,"").replace(Le,De[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=Dt.trim(g.dataType||"*").toLowerCase().match(dt)||[""],null==g.crossDomain&&(i=Fe.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===De[1]&&i[2]===De[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(De[3]||("http:"===De[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=Dt.param(g.data,g.traditional)),M($e,g,e,x),2===_)return x;for(o in(f=g.global)&&0==Dt.active++&&Dt.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Oe.test(g.type),c=g.url,g.hasContent||(g.data&&(c=g.url+=(Me.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Pe.test(c)?c.replace(Pe,"$1_="+ze++):c+(Me.test(c)?"&":"?")+"_="+ze++)),g.ifModified&&(Dt.lastModified[c]&&x.setRequestHeader("If-Modified-Since",Dt.lastModified[c]),Dt.etag[c]&&x.setRequestHeader("If-None-Match",Dt.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&x.setRequestHeader("Content-Type",g.contentType),x.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ve+"; q=0.01":""):g.accepts["*"]),g.headers)x.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(m,x,g)||2===_))return x.abort();for(o in l="abort",{success:1,error:1,complete:1})x[o](g[o]);if(p=M(je,g,e,x)){x.readyState=1,f&&v.trigger("ajaxSend",[x,g]),g.async&&0<g.timeout&&(h=setTimeout(function(){x.abort("timeout")},g.timeout));try{_=1,p.send(s,n)}catch(on){if(!(_<2))throw on;n(-1,on)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return Dt.get(t,e,n,"json")},getScript:function(t,e){return Dt.get(t,C,e,"script")}}),Dt.each(["get","post"],function(t,o){Dt[o]=function(t,e,n,i){return Dt.isFunction(e)&&(i=i||n,n=e,e=C),Dt.ajax({url:t,type:o,dataType:i,data:e,success:n})}}),Dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Dt.globalEval(t),t}}}),Dt.ajaxPrefilter("script",function(t){t.cache===C&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),Dt.ajaxTransport("script",function(e){if(e.crossDomain){var i,o=X.head||Dt("head")[0]||X.documentElement;return{send:function(t,n){(i=X.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(C,!0)}}}});var Ue=[],qe=/(=)\?(?=&|$)|\?\?/;Dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ue.pop()||Dt.expando+"_"+ze++;return this[t]=!0,t}}),Dt.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,s=!1!==t.jsonp&&(qe.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&qe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=Dt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(qe,"$1"+i):!1!==t.jsonp&&(t.url+=(Me.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||Dt.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=g[i],g[i]=function(){r=arguments},n.always(function(){g[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ue.push(i)),r&&Dt.isFunction(o)&&o(r[0]),r=o=C}),"script"});var We,Ye,Ke=0,Ge=g.ActiveXObject&&function(){var t;for(t in We)We[t](C,!0)};Dt.ajaxSettings.xhr=g.ActiveXObject?function(){return!this.isLocal&&H()||O()}:H,Ye=Dt.ajaxSettings.xhr(),Dt.support.cors=!!Ye&&"withCredentials"in Ye,(Ye=Dt.support.ajax=!!Ye)&&Dt.ajaxTransport(function(c){var d;if(!c.crossDomain||Dt.support.cors)return{send:function(t,a){var l,e,u=c.xhr();if(c.username?u.open(c.type,c.url,c.async,c.username,c.password):u.open(c.type,c.url,c.async),c.xhrFields)for(e in c.xhrFields)u[e]=c.xhrFields[e];c.mimeType&&u.overrideMimeType&&u.overrideMimeType(c.mimeType),c.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest");try{for(e in t)u.setRequestHeader(e,t[e])}catch(n){}u.send(c.hasContent&&c.data||null),d=function(t,e){var n,i,o,r;try{if(d&&(e||4===u.readyState))if(d=C,l&&(u.onreadystatechange=Dt.noop,Ge&&delete We[l]),e)4!==u.readyState&&u.abort();else{r={},n=u.status,i=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(r.text=u.responseText);try{o=u.statusText}catch(on){o=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=r.text?200:404}}catch(s){e||a(-1,s)}r&&a(n,o,r,i)},c.async?4===u.readyState?setTimeout(d):(l=++Ke,Ge&&(We||(We={},Dt(g).unload(Ge)),We[l]=d),u.onreadystatechange=d):d()},abort:function(){d&&d(C,!0)}}});var Xe,Qe,Je=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[j],nn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=Ze.exec(e),r=o&&o[3]||(Dt.cssNumber[t]?"":"px"),s=(Dt.cssNumber[t]||"px"!==r&&+i)&&Ze.exec(Dt.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==r)for(r=r||s[3],o=o||[],s=+i||1;s/=a=a||".5",Dt.style(n.elem,t,s+r),a!==(a=n.cur()/i)&&1!==a&&--l;);return o&&(n.unit=r,n.start=+s||+i||0,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};Dt.Animation=Dt.extend(B,{tweener:function(t,e){Dt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;i<o;i++)n=t[i],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),(Dt.Tween=V).prototype={constructor:V,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Dt.cssNumber[n]?"":"px")},cur:function(){var t=V.propHooks[this.prop];return t&&t.get?t.get(this):V.propHooks._default.get(this)},run:function(t){var e,n=V.propHooks[this.prop];return this.options.duration?this.pos=e=Dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Dt.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){Dt.fx.step[t.prop]?Dt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Dt.cssProps[t.prop]]||Dt.cssHooks[t.prop])?Dt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Dt.each(["toggle","show","hide"],function(t,i){var o=Dt.fn[i];Dt.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(U(i,!0),t,e,n)}}),Dt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=Dt.isEmptyObject(e),r=Dt.speed(t,n,i),s=function(){var t=B(this,Dt.extend({},e),r);s.finish=function(){t.stop(!0)},(o||Dt._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(o,t,r){var s=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof o&&(r=t,t=o,o=C),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=Dt.timers,i=Dt._data(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&tn.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||Dt.dequeue(this,o)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=Dt._data(this),n=e[s+"queue"],i=e[s+"queueHooks"],o=Dt.timers,r=n?n.length:0;for(e.finish=!0,Dt.queue(this,s,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===s&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),Dt.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){Dt.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),Dt.speed=function(t,e,n){var i=t&&"object"==typeof t?Dt.extend({},t):{complete:n||!n&&e||Dt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Dt.isFunction(e)&&e};return i.duration=Dt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Dt.fx.speeds?Dt.fx.speeds[i.duration]:Dt.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){Dt.isFunction(i.old)&&i.old.call(this),i.queue&&Dt.dequeue(this,i.queue)},i},Dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Dt.timers=[],Dt.fx=V.prototype.init,Dt.fx.tick=function(){var t,e=Dt.timers,n=0;for(Xe=Dt.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||Dt.fx.stop(),Xe=C},Dt.fx.timer=function(t){t()&&Dt.timers.push(t)&&Dt.fx.start()},Dt.fx.interval=13,Dt.fx.start=function(){Qe||(Qe=setInterval(Dt.fx.tick,Dt.fx.interval))},Dt.fx.stop=function(){clearInterval(Qe),Qe=null},Dt.fx.speeds={slow:600,fast:200,_default:400},Dt.fx.step={},Dt.expr&&Dt.expr.filters&&(Dt.expr.filters.animated=function(e){return Dt.grep(Dt.timers,function(t){return e===t.elem}).length}),Dt.fn.offset=function(e){if(arguments.length)return e===C?this:this.each(function(t){Dt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(t=r.documentElement,Dt.contains(t,o)?(typeof o.getBoundingClientRect!==K&&(i=o.getBoundingClientRect()),n=q(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},Dt.offset={setOffset:function(t,e,n){var i=Dt.css(t,"position");"static"===i&&(t.style.position="relative");var o,r,s=Dt(t),a=s.offset(),l=Dt.css(t,"top"),u=Dt.css(t,"left"),c={},d={};("absolute"===i||"fixed"===i)&&-1<Dt.inArray("auto",[l,u])?(o=(d=s.position()).top,r=d.left):(o=parseFloat(l)||0,r=parseFloat(u)||0),Dt.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(c.top=e.top-a.top+o),null!=e.left&&(c.left=e.left-a.left+r),"using"in e?e.using.call(t,c):s.css(c)}},Dt.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===Dt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Dt.nodeName(t[0],"html")||(n=t.offset()),n.top+=Dt.css(t[0],"borderTopWidth",!0),n.left+=Dt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Dt.css(i,"marginTop",!0),left:e.left-n.left-Dt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Q;t&&!Dt.nodeName(t,"html")&&"static"===Dt.css(t,"position");)t=t.offsetParent;return t||Q})}}),Dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r=/Y/.test(o);Dt.fn[e]=function(t){return Dt.access(this,function(t,e,n){var i=q(t);if(n===C)return i?o in i?i[o]:i.document.documentElement[e]:t[e];i?i.scrollTo(r?Dt(i).scrollLeft():n,r?n:Dt(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),Dt.each({Height:"height",Width:"width"},function(r,s){Dt.each({padding:"inner"+r,content:s,"":"outer"+r},function(i,t){Dt.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return Dt.access(this,function(t,e,n){var i;return Dt.isWindow(t)?t.document.documentElement["client"+r]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+r],i["scroll"+r],t.body["offset"+r],i["offset"+r],i["client"+r])):n===C?Dt.css(t,e,o):Dt.style(t,e,n,o)},s,n?t:C,n,null)}})}),Dt.fn.size=function(){return this.length},Dt.fn.andSelf=Dt.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=Dt:(g.jQuery=g.$=Dt,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Dt}))}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(a){function i(t,e){var n,i,o,r=t.nodeName.toLowerCase();return"area"===r?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(!!(o=a("img[usemap='#"+i+"']")[0])&&s(o))):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r&&t.href||e)&&s(t)}function s(t){return a.expr.filters.visible(t)&&!a(t).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var t,e,n,o;a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=a(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&o.length?o:a(this[0].ownerDocument||document)},uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(e){return function(t){return!!a.data(t,e)}}):function(t,e,n){return!!a.data(t,n[3])},focusable:function(t){return i(t,!isNaN(a.attr(t,"tabindex")))},tabbable:function(t){var e=a.attr(t,"tabindex"),n=isNaN(e);return(n||0<=e)&&i(t,!n)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(t,n){function i(t,e,n,i){return a.each(o,function(){e-=parseFloat(a.css(t,"padding"+this))||0,n&&(e-=parseFloat(a.css(t,"border"+this+"Width"))||0),i&&(e-=parseFloat(a.css(t,"margin"+this))||0)}),e}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),s={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+n]=function(t){return t===undefined?s["inner"+n].call(this):this.each(function(){a(this).css(r,i(this,t)+"px")})},a.fn["outer"+n]=function(t,e){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){a(this).css(r,i(this,t,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=(e=a.fn.removeData,function(t){return arguments.length?e.call(this,a.camelCase(t)):e.call(this)})),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:(o=a.fn.focus,function(e,n){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){a(t).focus(),n&&n.call(t)},e)}):o.apply(this,arguments)}),disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(n+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined)return this.css("zIndex",t);if(this.length)for(var e,n,i=a(this[0]);i.length&&i[0]!==document;){if(("absolute"===(e=i.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0}}),a.ui.plugin={add:function(t,e,n){var i,o=a.ui[t].prototype;for(i in n)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([e,n[i]])},call:function(t,e,n,i){var o,r=t.plugins[e];if(r&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,n)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(c){var r,n=0,a=Array.prototype.slice;return c.cleanData=(r=c.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=c._data(n,"events"))&&e.remove&&c(n).triggerHandler("remove")}catch(o){}r(t)}),c.widget=function(t,n,e){var i,o,r,s,a={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,e||(e=n,n=c.Widget),c.expr[":"][i.toLowerCase()]=function(t){return!!c.data(t,i)},c[l]=c[l]||{},o=c[l][t],r=c[l][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},c.extend(r,o,{version:e.version,_proto:c.extend({},e),_childConstructors:[]}),(s=new n).options=c.widget.extend({},s.options),c.each(e,function(e,i){var o,r;c.isFunction(i)?a[e]=(o=function(){return n.prototype[e].apply(this,arguments)},r=function(t){
return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=o,this._superApply=r,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):a[e]=i}),r.prototype=c.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},a,{constructor:r,namespace:l,widgetName:t,widgetFullName:i}),o?(c.each(o._childConstructors,function(t,e){var n=e.prototype;c.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete o._childConstructors):n._childConstructors.push(r),c.widget.bridge(t,r),r},c.widget.extend=function(t){for(var e,n,i=a.call(arguments,1),o=0,r=i.length;o<r;o++)for(e in i[o])n=i[o][e],i[o].hasOwnProperty(e)&&n!==undefined&&(c.isPlainObject(n)?t[e]=c.isPlainObject(t[e])?c.widget.extend({},t[e],n):c.widget.extend({},n):t[e]=n);return t},c.widget.bridge=function(r,e){var s=e.prototype.widgetFullName||r;c.fn[r]=function(n){var t="string"==typeof n,i=a.call(arguments,1),o=this;return t?this.each(function(){var t,e=c.data(this,s);return"instance"===n?(o=e,!1):e?c.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==undefined?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:c.error("no such method '"+n+"' for "+r+" widget instance"):c.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+n+"'")}):(i.length&&(n=c.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=c.data(this,s);t?(t.option(n||{}),t._init&&t._init()):c.data(this,s,new e(n,this))})),o}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=c(e||this.defaultElement||this)[0],this.element=c(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=c(),this.hoverable=c(),this.focusable=c(),e!==this&&(c.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=c(e.style?e.ownerDocument:e.document||e),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this.options=c.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(t,e){var n,i,o,r=t;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof t)if(r={},t=(n=t.split(".")).shift(),n.length){for(i=r[t]=c.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(t=n.pop(),1===arguments.length)return i[t]===undefined?null:i[t];i[t]=e}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];r[t]=e}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(s,a,t){var l,u=this;"boolean"!=typeof s&&(t=a,a=s,s=!1),t?(a=l=c(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),c.each(t,function(t,e){function n(){if(s||!0!==u.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||c.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),o=i[1]+u.eventNamespace,r=i[2];r?l.delegate(r,o,n):a.bind(o,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e),this.bindings=c(this.bindings.not(t).get()),this.focusable=c(this.focusable.not(t).get()),this.hoverable=c(this.hoverable.not(t).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){c(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){c(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){c(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){c(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var i,o,r=this.options[t];if(n=n||{},(e=c.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(i in o)i in e||(e[i]=o[i]);return this.element.trigger(e,n),!(c.isFunction(r)&&!1===r.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(r,s){c.Widget.prototype["_"+r]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,o=t?!0===t||"number"==typeof t?s:t.effect||s:r;"number"==typeof(t=t||{})&&(t={duration:t}),i=!c.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&c.effects&&c.effects.effect[o]?e[r](t):o!==r&&e[o]?e[o](t.duration,t.easing,n):e.queue(function(t){c(this)[r](),n&&n.call(e[0]),t()})}}),c.widget}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(u){return u.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=u(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():u()}},_createIcons:function(){var t=this.options.icons;t&&(u("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))):this._activate(e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=u.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),o=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:o=this.headers[(i+1)%n];break;case e.LEFT:case e.UP:o=this.headers[(i-1+n)%n];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:o=this.headers[0];break;case e.END:o=this.headers[n-1]}o&&(u(t.target).attr("tabIndex",-1),u(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===u.ui.keyCode.UP&&t.ctrlKey&&u(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=u()):!1===t.active?this._activate(0):this.active.length&&!u.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=u()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var n,t=this.options,e=t.heightStyle,i=this.element.parent();this.active=this._findActive(t.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=u(this),e=t.uniqueId().attr("id"),n=t.next(),i=n.uniqueId().attr("id");t.attr("aria-controls",i),n.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(n=i.height(),this.element.siblings(":visible").each(function(){var t=u(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.headers.each(function(){n-=u(this).outerHeight(!0)}),this.headers.next().each(function(){u(this).height(Math.max(0,n-u(this).innerHeight()+u(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.headers.next().each(function(){n=Math.max(n,u(this).css("height","").height())}).height(n))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:u.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):u()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&u.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e=this.options,n=this.active,i=u(t.currentTarget),o=i[0]===n[0],r=o&&e.collapsible,s=r?u():i.next(),a=n.next(),l={oldHeader:n,oldPanel:a,newHeader:r?u():i,newPanel:s};t.preventDefault(),o&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!r&&this.headers.index(i),this.active=o?u():i,this._toggle(l),n.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&n.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),o||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),e.icons&&i.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=n,this.options.animate?this._animate(e,n,t):(n.hide(),e.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(u(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,n,e){var i,o,r,s=this,a=0,l=t.css("box-sizing"),u=t.length&&(!n.length||t.index()<n.index()),c=this.options.animate||{},d=u&&c.down||c,h=function(){s._toggleComplete(e)};return"number"==typeof d&&(r=d),"string"==typeof d&&(o=d),o=o||d.easing||c.easing,r=r||d.duration||c.duration,n.length?t.length?(i=t.show().outerHeight(),n.animate(this.hideProps,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:o,complete:h,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===l&&(a+=e.now):"content"!==s.options.heightStyle&&(e.now=Math.round(i-n.outerHeight()-a),a=0)}})):n.animate(this.hideProps,r,o,h):t.animate(this.showProps,r,o,h)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(N){return function(){function x(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function C(t,e){return parseInt(N.css(t,e),10)||0}function e(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:N.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}N.ui=N.ui||{};var o,k,T=Math.max,S=Math.abs,E=Math.round,i=/left|center|right/,r=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,n=N.fn.position;N.position={scrollbarWidth:function(){if(o!==undefined)return o;var t,e,n=N("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return N("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),o=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?N.position.scrollbarWidth():0,height:i?N.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=N(t||window),n=N.isWindow(e[0]),i=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:n,isDocument:i,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:n||i?e.width():e.outerWidth(),height:n||i?e.height():e.outerHeight()}}},N.fn.position=function(d){if(!d||!d.of)return n.apply(this,arguments);d=N.extend({},d);var h,f,p,g,m,t,v=N(d.of),b=N.position.getWithinInfo(d.within),y=N.position.getScrollInfo(b),w=(d.collision||"flip").split(" "),_={};return t=e(v),v[0].preventDefault&&(d.at="left top"),f=t.width,p=t.height,g=t.offset,m=N.extend({},g),N.each(["my","at"],function(){var t,e,n=(d[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):r.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=r.test(n[1])?n[1]:"center",t=s.exec(n[0]),e=s.exec(n[1]),_[this]=[t?t[0]:0,e?e[0]:0],d[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===d.at[0]?m.left+=f:"center"===d.at[0]&&(m.left+=f/2),"bottom"===d.at[1]?m.top+=p:"center"===d.at[1]&&(m.top+=p/2),h=x(_.at,f,p),m.left+=h[0],m.top+=h[1],this.each(function(){var n,t,s=N(this),a=s.outerWidth(),l=s.outerHeight(),e=C(this,"marginLeft"),i=C(this,"marginTop"),o=a+e+C(this,"marginRight")+y.width,r=l+i+C(this,"marginBottom")+y.height,u=N.extend({},m),c=x(_.my,s.outerWidth(),s.outerHeight());"right"===d.my[0]?u.left-=a:"center"===d.my[0]&&(u.left-=a/2),"bottom"===d.my[1]?u.top-=l:"center"===d.my[1]&&(u.top-=l/2),u.left+=c[0],u.top+=c[1],k||(u.left=E(u.left),u.top=E(u.top)),n={marginLeft:e,marginTop:i},N.each(["left","top"],function(t,e){N.ui.position[w[t]]&&N.ui.position[w[t]][e](u,{targetWidth:f,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:o,collisionHeight:r,offset:[h[0]+c[0],h[1]+c[1]],my:d.my,at:d.at,within:b,elem:s})}),d.using&&(t=function(t){var e=g.left-u.left,n=e+f-a,i=g.top-u.top,o=i+p-l,r={target:{element:v,left:g.left,top:g.top,width:f,height:p},element:{element:s,left:u.left,top:u.top,width:a,height:l},horizontal:n<0?"left":0<e?"right":"center",vertical:o<0?"top":0<i?"bottom":"middle"};f<a&&S(e+n)<f&&(r.horizontal="center"),p<l&&S(i+o)<p&&(r.vertical="middle"),T(S(e),S(n))>T(S(i),S(o))?r.important="horizontal":r.important="vertical",d.using.call(this,t,r)}),s.offset(N.extend(u,{using:t}))})},N.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,s=t.left-e.collisionPosition.marginLeft,a=o-s,l=s+e.collisionWidth-r-o;e.collisionWidth>r?0<a&&l<=0?(n=t.left+a+e.collisionWidth-r-o,t.left+=a-n):t.left=0<l&&a<=0?o:l<a?o+r-e.collisionWidth:o:0<a?t.left+=a:0<l?t.left-=l:t.left=T(t.left-s,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,s=t.top-e.collisionPosition.marginTop,a=o-s,l=s+e.collisionHeight-r-o;e.collisionHeight>r?0<a&&l<=0?(n=t.top+a+e.collisionHeight-r-o,t.top+=a-n):t.top=0<l&&a<=0?o:l<a?o+r-e.collisionHeight:o:0<a?t.top+=a:0<l?t.top-=l:t.top=T(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,r=o.offset.left+o.scrollLeft,s=o.width,a=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-a,c=l+e.collisionWidth-s-a,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,h="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];u<0?((n=t.left+d+h+f+e.collisionWidth-s-r)<0||n<S(u))&&(t.left+=d+h+f):0<c&&(0<(i=t.left-e.collisionPosition.marginLeft+d+h+f-a)||S(i)<c)&&(t.left+=d+h+f)},top:function(t,e){var n,i,o=e.within,r=o.offset.top+o.scrollTop,s=o.height,a=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-a,c=l+e.collisionHeight-s-a,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,h="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];u<0?((i=t.top+d+h+f+e.collisionHeight-s-r)<0||i<S(u))&&(t.top+=d+h+f):0<c&&(0<(n=t.top-e.collisionPosition.marginTop+d+h+f-a)||S(n)<c)&&(t.top+=d+h+f)}},flipfit:{left:function(){N.ui.position.flip.left.apply(this,arguments),N.ui.position.fit.left.apply(this,arguments)},top:function(){N.ui.position.flip.top.apply(this,arguments),N.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,n,i,o,r=document.getElementsByTagName("body")[0],s=document.createElement("div");for(o in t=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&N.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[o]=n[o];t.appendChild(s),(e=r||document.documentElement).insertBefore(t,e.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",i=N(s).offset().left,k=10<i&&i<11,t.innerHTML="",e.removeChild(t)}()}(),N.ui.position}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],t):t(jQuery)}(function(a){return a.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(t){var e=a(t.target);!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var e=a(t.currentTarget);e.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,e)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(t){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=a(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var e,n,i,o,r=!0;switch(t.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(t);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case a.ui.keyCode.HOME:this._move("first","first",t);break;case a.ui.keyCode.END:this._move("last","last",t);break;case a.ui.keyCode.UP:this.previous(t);break;case a.ui.keyCode.DOWN:this.next(t);break;case a.ui.keyCode.LEFT:this.collapse(t);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(t);break;case a.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,n=this.previousFilter||"",i=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),i===n?o=!0:i=n+i,e=this._filterMenuItems(i),(e=o&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var t,e=this,i=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=a(this),e=t.parent(),n=a("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",e.attr("id"))}),(t=n.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=a(this);e._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,n,i,o,r,s;this._hasScroll()&&(e=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-n,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),s=t.outerHeight(),i<0?this.activeMenu.scrollTop(o+i):r<i+s&&this.activeMenu.scrollTop(o+i-r+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var t=n?this.element:a(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this.activeMenu=t},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!a(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(t){var e,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=a(this)).offset().top-n-i<0}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=a(this)).offset().top-n+i}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||a(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var e=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(a.trim(a(this).text()))})}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],t):t(jQuery)}(function(s){return s.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,o,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,r="input"===t;this.isMultiLine=!!e||!r&&this.element.prop("isContentEditable"),this.valueMethod=this.element[e||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))i=o=n=!0;else{i=o=n=!1;var e=s.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:n=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:n=!0,this._move("nextPage",t);break;case e.UP:n=!0,this._keyEvent("previous",t);break;case e.DOWN:n=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(n=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:i=!0,this._searchTimeout(t)}}},keypress:function(t){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!i){var e=s.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(o)return o=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=s("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];s(t.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(t){t.target===e.element[0]||t.target===n||s.contains(n,t.target)||e.close()})})},menufocus:function(t,e){var n,i;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){s(t.target).trigger(t.originalEvent)});i=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),(n=e.item.attr("aria-label")||i.value)&&s.trim(n).length&&(this.liveRegion.children().hide(),s("<div>").text(n).appendTo(
this.liveRegion))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=s("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?s(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var n,i,o=this;s.isArray(this.options.source)?(n=this.options.source,this.source=function(t,e){e(s.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,e){o.xhr&&o.xhr.abort(),o.xhr=s.ajax({url:i,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;t&&(!t||e||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return s.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:s.map(t,function(t){return"string"==typeof t?{label:t,value:t}:s.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(s.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,t){var i=this;s.each(t,function(t,e){i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return s("<li>").text(e.label).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),s.extend(s.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var n=new RegExp(s.ui.autocomplete.escapeRegex(e),"i");return s.grep(t,function(t){return n.test(t.label||t.value||t)})}}),s.widget("ui.autocomplete",s.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),s("<div>").text(e).appendTo(this.liveRegion))}}),s.ui.autocomplete}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(r){var o,s="ui-button ui-widget ui-state-default ui-corner-all",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=r(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},u=function(t){var e=t.name,n=t.form,i=r([]);return e&&(e=e.replace(/'/g,"\\'"),i=n?r(n).find("[name='"+e+"'][type=radio]"):r("[name='"+e+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),i};return r.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,t="checkbox"===this.type||"radio"===this.type,i=t?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===o&&r(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||r(this).removeClass(i)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),t&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;r(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var t=e.element[0];u(t).not(t).map(function(){return r(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;r(this).addClass("ui-state-active"),o=this,e.document.one("mouseup",function(){o=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;r(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(n.disabled)return!1;t.keyCode!==r.ui.keyCode.SPACE&&t.keyCode!==r.ui.keyCode.ENTER||r(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){r(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===r.ui.keyCode.SPACE&&r(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" ui-state-active "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?u(this.element[0]).each(function(){r(this).is(":checked")?r(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):r(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(a),e=r("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,i=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(i?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",r.trim(e)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),r.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var t="rtl"===this.element.css("direction"),e=this.element.find(this.options.items),n=e.filter(":ui-button");e.not(":ui-button").button(),n.button("refresh"),this.buttons=e.map(function(){return r(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return r(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),r.ui.button}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery)}(function(C){function l(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},C.extend(this._defaults,this.regional[""]),this.regional.en=C.extend(!0,{},this.regional[""]),this.regional["en-US"]=C.extend(!0,{},this.regional.en),this.dpDiv=n(C("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){C(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",s)}function s(){C.datepicker._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])||(C(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),C(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).addClass("ui-datepicker-next-hover"))}function d(t,e){for(var n in C.extend(t,e),e)null==e[n]&&(t[n]=e[n]);return t}var a;return C.extend(C.ui,{datepicker:{version:"1.11.4"}}),C.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return d(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var n,i,o;i="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(C(t),i)).settings=C.extend({},e||{}),"input"===n?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?n(C("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var n=C(t);e.append=C([]),e.trigger=C([]),n.hasClass(this.markerClassName)||(this._attachments(n,e),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),C.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n,i,o,r=this._get(e,"appendText"),s=this._get(e,"isRTL");e.append&&e.append.remove(),r&&(e.append=C("<span class='"+this._appendClass+"'>"+r+"</span>"),t[s?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(n=this._get(e,"showOn"))&&"both"!==n||t.focus(this._showDatepicker),"button"!==n&&"both"!==n||(i=this._get(e,"buttonText"),o=this._get(e,"buttonImage"),e.trigger=C(this._get(e,"buttonImageOnly")?C("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):C("<button type='button'></button>").addClass(this._triggerClass).html(o?C("<img/>").attr({src:o,alt:i,title:i}):i)),t[s?"before":"after"](e.trigger),e.trigger.click(function(){return C.datepicker._datepickerShowing&&C.datepicker._lastInput===t[0]?C.datepicker._hideDatepicker():(C.datepicker._datepickerShowing&&C.datepicker._lastInput!==t[0]&&C.datepicker._hideDatepicker(),C.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,o,r=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(o=i=n=0;o<t.length;o++)t[o].length>n&&(n=t[o].length,i=o);return i},r.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(t,e){var n=C(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(e.dpDiv),C.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,o){var r,s,a,l,u,c=this._dialogInst;return c||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=C("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),C("body").append(this._dialogInput),(c=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},C.data(this._dialogInput[0],"datepicker",c)),d(c.settings,i||{}),e=e&&e.constructor===Date?this._formatDate(c,e):e,this._dialogInput.val(e),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(s=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+l,a/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),C.blockUI&&C.blockUI(this.dpDiv),C.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var e,n=C(t),i=C.data(t,"datepicker");n.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),C.removeData(t,"datepicker"),"input"===e?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||n.removeClass(this.markerClassName).empty(),a===i&&(a=null))},_enableDatepicker:function(e){var t,n,i=C(e),o=C.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=C.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,n,i=C(e),o=C.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=C.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return C.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i,o,r,s,a=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?C.extend({},C.datepicker._defaults):a?"all"===e?C.extend({},a.settings):this._get(a,e):null;i=e||{},"string"==typeof e&&((i={})[e]=n),a&&(this._curInst===a&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(a,"min"),s=this._getMinMaxDate(a,"max"),d(a.settings,i),null!==r&&i.dateFormat!==undefined&&i.minDate===undefined&&(a.settings.minDate=this._formatDate(a,r)),null!==s&&i.dateFormat!==undefined&&i.maxDate===undefined&&(a.settings.maxDate=this._formatDate(a,s)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(C(t),a),this._autoSize(a),this._setDate(a,o),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e,n,i,o=C.datepicker._getInst(t.target),r=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,C.datepicker._datepickerShowing)switch(t.keyCode){case 9:C.datepicker._hideDatepicker(),r=!1;break;case 13:return(i=C("td."+C.datepicker._dayOverClass+":not(."+C.datepicker._currentClass+")",o.dpDiv))[0]&&C.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),(e=C.datepicker._get(o,"onSelect"))?(n=C.datepicker._formatDate(o),e.apply(o.input?o.input[0]:null,[n,o])):C.datepicker._hideDatepicker(),!1;case 27:C.datepicker._hideDatepicker();break;case 33:C.datepicker._adjustDate(t.target,t.ctrlKey?-C.datepicker._get(o,"stepBigMonths"):-C.datepicker._get(o,"stepMonths"),"M");break;case 34:C.datepicker._adjustDate(t.target,t.ctrlKey?+C.datepicker._get(o,"stepBigMonths"):+C.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&C.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&C.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,s?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&C.datepicker._adjustDate(t.target,t.ctrlKey?-C.datepicker._get(o,"stepBigMonths"):-C.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,s?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&C.datepicker._adjustDate(t.target,t.ctrlKey?+C.datepicker._get(o,"stepBigMonths"):+C.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?C.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,n,i=C.datepicker._getInst(t.target);if(C.datepicker._get(i,"constrainInput"))return e=C.datepicker._possibleChars(C.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!e||-1<e.indexOf(n)},_doKeyUp:function(t){var e=C.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{C.datepicker.parseDate(C.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,C.datepicker._getFormatConfig(e))&&(C.datepicker._setDateFromField(e),C.datepicker._updateAlternate(e),C.datepicker._updateDatepicker(e))}catch(n){}return!0},_showDatepicker:function(t){var e,n,i,o,r,s,a;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=C("input",t.parentNode)[0]),C.datepicker._isDisabledDatepicker(t)||C.datepicker._lastInput===t)||(e=C.datepicker._getInst(t),C.datepicker._curInst&&C.datepicker._curInst!==e&&(C.datepicker._curInst.dpDiv.stop(!0,!0),e&&C.datepicker._datepickerShowing&&C.datepicker._hideDatepicker(C.datepicker._curInst.input[0])),!1!==(i=(n=C.datepicker._get(e,"beforeShow"))?n.apply(t,[t,e]):{})&&(d(e.settings,i),e.lastVal=null,C.datepicker._lastInput=t,C.datepicker._setDateFromField(e),C.datepicker._inDialog&&(t.value=""),C.datepicker._pos||(C.datepicker._pos=C.datepicker._findPos(t),C.datepicker._pos[1]+=t.offsetHeight),o=!1,C(t).parents().each(function(){return!(o|="fixed"===C(this).css("position"))}),r={left:C.datepicker._pos[0],top:C.datepicker._pos[1]},C.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),C.datepicker._updateDatepicker(e),r=C.datepicker._checkOffset(e,r,o),e.dpDiv.css({position:C.datepicker._inDialog&&C.blockUI?"static":o?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),e.inline||(s=C.datepicker._get(e,"showAnim"),a=C.datepicker._get(e,"duration"),e.dpDiv.css("z-index",l(C(t))+1),C.datepicker._datepickerShowing=!0,C.effects&&C.effects.effect[s]?e.dpDiv.show(s,C.datepicker._get(e,"showOptions"),a):e.dpDiv[s||"show"](s?a:null),C.datepicker._shouldFocusInput(e)&&e.input.focus(),C.datepicker._curInst=e)))},_updateDatepicker:function(t){this.maxRows=4,(a=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,n=this._getNumberOfMonths(t),i=n[1],o=17,r=t.dpDiv.find("."+this._dayOverClass+" a");0<r.length&&s.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",o*i+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===C.datepicker._curInst&&C.datepicker._datepickerShowing&&C.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(n?0:C(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:C(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-r:0,e.left-=n&&e.left===t.input.offset().left?C(document).scrollLeft():0,e.top-=n&&e.top===t.input.offset().top+s?C(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>a&&i<a?Math.abs(e.left+i-a):0),e.top-=Math.min(e.top,e.top+o>l&&o<l?Math.abs(o+s):0),e},_findPos:function(t){for(var e,n=this._getInst(t),i=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||C.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=C(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,n,i,o,r=this._curInst;!r||t&&r!==C.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(r,"showAnim"),n=this._get(r,"duration"),i=function(){C.datepicker._tidyDialog(r)},C.effects&&(C.effects.effect[e]||C.effects[e])?r.dpDiv.hide(e,C.datepicker._get(r,"showOptions"),n,i):r.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?n:null,i),e||i(),this._datepickerShowing=!1,(o=this._get(r,"onClose"))&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),C.blockUI&&(C.unblockUI(),C("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(C.datepicker._curInst){var e=C(t.target),n=C.datepicker._getInst(e[0]);(e[0].id===C.datepicker._mainDivId||0!==e.parents("#"+C.datepicker._mainDivId).length||e.hasClass(C.datepicker.markerClassName)||e.closest("."+C.datepicker._triggerClass).length||!C.datepicker._datepickerShowing||C.datepicker._inDialog&&C.blockUI)&&(!e.hasClass(C.datepicker.markerClassName)||C.datepicker._curInst===n)||C.datepicker._hideDatepicker()}},_adjustDate:function(t,e,n){var i=C(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,e+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var e,n=C(t),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(e=new Date,i.selectedDay=e.getDate(),i.drawMonth=i.selectedMonth=e.getMonth(),i.drawYear=i.selectedYear=e.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(t,e,n){var i=C(t),o=this._getInst(i[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,e,n,i){var o,r=C(t);C(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((o=this._getInst(r[0])).selectedDay=o.currentDay=C("a",i).html(),o.selectedMonth=o.currentMonth=e,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var e=C(t);this._selectDate(e,"")},_selectDate:function(t,e){var n,i=C(t),o=this._getInst(i[0]);e=null!=e?e:this._formatDate(o),o.input&&o.input.val(e),this._updateAlternate(o),(n=this._get(o,"onSelect"))?n.apply(o.input?o.input[0]:null,[e,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e,n,i,o=this._get(t,"altField");o&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),i=this.formatDate(e,n,this._getFormatConfig(t)),C(o).each(function(){C(this).val(i)}))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(n,r,t){if(null==n||null==r)throw"Invalid arguments";if(""===(r="object"==typeof r?r.toString():r+""))return null;var i,e,o,s,a=0,l=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,d=(t?t.dayNames:null)||this._defaults.dayNames,h=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,f=(t?t.monthNames:null)||this._defaults.monthNames,p=-1,g=-1,m=-1,v=-1,b=!1,y=function(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e},w=function(t){var e=y(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,i=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),o=r.substring(a).match(i);if(!o)throw"Missing number at position "+a;return a+=o[0].length,parseInt(o[0],10)},_=function(t,e,n){var i=-1,o=C.map(y(t)?n:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(C.each(o,function(t,e){var n=e[1];if(r.substr(a,n.length).toLowerCase()===n.toLowerCase())return i=e[0],a+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+a},x=function(){if(r.charAt(a)!==n.charAt(i))throw"Unexpected literal at position "+a;a++};for(i=0;i<n.length;i++)if(b)"'"!==n.charAt(i)||y("'")?x():b=!1;else switch(n.charAt(i)){case"d":m=w("d");break;case"D":_("D",c,d);break;case"o":v=w("o");break
;case"m":g=w("m");break;case"M":g=_("M",h,f);break;case"y":p=w("y");break;case"@":p=(s=new Date(w("@"))).getFullYear(),g=s.getMonth()+1,m=s.getDate();break;case"!":p=(s=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=s.getMonth()+1,m=s.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(a<r.length&&(o=r.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===p?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=u?0:-100)),-1<v)for(g=1,m=v;;){if(m<=(e=this._getDaysInMonth(p,g-1)))break;g++,m-=e}if((s=this._daylightSavingAdjust(new Date(p,g-1,m))).getFullYear()!==p||s.getMonth()+1!==g||s.getDate()!==m)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,t,e){if(!t)return"";var i,o=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,r=(e?e.dayNames:null)||this._defaults.dayNames,s=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,a=(e?e.monthNames:null)||this._defaults.monthNames,l=function(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",h=!1;if(t)for(i=0;i<n.length;i++)if(h)"'"!==n.charAt(i)||l("'")?d+=n.charAt(i):h=!1;else switch(n.charAt(i)){case"d":d+=u("d",t.getDate(),2);break;case"D":d+=c("D",t.getDay(),o,r);break;case"o":d+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",t.getMonth()+1,2);break;case"M":d+=c("M",t.getMonth(),s,a);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=n.charAt(i)}return d},_possibleChars:function(n){var i,t="",e=!1,o=function(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e};for(i=0;i<n.length;i++)if(e)"'"!==n.charAt(i)||o("'")?t+=n.charAt(i):e=!1;else switch(n.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":o("'")?t+="'":e=!0;break;default:t+=n.charAt(i)}return t},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,s=this._getFormatConfig(t);try{r=this.parseDate(n,i,s)||o}catch(event){i=e?"":i}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=i?r.getDate():0,t.currentMonth=i?r.getMonth():0,t.currentYear=i?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(l,t,e){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},i=null==t||""===t?e:"string"==typeof t?function(t){try{return C.datepicker.parseDate(C.datepicker._get(l,"dateFormat"),t,C.datepicker._getFormatConfig(l))}catch(a){}for(var e=(t.toLowerCase().match(/^c/)?C.datepicker._getDate(l):null)||new Date,n=e.getFullYear(),i=e.getMonth(),o=e.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=r.exec(t);s;){switch(s[2]||"d"){case"d":case"D":o+=parseInt(s[1],10);break;case"w":case"W":o+=7*parseInt(s[1],10);break;case"m":case"M":i+=parseInt(s[1],10),o=Math.min(o,C.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(s[1],10),o=Math.min(o,C.datepicker._getDaysInMonth(n,i))}s=r.exec(t)}return new Date(n,i,o)}(t):"number"==typeof t?isNaN(t)?e:n(t):new Date(t.getTime());return(i=i&&"Invalid Date"===i.toString()?e:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,o=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){C.datepicker._adjustDate(n,-e,"M")},next:function(){C.datepicker._adjustDate(n,+e,"M")},hide:function(){C.datepicker._hideDatepicker()},today:function(){C.datepicker._gotoToday(n)},selectDay:function(){return C.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return C.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return C.datepicker._selectMonthYear(n,this,"Y"),!1}};C(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,o,r,s,a,l,u,c,d,h,f,p,g,m,v,b,y,w,_,x,C,k,T,S,E,N,D,A,z,M,I,P,R,H,O,L,F,B=new Date,$=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),j=this._get(t,"isRTL"),V=this._get(t,"showButtonPanel"),U=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),W=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),K=this._get(t,"stepMonths"),G=1!==W[0]||1!==W[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-Y,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-W[0]*W[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,n=this._get(t,"prevText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z-K,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>",o=this._get(t,"nextText"),o=q?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Z+K,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+o+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+o+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?X:$,s=q?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(j?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),w="",x=0;x<W[0];x++){for(C="",this.maxRows=4,k=0;k<W[1];k++){if(T=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),S=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",1<W[1])switch(k){case 0:E+=" ui-datepicker-group-first",S=" ui-corner-"+(j?"right":"left");break;case W[1]-1:E+=" ui-datepicker-group-last",S=" ui-corner-"+(j?"left":"right");break;default:E+=" ui-datepicker-group-middle",S=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===x?j?r:i:"")+(/all|right/.test(S)&&0===x?j?i:r:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,0<x||0<k,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",N=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;_<7;_++)N+="<th scope='col'"+(5<=(_+c+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+h[D=(_+c)%7]+"'>"+f[D]+"</span></th>";for(E+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),z=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,M=Math.ceil((z+A)/7),I=G&&this.maxRows>M?this.maxRows:M,this.maxRows=I,P=this._daylightSavingAdjust(new Date(tt,Z,1-z)),R=0;R<I;R++){for(E+="<tr>",H=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>":"",_=0;_<7;_++)O=m?m.apply(t.input?t.input[0]:null,[P]):[!0,""],F=(L=P.getMonth()!==Z)&&!b||!O[0]||Q&&P<Q||J&&J<P,H+="<td class='"+(5<=(_+c+6)%7?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(P.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===P.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+O[1]+(P.getTime()===X.getTime()?" "+this._currentClass:"")+(P.getTime()===$.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===$.getTime()?" ui-state-highlight":"")+(P.getTime()===X.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);E+=H+"</tr>"}11<++Z&&(Z=0,tt++),C+=E+="</tbody></table>"+(G?"</div>"+(0<W[0]&&k===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=C}return w+=u,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,o,r,s,a){var l,u,c,d,h,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(r||!m)w+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=o&&o.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=o.getMonth())&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");w+="</select>"}if(b||(y+=w+(!r&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e})(d[0]),g=Math.max(p,f(d[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=o?Math.min(g,o.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!r&&m&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),o=t.drawMonth+("M"===n?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(i,o))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,o,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),o=n&&e<n?n:e;return i&&i<o?i:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(n,i+(e<0?e:o[0]*o[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var n,i,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),C.fn.datepicker=function(t,e){if(!this.length)return this;C.datepicker.initialized||(C(document).mousedown(C.datepicker._checkExternalClick),C.datepicker.initialized=!0),0===C("#"+C.datepicker._mainDivId).length&&C("body").append(C.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof e?C.datepicker["_"+t+"Datepicker"].apply(C.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?C.datepicker["_"+t+"Datepicker"].apply(C.datepicker,[this].concat(n)):C.datepicker._attachDatepicker(this,t)}):C.datepicker["_"+t+"Datepicker"].apply(C.datepicker,[this[0]].concat(n))},C.datepicker=new t,C.datepicker.initialized=!1,C.datepicker.uuid=(new Date).getTime(),C.datepicker.version="1.11.4",C.datepicker}),function(t){"function"==typeof define&&define.amd?define(["jquery","./widget"],t):t(jQuery)}(function(o){var r=!1;return o(document).mouseup(function(){r=!1}),o.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){if(!0===o.data(t.target,e.widgetName+".preventClickEvent"))return o.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&o(t.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===o.data(t.target,this.widgetName+".preventClickEvent")&&o.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0))}},_mouseMove:function(t){if(this._mouseMoved){if(o.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&o.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),r=!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(y){return y.widget("ui.draggable",y.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return this._blurActiveElement(t),!(this.helper||e.disabled||0<y(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=y(this);return y("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=this.document[0];if(this.handleElement.is(t.target))try{e.activeElement&&"body"!==e.activeElement.nodeName.toLowerCase()&&y(e.activeElement).blur()}catch(n){}},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),y.ui.ddmanager&&(y.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===y(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),y.ui.ddmanager&&!e.dropBehaviour&&y.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),y.ui.ddmanager&&y.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",y.ui.ddmanager&&y.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,n=!1;return y.ui.ddmanager&&!this.options.dropBehaviour&&(n=y.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||y.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?y(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),y.ui.ddmanager&&y.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),y.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!y(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var e=this.options,n=y.isFunction(e.helper),i=n?y(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),n&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),y.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&y.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(e=y(i.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=i.containment:this.containment=[0,0,y(o).width()-this.helperProportions.width-this.margins.left,(y(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[y(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,y(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,y(window).scrollLeft()+y(window).width()-this.helperProportions.width-this.margins.left,y(window).scrollTop()+(y(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,e,n){return n=n||this._uiHash(),y.ui.plugin.call(this,t,[e,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),y.Widget.prototype._trigger.call(this,t,e,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),y.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,n){var i=y.extend({},t,{item:n.element});n.sortables=[],y(n.options.connectToSortable).each(function(){var t=y(this).sortable("instance");t&&!t.options.disabled&&(n.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,i))})},stop:function(e,t,n){var i=y.extend({},t,{item:n.element});n.cancelHelperRemoval=!1,y.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,i))})},drag:function(n,i,o){y.each(o.sortables,function(){var t=!1,e=this;e.positionAbs=o.positionAbs,e.helperProportions=o.helperProportions,e.offset.click=o.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,y.each(o.sortables,function(){return this.positionAbs=o.positionAbs,this.helperProportions=o.helperProportions,this.offset.click=o.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&y.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,o._parent=i.helper.parent(),e.currentItem=i.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return i.helper[0]},n.target=e.currentItem[0],e._mouseCapture(n,!0),e._mouseStart(n,!0,!0),e.offset.click.top=o.offset.click.top,e.offset.click.left=o.offset.click.left,e.offset.parent.left-=o.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=o.offset.parent.top-e.offset.parent.top,o._trigger("toSortable",n),o.dropped=e.element,y.each(o.sortables,function(){this.refreshPositions()}),o.currentItem=o.element,e.fromOutside=o),e.currentItem&&(e._mouseDrag(n),i.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",n,e._uiHash(e)),e._mouseStop(n,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),i.helper.appendTo(o._parent),o._refreshOffsets(n),i.position=o._generatePosition(n,!0),o._trigger("fromSortable",n),o.dropped=!1,y.each(o.sortables,function(){this.refreshPositions()}))})}}),y.ui.plugin.add("draggable","cursor",{start:function(t,e,n){var i=y("body"),o=n.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,e,n){var i=n.options;i._cursor&&y("body").css("cursor",i._cursor)}}),y.ui.plugin.add("draggable","opacity",{start:function(t,e,n){var i=y(e.helper),o=n.options;i.css("opacity")&&(o._opacity=i.css(
"opacity")),i.css("opacity",o.opacity)},stop:function(t,e,n){var i=n.options;i._opacity&&y(e.helper).css("opacity",i._opacity)}}),y.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,e,n){var i=n.options,o=!1,r=n.scrollParentNotHidden[0],s=n.document[0];r!==s&&"HTML"!==r.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+r.offsetHeight-t.pageY<i.scrollSensitivity?r.scrollTop=o=r.scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+r.offsetWidth-t.pageX<i.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-y(s).scrollTop()<i.scrollSensitivity?o=y(s).scrollTop(y(s).scrollTop()-i.scrollSpeed):y(window).height()-(t.pageY-y(s).scrollTop())<i.scrollSensitivity&&(o=y(s).scrollTop(y(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-y(s).scrollLeft()<i.scrollSensitivity?o=y(s).scrollLeft(y(s).scrollLeft()-i.scrollSpeed):y(window).width()-(t.pageX-y(s).scrollLeft())<i.scrollSensitivity&&(o=y(s).scrollLeft(y(s).scrollLeft()+i.scrollSpeed)))),!1!==o&&y.ui.ddmanager&&!i.dropBehaviour&&y.ui.ddmanager.prepareOffsets(n,t)}}),y.ui.plugin.add("draggable","snap",{start:function(t,e,n){var i=n.options;n.snapElements=[],y(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=y(this),e=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,n){var i,o,r,s,a,l,u,c,d,h,f=n.options,p=f.snapTolerance,g=e.offset.left,m=g+n.helperProportions.width,v=e.offset.top,b=v+n.helperProportions.height;for(d=n.snapElements.length-1;0<=d;d--)l=(a=n.snapElements[d].left-n.margins.left)+n.snapElements[d].width,c=(u=n.snapElements[d].top-n.margins.top)+n.snapElements[d].height,m<a-p||l+p<g||b<u-p||c+p<v||!y.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,y.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(i=Math.abs(u-b)<=p,o=Math.abs(c-v)<=p,r=Math.abs(a-m)<=p,s=Math.abs(l-g)<=p,i&&(e.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(e.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),r&&(e.position.left=n._convertPositionTo("relative",{top:0,left:a-n.helperProportions.width}).left),s&&(e.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),h=i||o||r||s,"outer"!==f.snapMode&&(i=Math.abs(u-v)<=p,o=Math.abs(c-b)<=p,r=Math.abs(a-g)<=p,s=Math.abs(l-m)<=p,i&&(e.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(e.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),r&&(e.position.left=n._convertPositionTo("relative",{top:0,left:a}).left),s&&(e.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(i||o||r||s||h)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,y.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=i||o||r||s||h)}}),y.ui.plugin.add("draggable","stack",{start:function(t,e,n){var i,o=n.options,r=y.makeArray(y(o.stack)).sort(function(t,e){return(parseInt(y(t).css("zIndex"),10)||0)-(parseInt(y(e).css("zIndex"),10)||0)});r.length&&(i=parseInt(y(r[0]).css("zIndex"),10)||0,y(r).each(function(t){y(this).css("zIndex",i+t)}),this.css("zIndex",i+r.length))}}),y.ui.plugin.add("draggable","zIndex",{start:function(t,e,n){var i=y(e.helper),o=n.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,e,n){var i=n.options;i._zIndex&&y(e.helper).css("zIndex",i._zIndex)}}),y.ui.draggable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(b){return b.widget("ui.resizable",b.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(t,e){if("hidden"===b(t).css("overflow"))return!1;var n=e&&"left"===e?"scrollLeft":"scrollTop",i=!1;return 0<t[n]||(t[n]=1,i=0<t[n],t[n]=0,i)},_create:function(){var t,e,n,i,r=this,o=this.options;if(this.element.addClass("ui-resizable"),b.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(b("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=b(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},e=0;e<t.length;e++)n=b.trim(t[e]),(i=b("<div class='ui-resizable-handle "+("ui-resizable-"+n)+"'></div>")).css({zIndex:o.zIndex}),"se"===n&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(i);this._renderAxis=function(t){var e,n,i,o;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=b(this.handles[e]),this._on(this.handles[e],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=b(this.handles[e],this.element),o=/sw|ne|nw|se|n|s/.test(e)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=i&&i[1]?i[1]:"se")}),o.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(b(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(b(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){b(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(t){var e,n,i=!1;for(e in this.handles)((n=b(this.handles[e])[0])===t.target||b.contains(n,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var e,n,i,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(e+=b(o.containment).scrollLeft()||0,n+=b(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:e,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=b(".ui-resizable-"+this.axis).css("cursor"),b("body").css("cursor","auto"===i?this.axis+"-resize":i),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,n,i=this.originalMousePosition,o=this.axis,r=t.pageX-i.left||0,s=t.pageY-i.top||0,a=this._change[o];return this._updatePrevProperties(),a&&(e=a.apply(this,[t,r,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),b.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,n,i,o,r,s,a,l=this.options,u=this;return this._helper&&(i=(n=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,r={width:u.helper.width()-o,height:u.helper.height()-i},s=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,a=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(b.extend(r,{top:a,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:Infinity,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:Infinity},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,i=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),i>r.minHeight&&(r.minHeight=i),n<r.maxWidth&&(r.maxWidth=n),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return r&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&u&&(t.left=a-e.minWidth),i&&u&&(t.left=a-e.maxWidth),s&&c&&(t.top=l-e.minHeight),o&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(o[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||b("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){b.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),b.ui.plugin.add("resizable","animate",{stop:function(e){var n=b(this).resizable("instance"),t=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),r=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,a={width:n.size.width-s,height:n.size.height-r},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(b.extend(a,u&&l?{top:u,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&b(i[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),b.ui.plugin.add("resizable","containment",{start:function(){var n,i,t,e,o,r,s,a=b(this).resizable("instance"),l=a.options,u=a.element,c=l.containment,d=c instanceof b?c.get(0):/parent/.test(c)?u.parent().get(0):c;d&&(a.containerElement=b(d),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight}):(n=b(d),i=[],b(["Top","Right","Left","Bottom"]).each(function(t,e){i[t]=a._num(n.css("padding"+e))}),a.containerOffset=n.offset(),a.containerPosition=n.position(),a.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},t=a.containerOffset,e=a.containerSize.height,o=a.containerSize.width,r=a._hasScroll(d,"left")?d.scrollWidth:o,s=a._hasScroll(d)?d.scrollHeight:e,a.parentData={element:d,left:t.left,top:t.top,width:r,height:s}))},resize:function(t){var e,n,i,o,r=b(this).resizable("instance"),s=r.options,a=r.containerOffset,l=r.position,u=r._aspectRatio||t.shiftKey,c={top:0,left:0},d=r.containerElement,h=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=a),l.left<(r._helper?a.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-a.left:r.position.left-c.left),u&&(r.size.height=r.size.width/r.aspectRatio,h=!1),r.position.left=s.helper?a.left:0),l.top<(r._helper?a.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-a.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,h=!1),r.position.top=r._helper?a.top:0),i=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),i&&o?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),e=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-c.left:r.offset.left-a.left)),n=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-c.top:r.offset.top-a.top)),e+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-e,u&&(r.size.height=r.size.width/r.aspectRatio,h=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,u&&(r.size.width=r.size.height*r.aspectRatio,h=!1)),h||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=b(this).resizable("instance"),e=t.options,n=t.containerOffset,i=t.containerPosition,o=t.containerElement,r=b(t.helper),s=r.offset(),a=r.outerWidth()-t.sizeDiff.width,l=r.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(o.css("position"))&&b(this).css({left:s.left-i.left-n.left,width:a,height:l}),t._helper&&!e.animate&&/static/.test(o.css("position"))&&b(this).css({left:s.left-i.left-n.left,width:a,height:l})}}),b.ui.plugin.add("resizable","alsoResize",{start:function(){var t=b(this).resizable("instance").options;b(t.alsoResize).each(function(){var t=b(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var e=b(this).resizable("instance"),i=e.options,o=e.originalSize,r=e.originalPosition,s={height:e.size.height-o.height||0,width:e.size.width-o.width||0,top:e.position.top-r.top||0,left:e.position.left-r.left||0};b(i.alsoResize).each(function(){var t=b(this),i=b(this).data("ui-resizable-alsoresize"),o={},e=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(e,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&0<=n&&(o[e]=n||null)}),t.css(o)})},stop:function(){b(this).removeData("resizable-alsoresize")}}),b.ui.plugin.add("resizable","ghost",{start:function(){var t=b(this).resizable("instance"),e=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=b(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=b(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),b.ui.plugin.add("resizable","grid",{resize:function(){var t,e=b(this).resizable("instance"),n=e.options,i=e.size,o=e.originalSize,r=e.originalPosition,s=e.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,u=a[1]||1,c=Math.round((i.width-o.width)/l)*l,d=Math.round((i.height-o.height)/u)*u,h=o.width+c,f=o.height+d,p=n.maxWidth&&n.maxWidth<h,g=n.maxHeight&&n.maxHeight<f,m=n.minWidth&&n.minWidth>h,v=n.minHeight&&n.minHeight>f;n.grid=a,m&&(h+=l),v&&(f+=u),p&&(h-=l),g&&(f-=u),/^(se|s|e)$/.test(s)?(e.size.width=h,e.size.height=f):/^(ne)$/.test(s)?(e.size.width=h,e.size.height=f,e.position.top=r.top-d):/^(sw)$/.test(s)?(e.size.width=h,e.size.height=f,e.position.left=r.left-c):((f-u<=0||h-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<f-u?(e.size.height=f,e.position.top=r.top-d):(f=u-t.height,e.size.height=f,e.position.top=r.top+o.height-f),0<h-l?(e.size.width=h,e.position.left=r.left-c):(h=l-t.width,e.size.width=h,e.position.left=r.left+o.width-h))}}),b.ui.resizable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button","./draggable","./mouse","./position","./resizable"],t):t(jQuery)}(function(l){return l.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=l(this).css(t).offset().top;e<0&&l(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&l.fn.draggable&&this._makeDraggable(),this.options.resizable&&l.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?l(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:l.noop,enable:l.noop,close:function(t){var e,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(e=this.document[0].activeElement)&&"body"!==e.nodeName.toLowerCase()&&l(e).blur()}catch(i){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+l(this).css("z-index")}).get(),o=Math.max.apply(null,i);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!e&&this._trigger("focus",t),n},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=l(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(t){function e(){var t=this.document[0].activeElement;this.uiDialog[0]===t||l.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=l("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===l.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===l.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),n=e.filter(":first"),i=e.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=l("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){l(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=l("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=l("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=l("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=l("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var o=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),l.isEmptyObject(t)||l.isArray(t)&&!t.length?this.uiDialog.removeClass("ui-dialog-buttons"):(l.each(t,function(t,e){var n,i;e=l.isFunction(e)?{click:e,text:t}:e,e=l.extend({type:"button"},e),n=e.click,e.click=function(){n.apply(o.element[0],arguments)},i={icons:e.icons,text:e.showText},delete e.icons,delete e.showText,l("<button></button>",e).button(i).appendTo(o.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function o(t){return{position:t.position,offset:t.offset}}var r=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){l(this).addClass("ui-dialog-dragging"),r._blockFrames(),r._trigger("dragStart",t,o(e))},drag:function(t,e){r._trigger("drag",t,o(e))},stop:function(t,e){var n=e.offset.left-r.document.scrollLeft(),i=e.offset.top-r.document.scrollTop();s.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:r.window},l(this).removeClass("ui-dialog-dragging"),r._unblockFrames(),r._trigger("dragStop",t,o(e))}})},_makeResizable:function(){function r(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var s=this,a=this.options,t=a.resizable,e=this.uiDialog.css("position"),n="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:n,start:function(t,e){l(this).addClass("ui-dialog-resizing"),s._blockFrames(),s._trigger("resizeStart",t,r(e))},resize:function(t,e){s._trigger("resize",t,r(e))},stop:function(t,e){var n=s.uiDialog.offset(),i=n.left-s.document.scrollLeft(),o=n.top-s.document.scrollTop();a.height=s.uiDialog.height(),a.width=s.uiDialog.width(),a.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=o?"+":"")+o,of:s.window},l(this).removeClass("ui-dialog-resizing"),s._unblockFrames(),s._trigger("resizeStop",t,r(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=l(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=l.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,o={};l.each(t,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(o[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,e){var n,i,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&((n=o.is(":data(ui-draggable)"))&&!e&&o.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=o.is(":data(ui-resizable)"))&&!e&&o.resizable("destroy"),i&&"string"==typeof e&&o.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),
n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=l(this);return l("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!l(t.target).closest(".ui-dialog").length||!!l(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=l("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],t):t(jQuery)}(function(a){return a.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(t){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=t},this._addToManager(t.scope),t.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){a.ui.ddmanager.droppables[t]=a.ui.ddmanager.droppables[t]||[],a.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=a.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){if("accept"===t)this.accept=a.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var n=a.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=a.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=a.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var n=t||a.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=a(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&a.ui.intersect(n,a.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),a.ui.intersect=function(){function h(t,e,n){return e<=t&&t<e+n}return function(t,e,n,i){if(!e.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,a=r+t.helperProportions.height,l=e.offset.left,u=e.offset.top,c=l+e.proportions().width,d=u+e.proportions().height;switch(n){case"fit":return l<=o&&s<=c&&u<=r&&a<=d;case"intersect":return l<o+t.helperProportions.width/2&&s-t.helperProportions.width/2<c&&u<r+t.helperProportions.height/2&&a-t.helperProportions.height/2<d;case"pointer":return h(i.pageY,u,e.proportions().height)&&h(i.pageX,l,e.proportions().width);case"touch":return(u<=r&&r<=d||u<=a&&a<=d||r<u&&d<a)&&(l<=o&&o<=c||l<=s&&s<=c||o<l&&c<s);default:return!1}}}(),a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,e){var n,i,o=a.ui.ddmanager.droppables[t.options.scope]||[],r=e?e.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(i=0;i<s.length;i++)if(s[i]===o[n].element[0]){o[n].proportions().height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===r&&o[n]._activate.call(o[n],e),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(t,e){var n=!1;return a.each((a.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(t,this,this.options.tolerance,e)&&(n=this._drop.call(this,e)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),n},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||a.ui.ddmanager.prepareOffsets(t,e)})},drag:function(r,s){r.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(r,s),a.each(a.ui.ddmanager.droppables[r.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,n,i=a.ui.intersect(r,this,this.options.tolerance,s),o=!i&&this.isover?"isout":i&&!this.isover?"isover":null;o&&(this.options.greedy&&(e=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return a(this).droppable("instance").options.scope===e})).length&&((t=a(n[0]).droppable("instance")).greedyChild="isover"===o)),t&&"isover"===o&&(t.isover=!1,t.isout=!0,t._out.call(t,s)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,s),t&&"isout"===o&&(t.isout=!1,t.isover=!0,t._over.call(t,s)))}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||a.ui.ddmanager.prepareOffsets(t,e)}},a.ui.droppable}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(d){var n,a="ui-effects-",i=d;return d.effects={effect:{}},function(c,d){function h(t,e,n){var i=m[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:t<0?0:i.max<t?i.max:t)}function a(s){var a=p(),l=a._rgba=[];return s=s.toLowerCase(),b(e,function(t,e){var n,i=e.re.exec(s),o=i&&e.parse(i),r=e.space||"rgba";if(o)return n=a[r](o),a[g[r].cache]=n[g[r].cache],l=a._rgba=n._rgba,!1}),l.length?("0,0,0,0"===l.join()&&c.extend(l,u.transparent),a):u[s]}function l(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var u,t="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",f=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],p=c.Color=function(t,e,n,i){return new c.Color.fn.parse(t,e,n,i)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},v=p.support={},n=c("<p>")[0],b=c.each;n.style.cssText="background-color:rgba(1,1,1,.5)",v.rgba=-1<n.style.backgroundColor.indexOf("rgba"),b(g,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),p.fn=c.extend(p.prototype,{parse:function(o,t,e,n){if(o===d)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=c(o).css(t),t=d);var r=this,i=c.type(o),s=this._rgba=[];return t!==d&&(o=[o,t,e,n],i="array"),"string"===i?this.parse(a(o)||u._default):"array"===i?(b(g.rgba.props,function(t,e){s[e.idx]=h(o[e.idx],e)}),this):"object"===i?(b(g,o instanceof p?function(t,e){o[e.cache]&&(r[e.cache]=o[e.cache].slice())}:function(t,n){var i=n.cache;b(n.props,function(t,e){if(!r[i]&&n.to){if("alpha"===t||null==o[t])return;r[i]=n.to(r._rgba)}r[i][e.idx]=h(o[t],e,!0)}),r[i]&&c.inArray(null,r[i].slice(0,3))<0&&(r[i][3]=1,n.from&&(r._rgba=n.from(r[i])))}),this):void 0},is:function(t){var o=p(t),r=!0,s=this;return b(g,function(t,e){var n,i=o[e.cache];return i&&(n=s[e.cache]||e.to&&e.to(s._rgba)||[],b(e.props,function(t,e){if(null!=i[e.idx])return r=i[e.idx]===n[e.idx]})),r}),r},_space:function(){var n=[],i=this;return b(g,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function(t,s){var a=p(t),e=a._space(),n=g[e],i=0===this.alpha()?p("transparent"):this,l=i[n.cache]||n.to(i._rgba),u=l.slice();return a=a[n.cache],b(n.props,function(t,e){var n=e.idx,i=l[n],o=a[n],r=m[e.type]||{};null!==o&&(null===i?u[n]=o:(r.mod&&(o-i>r.mod/2?i+=r.mod:i-o>r.mod/2&&(i-=r.mod)),u[n]=h((o-i)*s+i,e)))}),this[e](u)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),n=e.pop(),i=p(t)._rgba;return p(c.map(e,function(t,e){return(1-n)*i[e]+n*t}))},toRgbaString:function(){var t="rgba(",e=c.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=c.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),n=e.pop();return t&&e.push(~~(255*n)),"#"+c.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,g.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,o=t[1]/255,r=t[2]/255,s=t[3],a=Math.max(i,o,r),l=Math.min(i,o,r),u=a-l,c=a+l,d=.5*c;return e=l===a?0:i===a?60*(o-r)/u+360:o===a?60*(r-i)/u+120:60*(i-o)/u+240,n=0===u?0:d<=.5?u/c:u/(2-c),[Math.round(e)%360,n,d,null==s?1:s]},g.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],r=i<=.5?i*(1+n):i+n-i*n,s=2*i-r;return[Math.round(255*l(s,r,e+1/3)),Math.round(255*l(s,r,e)),Math.round(255*l(s,r,e-1/3)),o]},b(g,function(l,t){var n=t.props,s=t.cache,a=t.to,u=t.from;p.fn[l]=function(t){if(a&&!this[s]&&(this[s]=a(this._rgba)),t===d)return this[s].slice();var e,i=c.type(t),o="array"===i||"object"===i?t:arguments,r=this[s].slice();return b(n,function(t,e){var n=o["object"===i?t:e.idx];null==n&&(n=r[e.idx]),r[e.idx]=h(n,e)}),u?((e=p(u(r)))[s]=r,e):p(r)},b(n,function(s,a){p.fn[s]||(p.fn[s]=function(t){var e,n=c.type(t),i="alpha"===s?this._hsla?"hsla":"rgba":l,o=this[i](),r=o[a.idx];return"undefined"===n?r:("function"===n&&(t=t.call(this,r),n=c.type(t)),null==t&&a.empty?this:("string"===n&&(e=f.exec(t))&&(t=r+parseFloat(e[2])*("+"===e[1]?1:-1)),o[a.idx]=t,this[i](o)))})})}),p.hook=function(t){var e=t.split(" ");b(e,function(t,s){c.cssHooks[s]={set:function(t,e){var n,i,o="";if("transparent"!==e&&("string"!==c.type(e)||(n=a(e)))){if(e=p(n||e),!v.rgba&&1!==e._rgba[3]){for(i="backgroundColor"===s?t.parentNode:t;(""===o||"transparent"===o)&&i&&i.style;)try{o=c.css(i,"backgroundColor"),i=i.parentNode}catch(r){}e=e.blend(o&&"transparent"!==o?o:"_default")}e=e.toRgbaString()}try{t.style[s]=e}catch(r){}}},c.fx.step[s]=function(t){t.colorInit||(t.start=p(t.elem,s),t.end=p(t.end),t.colorInit=!0),c.cssHooks[s].set(t.elem,t.start.transition(t.end,t.pos))}})},p.hook(t),c.cssHooks.borderColor={expand:function(n){var i={};return b(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},u=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function s(t){var e,n,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[e=i[n]]&&(o[d.camelCase(e)]=i[e]);else for(e in i)"string"==typeof i[e]&&(o[e]=i[e]);return o}function a(t,e){var n,i,o={};for(n in e)i=e[n],t[n]!==i&&(c[n]||!d.fx.step[n]&&isNaN(parseFloat(i))||(o[n]=i));return o}var r,o,l,u=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){d.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(i.style(t.elem,e,t.end),t.setAttr=!0)}}),d.fn.addBack||(d.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),d.effects.animateClass=function(o,t,e,n){var r=d.speed(t,e,n);return this.queue(function(){var t,n=d(this),e=n.attr("class")||"",i=r.children?n.find("*").addBack():n;i=i.map(function(){return{el:d(this),start:s(this)}}),(t=function(){d.each(u,function(t,e){o[e]&&n[e+"Class"](o[e])})})(),i=i.map(function(){return this.end=s(this.el[0]),this.diff=a(this.start,this.end),this}),n.attr("class",e),i=i.map(function(){var t=this,e=d.Deferred(),n=d.extend({},r,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,n),e.promise()}),d.when.apply(d,i.get()).done(function(){t(),d.each(arguments,function(){var e=this.el;d.each(this.diff,function(t){e.css(t,"")})}),r.complete.call(n[0])})})},d.fn.extend({addClass:(l=d.fn.addClass,function(t,e,n,i){return e?d.effects.animateClass.call(this,{add:t},e,n,i):l.apply(this,arguments)}),removeClass:(o=d.fn.removeClass,function(t,e,n,i){return 1<arguments.length?d.effects.animateClass.call(this,{remove:t},e,n,i):o.apply(this,arguments)}),toggleClass:(r=d.fn.toggleClass,function(t,e,n,i,o){return"boolean"==typeof e||e===undefined?n?d.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,o):r.apply(this,arguments):d.effects.animateClass.call(this,{toggle:t},e,n,i)}),switchClass:function(t,e,n,i,o){return d.effects.animateClass.call(this,{add:e,remove:t},n,i,o)}})}(),function(){function i(t,e,n,i){return d.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),d.isFunction(e)&&(i=e,n=null,e={}),("number"==typeof e||d.fx.speeds[e])&&(i=n,n=e,e={}),d.isFunction(n)&&(i=n,n=null),e&&d.extend(t,e),n=n||e.duration,t.duration=d.fx.off?0:"number"==typeof n?n:n in d.fx.speeds?d.fx.speeds[n]:d.fx.speeds._default,t.complete=i||e.complete,t}function n(t){return!(t&&"number"!=typeof t&&!d.fx.speeds[t])||("string"==typeof t&&!d.effects.effect[t]||(!!d.isFunction(t)||"object"==typeof t&&!t.effect))}var o,r,s;d.extend(d.effects,{version:"1.11.4",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(a+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&((n=t.data(a+e[i]))===undefined&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),"float":n.css("float")},t=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:n.width(),height:n.height()},o=document.activeElement;try{o.id}catch(r){o=document.body}return n.wrap(t),(n[0]===o||d.contains(n[0],o))&&d(o).focus(),t=n.parent(),"static"===n.css("position")?(t.css({position:"relative"}),n.css({position:"relative"})):(d.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),d.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(e),t.css(i).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||d.contains(t[0],e))&&d(e).focus()),t},setTransition:function(i,t,o,r){return r=r||{},d.each(t,function(t,e){var n=i.cssUnit(e);0<n[0]&&(r[e]=n[0]*o+n[1])}),r}}),d.fn.extend({effect:function(){function t(t){function e(){d.isFunction(i)&&i.call(n[0]),d.isFunction(t)&&t()}var n=d(this),i=r.complete,o=r.mode;(n.is(":hidden")?"hide"===o:"show"===o)?(n[o](),e()):s.call(n[0],r,e)}var r=i.apply(this,arguments),e=r.mode,n=r.queue,s=d.effects.effect[r.effect];return d.fx.off||!s?e?this[e](r.duration,r.complete):this.each(function(){r.complete&&r.complete.call(this)}):!1===n?this.each(t):this.queue(n||"fx",t)},show:(s=d.fn.show,function(t){if(n(t))return s.apply(this,arguments);var e=i.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(r=d.fn.hide,function(t){if(n(t))return r.apply(this,arguments);var e=i.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(o=d.fn.toggle,function(t){if(n(t)||"boolean"==typeof t)return o.apply(this,arguments);var e=i.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var n=this.css(t),i=[];return d.each(["em","px","%","pt"],function(t,e){0<n.indexOf(e)&&(i=[parseFloat(n),e])}),i}})}(),n={},d.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){n[t]=function(t){return Math.pow(t,e+2)}}),d.extend(n,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),d.each(n,function(t,e){d.easing["easeIn"+t]=e,d.easing["easeOut"+t]=function(t){return 1-e(1-t)},d.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}}),d.effects}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(v){return v.effects.effect.blind=function(t,e){var n,i,o,r=v(this),s=/up|down|vertical/,a=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=v.effects.setMode(r,t.mode||"hide"),c=t.direction||"up",d=s.test(c),h=d?"height":"width",f=d?"top":"left",p=a.test(c),g={},m="show"===u;r.parent().is(".ui-effects-wrapper")?v.effects.save(r.parent(),l):v.effects.save(r,l),r.show(),i=(n=v.effects.createWrapper(r).css({overflow:"hidden"}))[h](),o=parseFloat(n.css(f))||0,g[h]=m?i:0,p||(r.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=m?o:i+o),m&&(n.css(h,0),p||n.css(f,o+i)),n.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&r.hide(),v.effects.restore(r,l),v.effects.removeWrapper(r),e()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(w){return w.effects.effect.bounce=function(t,e){var n,i,o,r=w(this),s=["position","top","bottom","left","right","height","width"],a=w.effects.setMode(r,t.mode||"effect"),l="hide"===a,u="show"===a,c=t.direction||"up",d=t.distance,h=t.times||5,f=2*h+(u||l?1:0),p=t.duration/f,g=t.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,b=r.queue(),y=b.length;for((u||l)&&s.push("opacity"),w.effects.save(r,s),r.show(),w.effects.createWrapper(r),d||(d=r["top"===m?"outerHeight":"outerWidth"]()/3),u&&((o={opacity:1})[m]=0,r.css("opacity",0).css(m,v?2*-d:2*d).animate(o,p,g)),l&&(d/=Math.pow(2,h-1)),n=(o={})[m]=0;n<h;n++)(i={})[m]=(v?"-=":"+=")+d,r.animate(i,p,g).animate(o,p,g),d=l?2*d:d/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+d,r.animate(i,p,g)),r.queue(function(){l&&r.hide(),w.effects.restore(r,s),w.effects.removeWrapper(r),e()}),1<y&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),r.dequeue()}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(h){return h.effects.effect.clip=function(t,e){var n,i,o,r=h(this),s=["position","top","bottom","left","right","height","width"],a="show"===h.effects.setMode(r,t.mode||"hide"),l="vertical"===(t.direction||"vertical"),u=l?"height":"width",c=l?"top":"left",d={};h.effects.save(r,s),r.show(),n=h.effects.createWrapper(r).css({overflow:"hidden"}),o=(i="IMG"===r[0].tagName?n:r)[u](),a&&(i.css(u,0),i.css(c,o/2)),d[u]=a?o:0,d[c]=a?0:o/2,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){a||r.hide(),h.effects.restore(r,s),h.effects.removeWrapper(r),e()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(d){return d.effects.effect.drop=function(t,e){var n,i=d(this),o=["position","top","bottom","left","right","opacity","height","width"],r=d.effects.setMode(i,t.mode||"hide"),s="show"===r,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a?"pos":"neg",c={opacity:s?1:0};d.effects.save(i,o),i.show(),d.effects.createWrapper(i),n=t.distance||i["top"===l?"outerHeight":"outerWidth"](!0)/2,s&&i.css("opacity",0).css(l,"pos"===u?-n:n),c[l]=(s?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),d.effects.restore(i,o),d.effects.removeWrapper(i),e()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(b){return b.effects.effect.explode=function(t,e){function n(){v.push(this),v.length===c*d&&i()}function i(){h.css({visibility:"visible"}),b(v).remove(),f||h.hide(),e()}var o,r,s,a,l,u,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=c,h=b(this),f="show"===b.effects.setMode(h,t.mode||"hide"),p=h.show().css("visibility","hidden").offset(),g=Math.ceil(h.outerWidth()/d),m=Math.ceil(h.outerHeight()/c),v=[];for(o=0;o<c;o++)for(a=p.top+o*m,u=o-(c-1)/2,r=0;r<d;r++)s=p.left+r*g,l=r-(d-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*g,top:-o*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:s+(f?l*g:0),top:a+(f?u*m:0),opacity:f?0:1}).animate({left:s+(f?0:l*g),top:a+(f?0:u*m),opacity:f?1:0},t.duration||500,t.easing,n)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(o){return o.effects.effect.fade=function(t,e){var n=o(this),i=o.effects.setMode(n,t.mode||"toggle");n.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(v){return v.effects.effect.fold=function(t,e){var n,i,o=v(this),r=["position","top","bottom","left","right","height","width"],s=v.effects.setMode(o,t.mode||"hide"),a="show"===s,l="hide"===s,u=t.size||15,c=/([0-9]+)%/.exec(u),d=!!t.horizFirst,h=a!==d,f=h?["width","height"]:["height","width"],p=t.duration/2,g={},m={};v.effects.save(o,r),o.show(),n=v.effects.createWrapper(o).css({overflow:"hidden"}),i=h?[n.width(),n.height()]:[n.height(),n.width()],c&&(u=parseInt(c[1],10)/100*i[l?0:1]),a&&n.css(d?{height:0,width:u}:{height:u,width:0}),g[f[0]]=a?i[0]:u,m[f[1]]=a?i[1]:0,n.animate(g,p,t.easing).animate(m,p,t.easing,function(){l&&o.hide(),v.effects.restore(o,r),v.effects.removeWrapper(o),e()})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(s){return s.effects.effect.highlight=function(t,e){var n=s(this),i=["backgroundImage","backgroundColor","opacity"],o=s.effects.setMode(n,t.mode||"show"),r={backgroundColor:n.css("backgroundColor")};"hide"===o&&(r.opacity=0),s.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),s.effects.restore(n,i),e()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(y){return y.effects.effect.size=function(n,t){var e,i,o,r=y(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=y.effects.setMode(r,n.mode||"effect"),f=n.restore||"effect"!==h,p=n.scale||"both",g=n.origin||["middle","center"],m=r.css("position"),v=f?s:a,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&r.show(),e={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===n.mode&&"show"===h?(r.from=n.to||b,r.to=n.from||e):(r.from=n.from||("show"===h?b:e),r.to=n.to||("hide"===h?b:e)),o={from:{y:r.from.height/e.height,x:r.from.width/e.width},to:{y:r.to.height/e.height,x:r.to.width/e.width}},"box"!==p&&"both"!==p||(o.from.y!==o.to.y&&(v=v.concat(c),r.from=y.effects.setTransition(r,c,o.from.y,r.from),r.to=y.effects.setTransition(r,c,o.to.y,r.to)),o.from.x!==o.to.x&&(v=v.concat(d),r.from=y.effects.setTransition(r,d,o.from.x,r.from),r.to=y.effects.setTransition(r,d,o.to.x,r.to))),"content"!==p&&"both"!==p||o.from.y!==o.to.y&&(v=v.concat(u).concat(l),r.from=y.effects.setTransition(r,u,o.from.y,r.from),r.to=y.effects.setTransition(r,u,o.to.y,r.to)),y.effects.save(r,v),r.show(),y.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(i=y.effects.getBaseline(g,e),r.from.top=(e.outerHeight-r.outerHeight())*i.y,r.from.left=(e.outerWidth-r.outerWidth())*i.x,r.to.top=(e.outerHeight-r.to.outerHeight)*i.y,r.to.left=(e.outerWidth-r.to.outerWidth)*i.x),r.css(r.from),"content"!==p&&"both"!==p||(c=c.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),l=s.concat(c).concat(d),r.find("*[width]").each(function(){var t=y(this),e={height:t.height(),width:t.width(),outerHeight:t.outerHeight(),outerWidth:t.outerWidth()};f&&y.effects.save(t,l),t.from={height:e.height*o.from.y,width:e.width*o.from.x,outerHeight:e.outerHeight*o.from.y,outerWidth:e.outerWidth*o.from.x},t.to={height:e.height*o.to.y,width:e.width*o.to.x,outerHeight:e.height*o.to.y,outerWidth:e.width*o.to.x},o.from.y!==o.to.y&&(t.from=y.effects.setTransition(t,c,o.from.y,t.from),t.to=y.effects.setTransition(t,c,o.to.y,t.to)),o.from.x!==o.to.x&&(t.from=y.effects.setTransition(t,d,o.from.x,t.from),t.to=y.effects.setTransition(t,d,o.to.x,t.to)),t.css(t.from),t.animate(t.to,n.duration,n.easing,function(){f&&y.effects.restore(t,l)})})),r.animate(r.to,{queue:!1,duration:n.duration,easing:n.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===h&&r.hide(),y.effects.restore(r,v),f||("static"===m?r.css({position:"relative",top:r.to.top,left:r.to.left}):y.each(["top","left"],function(o,t){r.css(t,function(t,e){var n=parseInt(e,10),i=o?r.to.left:r.to.top;return"auto"===e?i+"px":n+i+"px"})})),y.effects.removeWrapper(r),t()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],t):t(jQuery)}(function(c){return c.effects.effect.scale=function(t,e){var n=c(this),i=c.extend(!0,{},t),o=c.effects.setMode(n,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),s=t.direction||"both",a=t.origin,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==s?r/100:1,x:"vertical"!==s?r/100:1};i.effect="size",i.queue=!1,i.complete=e,"effect"!==o&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),i.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},i.fade&&("show"===o&&(i.from.opacity=0,i.to.opacity=1),"hide"===o&&(i.from.opacity=1,i.to.opacity=0)),n.effect(i)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],t):t(jQuery)}(function(l){return l.effects.effect.puff=function(t,e){var n=l(this),i=l.effects.setMode(n,t.mode||"hide"),o="hide"===i,r=parseInt(t.percent,10)||150,s=r/100,a={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};l.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:e,percent:o?r:100,from:o?a:{height:a.height*s,width:a.width*s,outerHeight:a.outerHeight*s,outerWidth:a.outerWidth*s}}),n.effect(t)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(f){return f.effects.effect.pulsate=function(t,e){var n,i=f(this),o=f.effects.setMode(i,t.mode||"show"),r="show"===o,s="hide"===o,a=r||"hide"===o,l=2*(t.times||5)+(a?1:0),u=t.duration/l,c=0,d=i.queue(),h=d.length;for(!r&&i.is(":visible")||(i.css("opacity",0).show(),c=1),n=1;n<l;n++)i.animate({opacity:c},u,t.easing),c=1-c;i.animate({opacity:c},u,t.easing),i.queue(function(){s&&i.hide(),e()}),1<h&&d.splice.apply(d,[1,0].concat(d.splice(h,l+1))),i.dequeue()}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(b){return b.effects.effect.shake=function(t,e){var n,i=b(this),o=["position","top","bottom","left","right","height","width"],r=b.effects.setMode(i,t.mode||"effect"),s=t.direction||"left",a=t.distance||20,l=t.times||3,u=2*l+1,c=Math.round(t.duration/u),d="up"===s||"down"===s?"top":"left",h="up"===s||"left"===s,f={},p={},g={},m=i.queue(),v=m.length;for(b.effects.save(i,o),i.show(),b.effects.createWrapper(i),f[d]=(h?"-=":"+=")+a,p[d]=(h?"+=":"-=")+2*a,g[d]=(h?"-=":"+=")+2*a,i.animate(f,c,t.easing),n=1;n<l;n++)i.animate(p,c,t.easing).animate(g,c,t.easing);i.animate(p,c,t.easing).animate(f,c/2,t.easing).queue(function(){"hide"===r&&i.hide(),b.effects.restore(i,o),b.effects.removeWrapper(i),e()}),1<v&&m.splice.apply(m,[1,0].concat(m.splice(v,u+1))),i.dequeue()}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(d){return d.effects.effect.slide=function(t,e){var n,i=d(this),o=["position","top","bottom","left","right","width","height"],r=d.effects.setMode(i,t.mode||"show"),s="show"===r,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a,c={};d.effects.save(i,o),i.show(),n=t.distance||i["top"===l?"outerHeight":"outerWidth"](
!0),d.effects.createWrapper(i).css({overflow:"hidden"}),s&&i.css(l,u?isNaN(n)?"-"+n:-n:n),c[l]=(s?u?"+=":"-=":u?"-=":"+=")+n,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),d.effects.restore(i,o),d.effects.removeWrapper(i),e()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(h){return h.effects.effect.transfer=function(t,e){var n=h(this),i=h(t.to),o="fixed"===i.css("position"),r=h("body"),s=o?r.scrollTop():0,a=o?r.scrollLeft():0,l=i.offset(),u={top:l.top-s,left:l.left-a,height:i.innerHeight(),width:i.innerWidth()},c=n.offset(),d=h("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:c.top-s,left:c.left-a,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){d.remove(),e()})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(n){return n.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(t===undefined)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return t===undefined&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(u){return u.widget("ui.selectable",u.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,e=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=u(e.options.filter,e.element[0])).addClass("ui-selectee"),t.each(function(){var t=u(this),e=t.offset();u.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=u("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(n){var i=this,t=this.options;this.opos=[n.pageX,n.pageY],this.options.disabled||(this.selectees=u(t.filter,this.element[0]),this._trigger("start",n),u(t.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=u.data(this,"selectable-item");t.startselected=!0,n.metaKey||n.ctrlKey||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))}),u(n.target).parents().addBack().each(function(){var t,e=u.data(this,"selectable-item");if(e)return t=!n.metaKey&&!n.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(t?"ui-unselecting":"ui-selected").addClass(t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?i._trigger("selecting",n,{selecting:e.element}):i._trigger("unselecting",n,{unselecting:e.element}),!1}))},_mouseDrag:function(n){if(this.dragged=!0,!this.options.disabled){var t,i=this,o=this.options,r=this.opos[0],s=this.opos[1],a=n.pageX,l=n.pageY;return a<r&&(t=a,a=r,r=t),l<s&&(t=l,l=s,s=t),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each(function(){var t=u.data(this,"selectable-item"),e=!1;t&&t.element!==i.element[0]&&("touch"===o.tolerance?e=!(t.left>a||t.right<r||t.top>l||t.bottom<s):"fit"===o.tolerance&&(e=t.left>r&&t.right<a&&t.top>s&&t.bottom<l),e?(t.selected&&(t.$element.removeClass("ui-selected"),t.selected=!1),t.unselecting&&(t.$element.removeClass("ui-unselecting"),t.unselecting=!1),t.selecting||(t.$element.addClass("ui-selecting"),t.selecting=!0,i._trigger("selecting",n,{selecting:t.element}))):(t.selecting&&((n.metaKey||n.ctrlKey)&&t.startselected?(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.$element.addClass("ui-selected"),t.selected=!0):(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.startselected&&(t.$element.addClass("ui-unselecting"),t.unselecting=!0),i._trigger("unselecting",n,{unselecting:t.element}))),t.selected&&(n.metaKey||n.ctrlKey||t.startselected||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,u(".ui-unselecting",this.element[0]).each(function(){var t=u.data(this,"selectable-item");t.$element.removeClass("ui-unselecting"),t.unselecting=!1,t.startselected=!1,n._trigger("unselected",e,{unselected:t.element})}),u(".ui-selecting",this.element[0]).each(function(){var t=u.data(this,"selectable-item");t.$element.removeClass("ui-selecting").addClass("ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,n._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],t):t(jQuery)}(function(r){return r.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=r("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=r("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),r("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=r("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var i=this;this.menu=r("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=r("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,e){t.preventDefault(),i._setSelection(),i._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){var n=e.item.data("ui-selectmenu-item");null!=i.focusIndex&&n.index!==i.focusIndex&&(i._trigger("focus",t,{item:n}),i.isOpen||i._select(n,t)),i.focusIndex=n.index,i.button.attr("aria-activedescendant",i.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(r.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(n,t){var i=this,o="";r.each(t,function(t,e){e.optgroup!==o&&(r("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:e.optgroup}).appendTo(n),o=e.optgroup),i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var n=r("<li>");return e.disabled&&n.addClass("ui-state-disabled"),this._setText(n,e.label),n.appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,o=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),o+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](o).eq(-1):n[t+"All"](o).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(r(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case r.ui.keyCode.TAB:case r.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case r.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case r.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case r.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case r.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case r.ui.keyCode.LEFT:this._move("prev",t);break;case r.ui.keyCode.RIGHT:this._move("next",t);break;case r.ui.keyCode.HOME:case r.ui.keyCode.PAGE_UP:this._move("first",t);break;case r.ui.keyCode.END:case r.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?r(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var o=[];t.each(function(t,e){var n=r(e),i=n.parent("optgroup");o.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||n.prop("disabled")})}),this.items=o},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(c){return c.widget("ui.slider",c.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e,n=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",r=[];for(e=n.values&&n.values.length||1,i.length>e&&(i.slice(e).remove(),i=i.slice(0,e)),t=i.length;t<e;t++)r.push(o);this.handles=i.add(c(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){c(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,e="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:c.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=c("<div></div>").appendTo(this.element),e="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(e+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var e,n,i,o,r,s,a,l=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(n-l.values(t));(e<i||i===e&&(t===l._lastChangedValue||l.values(t)===u.min))&&(i=e,o=c(this),r=t)}),!1!==this._start(t,r)&&(this._mouseSliding=!0,this._handleIndex=r,o.addClass("ui-state-active").focus(),s=o.offset(),a=!c(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-s.left-o.width()/2,top:t.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,o,r;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),1<(i=n/e)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),o=this._valueMax()-this._valueMin(),r=this._valueMin()+i*o,this._trimAlignValue(r)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,o,r;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i<n||1===e&&n<i)&&(n=i),n!==this.values(e)&&((o=this.values())[e]=n,r=this._trigger("slide",t,{handle:this.handles[e],value:n,values:o}),i=this.values(e?0:1),!1!==r&&this.values(e,n))):n!==this.value()&&!1!==(r=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var n,i,o;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!c.isArray(t))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,i=t,o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,e){var n,i=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),c.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e),this._super(t,e),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<i;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=0<n?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;t=Math.floor(+(t-e).toFixed(this._precision())/n)*n+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,n,t,i,o,r=this.options.range,s=this.options,a=this,l=!this._animateOff&&s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(t){n=(a.values(t)-a._valueMin())/(a._valueMax()-a._valueMin())*100,u["horizontal"===a.orientation?"left":"bottom"]=n+"%",c(this).stop(1,1)[l?"animate":"css"](u,s.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===t&&a.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===t&&a.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===t&&a.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===t&&a.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(t=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(t-i)/(o-i)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](u,s.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===r&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===r&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var e,n,i,o=c(t.target).data("ui-slider-handle-index");switch(t.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,c(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(i=this.options.step,e=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case c.ui.keyCode.HOME:n=this._valueMin();break;case c.ui.keyCode.END:n=this._valueMax();break;case c.ui.keyCode.PAGE_UP:n=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case c.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(e===this._valueMax())return;n=this._trimAlignValue(e+i);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(e===this._valueMin())return;n=this._trimAlignValue(e-i)}this._slide(t,o,n)},keyup:function(t){var e=c(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),c(t.target).removeClass("ui-state-active"))}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(f){return f.widget("ui.sortable",f.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return e<=t&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),f.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var n=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),f(t.target).parents().each(function(){if(f.data(this,o.widgetName+"-item")===o)return n=f(this),!1}),f.data(t.target,o.widgetName+"-item")===o&&(n=f(t.target)),!!n&&(!(this.options.handle&&!e&&(f(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,n){var i,o,r=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},f.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=f("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return f.ui.ddmanager&&(f.ui.ddmanager.current=this),f.ui.ddmanager&&!r.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,n,i,o,r=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==s&&f.ui.ddmanager&&!r.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(i=(n=this.items[e]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||f.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&f.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),f.ui.ddmanager&&f.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,t),this.options.revert){var n=this,
i=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,f(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),f.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},f(t).each(function(){var t=(f(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(f(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||a<i+u&&i+u<l,h="y"===this.options.axis||r<e+c&&e+c<s,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:r<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!i&&(this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){s.push(this)}var n,i,o,r,s=[],a=[],l=this._connectWith();if(l&&t)for(n=l.length-1;0<=n;n--)for(i=(o=f(l[n],this.document[0])).length-1;0<=i;i--)(r=f.data(o[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([f.isFunction(r.options.items)?r.options.items.call(r.element):f(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(a.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;0<=n;n--)a[n][0].each(e);return f(s)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=f.grep(this.items,function(t){for(var e=0;e<n.length;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,n,i,o,r,s,a,l,u=this.items,c=[[f.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):f(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(e=d.length-1;0<=e;e--)for(n=(i=f(d[e],this.document[0])).length-1;0<=n;n--)(o=f.data(i[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(c.push([f.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):f(o.options.items,o.element),o]),this.containers.push(o));for(e=c.length-1;0<=e;e--)for(r=c[e][1],n=0,l=(s=c[e][0]).length;n<l;n++)(a=f(s[n])).data(this.widgetName+"-item",r),u.push({item:a,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,n,i,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(n=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?f(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),o=i.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)o=this.containers[e].element.offset(),this.containers[e].containerCache.left=o.left,this.containers[e].containerCache.top=o.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(n){var i,o=(n=n||this).options;o.placeholder&&o.placeholder.constructor!==String||(i=o.placeholder,o.placeholder={element:function(){var t=n.currentItem[0].nodeName.toLowerCase(),e=f("<"+t+">",n.document[0]).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===t?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),f("<tr>",n.document[0]).appendTo(e)):"tr"===t?n._createTrPlaceholder(n.currentItem,e):"img"===t&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(t,e){i&&!o.forcePlaceholderSize||(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=f(o.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),o.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(t,e){var n=this;t.children().each(function(){f("<td>&#160;</td>",n.document[0]).attr("colspan",f(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,n,i,o,r,s,a,l,u,c,d=null,h=null;for(e=this.containers.length-1;0<=e;e--)if(!f.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(d&&f.contains(this.containers[e].element[0],d.element[0]))continue;d=this.containers[e],h=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(i=1e4,o=null,r=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",c=u?"clientX":"clientY",n=this.items.length-1;0<=n;n--)f.contains(this.containers[h].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(a=this.items[n].item.offset()[r],l=!1,t[c]-a>this.items[n][s]/2&&(l=!0),Math.abs(t[c]-a)<i&&(i=Math.abs(t[c]-a),o=this.items[n],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||f("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!e.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!e.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),f.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&f.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=f(i.containment)[0],e=f(i.containment).offset(),n="hidden"!==f(t).css("overflow"),this.containment=[e.left+(parseInt(f(t).css("borderLeftWidth"),10)||0)+(parseInt(f(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(f(t).css("borderTopWidth"),10)||0)+(parseInt(f(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(f(t).css("borderLeftWidth"),10)||0)-(parseInt(f(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(f(t).css("borderTopWidth"),10)||0)-(parseInt(f(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*n}},_generatePosition:function(t){var e,n,i=this.options,o=t.pageX,r=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid&&(e=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1],r=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-i.grid[1]:e+i.grid[1]:e,n=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<o.length;i++)o[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===f.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||f([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button"],t):t(jQuery)}(function(r){function e(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}return r.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i={},o=this.element;return r.each(["min","max","step"],function(t,e){var n=o.attr(e);n!==undefined&&n.length&&(i[e]=n)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){function e(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),e.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,e.call(this)}),!1!==this._start(t)&&this._repeat(null,r(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(r(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,r(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&0<t.height()&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(t){var e=this.options,n=r.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,e.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?r.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:e(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(u){return u.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(o=/#.*$/,function(t){var e,n;e=(t=t.cloneNode(!1)).href.replace(o,""),n=location.href.replace(o,"");try{e=decodeURIComponent(e)}catch(i){}try{n=decodeURIComponent(n)}catch(i){}return 1<t.hash.length&&e===n}),_create:function(){var e=this,t=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible),this._processTabs(),t.active=this._initialActive(),u.isArray(t.disabled)&&(t.disabled=u.unique(t.disabled.concat(u.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=u(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var n=this.options.active,t=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(t,e){if(u(e).attr("aria-controls")===i)return n=t,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!t&&0),!t&&!1===n&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):u()}},_tabKeydown:function(t){var e=u(this.document[0].activeElement).closest("li"),n=this.tabs.index(e),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case u.ui.keyCode.RIGHT:case u.ui.keyCode.DOWN:n++;break;case u.ui.keyCode.UP:case u.ui.keyCode.LEFT:i=!1,n--;break;case u.ui.keyCode.END:n=this.anchors.length-1;break;case u.ui.keyCode.HOME:n=0;break;case u.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case u.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===u.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===u.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===u.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){function n(){return i<t&&(t=0),t<0&&(t=i),t}for(var i=this.tabs.length-1;-1!==u.inArray(n(),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=u.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!u.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=u()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=u()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,t=this.tabs,e=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){u(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){u(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return u("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=u(),this.anchors.each(function(t,e){var n,i,o,r=u(e).uniqueId().attr("id"),s=u(e).closest("li"),a=s.attr("aria-controls");l._isLocal(e)?(o=(n=e.hash).substring(1),i=l.element.find(l._sanitizeSelector(n))):(n="#"+(o=s.attr("aria-controls")||u({}).uniqueId()[0].id),(i=l.element.find(n)).length||(i=l._createPanel(o)).insertAfter(l.panels[t-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),a&&s.data("ui-tabs-aria-controls",a),s.attr({"aria-controls":o,"aria-labelledby":r}),i.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return u("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){u.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var e,n=0;e=this.tabs[n];n++)!0===t||-1!==u.inArray(n,t)?u(e).addClass("ui-state-disabled").attr("aria-disabled","true"):u(e).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&u.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,e=this.element.parent();"fill"===t?(n=e.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=u(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=u(this).outerHeight(!0)}),this.panels.each(function(){u(this).height(Math.max(0,n-u(this).innerHeight()+u(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,u(this).height("").height())}).height(n))},_eventHandler:function(t){var e=this.options,n=this.active,i=u(t.currentTarget).closest("li"),o=i[0]===n[0],r=o&&e.collapsible,s=r?u():this._getPanelForTab(i),a=n.length?this._getPanelForTab(n):u(),l={oldTab:n,oldPanel:a,newTab:r?u():i,newPanel:s};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading"
)||this.running||o&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!r&&this.tabs.index(i),this.active=o?u():i,this.xhr&&this.xhr.abort(),a.length||s.length||u.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),t),this._toggle(t,l))},_toggle:function(t,e){function n(){o.running=!1,o._trigger("activate",t,e)}function i(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&o.options.show?o._show(r,o.options.show,n):(r.show(),n())}var o=this,r=e.newPanel,s=e.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),i()),s.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&s.length?e.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===u(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var e,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),e=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:u.noop}))},_findActive:function(t){return!1===t?u():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){u.data(this,"ui-tabs-destroy")?u(this).remove():u(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=u(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var t=this.options.disabled;!1!==t&&(n===undefined?t=!1:(n=this._getIndex(n),t=u.isArray(t)?u.map(t,function(t){return t!==n?t:null}):u.map(this.tabs,function(t,e){return e!==n?e:null})),this._setupDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(t===undefined)e=!0;else{if(t=this._getIndex(t),-1!==u.inArray(t,e))return;e=u.isArray(e)?u.merge([t],e).sort():[t]}this._setupDisabled(e)}},load:function(t,i){t=this._getIndex(t);var o=this,n=this.tabs.eq(t),e=n.find(".ui-tabs-anchor"),r=this._getPanelForTab(n),s={tab:n,panel:r},a=function(t,e){"abort"===e&&o.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===o.xhr&&delete o.xhr};this._isLocal(e[0])||(this.xhr=u.ajax(this._ajaxSettings(e,i,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){r.html(t),o._trigger("load",i,s),a(n,e)},1)}).fail(function(t,e){setTimeout(function(){a(t,e)},1)})))},_ajaxSettings:function(t,n,i){var o=this;return{url:t.attr("href"),beforeSend:function(t,e){return o._trigger("beforeLoad",n,u.extend({jqXHR:t,ajaxSettings:e},i))}}},_getPanelForTab:function(t){var e=u(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}});var o}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],t):t(jQuery)}(function(u){return u.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=u(this).attr("title")||"";return u("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",u.trim(n.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),i=u.inArray(e,n);-1!==i&&n.splice(i,1),t.removeData("ui-tooltip-id"),(n=u.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=u("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,e){var n=this;if("disabled"===t)return this[e?"_disable":"_enable"](),void(this.options[t]=e);this._super(t,e),"content"===t&&u.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_disable:function(){var i=this;u.each(this.tooltips,function(t,e){var n=u.Event("blur");n.target=n.currentTarget=e.element[0],i.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=u(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=u(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,e=u(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=u(this);e.data("ui-tooltip-open")&&((t=u.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),e.attr("title")&&(e.uniqueId(),n.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,n){var t,i=this.options.content,o=this,r=n?n.type:null;if("string"==typeof i)return this._open(n,e,i);(t=i.call(e[0],function(t){o._delay(function(){e.data("ui-tooltip-open")&&(n&&(n.type=r),this._open(n,e,t))})}))&&this._open(n,e,t)},_open:function(t,e,n){function i(t){l.of=t,r.is(":hidden")||r.position(l)}var o,r,s,a,l=u.extend({},this.options.position);n&&((o=this._find(e))?o.tooltip.find(".ui-tooltip-content").html(n):(e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),o=this._tooltip(e),r=o.tooltip,this._addDescribedBy(e,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(a=n.clone()).removeAttr("id").find("[id]").removeAttr("id"):a=n,u("<div>").html(a).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):r.position(u.extend({of:e},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){r.is(":visible")&&(i(l.of),clearInterval(s))},u.fx.interval)),this._trigger("open",t,{tooltip:r})))},_registerCloseHandlers:function(t,n){var e={keyup:function(t){if(t.keyCode===u.ui.keyCode.ESCAPE){var e=u.Event(t);e.currentTarget=n[0],this.close(e,!0)}}};n[0]!==this.element[0]&&(e.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(e.mouseleave="close"),t&&"focusin"!==t.type||(e.focusout="close"),this._on(!0,n,e)},close:function(t){var e,n=this,i=u(t?t.currentTarget:this.element),o=this._find(i);o?(e=o.tooltip,o.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),o.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){n._removeTooltip(u(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&u.each(this.parents,function(t,e){u(e.element).attr("title",e.title),delete n.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:e}),o.hiding||(o.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(t){var e=u("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=e.uniqueId().attr("id");return u("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),this.tooltips[n]={element:t,tooltip:e}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var o=this;u.each(this.tooltips,function(t,e){var n=u.Event("blur"),i=e.element;n.target=n.currentTarget=i[0],o.close(n,!0),u("#"+t).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(d,h){var f;d.rails!==h&&d.error("jquery-ujs has already been loaded!"),d.rails=f={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var e=d('meta[name="csrf-token"]').attr("content");e&&t.setRequestHeader("X-CSRF-Token",e)},fire:function(t,e,n){var i=d.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return d.ajax(t)},href:function(t){return t.attr("href")},handleRemote:function(i){var t,e,n,o,r,s,a,l;if(f.fire(i,"ajax:before")){if(r=(o=i.data("cross-domain"))===h?null:o,s=i.data("with-credentials")||null,a=i.data("type")||d.ajaxSettings&&d.ajaxSettings.dataType,i.is("form")){t=i.attr("method"),e=i.attr("action"),n=i.serializeArray();var u=i.data("ujs:submit-button");u&&(n.push(u),i.data("ujs:submit-button",null))}else i.is(f.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(f.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=f.href(i),n=i.data("params")||null);l={type:t||"GET",data:n,dataType:a,beforeSend:function(t,e){return e.dataType===h&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),f.fire(i,"ajax:beforeSend",[t,e])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:r},s&&(l.xhrFields={withCredentials:s}),e&&(l.url=e);var c=f.ajax(l);return i.trigger("ajax:send",c),c}return!1},handleMethod:function(t){var e=f.href(t),n=t.data("method"),i=t.attr("target"),o=d("meta[name=csrf-token]").attr("content"),r=d("meta[name=csrf-param]").attr("content"),s=d('<form method="post" action="'+e+'"></form>'),a='<input name="_method" value="'+n+'" type="hidden" />';r!==h&&o!==h&&(a+='<input name="'+r+'" value="'+o+'" type="hidden" />'),i&&s.attr("target",i),s.hide().append(a).appendTo("body"),s.submit()},disableFormElements:function(t){t.find(f.disableSelector).each(function(){var t=d(this),e=t.is("button")?"html":"val";t.data("ujs:enable-with",t[e]()),t[e](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(f.enableSelector).each(function(){var t=d(this),e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),i=!1;return!n||(f.fire(t,"confirm")&&(i=f.confirm(n),e=f.fire(t,"confirm:complete",[i])),i&&e)},blankInputs:function(t,e,n){var i,o=d(),r=e||"input,textarea",s=t.find(r);return s.each(function(){if(i=d(this),!(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):i.val())==!n){if(i.is("input[type=radio]")&&s.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;o=o.add(i)}}),!!o.length&&o},nonBlankInputs:function(t,e){return f.blankInputs(t,e,!0)},stopEverything:function(t){return d(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return f.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==h&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},f.fire(d(document),"rails:attachBindings")&&(d.ajaxPrefilter(function(t,e,n){t.crossDomain||f.CSRFProtection(n)}),d(document).delegate(f.linkDisableSelector,"ajax:complete",function(){f.enableElement(d(this))}),d(document).delegate(f.linkClickSelector,"click.rails",function(t){var e=d(this),n=e.data("method"),i=e.data("params");if(!f.allowAction(e))return f.stopEverything(t);if(e.is(f.linkDisableSelector)&&f.disableElement(e),e.data("remote")===h)return e.data("method")?(f.handleMethod(e),!1):void 0;if((t.metaKey||t.ctrlKey)&&(!n||"GET"===n)&&!i)return!0;var o=f.handleRemote(e);return!1===o?f.enableElement(e):o.error(function(){f.enableElement(e)}),!1}),d(document).delegate(f.buttonClickSelector,"click.rails",function(t){var e=d(this);return f.allowAction(e)?(f.handleRemote(e),!1):f.stopEverything(t)}),d(document).delegate(f.inputChangeSelector,"change.rails",function(t){var e=d(this);return f.allowAction(e)?(f.handleRemote(e),!1):f.stopEverything(t)}),d(document).delegate(f.formSubmitSelector,"submit.rails",function(t){var e=d(this),n=e.data("remote")!==h,i=f.blankInputs(e,f.requiredInputSelector),o=f.nonBlankInputs(e,f.fileInputSelector);if(!f.allowAction(e))return f.stopEverything(t);if(i&&e.attr("novalidate")==h&&f.fire(e,"ajax:aborted:required",[i]))return f.stopEverything(t);if(n){if(o){setTimeout(function(){f.disableFormElements(e)},13);var r=f.fire(e,"ajax:aborted:file",[o]);return r||setTimeout(function(){f.enableFormElements(e)},13),r}return f.handleRemote(e),!1}setTimeout(function(){f.disableFormElements(e)},13)}),d(document).delegate(f.formInputClickSelector,"click.rails",function(t){var e=d(this);if(!f.allowAction(e))return f.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null;e.closest("form").data("ujs:submit-button",i)}),d(document).delegate(f.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&f.disableFormElements(d(this))}),d(document).delegate(f.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&f.enableFormElements(d(this))}),d(function(){var t=d("meta[name=csrf-token]").attr("content"),e=d("meta[name=csrf-param]").attr("content");d('form input[name="'+e+'"]').val(t)}))}(jQuery),function(o){var e={initTree:function(t){var e=o.extend({},this.treegrid.defaults,t);return this.each(function(){var t=o(this);t.treegrid("setTreeContainer",o(this)),t.treegrid("setSettings",e),e.getRootNodes.apply(this,[o(this)]).treegrid("initNode",e)})},initNode:function(e){return this.each(function(){var t=o(this);t.treegrid("setTreeContainer",e.getTreeGridContainer.apply(this)),t.treegrid("getChildNodes").treegrid("initNode",e),t.treegrid("initExpander").treegrid("initIndent").treegrid("initEvents").treegrid("initState").treegrid("initSettingsEvents")})},initEvents:function(){var t=o(this);return t.on("change",function(){var t=o(this);t.treegrid("render"),t.treegrid("getSetting","saveState")&&t.treegrid("saveState")}),t.on("collapse",function(){var t=o(this);t.removeClass("treegrid-expanded"),t.addClass("treegrid-collapsed")}),t.on("expand",function(){var t=o(this);t.removeClass("treegrid-collapsed"),t.addClass("treegrid-expanded")}),t},initSettingsEvents:function(){var t=o(this);return t.on("change",function(){var t=o(this);"function"==typeof t.treegrid("getSetting","onChange")&&t.treegrid("getSetting","onChange").apply(t)}),t.on("collapse",function(){var t=o(this);"function"==typeof t.treegrid("getSetting","onCollapse")&&t.treegrid("getSetting","onCollapse").apply(t)}),t.on("expand",function(){var t=o(this);"function"==typeof t.treegrid("getSetting","onExpand")&&t.treegrid("getSetting","onExpand").apply(t)}),t},initExpander:function(){var t=o(this),e=t.find("td").get(t.treegrid("getSetting","treeColumn")),n=t.treegrid("getSetting","expanderTemplate"),i=t.treegrid("getSetting","getExpander").apply(this);return i&&i.remove(),o(n).prependTo(e).click(function(){o(o(this).closest("tr")).treegrid("toggle")}),t},initIndent:function(){var t=o(this);t.find(".treegrid-indent").remove();for(var e=0;e<o(this).treegrid("getDepth");e++)o(t.treegrid("getSetting","indentTemplate")).insertBefore(t.find(".treegrid-expander"));return t},initState:function(){var t=o(this);return t.treegrid("getSetting","saveState")&&!t.treegrid("isFirstInit")?t.treegrid("restoreState"):"expanded"===t.treegrid("getSetting","initialState")?t.treegrid("expand"):t.treegrid("collapse"),t},isFirstInit:function(){var t=o(this).treegrid("getTreeContainer");return t.data("first_init")===undefined&&t.data("first_init",o.cookie(t.treegrid("getSetting","saveStateName"))===undefined),t.data("first_init")},saveState:function(){var t=o(this);if("cookie"===t.treegrid("getSetting","saveStateMethod")){var e=o.cookie(t.treegrid("getSetting","saveStateName"))||"",n=""===e?[]:e.split(","),i=t.treegrid("getNodeId");t.treegrid("isExpanded")?-1===o.inArray(i,n)&&n.push(i):t.treegrid("isCollapsed")&&-1!==o.inArray(i,n)&&n.splice(o.inArray(i,n),1),o.cookie(t.treegrid("getSetting","saveStateName"),n.join(","))}return t},restoreState:function(){var t=o(this);if("cookie"===t.treegrid("getSetting","saveStateMethod")){var e=o.cookie(t.treegrid("getSetting","saveStateName")).split(",");-1!==o.inArray(t.treegrid("getNodeId"),e)?t.treegrid("expand"):t.treegrid("collapse")}return t},getSetting:function(t){return o(this).treegrid("getTreeContainer")?o(this).treegrid("getTreeContainer").data("settings")[t]:null},setSettings:function(t){o(this).treegrid("getTreeContainer").data("settings",t)},getTreeContainer:function(){return o(this).data("treegrid")},setTreeContainer:function(t){return o(this).data("treegrid",t)},getRootNodes:function(){return o(this).treegrid("getSetting","getRootNodes").apply(this,[o(this).treegrid("getTreeContainer")])},getAllNodes:function(){return o(this).treegrid("getSetting","getAllNodes").apply(this,[o(this).treegrid("getTreeContainer")])},isNode:function(){return null!==o(this).treegrid("getNodeId")},getNodeId:function(){return null===o(this).treegrid("getSetting","getNodeId")?null:o(this).treegrid("getSetting","getNodeId").apply(this)},getParentNodeId:function(){return o(this).treegrid("getSetting","getParentNodeId").apply(this)},getParentNode:function(){return null===o(this).treegrid("getParentNodeId")?null:o(this).treegrid("getSetting","getNodeById").apply(this,[o(this).treegrid("getParentNodeId"),o(this).treegrid("getTreeContainer")])},getChildNodes:function(){return o(this).treegrid("getSetting","getChildNodes").apply(this,[o(this).treegrid("getNodeId"),o(this).treegrid("getTreeContainer")])},getDepth:function(){return null===o(this).treegrid("getParentNode")?0:o(this).treegrid("getParentNode").treegrid("getDepth")+1},isRoot:function(){return 0===o(this).treegrid("getDepth")},isLeaf:function(){return 0===o(this).treegrid("getChildNodes").length},isLast:function(){if(o(this).treegrid("isNode")){var t=o(this).treegrid("getParentNode");if(null===t){if(o(this).treegrid("getNodeId")===o(this).treegrid("getRootNodes").last().treegrid("getNodeId"))return!0}else if(o(this).treegrid("getNodeId")===t.treegrid("getChildNodes").last().treegrid("getNodeId"))return!0}return!1},isFirst:function(){if(o(this).treegrid("isNode")){var t=o(this).treegrid("getParentNode");if(null===t){if(o(this).treegrid("getNodeId")===o(this).treegrid("getRootNodes").first().treegrid("getNodeId"))return!0}else if(o(this).treegrid("getNodeId")===t.treegrid("getChildNodes").first().treegrid("getNodeId"))return!0}return!1},isExpanded:function(){return o(this).hasClass("treegrid-expanded")},isCollapsed:function(){return o(this).hasClass("treegrid-collapsed")},isOneOfParentsCollapsed:function(){var t=o(this);return!t.treegrid("isRoot")&&(!!t.treegrid("getParentNode").treegrid("isCollapsed")||t.treegrid("getParentNode").treegrid("isOneOfParentsCollapsed"))},expand:function(){return o(this).each(function(){var t=o(this);t.treegrid("isLeaf")||t.treegrid("isExpanded")||(t.trigger("expand"),t.trigger("change"))})},expandAll:function(){var t=o(this);return t.treegrid("getRootNodes").treegrid("expandRecursive"),t},expandRecursive:function(){return o(this).each(function(){var t=o(this);t.treegrid("expand"),t.treegrid("isLeaf")||t.treegrid("getChildNodes").treegrid("expandRecursive")})},collapse:function(){return o(this).each(function(){var t=o(this);t.treegrid("isLeaf")||t.treegrid("isCollapsed")||(t.trigger("collapse"),t.trigger("change"))})},collapseAll:function(){var t=o(this);return t.treegrid("getRootNodes").treegrid("collapseRecursive"),t},collapseRecursive:function(){return o(this).each(function(){var t=o(this);t.treegrid("collapse"),t.treegrid("isLeaf")||t.treegrid("getChildNodes").treegrid("collapseRecursive")})},toggle:function(){var t=o(this);return t.treegrid("isExpanded")?t.treegrid("collapse"):t.treegrid("expand"),t},render:function(){return o(this).each(function(){var t=o(this);t.treegrid("isOneOfParentsCollapsed")?t.hide():t.show(),t.treegrid("isLeaf")||(t.treegrid("renderExpander"),t.treegrid("getChildNodes").treegrid("render"))})},renderExpander:function(){return o(this).each(function(){var t=o(this),e=t.treegrid("getSetting","getExpander").apply(this);e?t.treegrid("isCollapsed")?(e.removeClass(t.treegrid("getSetting","expanderExpandedClass")),e.addClass(t.treegrid("getSetting","expanderCollapsedClass"))):(e.removeClass(t.treegrid("getSetting","expanderCollapsedClass")),e.addClass(t.treegrid("getSetting","expanderExpandedClass"))):(t.treegrid("initExpander"),t.treegrid("renderExpander"))})}};o.fn.treegrid=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void o.error("Method with name "+t+" does not exists for jQuery.treegrid"):e.initTree.apply(this,arguments)},o.fn.treegrid.defaults={initialState:"expanded",saveState:!1,saveStateMethod:"cookie",saveStateName:"tree-grid-state",expanderTemplate:'<span class="treegrid-expander"></span>',indentTemplate:'<span class="treegrid-indent"></span>',expanderExpandedClass:"treegrid-expander-expanded",expanderCollapsedClass:"treegrid-expander-collapsed",treeColumn:0,getExpander:function(){return o(this).find(".treegrid-expander")},getNodeId:function(){var t=/treegrid-([A-Za-z0-9_-]+)/;return t.test(o(this).attr("class"))?t.exec(o(this).attr("class"))[1]:null},getParentNodeId:function(){var t=/treegrid-parent-([A-Za-z0-9_-]+)/;return t.test(o(this).attr("class"))?t.exec(o(this).attr("class"))[1]:null},getNodeById:function(t,e){var n="treegrid-"+t;return e.find("tr."+n)},getChildNodes:function(t,e){var n="treegrid-parent-"+t;return e.find("tr."+n)},getTreeGridContainer:function(){return o(this).closest("table")},getRootNodes:function(t){var e=o.grep(t.find("tr"),function(t){var e=o(t).attr("class"),n=/treegrid-parent-([A-Za-z0-9_-]+)/;return/treegrid-([A-Za-z0-9_-]+)/.test(e)&&!n.test(e)});return o(e)},getAllNodes:function(t){var e=o.grep(t.find("tr"),function(t){var e=o(t).attr("class");return/treegrid-([A-Za-z0-9_-]+)/.test(e)});return o(e)},onCollapse:null,onExpand:null,onChange:null}}(jQuery),$.extend($.fn.treegrid.defaults,{expanderExpandedClass:"glyphicon glyphicon-chevron-down",expanderCollapsedClass:"glyphicon glyphicon-chevron-right"}),function(k){jQuery.fn.extend({slimScroll:function(x){var C=k.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},x);return this.each(function(){function e(t){if(a){var e=0;(t=t||window.event).wheelDelta&&(e=-t.wheelDelta/120),t.detail&&(e=t.detail/3),k(t.target||t.srcTarget||t.srcElement).closest("."+C.wrapperClass).is(v.parent())&&i(e,!0),t.preventDefault&&!m&&t.preventDefault(),m||(t.returnValue=!1)}}function i(t,e,n){m=!1;var i=t,o=v.outerHeight()-y.outerHeight();e&&(i=parseInt(y.css("top"))+t*parseInt(C.wheelStep)/100*y.outerHeight(),i=Math.min(Math.max(i,0),o),i=0<t?Math.ceil(i):Math.floor(i),y.css({top:i+"px"})),i=(f=parseInt(y.css("top"))/(v.outerHeight()-y.outerHeight()))*(v[0].scrollHeight-v.outerHeight()),n&&(t=(i=t)/v[0].scrollHeight*v.outerHeight(),t=Math.min(Math.max(t,0),o),y.css({top:t+"px"})),v.scrollTop(i),v.trigger("slimscrolling",~~i),r(),s()}function n(){window.addEventListener?(this.addEventListener("DOMMouseScroll",e,!1),this.addEventListener("mousewheel",e,!1)):document.attachEvent("onmousewheel",e)}function o(){h=Math.max(v.outerHeight()/v[0].scrollHeight*v.outerHeight(),g),y.css({height:h+"px"});var t=h==v.outerHeight()?"none":"block";y.css({display:t})}function r(){o(),clearTimeout(c),f==~~f?(m=C.allowPageScroll,p!=f&&v.trigger("slimscroll",0==~~f?"top":"bottom")):m=!1,p=f,h>=v.outerHeight()?m=!0:(y.stop(!0,!0).fadeIn("fast"),C.railVisible&&w.stop(!0,!0).fadeIn("fast"))}function s(){C.alwaysVisible||(c=setTimeout(function(){C.disableFadeOut&&a||l||u||(y.fadeOut("slow"),w.fadeOut("slow"))},1e3))}var a,l,u,c,d,h,f,p,g=30,m=!1,v=k(this);if(v.parent().hasClass(C.wrapperClass)){var b=v.scrollTop(),y=v.parent().find("."+C.barClass),w=v.parent().find("."+C.railClass);if(o(),k.isPlainObject(x)){if("height"in x&&"auto"==x.height){v.parent().css("height","auto"),v.css("height","auto");var _=v.parent().parent().height();v.parent().css("height",_),v.css("height",_)}if("scrollTo"in x)b=parseInt(C.scrollTo);else if("scrollBy"in x)b+=parseInt(C.scrollBy);else if("destroy"in x)return y.remove(),w.remove(),void v.unwrap();i(b,!1,!0)}}else{C.height="auto"==x.height?v.parent().height():x.height,b=k("<div></div>").addClass(C.wrapperClass).css({position:"relative",overflow:"hidden",width:C.width,height:C.height}),v.css({overflow:"hidden",width:C.width,height:C.height});w=k("<div></div>").addClass(C.railClass).css({width:C.size,height:"100%",position:"absolute",top:0,display:C.alwaysVisible&&C.railVisible?"block":"none","border-radius":C.railBorderRadius,background:C.railColor,opacity:C.railOpacity,zIndex:90}),y=k("<div></div>").addClass(C.barClass).css({background:C.color,width:C.size,position:"absolute",top:0,opacity:C.opacity,display:C.alwaysVisible?"block":"none","border-radius":C.borderRadius,BorderRadius:C.borderRadius,MozBorderRadius:C.borderRadius,WebkitBorderRadius:C.borderRadius,zIndex:99}),_="right"==C.position?{right:C.distance}:{left:C.distance};w.css(_),y.css(_),v.wrap(b),v.parent().append(y),v.parent().append(w),C.railDraggable&&y.bind("mousedown",function(e){var n=k(document);return u=!0,t=parseFloat(y.css("top")),pageY=e.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,y.css("top",currTop),i(0,y.position().top,!1)}),n.bind("mouseup.slimscroll",function(){u=!1,s(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),w.hover(function(){r()},function(){s()}),y.hover(function(){l=!0},function(){l=!1}),v.hover(function(){a=!0,r(),s()},function(){a=!1,s()}),v.bind("touchstart",function(t){t.originalEvent.touches.length&&(d=t.originalEvent.touches[0].pageY)}),v.bind("touchmove",function(t){m||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(i((d-t.originalEvent.touches[0].pageY)/C.touchScrollStep,!0),d=t.originalEvent.touches[0].pageY)}),o(),"bottom"===C.start?(y.css({top:v.outerHeight()-y.outerHeight()}),i(0,!0)):"top"!==C.start&&(i(k(C.start).position().top,null,!0),C.alwaysVisible||y.hide()),n()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(r,u){function c(t){function l(t,e){var n;if(u!==t&&(t=parseFloat(t)),u===e)n=e=255;else if(1===e){if(u===t||1===t)return 1;e=100,n=1}else n=e;return isNaN(t)||t<=0?0:e<t?n:t<1||1===e?1===n?t:t*n|0:t*n/e}function o(t,e,n){function i(t,e,n){return 6*(n=++n%1)<1?t+6*(e-t)*n:2*n<1?e:3*n<2?t+(e-t)*(4-6*n):t}if(t=l(t,360)/360,e=l(e,1),n=l(n,1),0===e)return[n=Math.round(255*n),n,n];var o=n<.5?n+n*e:n+e-n*e,r=n+n-o;return[Math.round(255*i(r,o,t+1/3)),Math.round(255*i(r,o,t)),Math.round(255*i(r,o,t-1/3))]}function r(t,e,n){t=l(t,360)/60,e=l(e,1),n=l(n,1);var i=0|t,o=t-i,r=Math.round(255*n*(1-e)),s=Math.round(255*n*(1-e*o)),a=Math.round(255*n*(1-e*(1-o)));switch(n=Math.round(255*n),i){case 1:return[s,n,r];case 2:return[r,n,a];case 3:return[r,s,n];case 4:return[a,r,n];case 5:return[n,r,s]}return[n,a,r]}this.setColor=function(t){if(this.success=!0,"number"==typeof t)return this.a=(t>>24&255)/255,this.r=t>>16&255,this.g=t>>8&255,void(this.b=255&t);for(;"object"==typeof t;){if(0 in t&&1 in t&&2 in t)return this.a=l(t[3],1),this.r=l(t[0]),this.g=l(t[1]),void(this.b=l(t[2]));if("r"in t&&"g"in t&&"b"in t)return this.a=l(t.a,1),this.r=l(t.r),this.g=l(t.g),void(this.b=l(t.b));if("h"in t&&"s"in t){var e;if("l"in t)e=o(t.h,t.s,t.l);else if("v"in t)e=r(t.h,t.s,t.v);else{if(!("b"in t))break;e=r(t.h,t.s,t.b)}return this.a=l(t.a,1),this.r=e[0],this.g=e[1],void(this.b=e[2])}break}if("string"==typeof t){var n,i;if("transparent"===(t=t.toLowerCase().replace(/[^a-z0-9,.()#%]/g,"")))return void(this.a=this.r=this.g=this.b=0);if("rand"===t)return i=16777215*Math.random()|0,this.a=1,this.r=i>>16&255,this.g=i>>8&255,void(this.b=255&i);if(u!==a[t]&&(t="#"+a[t]),n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/.exec(t))return this.a=1,this.r=parseInt(n[1],16),this.g=parseInt(n[2],16),void(this.b=parseInt(n[3],16));if(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/.exec(t))return this.a=1,this.r=parseInt(n[1]+n[1],16),this.g=parseInt(n[2]+n[2],16),void(this.b=parseInt(n[3]+n[3],16));if(n=/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(t))return this.a=l(n[5],1),this.r=l(n[1]),this.g=l(n[2]),void(this.b=l(n[3]));if(n=/^rgba?\(([0-9.]+\%),([0-9.]+\%),([0-9.]+\%)(,([0-9.]+)\%?)?\)$/.exec(t))return this.a=l(n[5],1),this.r=Math.round(2.55*l(n[1],100)),this.g=Math.round(2.55*l(n[2],100)),void(this.b=Math.round(2.55*l(n[3],100)));if(n=/^hs([bvl])a?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(t))return i=("l"===n[1]?o:r)(parseInt(n[2],10),parseInt(n[3],10),parseInt(n[4],10)),this.a=l(n[6],1),this.r=i[0],this.g=i[1],void(this.b=i[2]);if(n=/^(\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?$/.exec(t))return this.a=l(n[5],1),this.r=l(n[1]),this.g=l(n[2]),void(this.b=l(n[3]))}this.success=!1},this.getColor=function(t){if(u!==t)switch(t.toLowerCase()){case"rgb":return this.getRGB();case"hsv":case"hsb":return this.getHSV();case"hsl":return this.getHSL();case"int":return this.getInt();case"array":return this.getArray();case"fraction":return this.getFraction();case"css":case"style":return this.getCSS();case"name":return this.getName()}return this.getHex()},this.getRGB=function(){return this.success?{r:this.r,g:this.g,b:this.b,a:this.a}:null},this.getCSS=function(){return this.success?0===this.a?"transparent":1===this.a?"rgb("+this.r+","+this.g+","+this.b+")":v(this.r,this.g,this.b,this.a):null},this.getArray=function(){return this.success?[this.r,this.g,this.b,100*this.a|0]:null},this.getName=function(){if(this.success){var t,e=null,n=a,i=this.getHSL();for(var o in n){var r=new c(n[o]).getHSL(),s=Math.sqrt(.5*(i.h-r.h)*(i.h-r.h)+.5*(i.s-r.s)*(i.s-r.s)+(i.l-r.l)*(i.l-r.l));(null===e||s<e)&&(e=s,t=o)}return t}return null},this.getFraction=function(){return this.success?{
r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}:null},this.getHSL=function(){if(this.success){var t,e,n=this.r/255,i=this.g/255,o=this.b/255,r=Math.min(n,i,o),s=Math.max(n,i,o),a=s-r,l=(s+r)/2;return 0===a?e=t=0:(t=n===s?(i-o)/a:i===s?2+(o-n)/a:4+(n-i)/a,e=a/(l<.5?s+r:2-s-r)),{h:Math.round((6+t)%6*60),s:Math.round(100*e),l:Math.round(100*l),a:this.a}}return null},this.getHSV=function(){if(this.success){var t,e,n=this.r/255,i=this.g/255,o=this.b/255,r=Math.min(n,i,o),s=Math.max(n,i,o),a=s-r,l=s;return e=0===s?0:a/s,t=0===a?0:n===s?(i-o)/a:i===s?2+(o-n)/a:4+(n-i)/a,{h:Math.round((6+t)%6*60),s:Math.round(100*e),v:Math.round(100*l),a:this.a}}return null},this.getHex=function(){if(this.success){var t="0123456789abcdef",e=this.r>>4,n=this.g>>4,i=this.b>>4,o=15&this.r,r=15&this.g,s=15&this.b;return"#"+t.charAt(e)+t.charAt(o)+t.charAt(n)+t.charAt(r)+t.charAt(i)+t.charAt(s)}return null},this.getInt=function(t){return this.success?u!==t?(100*this.a|0)<<24^this.r<<16^this.g<<8^this.b:16777215&(this.r<<16^this.g<<8^this.b):null},this.toString=function(){return this.getHex()},this.setColor(t)}function d(t,e){var n="";do{if(""!==(n=r.css(t,e))&&"transparent"!==n&&"rgba(0, 0, 0, 0)"!==n||r.nodeName(t,"body"))break}while(t=t.parentNode);return""===n&&(n=r.support.rgba?"transparent":"backgroundColor"===e?"white":"black"),new c(n)}function t(){this.test=function(t){var e=new c(t);return e.success?e:null},this.red=function(t){var e=new c(t);return e.success?(e.g=255,e.b=255,e):null},this.blue=function(t){var e=new c(t);return e.success?(e.r=255,e.g=255,e):null},this.green=function(t){var e=new c(t);return e.success?(e.r=255,e.b=255,e):null},this.sepia=function(t){var e=new c(t);if(e.success){var n=e.r,i=e.g,o=e.b;return e.r=Math.round(.393*n+.769*i+.189*o),e.g=Math.round(.349*n+.686*i+.168*o),e.b=Math.round(.272*n+.534*i+.131*o),e}return null},this.random=function(){return new c([255*Math.random()|0,255*Math.random()|0,255*Math.random()|0])},this.inverse=function(t){var e=new c(t);return e.success?(e.r^=255,e.g^=255,e.b^=255,e):null},this.opacity=function(t,e,n){var i=new c(t),o=new c(e);return i.success&o.success?(1<n&&(n/=100),n=Math.max(n-1+o.a,0),i.r=Math.round((o.r-i.r)*n+i.r),i.g=Math.round((o.g-i.g)*n+i.g),i.b=Math.round((o.b-i.b)*n+i.b),i):null},this.greyfilter=function(t,e){var n,i=new c(t);if(i.success){switch(e){case 1:n=.35+13*(i.r+i.g+i.b)/60;break;case 2:n=(13*(i.r+i.g+i.b)+5355)/60;break;default:n=.3*i.r+.59*i.g+.11*i.b}return i.r=i.g=i.b=Math.min(0|n,255),i}return null},this.webround=function(t){var e=new c(t);return e.success?(255<(e.r+=51-e.r%51)&&(e.r=255),255<(e.g+=51-e.g%51)&&(e.g=255),255<(e.b+=51-e.b%51)&&(e.b=255),e):null},this.distance=function(t,e){var n=new c(t),i=new c(e);return n.success&i.success?Math.sqrt(3*(i.r-n.r)*(i.r-n.r)+4*(i.g-n.g)*(i.g-n.g)+2*(i.b-n.b)*(i.b-n.b)):null},this.readable=function(t,e,n){var i=new c(e),o=new c(t);if(n=n||10,i.success&o.success){var r=.299*o.r+.587*o.g+.114*o.b-.299*i.r-.587*i.g-.114*i.b;return!(r<1.5+141.162*Math.pow(.975,n)&&r>-.5-154.709*Math.pow(.99,n))}return null},this.combine=function(t,e){var n=new c(t),i=new c(e);return n.success&i.success?(n.r^=i.r,n.g^=i.g,n.b^=i.b,n):null},this.breed=function(t,e){var n=new c(t),i=new c(e),o=0,r=6;if(n.success&i.success){for(;r--;)Math.random()<.5&&(o|=15<<(r<<2));return n.r=n.r&o>>16&255|i.r&(o>>16&255^255),n.g=n.g&o>>8&255|i.g&(o>>8&255^255),n.b=n.b&o>>0&255|i.b&(o>>0&255^255),n}return null},this.additive=function(t,e){var n=new c(t),i=new c(e);return n.success&i.success?(255<(n.r+=i.r)&&(n.r=255),255<(n.g+=i.g)&&(n.g=255),255<(n.b+=i.b)&&(n.b=255),n):null},this.subtractive=function(t,e){var n=new c(t),i=new c(e);return n.success&i.success?((n.r+=i.r-255)<0&&(n.r=0),(n.g+=i.g-255)<0&&(n.g=0),(n.b+=i.b-255)<0&&(n.b=0),n):null},this.subtract=function(t,e){var n=new c(t),i=new c(e);return n.success&i.success?((n.r-=i.r)<0&&(n.r=0),(n.g-=i.g)<0&&(n.g=0),(n.b-=i.b)<0&&(n.b=0),n):null},this.multiply=function(t,e){var n=new c(t),i=new c(e);return n.success&i.success?(n.r=n.r/255*i.r|0,n.g=n.g/255*i.g|0,n.b=n.b/255*i.b|0,n):null},this.average=function(t,e){var n=new c(t),i=new c(e);return n.success&i.success?(n.r=n.r+i.r>>1,n.g=n.g+i.g>>1,n.b=n.b+i.b>>1,n):null},this.triad=function(t){var e=new c(t);return e.success?[e,new c([e.b,e.r,e.g]),new c([e.g,e.b,e.r])]:null},this.tetrad=function(t){var e=new c(t);return e.success?[e,new c([e.b,e.r,e.b]),new c([e.b,e.g,e.r]),new c([e.r,e.b,e.r])]:null},this.gradientlevel=function(t,e,n,i){if(u===i&&(i=1),i<n)return null;var o=new c(t),r=new c(e);return o.success&r.success?(o.r=o.r+(r.r-o.r)/i*n|0,o.g=o.g+(r.g-o.g)/i*n|0,o.b=o.b+(r.b-o.b)/i*n|0,o):null},this.gradientarray=function(t,e,n){if(n<e||!t.length)return null;if(1==t.length)return new c(t[0]);var i=e*(t.length-1)/(n+1)|0,o=n/(t.length-1);return r.xcolor.gradientlevel(t[i],t[i+1],e-i*o,o)},this.nearestname=function(t){return(t=new c(t)).success?t.getName():null},this.darken=function(t,e,n){if(u===e)e=1;else if(e<0)return this.lighten(t,-e,n);u===n&&(n=32);var i=new c(t);return i.success?((i.r-=n*e)<0&&(i.r=0),(i.g-=n*e)<0&&(i.g=0),(i.b-=n*e)<0&&(i.b=0),i):null},this.lighten=function(t,e,n){if(u===e)e=1;else if(e<0)return this.darken(t,-e,n);u===n&&(n=32);var i=new c(t);return i.success?(255<(i.r+=n*e)&&(i.r=255),255<(i.g+=n*e)&&(i.g=255),255<(i.b+=n*e)&&(i.b=255),i):null},this.analogous=function(t,e,n){u===e&&(e=8),u===n&&(n=30);var i=new c(t);if(i.success){var o=i.getHSV(),r=360/n,s=[i];for(o.h=(o.h-(r*e>>1)+720)%360;--e;)o.h+=r,o.h%=360,s.push(new c(o));return s}return null},this.complementary=function(t){var e=new c(t);if(e.success){var n=e.getHSL();return n.h=(n.h+180)%360,new c(n)}return null},this.splitcomplement=function(t){var e=new c(t);if(e.success){var n=e.getHSV(),i=[e];return n.h+=72,n.h%=360,i.push(new c(n)),n.h+=144,n.h%=360,i.push(new c(n)),i}return null},this.monochromatic=function(t,e){u===e&&(e=6);var n=new c(t);if(n.success){for(var i=n.getHSV(),o=[n];--e;)i.v+=20,i.v%=100,o.push(new c(i));return o}return null}}var v,a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};r.each(["color","backgroundColor","borderColor","borderTopColor","borderBottomColor","borderLeftColor","borderRightColor","outlineColor"],function(t,l){r.cssHooks[l]={set:function(t,e){t.style[l]=new c(e).getCSS()}},r.fx.step[l]=function(t){if(u===t.xinit){if("string"==typeof t.end&&-1!==t.end.indexOf(";")){var e,n=t.end.split(";");if(2<n.length){for(e in n)-1===n[e].indexOf("native")?n[e]=new c(n[e]):n[e]=d(t.elem,l);t.start=null,t.end=n}else t.start=new c(n[0]),t.end=new c(n[1])}else t.start=d(t.elem,l),t.end=new c(t.end);t.xinit=1}var i=t.start,o=t.end,r=t.pos;if(null===i){var s=r*(o.length-1),a=r<1?0|s:o.length-2;i=o[a],o=o[a+1],r=s-a}t.elem.style[l]=v(i.r+r*(o.r-i.r)|0,i.g+r*(o.g-i.g)|0,i.b+r*(o.b-i.b)|0,i.a+r*(o.a-i.a))}}),r(function(){var t=document.createElement("div").style;v=function(t,e,n,i){return"rgba("+t+","+e+","+n+","+i+")"},t.cssText="background-color:rgba(1,1,1,.5)",(r.support.rgba=-1<t.backgroundColor.indexOf("rgba"))||(v=function(t,e,n){return"rgb("+t+","+e+","+n+")"})}),r.xcolor=new t,r.fn.readable=function(){var t=this[0],e="",n="";do{if(""!==e||"transparent"!==(e=r.css(t,"color"))&&"rgba(0, 0, 0, 0)"!==e||(e=""),""!==n||"transparent"!==(n=r.css(t,"backgroundColor"))&&"rgba(0, 0, 0, 0)"!==n||(n=""),""!==e&&""!==n||r.nodeName(t,"body"))break}while(t=t.parentNode);return""===e&&(e="black"),""===n&&(n="white"),r.xcolor.readable(n,e)},r.fn.colorize=function(p,g,m){var t={gradient:function(t,e){return t/e},flip:function(t,e,n,i){return" "===i?n:!n},pillow:function(t,e){return(t*=2)<=e?t/e:2-t/e}};if("function"==typeof m);else{if(void 0===t[m])return;m=t[m]}p=new c(p),g=new c(g),this.each(function(){var t=this.childNodes,d=0,h=0;if(p.success&g.success){for(var e=t.length;e--;d+=t[e].textContent.length);!function f(t){var e,n=0;if(3===t.nodeType){var i,o,r,s=p,a=g,l=d,u=0,c=m;for(e=t.nodeValue.length,o=document.createElement("span"),n=0;n<e;++n)i=document.createElement("span"),r=t.nodeValue.charAt(n),u=c(h,l,u,r),i.style.color=v(s.r+u*(a.r-s.r)|0,s.g+u*(a.g-s.g)|0,s.b+u*(a.b-s.b)|0,s.a+u*(a.a-s.a)),i.appendChild(document.createTextNode(r)),o.appendChild(i),++h;t.parentNode.replaceChild(o,t)}else for(e=t.childNodes.length;n<e;++n)f(t.childNodes[n])}(this)}})}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(r){"use strict";function t(n){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new s(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',s=function(t){r(t).on("click",e,this.close)};s.VERSION="3.3.2",s.TRANSITION_DURATION=150,s.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=r(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var o=r(i);t&&t.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),r.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(s.TRANSITION_DURATION):e())};var n=r.fn.alert;r.fn.alert=t,r.fn.alert.Constructor=s,r.fn.alert.noConflict=function(){return r.fn.alert=n,this},r(document).on("click.bs.alert.data-api",e,s.prototype.close)}(jQuery),function(r){"use strict";function n(i){return this.each(function(){var t=r(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.isLoading=!1};o.VERSION="3.3.2",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(r.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=n,r.fn.button.Constructor=o,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=r(t.target);e.hasClass("btn")||(e=e.closest(".btn")),n.call(e,"toggle"),t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){r(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function s(o){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}var h=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};h.VERSION="3.3.2",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",s=this;if(i.hasClass("active"))return this.sliding=!1;var a=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:a,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=d(this.$indicators.children()[this.getItemIndex(i)]);u&&u.addClass("active")}var c=d.Event("slid.bs.carousel",{relatedTarget:a,direction:r});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),s.sliding=!1,setTimeout(function(){s.$element.trigger(c)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(c)),o&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=s,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};var e=function(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=d.extend({},i.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),s.call(i,o),r&&i.data("bs.carousel").to(r),t.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);s.call(t,t.data())})})}(jQuery),function(s){"use strict";function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return s(n)}function a(i){return this.each(function(){var t=s(this),e=t.data("bs.collapse"),n=s.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&"show"==i&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=s(t),this.options=s.extend({},l.DEFAULTS,e),this.$trigger=s(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.2",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=s.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(a.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!s.support.transition)return o.call(this);var r=s.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",s.proxy(o,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][r])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=s.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!s.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",s.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return s(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(s.proxy(function(t,e){var n=s(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=s.fn.collapse;s.fn.collapse=a,s.fn.collapse.Constructor=l,s.fn.collapse.noConflict=function(){return s.fn.collapse=t,this},s(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=s(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":s.extend({},e.data(),{trigger:this});a.call(n,i)})}(jQuery),function(a){"use strict";function r(i){i&&3===i.which||(a(e).remove(),a(u).each(function(){var t=a(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(e.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",n)))}))}function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&a(e);return n&&n.length?n:t.parent()}function t(n){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",u='[data-toggle="dropdown"]',i=function(t){a(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.2",i.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(r(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",r);var o={relatedTarget:this};if(n.trigger(t=a.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",o)}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(u).trigger("focus"),e.trigger("click");var o=" li:not(.divider):visible a",r=n.find('[role="menu"]'+o+', [role="listbox"]'+o);if(r.length){var s=r.index(t.target);38==t.which&&0<s&&s--,40==t.which&&s<r.length-1&&s++,~s||(s=0),r.eq(s).trigger("focus")}}}};var n=a.fn.dropdown;a.fn.dropdown=t,a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=n,this},a(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",u,i.prototype.toggle).on("keydown.bs.dropdown.data-api",u,i.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',i.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',i.prototype.keydown)}(jQuery),function(r){"use strict";function s(i,o){return this.each(function(){var t=r(this),e=t.data("bs.modal"),n=r.extend({},a.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new a(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}var a=function(t,e){this.options=e,this.$body=r(document.body),this.$element=r(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.3.2",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},a.prototype.show=function(n){var i=this,t=r.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.backdrop(function(){var t=r.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var e=r.Event("shown.bs.modal",{relatedTarget:n});t?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(a.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},a.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=r.support.transition&&n;if(this.$backdrop=r('<div class="modal-backdrop '+n+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",r.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},a.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},a.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},a.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=r.fn.modal;r.fn.modal=s,r.fn.modal.Constructor=a,r.fn.modal.noConflict=function(){return r.fn.modal=t,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=r(this),n=e.attr("href"),i=r(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(i,o,this)})}(jQuery),function(m){"use strict";function t(i){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;(e||"destroy"!=i)&&(e||t.data("bs.tooltip",e=new v(this,n)),"string"==typeof i&&e[i]())})}var v=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};v.VERSION="3.3.2",v.TRANSITION_DURATION=150,v.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},v.prototype.init=function(t,e,n){this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&m(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",a="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},v.prototype.getDefaults=function(){return v.DEFAULTS},v.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},v.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},v.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e&&e.$tip&&e.$tip.is(":visible"))e.hoverState="in";else{if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},v.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},v.prototype.show=function(){var t=m.Event("show.bs."+this.type)
;if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(r);a&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var l=this.getPosition(),u=i[0].offsetWidth,c=i[0].offsetHeight;if(a){var d=r,h=this.options.container?m(this.options.container):this.$element.parent(),f=this.getPosition(h);r="bottom"==r&&l.bottom+c>f.bottom?"top":"top"==r&&l.top-c<f.top?"bottom":"right"==r&&l.right+u>f.width?"left":"left"==r&&l.left-u<f.left?"right":r,i.removeClass(d).addClass(r)}var p=this.getCalculatedOffset(r,l,u,c);this.applyPlacement(p,r);var g=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",g).emulateTransitionEnd(v.TRANSITION_DURATION):g()}},v.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,m.offset.setOffset(n[0],m.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var a=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var u=this.getViewportAdjustedDelta(e,t,a,l);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(e),d=c?2*u.left-i+a:2*u.top-o+l,h=c?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][h],c)},v.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},v.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},v.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=this.tip(),o=m.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(v.TRANSITION_DURATION):e(),this.hoverState=null,this},v.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},v.prototype.hasContent=function(){return this.getTitle()},v.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=m.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=n?{top:0,left:0}:t.offset(),r={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},i,r,s,o)},v.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},v.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var u=e.left-r,c=e.left+r+n;u<s.left?o.left=s.left-u:c>s.width&&(o.left=s.left+s.width-c)}return o},v.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},v.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},v.prototype.tip=function(){return this.$tip=this.$tip||m(this.options.template)},v.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},v.prototype.enable=function(){this.enabled=!0},v.prototype.disable=function(){this.enabled=!1},v.prototype.toggleEnabled=function(){this.enabled=!this.enabled},v.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),e.tip().hasClass("in")?e.leave(e):e.enter(e)},v.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var e=m.fn.tooltip;m.fn.tooltip=t,m.fn.tooltip.Constructor=v,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=e,this}}(jQuery),function(o){"use strict";function t(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;(e||"destroy"!=i)&&(e||t.data("bs.popover",e=new r(this,n)),"string"==typeof i&&e[i]())})}var r=function(t,e){this.init("popover",t,e)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.3.2",r.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),r.prototype=o.extend({},o.fn.tooltip.Constructor.prototype),(r.prototype.constructor=r).prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},r.prototype.tip=function(){return this.$tip||(this.$tip=o(this.options.template)),this.$tip};var e=o.fn.popover;o.fn.popover=t,o.fn.popover.Constructor=r,o.fn.popover.noConflict=function(){return o.fn.popover=e,this}}(jQuery),function(r){"use strict";function o(t,e){var n=r.proxy(this.process,this);this.$body=r("body"),this.$scrollElement=r(t).is("body")?r(window):r(t),this.options=r.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",n),this.refresh(),this.process()}function e(i){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.3.2",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var i="offset",o=0;r.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var t=this;this.$body.find(this.selector).map(function(){var t=r(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&r(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(r[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=r(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=r.fn.scrollspy;r.fn.scrollspy=e,r.fn.scrollspy.Constructor=o,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=t,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);e.call(t,t.data())})})}(jQuery),function(a){"use strict";function e(n){return this.each(function(){var t=a(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new s(this)),"string"==typeof n&&e[n]()})}var s=function(t){this.element=a(t)};s.VERSION="3.3.2",s.TRANSITION_DURATION=150,s.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=a.Event("hide.bs.tab",{relatedTarget:t[0]}),r=a.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=a(n);this.activate(t.closest("li"),e),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},s.prototype.activate=function(t,e,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=e.find("> .active"),r=n&&a.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",i).emulateTransitionEnd(s.TRANSITION_DURATION):i(),o.removeClass("in")};var t=a.fn.tab;a.fn.tab=e,a.fn.tab.Constructor=s,a.fn.tab.noConflict=function(){return a.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new u(this,n)),"string"==typeof i&&e[i]()})}var u=function(t,e){this.options=l.extend({},u.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};u.VERSION="3.3.2",u.RESET="affix affix-top affix-bottom",u.DEFAULTS={offset:0,target:window},u.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+s<=t-i)&&"bottom";var a=null==this.affixed,l=a?o:r.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(a?s:e)&&"bottom"},u.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(u.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},u.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},u.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=l("body").height();"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var r=this.getState(o,t,n,i);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var s="affix"+(r?"-"+r:""),a=l.Event(s+".bs.affix");if(this.$element.trigger(a),a.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(u.RESET).addClass(s).trigger(s.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=u,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(h){"use strict";function r(t,e){this.itemsArray=[],this.$element=h(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=e&&e.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=h('<div class="bootstrap-tagsinput"></div>'),this.$input=h('<input size="'+this.inputSize+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(e)}function e(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function n(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}function f(t){return t?i.text(t).html():""}function l(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}var o={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,maxTags:undefined,confirmKeys:[13],onTagExists:function(t,e){e.hide().fadeIn()}};r.prototype={constructor:r,add:function(t,e){var n=this;if(!(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags)&&(!1===t||t)){if("object"==typeof t&&!n.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(n.isSelect&&!n.multiple&&0<n.itemsArray.length&&n.remove(n.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var i=t.split(",");if(1<i.length){for(var o=0;o<i.length;o++)this.add(i[o],!0);return void(e||n.pushVal())}}var r=n.options.itemValue(t),s=n.options.itemText(t),a=n.options.tagClass(t),l=h.grep(n.itemsArray,function(t){return n.options.itemValue(t)===r})[0];if(l){if(n.options.onTagExists){var u=h(".tag",n.$container).filter(function(){return h(this).data("item")===l});n.options.onTagExists(t,u)}}else{n.itemsArray.push(t);var c=h('<span class="tag '+f(a)+'">'+f(s)+'<span data-role="remove"></span></span>');if(c.data("item",t),n.findInputWrapper().before(c),c.after(" "),n.isSelect&&!h('option[value="'+escape(r)+'"]',n.$element)[0]){var d=h("<option selected>"+f(s)+"</option>");d.data("item",t),d.attr("value",r),n.$element.append(d)}e||n.pushVal(),n.options.maxTags===n.itemsArray.length&&n.$container.addClass("bootstrap-tagsinput-max"),n.$element.trigger(h.Event("itemAdded",{item:t}))}}}},remove:function(e,t){var n=this;n.objectItems&&(e="object"==typeof e?h.grep(n.itemsArray,function(t){return n.options.itemValue(t)==n.options.itemValue(e)})[0]:h.grep(n.itemsArray,function(t){return n.options.itemValue(t)==e})[0]),e&&(h(".tag",n.$container).filter(function(){return h(this).data("item")===e}).remove(),h("option",n.$element).filter(function(){return h(this).data("item")===e}).remove(),n.itemsArray.splice(h.inArray(e,n.itemsArray),1)),t||n.pushVal(),n.options.maxTags>n.itemsArray.length&&n.$container.removeClass("bootstrap-tagsinput-max"),n.$element.trigger(h.Event("itemRemoved",{item:e}))},removeAll:function(){var t=this;for(h(".tag",t.$container).remove(),h("option",t.$element).remove();0<t.itemsArray.length;)t.itemsArray.pop();t.pushVal(),t.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var r=this;h(".tag",r.$container).each(function(){var t=h(this),e=t.data("item"),n=r.options.itemValue(e),i=r.options.itemText(e),o=r.options.tagClass(e);(t.attr("class",null),t.addClass("tag "+f(o)),t.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=f(i),r.isSelect)&&h("option",r.$element).filter(function(){return h(this).data("item")===e}).attr("value",n)})},items:function(){return this.itemsArray},pushVal:function(){var e=this,t=h.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(t,!0).trigger("change")},build:function(t){var a=this;a.options=h.extend({},o,t);var i=a.options.typeahead||{};a.objectItems&&(a.options.freeInput=!1),e(a.options,"itemValue"),e(a.options,"itemText"),e(a.options,"tagClass"),a.options.source&&(i.source=a.options.source),i.source&&h.fn.typeahead&&(n(i,"source"),a.$input.typeahead({source:function(t,o){function e(t){for(var e=[],n=0;n<t.length;n++){var i=a.options.itemText(t[n]);r[i]=t[n],e.push(i)}o(e)}this.map={};var r=this.map,n=i.source(t);h.isFunction(n.success)?n.success(e):h.when(n).then(e)},updater:function(t){a.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}})),a.$container.on("click",h.proxy(function(){a.$input.focus()},a)),a.$container.on("keydown","input",h.proxy(function(t){var e=h(t.target),n=a.findInputWrapper();switch(t.which){case 8:if(0===l(e[0])){var i=n.prev();i&&a.remove(i.data("item"))}break;case 46:if(0===l(e[0])){var o=n.next();o&&a.remove(o.data("item"))}break;case 37:var r=n.prev();0===e.val().length&&r[0]&&(r.before(n),e.focus());break;case 39:var s=n.next();0===e.val().length&&s[0]&&(s.after(n),e.focus());break;default:a.options.freeInput&&0<=h.inArray(t.which,a.options.confirmKeys)&&(a.add(e.val()),e.val(""),t.preventDefault())}e.attr("size",Math.max(this.inputSize,e.val().length))},a)),a.$container.on("click","[data-role=remove]",h.proxy(function(t){a.remove(h(t.target).closest(".tag").data("item"))},a)),a.options.itemValue===o.itemValue&&("INPUT"===a.$element[0].tagName?a.add(a.$element.val()):h("option",a.$element).each(function(){a.add(h(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],e=this.$container[0];t&&t.parentNode!==e;)t=t.parentNode;return h(t)}},h.fn.tagsinput=function(n,i){var o=[];return this.each(function(){var t=h(this).data("tagsinput");if(t){var e=t[n](i);e!==undefined&&o.push(e)}else t=new r(this,n),h(this).data("tagsinput",t),o.push(t),"SELECT"===this.tagName&&h("option",h(this)).attr("selected","selected"),h(this).val(h(this).val())}),"string"==typeof n?1<o.length?o:o[0]:o},h.fn.tagsinput.Constructor=r;var i=h("<div />");h(function(){h("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),"undefined"==typeof jQuery)throw new Error("Jasny Bootstrap's JavaScript requires jQuery");!function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}i.support.transition===undefined&&(i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one(i.support.transition.end,function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t()}))}(window.jQuery),function(a){"use strict";var o=function(t,e){this.$element=a(t),this.options=a.extend({},o.DEFAULTS,e),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),a(window).on("resize",a.proxy(this.recalc,this))),this.options.autohide&&a(document).on("click",a.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};o.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0},o.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},o.prototype.calcPlacement=function(){function t(t,e){if("auto"===i.css(e))return t;if("auto"===i.css(t))return e;var n=parseInt(i.css(t),10);return parseInt(i.css(e),10)<n?e:t}if("auto"===this.options.placement){this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var e=a(window).width()/this.$element.width(),n=a(window).height()/this.$element.height(),i=this.$element;this.placement=n<=e?t("left","right"):t("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")}else this.placement=this.options.placement},o.prototype.opposite=function(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},o.prototype.getCanvasElements=function(){var t=this.options.canvas?a(this.options.canvas):this.$element,e=t.find("*").filter(function(){return"fixed"===a(this).css("position")}).not(this.options.exclude);return t.add(e)},o.prototype.slide=function(t,e,n){if(!a.support.transition){var i={};return i[this.placement]="+="+e,t.animate(i,350,n)}var o=this.placement,r=this.opposite(o);t.each(function(){"auto"!==a(this).css(o)&&a(this).css(o,(parseInt(a(this).css(o),10)||0)+e),"auto"!==a(this).css(r)&&a(this).css(r,(parseInt(a(this).css(r),10)||0)-e)}),this.$element.one(a.support.transition.end,n).emulateTransitionEnd(350)},o.prototype.disableScrolling=function(){var t=a("body").width(),e="padding-"+this.opposite(this.placement);if(a("body").data("offcanvas-style")===undefined&&a("body").data("offcanvas-style",a("body").attr("style")||""),a("body").css("overflow","hidden"),a("body").width()>t){var n=parseInt(a("body").css(e),10)+a("body").width()-t;setTimeout(function(){a("body").css(e,n)},1)}},o.prototype.show=function(){if(!this.state){var t=a.Event("show.bs.offcanvas");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.state="slide-in",this.calcPlacement();var e=this.getCanvasElements(),n=this.placement,i=this.opposite(n),o=this.offset();-1!==e.index(this.$element)&&(a(this.$element).data("offcanvas-style",a(this.$element).attr("style")||""),this.$element.css(n,-1*o),this.$element.css(n)),e.addClass("canvas-sliding").each(function(){a(this).data("offcanvas-style")===undefined&&a(this).data("offcanvas-style",a(this).attr("style")||""),"static"===a(this).css("position")&&a(this).css("position","relative"),"auto"!==a(this).css(n)&&"0px"!==a(this).css(n)||"auto"!==a(this).css(i)&&"0px"!==a(this).css(i)||a(this).css(n,0)}),this.options.disableScrolling&&this.disableScrolling();var r=function(){"slide-in"==this.state&&(this.state="slid",e.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas"))};setTimeout(a.proxy(function(){this.$element.addClass("in"),this.slide(e,o,a.proxy(r,this))},this),1)}}},o.prototype.hide=function(){if("slid"===this.state){var t=a.Event("hide.bs.offcanvas");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.state="slide-out";var e=a(".canvas-slid"),n=(this.placement,-1*this.offset()),i=function(){"slide-out"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass("in"),e.removeClass("canvas-sliding"),e.add(this.$element).add("body").each(function(){a(this).attr("style",a(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas"))};e.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout(a.proxy(function(){this.slide(e,n,a.proxy(i,this))},this),1)}}},o.prototype.toggle=function(){"slide-in"!==this.state&&"slide-out"!==this.state&&this["slid"===this.state?"hide":"show"]()},o.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(a("body"))},o.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.state=null,this.placement=null;var t=this.getCanvasElements();this.$element.removeClass("in"),t.removeClass("canvas-slid"),t.add(this.$element).add("body").each(function(){a(this).attr("style",a(this).data("offcanvas-style")).removeData("offcanvas-style")})}},o.prototype.autohide=function(t){0===a(t.target).closest(this.$element).length&&this.hide()};var t=a.fn.offcanvas;a.fn.offcanvas=function(i){return this.each(function(){var t=a(this),e=t.data("bs.offcanvas"),n=a.extend({},o.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.offcanvas",e=new o(this,n)),"string"==typeof i&&e[i]()})},a.fn.offcanvas.Constructor=o,a.fn.offcanvas.noConflict=function(){return a.fn.offcanvas=t,this},a(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(t){var e,n=a(this),i=n.attr("data-target")||t.preventDefault()||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),o=a(i),r=o.data("bs.offcanvas"),s=r?"toggle":n.data();t.stopPropagation(),r?r.toggle():o.offcanvas(s)})}(window.jQuery),function(i){"use strict";var o=function(t,e){this.$element=i(t),this.options=i.extend({},o.DEFAULTS,e),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",i.proxy(this.click,this))};o.DEFAULTS={target:"a"},o.prototype.click=function(t){var e=i(t.currentTarget).closest("tr").find(this.options.target)[0];if(i(t.target)[0]!==e)if(t.preventDefault(),e.click)e.click();else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}};var t=i.fn.rowlink;i.fn.rowlink=function(n){return this.each(function(){var t=i(this),e=t.data("bs.rowlink");e||t.data("bs.rowlink",e=new o(this,n))})},i.fn.rowlink.Constructor=o,i.fn.rowlink.noConflict=function(){return i.fn.rowlink=t,this},i(document).on("click.bs.rowlink.data-api",'[data-link="row"]',function(t){if(0===i(t.target).closest(".rowlink-skip").length){var e=i(this);e.data("bs.rowlink")||(e.rowlink(e.data()),i(t.target).trigger("click.bs.rowlink"))}})}(window.jQuery),function(i){"use strict";var r=window.orientation!==undefined,n=-1<navigator.userAgent.toLowerCase().indexOf("android"),e="Microsoft Internet Explorer"==window.navigator.appName,o=function(t,e){n||(this.$element=i(t),this.options=i.extend({},o.DEFAULTS,e),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};o.DEFAULTS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]",w:"[A-Za-z0-9]","*":"."}},o.prototype.init=function(){var n=this.options.definitions;this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,i.each(this.mask.split(""),i.proxy(function(t,e){"?"==e?(0,this.partialPosition=t):n[e]?(this.tests.push(new RegExp(n[e])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=i.map(this.mask.split(""),i.proxy(function(t){if("?"!=t)return n[t]?this.options.placeholder:t},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",i.proxy(function(){return i.map(this.buffer,function(t,e){return this.tests[e]&&t!=this.options.placeholder?t:null}).join("")},this))},o.prototype.listen=function(){if(!this.$element.attr("readonly")){var t=(e?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",i.proxy(this.unmask,this)).on("focus.bs.inputmask",i.proxy(this.focusEvent,this)).on("blur.bs.inputmask",i.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",i.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",i.proxy(this.keypressEvent,this)).on(t,i.proxy(this.pasteEvent,this))}},o.prototype.caret=function(e,n){if(0!==this.$element.length){if("number"==typeof e)return n="number"==typeof n?n:e,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(e,n);else if(this.createTextRange){var t=this.createTextRange();t.collapse(!0),t.moveEnd("character",n),t.moveStart("character",e),t.select()}});if(this.$element[0].setSelectionRange)e=this.$element[0].selectionStart,n=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var t=document.selection.createRange();e=0-t.duplicate().moveStart("character",-1e5),n=e+t.text.length}return{begin:e,end:n}}},o.prototype.seekNext=function(t){for(var e=this.mask.length;++t<=e&&!this.tests[t];);return t},o.prototype.seekPrev=function(t){for(;0<=--t&&!this.tests[t];);return t},o.prototype.shiftL=function(t,e){var n=this.mask.length;if(!(t<0)){for(var i=t,o=this.seekNext(e);i<n;i++)if(this.tests[i]){if(!(o<n&&this.tests[i].test(this.buffer[o])))break;this.buffer[i]=this.buffer[o],this.buffer[o]=this.options.placeholder,o=this.seekNext(o)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}},o.prototype.shiftR=function(t){for(var e=this.mask.length,n=t,i=this.options.placeholder;n<e;n++)if(this.tests[n]){var o=this.seekNext(n),r=this.buffer[n];if(this.buffer[n]=i,!(o<e&&this.tests[o].test(r)))break;i=r}},o.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},o.prototype.focusEvent=function(){this.focusText=this.$element.val();var t=this.mask.length,e=this.checkVal();this.writeBuffer();var n=this,i=function(){e==t?n.caret(0,e):n.caret(e)};i(),setTimeout(i,50)},o.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},o.prototype.keydownEvent=function(t){var e=t.which;if(8==e||46==e||r&&127==e){var n=this.caret(),i=n.begin,o=n.end;return o-i==0&&(i=46!=e?this.seekPrev(i):o=this.seekNext(i-1),o=46==e?this.seekNext(o):o),this.clearBuffer(i,o),this.shiftL(i,o-1),!1}if(27==e)return this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1},o.prototype.keypressEvent=function(t){var e=this.mask.length,n=t.which,i=this.caret();if(t.ctrlKey||t.altKey||t.metaKey||n<32)return!0;if(n){i.end-i.begin!=0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1));var o=this.seekNext(i.begin-1);if(o<e){var r=String.fromCharCode(n);if(this.tests[o].test(r)){this.shiftR(o),this.buffer[o]=r,this.writeBuffer();var s=this.seekNext(o);this.caret(s)}}return!1}},o.prototype.pasteEvent=function(){var t=this;setTimeout(function(){t.caret(t.checkVal(!0))},0)},o.prototype.clearBuffer=function(t,e){for(var n=this.mask.length,i=t;i<e&&i<n;i++)this.tests[i]&&(this.buffer[i]=this.options.placeholder)},o.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},o.prototype.checkVal=function(t){for(var e=this.mask.length,n=this.$element.val(),i=-1,o=0,r=0;o<e;o++)if(this.tests[o]){for(this.buffer[o]=this.options.placeholder;r++<n.length;){var s=n.charAt(r-1);if(this.tests[o].test(s)){this.buffer[o]=s,i=o;break}}if(r>n.length)break}else this.buffer[o]==n.charAt(r)&&o!=this.partialPosition&&(r++,i=o);return!t&&i+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,e)):(t||i+1>=this.partialPosition)&&(this.writeBuffer(),t||this.$element.val(this.$element.val().substring(0,i+1))),this.partialPosition?o:this.firstNonMaskPos};var t=i.fn.inputmask;i.fn.inputmask=function(n){return this.each(function(){var t=i(this),e=t.data("bs.inputmask");e||t.data("bs.inputmask",e=new o(this,n))})},i.fn.inputmask.Constructor=o,i.fn.inputmask.noConflict=function(){return i.fn.inputmask=t,this},i(document).on("focus.bs.inputmask.data-api","[data-mask]",function(){var t=i(this);t.data("bs.inputmask"
)||t.inputmask(t.data())})}(window.jQuery),function(s){"use strict";var n="Microsoft Internet Explorer"==window.navigator.appName,i=function(t,e){if(this.$element=s(t),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||e.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=s('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var n=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==n&&"none"!==n&&this.$preview.css("line-height",n),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};i.prototype.listen=function(){this.$input.on("change.bs.fileinput",s.proxy(this.change,this)),s(this.$input[0].form).on("reset.bs.fileinput",s.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",s.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",s.proxy(this.clear,this))},i.prototype.change=function(t){var n=t.target.files===undefined?t.target&&t.target.value?[{name:t.target.value.replace(/^.+\\/,"")}]:[]:t.target.files;if(t.stopPropagation(),0!==n.length){this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var i=n[0];if(0<this.$preview.length&&("undefined"!=typeof i.type?i.type.match(/^image\/(gif|png|jpeg)$/):i.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var e=new FileReader,o=this.$preview,r=this.$element;e.onload=function(t){var e=s("<img>");e[0].src=t.target.result,n[0].result=t.target.result,r.find(".fileinput-filename").text(i.name),"none"!=o.css("max-height")&&e.css("max-height",parseInt(o.css("max-height"),10)-parseInt(o.css("padding-top"),10)-parseInt(o.css("padding-bottom"),10)-parseInt(o.css("border-top"),10)-parseInt(o.css("border-bottom"),10)),o.html(e),r.addClass("fileinput-exists").removeClass("fileinput-new"),r.trigger("change.bs.fileinput",n)},e.readAsDataURL(i)}else this.$element.find(".fileinput-filename").text(i.name),this.$preview.text(i.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")}else this.clear()},i.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),n){var e=this.$input.clone(!0);this.$input.after(e),this.$input.remove(),this.$input=e}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),t!==undefined&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},i.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},i.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var t=s.fn.fileinput;s.fn.fileinput=function(n){return this.each(function(){var t=s(this),e=t.data("bs.fileinput");e||t.data("bs.fileinput",e=new i(this,n)),"string"==typeof n&&e[n]()})},s.fn.fileinput.Constructor=i,s.fn.fileinput.noConflict=function(){return s.fn.fileinput=t,this},s(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(t){var e=s(this);if(!e.data("bs.fileinput")){e.fileinput(e.data());var n=s(t.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');0<n.length&&(t.preventDefault(),n.trigger("click.bs.fileinput"))}})}(window.jQuery),function(){var t=this,e=t._,s={},o=Array.prototype,n=Object.prototype,i=Function.prototype,r=o.push,a=o.slice,l=o.concat,d=n.toString,u=n.hasOwnProperty,c=o.forEach,h=o.map,f=o.reduce,p=o.reduceRight,g=o.filter,m=o.every,v=o.some,b=o.indexOf,y=o.lastIndexOf,w=Array.isArray,_=Object.keys,x=i.bind,C=function(t){return t instanceof C?t:this instanceof C?void(this._wrapped=t):new C(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):t._=C,C.VERSION="1.5.1";var k=C.each=C.forEach=function(t,e,n){if(null!=t)if(c&&t.forEach===c)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t)===s)return}else for(var r in t)if(C.has(t,r)&&e.call(n,t[r],r,t)===s)return};C.map=C.collect=function(t,i,o){var r=[];return null==t?r:h&&t.map===h?t.map(i,o):(k(t,function(t,e,n){r.push(i.call(o,t,e,n))}),r)};var T="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,i,o,r){var s=2<arguments.length;if(null==t&&(t=[]),f&&t.reduce===f)return r&&(i=C.bind(i,r)),s?t.reduce(i,o):t.reduce(i);if(k(t,function(t,e,n){s?o=i.call(r,o,t,e,n):(o=t,s=!0)}),!s)throw new TypeError(T);return o},C.reduceRight=C.foldr=function(i,o,r,s){var a=2<arguments.length;if(null==i&&(i=[]),p&&i.reduceRight===p)return s&&(o=C.bind(o,s)),a?i.reduceRight(o,r):i.reduceRight(o);var l=i.length;if(l!==+l){var u=C.keys(i);l=u.length}if(k(i,function(t,e,n){e=u?u[--l]:--l,a?r=o.call(s,r,i[e],e,n):(r=i[e],a=!0)}),!a)throw new TypeError(T);return r},C.find=C.detect=function(t,i,o){var r;return S(t,function(t,e,n){if(i.call(o,t,e,n))return r=t,!0}),r},C.filter=C.select=function(t,i,o){var r=[];return null==t?r:g&&t.filter===g?t.filter(i,o):(k(t,function(t,e,n){i.call(o,t,e,n)&&r.push(t)}),r)},C.reject=function(t,i,o){return C.filter(t,function(t,e,n){return!i.call(o,t,e,n)},o)},C.every=C.all=function(t,i,o){i||(i=C.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(i,o):(k(t,function(t,e,n){if(!(r=r&&i.call(o,t,e,n)))return s}),!!r)};var S=C.some=C.any=function(t,i,o){i||(i=C.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(i,o):(k(t,function(t,e,n){if(r||(r=i.call(o,t,e,n)))return s}),!!r)};C.contains=C.include=function(t,e){return null!=t&&(b&&t.indexOf===b?-1!=t.indexOf(e):S(t,function(t){return t===e}))},C.invoke=function(t,e){var n=a.call(arguments,2),i=C.isFunction(e);return C.map(t,function(t){return(i?e:t[e]).apply(t,n)})},C.pluck=function(t,e){return C.map(t,function(t){return t[e]})},C.where=function(t,n,e){return C.isEmpty(n)?e?void 0:[]:C[e?"find":"filter"](t,function(t){for(var e in n)if(n[e]!==t[e])return!1;return!0})},C.findWhere=function(t,e){return C.where(t,e,!0)},C.max=function(t,o,r){if(!o&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!o&&C.isEmpty(t))return-Infinity;var s={computed:-Infinity,value:-Infinity};return k(t,function(t,e,n){var i=o?o.call(r,t,e,n):t;i>s.computed&&(s={value:t,computed:i})}),s.value},C.min=function(t,o,r){if(!o&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!o&&C.isEmpty(t))return Infinity;var s={computed:Infinity,value:Infinity};return k(t,function(t,e,n){var i=o?o.call(r,t,e,n):t;i<s.computed&&(s={value:t,computed:i})}),s.value},C.shuffle=function(t){var e,n=0,i=[];return k(t,function(t){e=C.random(n++),i[n-1]=i[e],i[e]=t}),i};var E=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(t,e,i){var o=E(e);return C.pluck(C.map(t,function(t,e,n){return{value:t,index:e,criteria:o.call(i,t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index<e.index?-1:1}),"value")};var N=function(i,t,o,r){var s={},a=E(null==t?C.identity:t);return k(i,function(t,e){var n=a.call(o,t,e,i);r(s,n,t)}),s};C.groupBy=function(t,e,n){return N(t,e,n,function(t,e,n){(C.has(t,e)?t[e]:t[e]=[]).push(n)})},C.countBy=function(t,e,n){return N(t,e,n,function(t,e){C.has(t,e)||(t[e]=0),t[e]++})},C.sortedIndex=function(t,e,n,i){for(var o=(n=null==n?C.identity:E(n)).call(i,e),r=0,s=t.length;r<s;){var a=r+s>>>1;n.call(i,t[a])<o?r=a+1:s=a}return r},C.toArray=function(t){return t?C.isArray(t)?a.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:a.call(t,0,e)},C.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},C.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var D=function(t,e,n){return e&&C.every(t,C.isArray)?l.apply(n,t):(k(t,function(t){C.isArray(t)||C.isArguments(t)?e?r.apply(n,t):D(t,e,n):n.push(t)}),n)};C.flatten=function(t,e){return D(t,e,[])},C.without=function(t){return C.difference(t,a.call(arguments,1))},C.uniq=C.unique=function(n,i,t,e){C.isFunction(i)&&(e=t,t=i,i=!1);var o=t?C.map(n,t,e):n,r=[],s=[];return k(o,function(t,e){(i?e&&s[s.length-1]===t:C.contains(s,t))||(s.push(t),r.push(n[e]))}),r},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(t){var n=a.call(arguments,1);return C.filter(C.uniq(t),function(e){return C.every(n,function(t){return 0<=C.indexOf(t,e)})})},C.difference=function(t){var e=l.apply(o,a.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=C.max(C.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;n<t;n++)e[n]=C.pluck(arguments,""+n);return e},C.object=function(t,e){if(null==t)return{};for(var n={},i=0,o=t.length;i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},C.indexOf=function(t,e,n){if(null==t)return-1;var i=0,o=t.length;if(n){if("number"!=typeof n)return t[i=C.sortedIndex(t,e)]===e?i:-1;i=n<0?Math.max(0,o+n):n}if(b&&t.indexOf===b)return t.indexOf(e,n);for(;i<o;i++)if(t[i]===e)return i;return-1},C.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(y&&t.lastIndexOf===y)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var o=i?n:t.length;o--;)if(t[o]===e)return o;return-1},C.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=0,r=new Array(i);o<i;)r[o++]=t,t+=n;return r};var A=function(){};C.bind=function(n,i){var o,r;if(x&&n.bind===x)return x.apply(n,a.call(arguments,1));if(!C.isFunction(n))throw new TypeError;return o=a.call(arguments,2),r=function(){if(!(this instanceof r))return n.apply(i,o.concat(a.call(arguments)));A.prototype=n.prototype;var t=new A;A.prototype=null;var e=n.apply(t,o.concat(a.call(arguments)));return Object(e)===e?e:t}},C.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},C.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,n){var i={};return n||(n=C.identity),function(){var t=n.apply(this,arguments);return C.has(i,t)?i[t]:i[t]=e.apply(this,arguments)}},C.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(a.call(arguments,1)))},C.throttle=function(n,i,o){var r,s,a,l=null,u=0;o||(o={});var c=function(){u=!1===o.leading?0:new Date,l=null,a=n.apply(r,s)};return function(){var t=new Date;u||!1!==o.leading||(u=t);var e=i-(t-u);return r=this,s=arguments,e<=0?(clearTimeout(l),l=null,u=t,a=n.apply(r,s)):l||!1===o.trailing||(l=setTimeout(c,e)),a}},C.debounce=function(o,r,s){var a,l=null;return function(){var t=this,e=arguments,n=function(){l=null,s||(a=o.apply(t,e))},i=s&&!l;return clearTimeout(l),l=setTimeout(n,r),i&&(a=o.apply(t,e)),a}},C.once=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}},C.wrap=function(e,n){return function(){var t=[e];return r.apply(t,arguments),n.apply(this,t)}},C.compose=function(){var n=arguments;return function(){for(var t=arguments,e=n.length-1;0<=e;e--)t=[n[e].apply(this,t)];return t[0]}},C.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},C.keys=_||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)C.has(t,n)&&e.push(n);return e},C.values=function(t){var e=[];for(var n in t)C.has(t,n)&&e.push(t[n]);return e},C.pairs=function(t){var e=[];for(var n in t)C.has(t,n)&&e.push([n,t[n]]);return e},C.invert=function(t){var e={};for(var n in t)C.has(t,n)&&(e[t[n]]=n);return e},C.functions=C.methods=function(t){var e=[];for(var n in t)C.isFunction(t[n])&&e.push(n);return e.sort()},C.extend=function(n){return k(a.call(arguments,1),function(t){if(t)for(var e in t)n[e]=t[e]}),n},C.pick=function(e){var n={},t=l.apply(o,a.call(arguments,1));return k(t,function(t){t in e&&(n[t]=e[t])}),n},C.omit=function(t){var e={},n=l.apply(o,a.call(arguments,1));for(var i in t)C.contains(n,i)||(e[i]=t[i]);return e},C.defaults=function(n){return k(a.call(arguments,1),function(t){if(t)for(var e in t)void 0===n[e]&&(n[e]=t[e])}),n},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var z=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var o=d.call(t);if(o!=d.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=n.length;r--;)if(n[r]==t)return i[r]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(C.isFunction(s)&&s instanceof s&&C.isFunction(a)&&a instanceof a))return!1;n.push(t),i.push(e);var l=0,u=!0;if("[object Array]"==o){if(u=(l=t.length)==e.length)for(;l--&&(u=z(t[l],e[l],n,i)););}else{for(var c in t)if(C.has(t,c)&&(l++,!(u=C.has(e,c)&&z(t[c],e[c],n,i))))break;if(u){for(c in e)if(C.has(e,c)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};C.isEqual=function(t,e){return z(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=w||function(t){return"[object Array]"==d.call(t)},C.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return d.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(t){return"function"==typeof t}),C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==d.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return u.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.times=function(t,e,n){for(var i=Array(Math.max(0,t)),o=0;o<t;o++)i[o]=e.call(n,o);return i},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=C.invert(M.escape);var I={escape:new RegExp("["+C.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(M.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(I[e],function(t){return M[e][t]})}}),C.result=function(t,e){if(null!=t){var n=t[e];return C.isFunction(n)?n.call(t):n}},C.mixin=function(n){k(C.functions(n),function(t){var e=C[t]=n[t];C.prototype[t]=function(){var t=[this._wrapped];return r.apply(t,arguments),L.call(this,e.apply(C,t))}})};var P=0;C.uniqueId=function(t){var e=++P+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(r,t,e){var n;e=C.defaults({},e,C.templateSettings);var i=new RegExp([(e.escape||R).source,(e.interpolate||R).source,(e.evaluate||R).source].join("|")+"|$","g"),s=0,a="__p+='";r.replace(i,function(t,e,n,i,o){return a+=r.slice(s,o).replace(O,function(t){return"\\"+H[t]}),e&&(a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),n&&(a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),s=o+t.length,t}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(e.variable||"obj","_",a)}catch(l){throw l.source=a,l}if(t)return n(t,C);var o=function(t){return n.call(this,t,C)};return o.source="function("+(e.variable||"obj")+"){\n"+a+"}",o},C.chain=function(t){return C(t).chain()};var L=function(t){return this._chain?C(t).chain():t};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=o[e];C.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!=e&&"splice"!=e||0!==t.length||delete t[0],L.call(this,t)}}),k(["concat","join","slice"],function(t){var e=o[t];C.prototype[t]=function(){return L.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var a,t=this,e=t.Backbone,n=[],f=n.push,o=n.slice,p=n.splice;(a="undefined"!=typeof exports?exports:t.Backbone={}).VERSION="1.0.0";var g=t._;g||"undefined"==typeof require||(g=require("underscore")),a.$=t.jQuery||t.Zepto||t.ender||t.$,a.noConflict=function(){return t.Backbone=e,this},a.emulateHTTP=!1,a.emulateJSON=!1;var i=a.Events={on:function(t,e,n){return d(this,"on",t,[e,n])&&e&&(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this})),this},once:function(t,e,n){if(!d(this,"once",t,[e,n])||!e)return this;var i=this,o=g.once(function(){i.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,n)},off:function(t,e,n){var i,o,r,s,a,l,u,c;if(!this._events||!d(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(a=0,l=(s=t?[t]:g.keys(this._events)).length;a<l;a++)if(t=s[a],r=this._events[t]){if(this._events[t]=i=[],e||n)for(u=0,c=r.length;u<c;u++)o=r[u],(e&&e!==o.callback&&e!==o.callback._callback||n&&n!==o.context)&&i.push(o);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!d(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&r(n,e),i&&r(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var o=!e&&!n;for(var r in"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t),i)i[r].off(e,n,this),o&&delete this._listeners[r];return this}},l=/\s+/,d=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(i));return!1}if(l.test(n)){for(var r=n.split(l),s=0,a=r.length;s<a;s++)t[e].apply(t,[r[s]].concat(i));return!1}return!0},r=function(t,e){var n,i=-1,o=t.length,r=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e)}},s={listenTo:"on",listenToOnce:"once"};g.each(s,function(o,t){i[t]=function(t,e,n){var i=this._listeners||(this._listeners={});return"object"==typeof e&&(n=this),(i[t._listenerId||(t._listenerId=g.uniqueId("l"))]=t)[o](e,n,this),this}}),i.bind=i.on,i.unbind=i.off,g.extend(a,i);var u=a.Model=function(t,e){var n,i=t||{};e||(e={}),this.cid=g.uniqueId("c"),this.attributes={},g.extend(this,g.pick(e,c)),e.parse&&(i=this.parse(i,e)||{}),(n=g.result(this,"defaults"))&&(i=g.defaults({},i,n)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},c=["url","urlRoot","collection"];g.extend(u.prototype,i,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return g.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return g.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,o,r,s,a,l,u,c;if(null==t)return this;if("object"==typeof t?(o=t,n=e):(o={})[t]=e,n||(n={}),!this._validate(o,n))return!1;for(i in r=n.unset,a=n.silent,s=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=g.clone(this.attributes),this.changed={}),c=this.attributes,u=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]),o)e=o[i],g.isEqual(c[i],e)||s.push(i),g.isEqual(u[i],e)?delete this.changed[i]:this.changed[i]=e,r?delete c[i]:c[i]=e;if(!a){s.length&&(this._pending=!0);for(var d=0,h=s.length;d<h;d++)this.trigger("change:"+s[d],this,c[s[d]],n)}if(l)return this;if(!a)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,g.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,g.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!g.isEmpty(this.changed):g.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&g.clone(this.changed);var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in t)g.isEqual(i[o],e=t[o])||((n||(n={}))[o]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return g.clone(this._previousAttributes)},fetch:function(e){void 0===(e=e?g.clone(e):{}).parse&&(e.parse=!0);var n=this,i=e.success;return e.success=function(t){if(!n.set(n.parse(t,e),e))return!1;i&&i(n,t,e),n.trigger("sync",n,t,e)},O(this,e),this.sync("read",this,e)},save:function(t,e,n){var i,o,r,s=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,i&&(!n||!n.wait)&&!this.set(i,n))return!1;if(n=g.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=g.extend({},s,i)),void 0===n.parse&&(n.parse=!0);var a=this,l=n.success;return n.success=function(t){a.attributes=s;var e=a.parse(t,n);if(n.wait&&(e=g.extend(i||{},e)),g.isObject(e)&&!a.set(e,n))return!1;l&&l(a,t,n),a.trigger("sync",a,t,n)},O(this,n),"patch"===(o=this.isNew()?"create":n.patch?"patch":"update")&&(n.attrs=i),r=this.sync(o,this,n),i&&n.wait&&(this.attributes=s),r},destroy:function(e){e=e?g.clone(e):{};var n=this,i=e.success,o=function(){n.trigger("destroy",n,n.collection,e)};if(e.success=function(t){(e.wait||n.isNew())&&o(),i&&i(n,t,e),n.isNew()||n.trigger("sync",n,t,e)},this.isNew())return e.success(),!1;O(this,e);var t=this.sync("delete",this,e);return e.wait||o(),t},url:function(){var t=g.result(this,"urlRoot")||g.result(this.collection,"url")||H();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},g.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=g.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,g.extend(e||{},{validationError:n})),!1)}});var h=["keys","values","pairs","invert","pick","omit"];g.each(h,function(e){u.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),g[e].apply(g,t)}});var m=a.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,g.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},b={add:!0,merge:!1,remove:!1};g.extend(m.prototype,i,{model:u,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return a.sync.apply(this,arguments)},add:function(t,e){return this.set(t,g.defaults(e||{},b))},remove:function(t,e){var n,i,o,r;for(e||(e={}),n=0,i=(t=g.isArray(t)?t.slice():[t]).length;n<i;n++)(r=this.get(t[n]))&&(delete this._byId[r.id],delete this._byId[r.cid],o=this.indexOf(r),this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),this._removeReference(r));return this},set:function(t,e){var n,i,o,r,s;(e=g.defaults(e||{},v)).parse&&(t=this.parse(t,e)),g.isArray(t)||(t=t?[t]:[]);var a=e.at,l=this.comparator&&null==a&&!1!==e.sort,u=g.isString(this.comparator)?this.comparator:null,c=[],d=[],h={};for(n=0,i=t.length;n<i;n++)(o=this._prepareModel(t[n],e))&&((r=this.get(o))?(e.remove&&(h[r.cid]=!0),e.merge&&(r.set(o.attributes,e),l&&!s&&r.hasChanged(u)&&(s=!0))):e.add&&(c.push(o),o.on("all",this._onModelEvent,this),null!=(this._byId[o.cid]=o).id&&(this._byId[o.id]=o)));if(e.remove){for(n=0,i=this.length;n<i;++n)h[(o=this.models[n]).cid]||d.push(o);d.length&&this.remove(d,e)}if(c.length&&(l&&(s=!0),this.length+=c.length,null!=a?p.apply(this.models,[a,0].concat(c)):f.apply(this.models,c)),s&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=c.length;n<i;n++)(o=c[n]).trigger("add",o,this,e);return s&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,i=this.models.length;n<i;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,g.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,g.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,g.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){if(null!=t)return this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(n,t){return g.isEmpty(n)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var e in n)if(n[e]!==t.get(e))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),g.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(g.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var i=g.isFunction(e)?e:function(t){return t.get(e)};return g.sortedIndex(this.models,t,i,n)},pluck:function(t){return g.invoke(this.models,"get",t)},fetch:function(n){void 0===(n=n?g.clone(n):{}).parse&&(n.parse=!0);var i=n.success,o=this;return n.success=function(t){var e=n.reset?"reset":"set";o[e](t,n),i&&i(o,t,n),o.trigger("sync",o,t,n)},O(this,n),this.sync("read",this,n)},create:function(e,n){if(n=n?g.clone(n):{},!(e=this._prepareModel(e,n)))return!1;n.wait||this.add(e,n);var i=this,o=n.success;return n.success=function(t){n.wait&&i.add(e,n),o&&o(e,t,n)},e.save(null,n),e},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof u)return t.collection||(t.collection=this),t;e||(e={});var n=new(e.collection=this).model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];g.each(y,function(e){m.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),g[e].apply(g,t)}});var w=["groupBy","countBy","sortBy"];g.each(w,function(i){m.prototype[i]=function(e,t){var n=g.isFunction(e)?e:function(t){return t.get(e)};return g[i](this.models,n,t)}});var _=a.View=function(t){this.cid=g.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];g.extend(_.prototype,i,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof a.$?t:a.$(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=g.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(g.isFunction(n)||(n=this[t[e]]),n){var i=e.match(x),o=i[1],r=i[2];n=g.bind(n,this),o+=".delegateEvents"+this.cid,""===r?this.$el.on(o,n):this.$el.on(o,r,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=g.extend({},g.result(this,"options"),t)),g.extend(this,g.pick(t,C)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(g.result(this,"el"),!1);else{var t=g.extend({},g.result(this,"attributes"));this.id&&(t.id=g.result(this,"id")),this.className&&(t["class"]=g.result(this,"className"));var e=a.$("<"+g.result(this,"tagName")+">").attr(t);this.setElement(e,!1)}}}),a.sync=function(t,e,n){var i=k[t];g.defaults(n||(n={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var o={type:i,dataType:"json"};if(n.url||(o.url=g.result(e,"url")||H()),null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||e.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),n.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){o.type="POST",n.emulateJSON&&(o.data._method=i);var r=n.beforeSend;n.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",i),r)return r.apply(this,arguments)}}"GET"===o.type||n.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var s=n.xhr=a.ajax(g.extend(o,n));return e.trigger("request",e,s,n),s};var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var T=a.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,N=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;g.extend(T.prototype,i,{initialize:function(){},route:function(n,i,o){g.isRegExp(n)||(n=this._routeToRegExp(n)),g.isFunction(i)&&(o=i,i=""),o||(o=this[i]);var r=this;return a.history.route(n,function(t){var e=r._extractParameters(n,t);o&&o.apply(r,e),r.trigger.apply(r,["route:"+i].concat(e)),r.trigger("route",i,e),a.history.trigger("route",r,i,e)}),this},navigate:function(t,e){return a.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=g.result(this,"routes");for(var t,e=g.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(D,"\\$&").replace(S,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/]+)"}).replace(N,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return g.map(n,function(t){return t?decodeURIComponent(t):null})}});var A=a.History=function(){this.handlers=[],g.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,
this.history=window.history)},z=/^[#\/]|\s+$/g,M=/^\/+|\/+$/g,I=/msie [\w.]+/,P=/\/$/;A.started=!1,g.extend(A.prototype,i,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(P,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(z,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=g.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment(),n=document.documentMode,i=I.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(M,"/"),i&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var o=this.location,r=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&r&&o.hash&&(this.fragment=this.getHash().replace(z,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return g.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(t,e){if(!A.started)return!1;if(e&&!0!==e||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),a.history=new A;var R=function(t,e){var n,i=this;n=t&&g.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},g.extend(n,i,e);var o=function(){this.constructor=n};return o.prototype=i.prototype,n.prototype=new o,t&&g.extend(n.prototype,t),n.__super__=i.prototype,n};u.extend=m.extend=T.extend=_.extend=A.extend=R;var H=function(){throw new Error('A "url" property or function must be specified')},O=function(e,n){var i=n.error;n.error=function(t){i&&i(e,t,n),e.trigger("error",e,t,n)}}}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(S){"use strict";function t(e){return function(t){return e===t}}function e(t,e){return t===e}function n(n){return function(t,e){return t[n]===e[n]}}function i(){return!0}function o(){return!1}function r(t){return function(){return!t.apply(t,arguments)}}function s(e,n){return function(t){return e(t)&&n(t)}}function a(t){return t}function l(t,e){return function(){return t[e].apply(t,arguments)}}function u(t){var e=++pe+"";return t?t+e:e}function c(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}}function d(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function h(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")}function f(o,r,s){var a,l=this;return function(){var t=l,e=arguments,n=function(){a=null,s||o.apply(t,e)},i=s&&!a;clearTimeout(a),a=setTimeout(n,r),i&&o.apply(t,e)}}function p(t){return t[0]}function g(t){return t[t.length-1]}function m(t){return t.slice(0,t.length-1)}function v(t){return t.slice(1)}function b(t,e){for(var n=0,i=t.length;n<i;n++){var o=t[n];if(e(o))return o}}function y(t,e){for(var n=0,i=t.length;n<i;n++)if(!e(t[n]))return!1;return!0}function w(t,e){return S.inArray(e,t)}function _(t,e){return-1!==w(t,e)}function x(t,n){return n=n||ge.self,t.reduce(function(t,e){return t+n(e)},0)}function C(t){for(var e=[],n=t.length,i=-1;++i<n;)e[i]=t[i];return e}function k(t){return!t||!t.length}function T(t,i){return t.length?v(t).reduce(function(t,e){var n=g(t);return i(g(n),e)?n[n.length]=e:t[t.length]=[e],t},[[p(t)]]):[]}function E(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e}function N(t){for(var e=[],n=0,i=t.length;n<i;n++)_(e,t[n])||e.push(t[n]);return e}function D(t,e){var n=w(t,e);return-1===n?null:t[n+1]}function A(t,e){var n=w(t,e);return-1===n?null:t[n-1]}function z(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",n=S("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=n.css("fontFamily",e).width(),o=n.css("fontFamily",t+","+e).width();return n.remove(),i!==o}function M(t){return t&&S(t).hasClass("note-editable")}function I(t){return t&&S(t).hasClass("note-control-sizing")}function P(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function R(t){return t&&3===t.nodeType}function H(t){return t&&1===t.nodeType}function O(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(t.nodeName.toUpperCase())}function L(t){return!M(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}function F(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())}function B(t){return L(t)&&!De(t)}function j(t){return!(q(t)||V(t)||Me(t)||L(t)||Ae(t)||Ie(t)||ze(t))}function V(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}function U(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}function q(t){return U(t)||Ie(t)||M(t)}function W(t){return j(t)&&!!Z(t,L)}function Y(t){return j(t)&&!Z(t,L)}function K(t,e){return t.nextSibling===e||t.previousSibling===e}function G(t,e){e=e||ge.ok;var n=[];return t.previousSibling&&e(t.previousSibling)&&n.push(t.previousSibling),n.push(t),t.nextSibling&&e(t.nextSibling)&&n.push(t.nextSibling),n}function X(t){return R(t)?t.nodeValue.length:t?t.childNodes.length:0}function Q(t){var e=X(t);return 0===e||(!R(t)&&1===e&&t.innerHTML===He||!(!me.all(t.childNodes,R)||""!==t.innerHTML))}function J(t){O(t)||X(t)||(t.innerHTML=He)}function Z(t,e){for(;t;){if(e(t))return t;if(M(t))break;t=t.parentNode}return null}function tt(t,e){for(t=t.parentNode;t&&1===X(t);){if(e(t))return t;if(M(t))break;t=t.parentNode}return null}function et(t,e){e=e||ge.fail;var n=[];return Z(t,function(t){return M(t)||n.push(t),e(t)}),n}function nt(t,e){var n=et(t);return me.last(n.filter(e))}function it(t,e){for(var n=et(t),i=e;i;i=i.parentNode)if(-1<S.inArray(i,n))return i;return null}function ot(t,e){e=e||ge.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n}function rt(t,e){e=e||ge.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n}function st(i,o){var r=[];return o=o||ge.ok,function s(t){i!==t&&o(t)&&r.push(t);for(var e=0,n=t.childNodes.length;e<n;e++)s(t.childNodes[e])}(i),r}function at(t,e){var n=t.parentNode,i=S("<"+e+">")[0];return n.insertBefore(i,t),i.appendChild(t),i}function lt(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function ut(n,t){return S.each(t,function(t,e){n.appendChild(e)}),n}function ct(t){return 0===t.offset}function dt(t){return t.offset===X(t.node)}function ht(t){return ct(t)||dt(t)}function ft(t,e){for(;t&&t!==e;){if(0!==vt(t))return!1;t=t.parentNode}return!0}function pt(t,e){if(!e)return!1;for(;t&&t!==e;){if(vt(t)!==X(t.parentNode)-1)return!1;t=t.parentNode}return!0}function gt(t,e){return ct(t)&&ft(t.node,e)}function mt(t,e){return dt(t)&&pt(t.node,e)}function vt(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function bt(t){return!!(t&&t.childNodes&&t.childNodes.length)}function yt(t,e){var n,i;if(0===t.offset){if(M(t.node))return null;n=t.node.parentNode,i=vt(t.node)}else bt(t.node)?i=X(n=t.node.childNodes[t.offset-1]):(n=t.node,i=e?0:t.offset-1);return{node:n,offset:i}}function wt(t,e){var n,i;if(X(t.node)===t.offset){if(M(t.node))return null;n=t.node.parentNode,i=vt(t.node)+1}else bt(t.node)?(n=t.node.childNodes[t.offset],i=0):(n=t.node,i=e?X(t.node):t.offset+1);return{node:n,offset:i}}function _t(t,e){return t.node===e.node&&t.offset===e.offset}function xt(t){if(R(t.node)||!bt(t.node)||Q(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!O(e)||n&&!O(n))}function Ct(t,e){for(;t;){if(e(t))return t;t=yt(t)}return null}function kt(t,e){for(;t;){if(e(t))return t;t=wt(t)}return null}function Tt(t){if(!R(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==Se}function St(t,e,n,i){for(var o=t;o&&(n(o),!_t(o,e));){o=wt(o,i&&t.node!==o.node&&e.node!==o.node)}}function Et(t,e){return et(e,ge.eq(t)).map(vt).reverse()}function Nt(t,e){for(var n=t,i=0,o=e.length;i<o;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n}function Dt(t,e){var n=e&&e.isSkipPaddingBlankHTML,i=e&&e.isNotSplitEdgePoint;if(ht(t)&&(R(t.node)||i)){if(ct(t))return t.node;if(dt(t))return t.node.nextSibling}if(R(t.node))return t.node.splitText(t.offset);var o=t.node.childNodes[t.offset],r=lt(t.node.cloneNode(!1),t.node);return ut(r,rt(o)),n||(J(t.node),J(r)),r}function At(t,n,i){var e=et(n.node,ge.eq(t));return e.length?1===e.length?Dt(n,i):e.reduce(function(t,e){return t===n.node&&(t=Dt(n,i)),Dt({node:e,offset:t?vt(t):X(e)},i)}):null}function zt(t,e){var n,i,o=e?L:q,r=et(t.node,o),s=me.last(r)||t.node;o(s)?(n=r[r.length-2],i=s):i=(n=s).parentNode;var a=n&&At(n,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return a||i!==t.node||(a=t.node.childNodes[t.offset]),{rightNode:a,container:i}}function Mt(t){return document.createElement(t)}function It(t){return document.createTextNode(t)}function Pt(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){for(var i=[],o=0,r=t.childNodes.length;o<r;o++)i.push(t.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],t)}n.removeChild(t)}}function Rt(t,e){for(;t&&!M(t)&&e(t);){var n=t.parentNode;Pt(t),t=n}}function Ht(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=Mt(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),ut(n,me.from(t.childNodes)),lt(n,t),Pt(t),n}function Ot(t,e){var n=Oe(t[0])?t.val():t.html();return e?n.replace(/[\n\r]/g,""):n}function Lt(t,e){var n=Ot(t);if(e){var i=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;n=n.replace(i,function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||o?"\n":"")}),n=S.trim(n)}return n}function Ft(t){var e=S(t),n=e.offset(),i=e.outerHeight(!0);return{left:n.left,top:n.top+i}}function Bt(e,n){Object.keys(n).forEach(function(t){e.on(t,n[t])})}function $t(e,n){Object.keys(n).forEach(function(t){e.off(t,n[t])})}function jt(t){return t&&!R(t)&&me.contains(t.classList,"note-styletag")}function Vt(t,e){var n,i,o=t.parentElement(),r=document.body.createTextRange(),s=me.from(o.childNodes);for(n=0;n<s.length;n++)if(!Le.isText(s[n])){if(r.moveToElementText(s[n]),0<=r.compareEndPoints("StartToStart",t))break;i=s[n]}if(0!==n&&Le.isText(s[n-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(i||o),a.collapse(!i),l=i?i.nextSibling:o.firstChild;var u=t.duplicate();u.setEndPoint("StartToStart",a);for(var c=u.text.replace(/[\r\n]/g,"").length;c>l.nodeValue.length&&l.nextSibling;)c-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&Le.isText(l.nextSibling)&&c===l.nodeValue.length&&(c-=l.nodeValue.length,l=l.nextSibling),o=l,n=c}return{cont:o,offset:n}}function Ut(t){var s=function(t,e){var n,i;if(Le.isText(t)){var o=Le.listPrev(t,ge.not(Le.isText)),r=me.last(o).previousSibling;n=r||t.parentNode,e+=me.sum(me.tail(o),Le.nodeLength),i=!r}else{if(n=t.childNodes[e]||t,Le.isText(n))return s(n,0);e=0,i=!1}return{node:n,collapseToStart:i,offset:e}},e=document.body.createTextRange(),n=s(t.node,t.offset);return e.moveToElementText(n.node),e.collapse(n.collapseToStart),e.moveStart("character",n.offset),e}function qt(t){return S.Deferred(function(n){S.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(t){n.reject(t)}}).readAsDataURL(t)}).promise()}function Wt(n){return S.Deferred(function(t){var e=S("<img>");e.one("load",function(){e.off("error abort"),t.resolve(e)}).one("error abort",function(){e.off("load").detach(),t.reject(e)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise()}S=S&&S.hasOwnProperty("default")?S["default"]:S;var Yt,Kt=function(){function t(t,e,n,i){this.markup=t,this.children=e,this.options=n,this.callback=i}return t.prototype.render=function(t){var n=S(this.markup);if(this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&S.each(this.options.data,function(t,e){n.attr("data-"+t,e)}),this.options&&this.options.click&&n.on("click",this.options.click),this.children){var e=n.find(".note-children-container");this.children.forEach(function(t){t.render(e.length?e:n)})}return this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),t&&t.append(n),n},t}(),Gt={create:function(o,r){return function(t,e){var n="object"==typeof e?arguments[1]:arguments[0],i=S.isArray(arguments[0])?arguments[0]:[];return n&&n.children&&(i=n.children),new Kt(o,i,n,r)}}},Xt=Gt.create('<div class="note-editor note-frame panel"/>'),Qt=Gt.create('<div class="note-toolbar-wrapper panel-default"><div class="note-toolbar panel-heading" role="toolbar"></div></div>'),Jt=Gt.create('<div class="note-editing-area"/>'),Zt=Gt.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),te=Gt.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),ee=Gt.create(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),ne=Gt.create('<div class="note-editor"/>'),ie=Gt.create(['  <output class="note-status-output" aria-live="polite"/>','<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'].join("")),oe=Gt.create('<div class="note-btn-group btn-group">'),re=Gt.create('<ul class="dropdown-menu" role="list">',function(t,o){var e=S.isArray(o.items)?o.items.map(function(t){var e="string"==typeof t?t:t.value||"",n=o.template?o.template(t):t,i="object"==typeof t?t.option:undefined;return'<li role="listitem" aria-label="'+t+'"><a href="#" '+('data-value="'+e+'"'+(i!==undefined?' data-option="'+i+'"':""))+">"+n+"</a></li>"}).join(""):o.items;t.html(e).attr({"aria-label":o.title})}),se=function(t,e){return t+" "+he(e.icons.caret,"span")},ae=Gt.create('<ul class="dropdown-menu note-check" role="list">',function(t,i){var e=S.isArray(i.items)?i.items.map(function(t){var e="string"==typeof t?t:t.value||"",n=i.template?i.template(t):t;return'<li role="listitem" aria-label="'+t+'"><a href="#" data-value="'+e+'">'+he(i.checkClassName)+" "+n+"</a></li>"}).join(""):i.items;t.html(e).attr({"aria-label":i.title})}),le=Gt.create('<div class="note-color-palette"/>',function(t,e){for(var n=[],i=0,o=e.colors.length;i<o;i++){for(var r=e.eventName,s=e.colors[i],a=e.colorsName[i],l=[],u=0,c=s.length;u<c;u++){var d=s[u],h=a[u];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',h,'" ','aria-label="',h,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(n.join("")),e.tooltip&&t.find(".note-color-btn").tooltip({container:e.container,trigger:"hover",placement:"bottom"})}),ue=Gt.create('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),ce=Gt.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var n="undefined"!=typeof e.direction?e.direction:"bottom";t.addClass(n),e.hideArrow&&t.find(".arrow").hide()}),de=Gt.create('<div class="checkbox"></div>',function(t,e){t.html([" <label"+(e.id?' for="'+e.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(e.id?' id="'+e.id+'"':""),e.checked?" checked":"",' aria-checked="'+(e.checked?"true":"false")+'"/>',e.text?e.text:"","</label>"].join(""))}),he=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},fe={editor:Xt,toolbar:Qt,editingArea:Jt,codable:Zt,editable:te,statusbar:ee,airEditor:ne,airEditable:ie,buttonGroup:oe,dropdown:re,dropdownButtonContents:se,dropdownCheck:ae,palette:le,dialog:ue,popover:ce,checkbox:de,icon:he,options:{},button:function(t,e){return Gt.create('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip,"aria-label":e.tooltip}).tooltip({container:e.container,trigger:"hover",placement:"bottom"})})(t,e)},toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var n=(e.airMode?fe.airEditor([fe.editingArea([fe.airEditable()])]):fe.editor([fe.toolbar(),fe.editingArea([fe.codable(),fe.editable()]),fe.statusbar()])).render();return n.insertAfter(t),{note:t,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}},pe=0,ge={eq:t,eq2:e,peq2:n,ok:i,fail:o,self:a,not:r,and:s,invoke:l,uniqueId:u,rect2bnd:c,invertObject:d,namespaceToCamel:h,debounce:f},me={head:p,last:g,initial:m,tail:v,prev:A,next:D,find:b,contains:_,all:y,sum:x,from:C,isEmpty:k,clusterBy:T,compact:E,unique:N},ve="function"==typeof define&&define.amd,be=navigator.userAgent,ye=/MSIE|Trident/i.test(be);if(ye){var we=/MSIE (\d+[.]\d+)/.exec(be);we&&(Yt=parseFloat(we[1])),(we=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(be))&&(Yt=parseFloat(we[1]))}var _e=/Edge\/\d+/.test(be),xe=!!window.CodeMirror;if(!xe&&ve)if("function"==typeof __webpack_require__)try{require.resolve("codemirror"),xe=!0}catch(Tn){}else if("undefined"!=typeof require)if("undefined"!=typeof require.resolve)try{require.resolve("codemirror"),xe=!0}catch(Tn){}else"undefined"!=typeof require.specified&&(xe=require.specified("codemirror"));var Ce="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,ke=ye||_e?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",Te={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:ye,isEdge:_e,isFF:!_e&&/firefox/i.test(be),isPhantom:/PhantomJS/i.test(be),isWebkit:!_e&&/webkit/i.test(be),isChrome:!_e&&/chrome/i.test(be),isSafari:!_e&&/safari/i.test(be),browserVersion:Yt,jqueryVersion:parseFloat(S.fn.jquery),isSupportAmd:ve,isSupportTouch:Ce,hasCodeMirror:xe,isFontInstalled:z,isW3CRangeSupport:!!document.createRange,inputEventName:ke},Se=String.fromCharCode(160),Ee="\ufeff",Ne=P("PRE"),De=P("LI"),Ae=P("TABLE"),ze=P("DATA"),Me=P("HR"),Ie=P("BLOCKQUOTE"),Pe=P("A"),Re=P("BODY"),He=Te.isMSIE&&Te.browserVersion<11?"&nbsp;":"<br>",Oe=P("TEXTAREA"),Le={NBSP_CHAR:Se,ZERO_WIDTH_NBSP_CHAR:Ee,blank:He,emptyPara:"<p>"+He+"</p>",makePredByNodeName:P,isEditable:M,isControlSizing:I,isText:R,isElement:H,isVoid:O,isPara:L,isPurePara:B,isHeading:F,isInline:j,isBlock:ge.not(j),isBodyInline:Y,isBody:Re,isParaInline:W,isPre:Ne,isList:V,isTable:Ae,isData:ze,isCell:U,isBlockquote:Ie,isBodyContainer:q,isAnchor:Pe,isDiv:P("DIV"),isLi:De,isBR:P("BR"),isSpan:P("SPAN"),isB:P("B"),isU:P("U"),isS:P("S"),isI:P("I"),isImg:P("IMG"),isTextarea:Oe,isEmpty:Q,isEmptyAnchor:ge.and(Pe,Q),isClosestSibling:K,withClosestSiblings:G,nodeLength:X,isLeftEdgePoint:ct,isRightEdgePoint:dt,isEdgePoint:ht,isLeftEdgeOf:ft,isRightEdgeOf:pt,isLeftEdgePointOf:gt,isRightEdgePointOf:mt,prevPoint:yt,nextPoint:wt,isSamePoint:_t,isVisiblePoint:xt,prevPointUntil:Ct,nextPointUntil:kt,isCharPoint:Tt,walkPoint:St,ancestor:Z,singleChildAncestor:tt,listAncestor:et,lastAncestor:nt,listNext:rt,listPrev:ot,listDescendant:st,commonAncestor:it,wrap:at,insertAfter:lt,appendChildNodes:ut,position:vt,hasChildren:bt,makeOffsetPath:Et,fromOffsetPath:Nt,splitTree:At,splitPoint:zt,create:Mt,createText:It,remove:Pt,removeWhile:Rt,replace:Ht,html:Lt,value:Ot,posFromPlaceholder:Ft,attachEvents:Bt,detachEvents:$t,isCustomStyleTag:jt};S.summernote=S.summernote||{lang:{}},S.extend(S.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var Fe={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Be={isEdit:function(t){return me.contains([Fe.BACKSPACE,Fe.TAB,Fe.ENTER,Fe.SPACE,Fe.DELETE],t)},isMove:function(t){return me.contains([Fe.LEFT,Fe.UP,Fe.RIGHT,Fe.DOWN],t)},nameFromCode:ge.invertObject(Fe),code:Fe},$e=function(){function r(t,e,n,i){this.sc=t,this.so=e,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(Le.isEditable),this.isOnList=this.makeIsOn(Le.isList),this.isOnAnchor=this.makeIsOn(Le.isAnchor),this.isOnCell=this.makeIsOn(Le.isCell),this.isOnData=this.makeIsOn(Le.isData)}return r.prototype.nativeRange=function(){if(Te.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.so),t.setEnd(this.ec,this.eo),t}var e=Ut({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Ut({node:this.ec,offset:this.eo})),e},r.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},r.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},r.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},r.prototype.select=function(){var t=this.nativeRange();if(Te.isW3CRangeSupport){var e=document.getSelection();0<e.rangeCount&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},r.prototype.scrollIntoView=function(t){var e=S(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this},r.prototype.normalize=function(){var t=function(t,e){if(Le.isVisiblePoint(t)&&!Le.isEdgePoint(t)||Le.isVisiblePoint(t)&&Le.isRightEdgePoint(t)&&!e||Le.isVisiblePoint(t)&&Le.isLeftEdgePoint(t)&&e||Le.isVisiblePoint(t)&&Le.isBlock(t.node)&&Le.isEmpty(t.node))return t;var n=Le.ancestor(t.node,Le.isBlock);if((Le.isLeftEdgePointOf(t,n)||Le.isVoid(Le.prevPoint(t).node))&&!e||(Le.isRightEdgePointOf(t,n)||Le.isVoid(Le.nextPoint(t).node))&&e){if(Le.isVisiblePoint(t))return t;e=!e}return(e?Le.nextPointUntil(Le.nextPoint(t),Le.isVisiblePoint):Le.prevPointUntil(Le.prevPoint(t),Le.isVisiblePoint))||t},e=t(this.getEndPoint(),!1),n=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new r(n.node,n.offset,e.node,e.offset)},r.prototype.nodes=function(n,t){n=n||ge.ok;var i=t&&t.includeAncestor,o=t&&t.fullyContains,e=this.getStartPoint(),r=this.getEndPoint(),s=[],a=[];return Le.walkPoint(e,r,function(t){var e;Le.isEditable(t.node)||(o?(Le.isLeftEdgePoint(t)&&a.push(t.node),Le.isRightEdgePoint(t)&&me.contains(a,t.node)&&(e=t.node)):e=i?Le.ancestor(t.node,n):t.node,e&&n(e)&&s.push(e))},!0),me.unique(s)},r.prototype.commonAncestor=function(){return Le.commonAncestor(this.sc,this.ec)},r.prototype.expand=function(t){var e=Le.ancestor(this.sc,t),n=Le.ancestor(this.ec,t);if(!e&&!n)return new r(this.sc,this.so,this.ec,this.eo);var i=this.getPoints();return e&&(i.sc=e,i.so=0),n&&(i.ec=n,i.eo=Le.nodeLength(n)),new r(i.sc,i.so,i.ec,i.eo)},r.prototype.collapse=function(t){return t?new r(this.sc,this.so,this.sc,this.so):new r(this.ec,this.eo,this.ec,this.eo)},r.prototype.splitText=function(){var t=this.sc===this.ec,e=this.getPoints();return Le.isText(this.ec)&&!Le.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Le.isText(this.sc)&&!Le.isEdgePoint(this.getStartPoint())&&(e.sc=this.sc.splitText(this.so),e.so=0,t&&(e.ec=e.sc,e.eo=this.eo-this.so)),new r(e.sc,e.so,e.ec,e.eo)},r.prototype.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),i=Le.prevPointUntil(t.getStartPoint(),function(t){return!me.contains(e,t.node)}),o=[];return S.each(e,function(t,e){var n=e.parentNode;i.node!==n&&1===Le.nodeLength(n)&&o.push(n),Le.remove(e,!1)}),S.each(o,function(t,e){Le.remove(e,!1)}),new r(i.node,i.offset,i.node,i.offset).normalize()},r.prototype.makeIsOn=function(e){return function(){var t=Le.ancestor(this.sc,e);return!!t&&t===Le.ancestor(this.ec,e)}},r.prototype.isLeftEdgeOf=function(t){if(!Le.isLeftEdgePoint(this.getStartPoint()))return!1;var e=Le.ancestor(this.sc,t);return e&&Le.isLeftEdgeOf(this.sc,e)},r.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},r.prototype.wrapBodyInlineWithPara=function(){if(Le.isBodyContainer(this.sc)&&Le.isEmpty(this.sc))return this.sc.innerHTML=Le.emptyPara,new r(this.sc.firstChild,0,this.sc.firstChild,0);var t,e=this.normalize();if(Le.isParaInline(this.sc)||Le.isPara(this.sc))return e;if(Le.isInline(e.sc)){var n=Le.listAncestor(e.sc,ge.not(Le.isInline));t=me.last(n),Le.isInline(t)||(t=n[n.length-2]||e.sc.childNodes[e.so])}else t=e.sc.childNodes[0<e.so?e.so-1:0];var i=Le.listPrev(t,Le.isParaInline).reverse();if((i=i.concat(Le.listNext(t.nextSibling,Le.isParaInline))).length){var o=Le.wrap(me.head(i),"p");Le.appendChildNodes(o,me.tail(i))}return this.normalize()},r.prototype.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),n=Le.splitPoint(e.getStartPoint(),Le.isInline(t));return n.rightNode?n.rightNode.parentNode.insertBefore(t,n.rightNode):n.container.appendChild(t),t},r.prototype.pasteHTML=function(t){var e=S("<div></div>").html(t)[0],n=me.from(e.childNodes),i=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(t){return i.insertNode(t)}).reverse()},r.prototype.toString=function(){var t=this.nativeRange();return Te.isW3CRangeSupport?t.toString():t.text},r.prototype.getWordRange=function(t){var e=this.getEndPoint();if(!Le.isCharPoint(e))return this;var n=Le.prevPointUntil(e,function(t){return!Le.isCharPoint(t)});return t&&(e=Le.nextPointUntil(e,function(t){return!Le.isCharPoint(t)})),new r(n.node,n.offset,e.node,e.offset)},r.prototype.bookmark=function(t){return{s:{path:Le.makeOffsetPath(t,this.sc),offset:this.so},e:{path:Le.makeOffsetPath(t,this.ec),offset:this.eo}}},r.prototype.paraBookmark=function(t){return{s:{path:me.tail(Le.makeOffsetPath(me.head(t),this.sc)),offset:this.so},e:{path:me.tail(Le.makeOffsetPath(me.last(t),this.ec)),offset:this.eo}}},r.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},r}(),je={create:function(t,e,n,i){if(4===arguments.length)return new $e(t,e,n,i);if(2===arguments.length)return new $e(n=t,i=e,n,i);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0])).collapse(Le.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var t,e,n,i;if(Te.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(Le.isBody(o.anchorNode))return null;var r=o.getRangeAt(0);t=r.startContainer,e=r.startOffset,n=r.endContainer,i=r.endOffset}else{var s=document.selection.createRange(),
a=s.duplicate();a.collapse(!1);var l=s;l.collapse(!0);var u=Vt(l,!0),c=Vt(a,!1);Le.isText(u.node)&&Le.isLeftEdgePoint(u)&&Le.isTextNode(c.node)&&Le.isRightEdgePoint(c)&&c.node.nextSibling===u.node&&(u=c),t=u.cont,e=u.offset,n=c.cont,i=c.offset}return new $e(t,e,n,i)},createFromNode:function(t){var e=t,n=0,i=t,o=Le.nodeLength(i);return Le.isVoid(e)&&(n=Le.listPrev(e).length-1,e=e.parentNode),Le.isBR(i)?(o=Le.listPrev(i).length-1,i=i.parentNode):Le.isVoid(i)&&(o=Le.listPrev(i).length,i=i.parentNode),this.create(e,n,i,o)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var n=Le.fromOffsetPath(t,e.s.path),i=e.s.offset,o=Le.fromOffsetPath(t,e.e.path),r=e.e.offset;return new $e(n,i,o,r)},createFromParaBookmark:function(t,e){var n=t.s.offset,i=t.e.offset,o=Le.fromOffsetPath(me.head(e),t.s.path),r=Le.fromOffsetPath(me.last(e),t.e.path);return new $e(o,n,r,i)}},Ve=function(){function t(t){this.stack=[],this.stackOffset=-1,this.$editable=t,this.editable=t[0]}return t.prototype.makeSnapshot=function(){var t=je.create(this.editable),e={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:t?t.bookmark(this.editable):e}},t.prototype.applySnapshot=function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&je.createFromBookmark(this.editable,t.bookmark).select()},t.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},t.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},t.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},t}(),Ue=function(){function t(){}return t.prototype.jQueryCSS=function(n,t){if(Te.jqueryVersion<1.9){var i={};return S.each(t,function(t,e){i[e]=n.css(e)}),i}return n.css(t)},t.prototype.fromNode=function(t){var e=["font-family","font-size","text-align","list-style-type","line-height"],n=this.jQueryCSS(t,e)||{};return n["font-size"]=parseInt(n["font-size"],10),n},t.prototype.stylePara=function(t,n){S.each(t.nodes(Le.isPara,{includeAncestor:!0}),function(t,e){S(e).css(n)})},t.prototype.styleNodes=function(t,e){t=t.splitText();var n=e&&e.nodeName||"SPAN",i=!(!e||!e.expandClosestSibling),o=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(Le.create(n))];var r=Le.makePredByNodeName(n),s=t.nodes(Le.isText,{fullyContains:!0}).map(function(t){return Le.singleChildAncestor(t,r)||Le.wrap(t,n)});if(i){if(o){var a=t.nodes();r=ge.and(r,function(t){return me.contains(a,t)})}return s.map(function(t){var e=Le.withClosestSiblings(t,r),n=me.head(e),i=me.tail(e);return S.each(i,function(t,e){Le.appendChildNodes(n,e.childNodes),Le.remove(e)}),me.head(e)})}return s},t.prototype.current=function(t){var e=S(Le.isElement(t.sc)?t.sc:t.sc.parentNode),n=this.fromNode(e);try{n=S.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(Tn){}if(t.isOnList()){var i=["circle","disc","disc-leading-zero","square"],o=-1<S.inArray(n["list-style-type"],i);n["list-style"]=o?"unordered":"ordered"}else n["list-style"]="none";var r=Le.ancestor(t.sc,Le.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var s=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=s.toFixed(1)}return n.anchor=t.isOnAnchor()&&Le.ancestor(t.sc,Le.isAnchor),n.ancestors=Le.listAncestor(t.sc,Le.isEditable),n.range=t,n},t}(),qe=function(){function t(){}return t.prototype.insertOrderedList=function(t){this.toggleList("OL",t)},t.prototype.insertUnorderedList=function(t){this.toggleList("UL",t)},t.prototype.indent=function(t){var i=this,e=je.create(t).wrapBodyInlineWithPara(),n=e.nodes(Le.isPara,{includeAncestor:!0}),o=me.clusterBy(n,ge.peq2("parentNode"));S.each(o,function(t,e){var n=me.head(e);Le.isLi(n)?i.wrapList(e,n.parentNode.nodeName):S.each(e,function(t,e){S(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),e.select()},t.prototype.outdent=function(t){var i=this,e=je.create(t).wrapBodyInlineWithPara(),n=e.nodes(Le.isPara,{includeAncestor:!0}),o=me.clusterBy(n,ge.peq2("parentNode"));S.each(o,function(t,e){var n=me.head(e);Le.isLi(n)?i.releaseList([e]):S.each(e,function(t,e){S(e).css("marginLeft",function(t,e){return 25<(e=parseInt(e,10)||0)?e-25:""})})}),e.select()},t.prototype.toggleList=function(n,t){var i=this,e=je.create(t).wrapBodyInlineWithPara(),o=e.nodes(Le.isPara,{includeAncestor:!0}),r=e.paraBookmark(o),s=me.clusterBy(o,ge.peq2("parentNode"));if(me.find(o,Le.isPurePara)){var a=[];S.each(s,function(t,e){a=a.concat(i.wrapList(e,n))}),o=a}else{var l=e.nodes(Le.isList,{includeAncestor:!0}).filter(function(t){return!S.nodeName(t,n)});l.length?S.each(l,function(t,e){Le.replace(e,n)}):o=this.releaseList(s,!0)}je.createFromParaBookmark(r,o).select()},t.prototype.wrapList=function(t,e){var n=me.head(t),i=me.last(t),o=Le.isList(n.previousSibling)&&n.previousSibling,r=Le.isList(i.nextSibling)&&i.nextSibling,s=o||Le.insertAfter(Le.create(e||"UL"),i);return t=t.map(function(t){return Le.isPurePara(t)?Le.replace(t,"LI"):t}),Le.appendChildNodes(s,t),r&&(Le.appendChildNodes(s,me.from(r.childNodes)),Le.remove(r)),t},t.prototype.releaseList=function(t,l){var u=[];return S.each(t,function(t,e){var n=me.head(e),i=me.last(e),o=l?Le.lastAncestor(n,Le.isList):n.parentNode,r=1<o.childNodes.length?Le.splitTree(o,{node:i.parentNode,offset:Le.position(i)+1},{isSkipPaddingBlankHTML:!0}):null,s=Le.splitTree(o,{node:n.parentNode,offset:Le.position(n)},{isSkipPaddingBlankHTML:!0});e=l?Le.listDescendant(s,Le.isLi):me.from(s.childNodes).filter(Le.isLi),!l&&Le.isList(o.parentNode)||(e=e.map(function(t){return Le.replace(t,"P")})),S.each(me.from(e).reverse(),function(t,e){Le.insertAfter(e,o)});var a=me.compact([o,s,r]);S.each(a,function(t,e){var n=[e].concat(Le.listDescendant(e,Le.isList));S.each(n.reverse(),function(t,e){Le.nodeLength(e)||Le.remove(e,!0)})}),u=u.concat(e)}),u},t}(),We=function(){function t(){this.bullet=new qe}return t.prototype.insertTab=function(t,e){var n=Le.createText(new Array(e+1).join(Le.NBSP_CHAR));(t=t.deleteContents()).insertNode(n,!0),(t=je.create(n,e)).select()},t.prototype.insertParagraph=function(t){var e=je.create(t);e=(e=e.deleteContents()).wrapBodyInlineWithPara();var n,i=Le.ancestor(e.sc,Le.isPara);if(i){if(Le.isEmpty(i)&&Le.isLi(i))return void this.bullet.toggleList(i.parentNode.nodeName);if(Le.isEmpty(i)&&Le.isPara(i)&&Le.isBlockquote(i.parentNode))Le.insertAfter(i,i.parentNode),n=i;else{n=Le.splitTree(i,e.getStartPoint());var o=Le.listDescendant(i,Le.isEmptyAnchor);o=o.concat(Le.listDescendant(n,Le.isEmptyAnchor)),S.each(o,function(t,e){Le.remove(e)}),(Le.isHeading(n)||Le.isPre(n)||Le.isCustomStyleTag(n))&&Le.isEmpty(n)&&(n=Le.replace(n,"p"))}}else{var r=e.sc.childNodes[e.so];n=S(Le.emptyPara)[0],r?e.sc.insertBefore(n,r):e.sc.appendChild(n)}je.create(n,0).normalize().select().scrollIntoView(t)},t}(),Ye=function(t,u,c,o){function e(){t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())?(v.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()?v.rowPos=t.parentElement.rowIndex:console.error("Impossible to identify start Row point.",t)):console.error("Impossible to identify start Cell point.",t)}function h(t,e,n,i,o,r,s){var a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:s};b[t]||(b[t]=[]),b[t][e]=a}function d(t,e,n,i){return{baseCell:t.baseCell,action:e,virtualTable:{rowIndex:n,cellIndex:i}}}function f(t,e){if(!b[t])return e;if(!b[t][e])return e;for(var n=e;b[t][n];)if(n++,!b[t][n])return n}function r(t,e){var n=f(t.rowIndex,e.cellIndex),i=1<e.colSpan,o=1<e.rowSpan,r=t.rowIndex===v.rowPos&&e.cellIndex===v.colPos;h(t.rowIndex,n,t,e,o,i,!1);var s=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(1<s)for(var a=1;a<s;a++){var l=t.rowIndex+a;p(l,n,e,r),h(l,n,t,e,!0,i,!0)}var u=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(1<u)for(var c=1;c<u;c++){var d=f(t.rowIndex,n+c);p(t.rowIndex,d,e,r),h(t.rowIndex,d,t,e,o,!0,!0)}}function p(t,e,n,i){t===v.rowPos&&v.colPos>=n.cellIndex&&n.cellIndex<=e&&!i&&v.colPos++}function n(){for(var t=o.rows,e=0;e<t.length;e++)for(var n=t[e].cells,i=0;i<n.length;i++)r(t[e],n[i])}function g(t){switch(u){case Ye.where.Column:if(t.isColSpan)return Ye.resultAction.SubtractSpanCount;break;case Ye.where.Row:if(!t.isVirtual&&t.isRowSpan)return Ye.resultAction.AddCell;if(t.isRowSpan)return Ye.resultAction.SubtractSpanCount}return Ye.resultAction.RemoveCell}function m(t){switch(u){case Ye.where.Column:if(t.isColSpan)return Ye.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return Ye.resultAction.Ignore;break;case Ye.where.Row:if(t.isRowSpan)return Ye.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return Ye.resultAction.Ignore}return Ye.resultAction.AddCell}function i(){e(),n()}var v={colPos:0,rowPos:0},b=[],y=[];this.getActionList=function(){for(var t=u===Ye.where.Row?v.rowPos:-1,e=u===Ye.where.Column?v.colPos:-1,n=0,i=!0;i;){var o=0<=t?t:n,r=0<=e?e:n,s=b[o];if(!s)return i=!1,y;var a=s[r];if(!a)return i=!1,y;var l=Ye.resultAction.Ignore;switch(c){case Ye.requestAction.Add:l=m(a);break;case Ye.requestAction.Delete:l=g(a)}y.push(d(a,l,o,r)),n++}return y},i()};Ye.where={Row:0,Column:1},Ye.requestAction={Add:0,Delete:1},Ye.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Ke,Ge=function(){function t(){}return t.prototype.tab=function(t,e){var n=Le.ancestor(t.commonAncestor(),Le.isCell),i=Le.ancestor(n,Le.isTable),o=Le.listDescendant(i,Le.isCell),r=me[e?"prev":"next"](o,n);r&&je.create(r,0).select()},t.prototype.addRow=function(t,e){for(var n=Le.ancestor(t.commonAncestor(),Le.isCell),i=S(n).closest("tr"),o=this.recoverAttributes(i),r=S("<tr"+o+"></tr>"),s=new Ye(n,Ye.where.Row,Ye.requestAction.Add,S(i).closest("table")[0]).getActionList(),a=0;a<s.length;a++){var l=s[a],u=this.recoverAttributes(l.baseCell);switch(l.action){case Ye.resultAction.AddCell:r.append("<td"+u+">"+Le.blank+"</td>");break;case Ye.resultAction.SumSpanCount:if("top"===e)if((l.baseCell.parent?l.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var c=S("<div></div>").append(S("<td"+u+">"+Le.blank+"</td>").removeAttr("rowspan")).html();r.append(c);break}var d=parseInt(l.baseCell.rowSpan,10);d++,l.baseCell.setAttribute("rowSpan",d)}}if("top"===e)i.before(r);else{if(1<n.rowSpan){var h=i[0].rowIndex+(n.rowSpan-2);return void S(S(i).parent().find("tr")[h]).after(S(r))}i.after(r)}},t.prototype.addCol=function(t,e){var n=Le.ancestor(t.commonAncestor(),Le.isCell),i=S(n).closest("tr");S(i).siblings().push(i);for(var o=new Ye(n,Ye.where.Column,Ye.requestAction.Add,S(i).closest("table")[0]).getActionList(),r=0;r<o.length;r++){var s=o[r],a=this.recoverAttributes(s.baseCell);switch(s.action){case Ye.resultAction.AddCell:"right"===e?S(s.baseCell).after("<td"+a+">"+Le.blank+"</td>"):S(s.baseCell).before("<td"+a+">"+Le.blank+"</td>");break;case Ye.resultAction.SumSpanCount:if("right"===e){var l=parseInt(s.baseCell.colSpan,10);l++,s.baseCell.setAttribute("colSpan",l)}else S(s.baseCell).before("<td"+a+">"+Le.blank+"</td>")}}},t.prototype.recoverAttributes=function(t){var e="";if(!t)return e;for(var n=t.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(e+=" "+n[i].name+"='"+n[i].value+"'");return e},t.prototype.deleteRow=function(t){for(var e=Le.ancestor(t.commonAncestor(),Le.isCell),n=S(e).closest("tr"),i=n.children("td, th").index(S(e)),o=n[0].rowIndex,r=new Ye(e,Ye.where.Row,Ye.requestAction.Delete,S(n).closest("table")[0]).getActionList(),s=0;s<r.length;s++)if(r[s]){var a=r[s].baseCell,l=r[s].virtualTable,u=a.rowSpan&&1<a.rowSpan,c=u?parseInt(a.rowSpan,10):0;switch(r[s].action){case Ye.resultAction.Ignore:continue;case Ye.resultAction.AddCell:var d=n.next("tr")[0];if(!d)continue;var h=n[0].cells[i];u&&(2<c?(c--,d.insertBefore(h,d.cells[i]),d.cells[i].setAttribute("rowSpan",c),d.cells[i].innerHTML=""):2===c&&(d.insertBefore(h,d.cells[i]),d.cells[i].removeAttribute("rowSpan"),d.cells[i].innerHTML=""));continue;case Ye.resultAction.SubtractSpanCount:u&&(2<c?(c--,a.setAttribute("rowSpan",c),l.rowIndex!==o&&a.cellIndex===i&&(a.innerHTML="")):2===c&&(a.removeAttribute("rowSpan"),l.rowIndex!==o&&a.cellIndex===i&&(a.innerHTML="")));continue;case Ye.resultAction.RemoveCell:continue}}n.remove()},t.prototype.deleteCol=function(t){for(var e=Le.ancestor(t.commonAncestor(),Le.isCell),n=S(e).closest("tr"),i=n.children("td, th").index(S(e)),o=new Ye(e,Ye.where.Column,Ye.requestAction.Delete,S(n).closest("table")[0]).getActionList(),r=0;r<o.length;r++)if(o[r])switch(o[r].action){case Ye.resultAction.Ignore:continue;case Ye.resultAction.SubtractSpanCount:var s=o[r].baseCell;if(s.colSpan&&1<s.colSpan){var a=s.colSpan?parseInt(s.colSpan,10):0;2<a?(a--,s.setAttribute("colSpan",a),s.cellIndex===i&&(s.innerHTML="")):2===a&&(s.removeAttribute("colSpan"),s.cellIndex===i&&(s.innerHTML=""))}continue;case Ye.resultAction.RemoveCell:Le.remove(o[r].baseCell,!0);continue}},t.prototype.createTable=function(t,e,n){for(var i,o=[],r=0;r<t;r++)o.push("<td>"+Le.blank+"</td>");i=o.join("");for(var s,a=[],l=0;l<e;l++)a.push("<tr>"+i+"</tr>");s=a.join("");var u=S("<table>"+s+"</table>");return n&&n.tableClassName&&u.addClass(n.tableClassName),u[0]},t.prototype.deleteTable=function(t){var e=Le.ancestor(t.commonAncestor(),Le.isCell);S(e).closest("table").remove()},t}(),Xe="bogus",Qe=function(){function t(t){var c=this;this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ue,this.table=new Ge,this.typing=new We,this.bullet=new qe,this.history=new Ve(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var e=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],n=0,i=e.length;n<i;n++)this[e[n]]=function(e){return function(t){c.beforeCommand(),document.execCommand(e,!1,t),c.afterCommand(!0)}}(e[n]),this.context.memo("help."+e[n],this.lang.help[e[n]]);this.fontName=this.wrapCommand(function(t){return c.fontStyling("font-family","'"+t+"'")}),this.fontSize=this.wrapCommand(function(t){return c.fontStyling("font-size",t+"px")});for(n=1;n<=6;n++)this["formatH"+n]=function(t){return function(){c.formatBlock("H"+t)}}(n),this.context.memo("help.formatH"+n,this.lang.help["formatH"+n]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),this.insertNode=this.wrapCommand(function(t){c.isLimited(S(t).text().length)||(c.createRange().insertNode(t),je.createFromNodeAfter(t).select())}),this.insertText=this.wrapCommand(function(t){if(!c.isLimited(t.length)){var e=c.createRange().insertNode(Le.createText(t));je.create(e,Le.nodeLength(e)).select()}}),this.pasteHTML=this.wrapCommand(function(t){if(!c.isLimited(t.length)){var e=c.createRange().pasteHTML(t);je.createFromNodeAfter(me.last(e)).select()}}),this.formatBlock=this.wrapCommand(function(t,e){var n=c.options.callbacks.onApplyCustomStyle;n?n.call(c,e,c.context,c.onFormatBlock):c.onFormatBlock(t,e)}),this.insertHorizontalRule=this.wrapCommand(function(){var t=c.createRange().insertNode(Le.create("HR"));t.nextSibling&&je.create(t.nextSibling,0).normalize().select()}),this.lineHeight=this.wrapCommand(function(t){c.style.stylePara(c.createRange(),{lineHeight:t})}),this.createLink=this.wrapCommand(function(t){var n=t.url,e=t.text,i=t.isNewWindow,o=t.range||c.createRange(),r=o.toString()!==e;"string"==typeof n&&(n=n.trim()),n=c.options.onCreateLink?c.options.onCreateLink(n):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(n)?n:"http://"+n;var s=[];if(r){var a=(o=o.deleteContents()).insertNode(S("<A>"+e+"</A>")[0]);s.push(a)}else s=c.style.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});S.each(s,function(t,e){S(e).attr("href",n),i?S(e).attr("target","_blank"):S(e).removeAttr("target")});var l=je.createFromNodeBefore(me.head(s)).getStartPoint(),u=je.createFromNodeAfter(me.last(s)).getEndPoint();je.create(l.node,l.offset,u.node,u.offset).select()}),this.color=this.wrapCommand(function(t){var e=t.foreColor,n=t.backColor;e&&document.execCommand("foreColor",!1,e),n&&document.execCommand("backColor",!1,n)}),this.foreColor=this.wrapCommand(function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x");c.createRange().deleteContents().insertNode(c.table.createTable(e[0],e[1],c.options))}),this.removeMedia=this.wrapCommand(function(){var t=S(c.restoreTarget()).parent();t.parent("figure").length?t.parent("figure").remove():t=S(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",t,c.$editable)}),this.floatMe=this.wrapCommand(function(t){var e=S(c.restoreTarget());e.toggleClass("note-float-left","left"===t),e.toggleClass("note-float-right","right"===t),e.css("float",t)}),this.resize=this.wrapCommand(function(t){S(c.restoreTarget()).css({width:100*t+"%",height:""})})}return t.prototype.initialize=function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===Be.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1}).on("keyup",function(t){e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.context.triggerEvent("paste",t)}),this.$editable.html(Le.html(this.$note)||Le.emptyPara),this.$editable.on(Te.inputEventName,ge.debounce(function(){e.context.triggerEvent("change",e.$editable.html())},100)),this.$editor.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()},t.prototype.destroy=function(){this.$editable.off()},t.prototype.handleKeyMap=function(t){var e=this.options.keyMap[Te.isMac?"mac":"pc"],n=[];t.metaKey&&n.push("CMD"),t.ctrlKey&&!t.altKey&&n.push("CTRL"),t.shiftKey&&n.push("SHIFT");var i=Be.nameFromCode[t.keyCode];i&&n.push(i);var o=e[n.join("+")];o?!1!==this.context.invoke(o)&&t.preventDefault():Be.isEdit(t.keyCode)&&this.afterCommand()},t.prototype.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&me.contains([66,73,85],t.keyCode)&&t.preventDefault()},t.prototype.isLimited=function(t,e){return t=t||0,(void 0===e||!(Be.isMove(e.keyCode)||e.ctrlKey||e.metaKey||me.contains([Be.code.BACKSPACE,Be.code.DELETE],e.keyCode)))&&(0<this.options.maxTextLength&&this.$editable.text().length+t>=this.options.maxTextLength)},t.prototype.createRange=function(){return this.focus(),je.create(this.editable)},t.prototype.saveRange=function(t){this.lastRange=this.createRange(),t&&this.lastRange.collapse().select()},t.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},t.prototype.saveTarget=function(t){this.$editable.data("target",t)},t.prototype.clearTarget=function(){this.$editable.removeData("target")},t.prototype.restoreTarget=function(){return this.$editable.data("target")},t.prototype.currentStyle=function(){var t=je.create();return t&&(t=t.normalize()),t?this.style.current(t):this.style.fromNode(this.$editable)},t.prototype.styleFromNode=function(t){return this.style.fromNode(t)},t.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())},t.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())},t.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},t.prototype.afterCommand=function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html())},t.prototype.tab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}},t.prototype.untab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1},t.prototype.wrapCommand=function(t){var e=this;return function(){e.beforeCommand(),t.apply(e,arguments),e.afterCommand()}},t.prototype.insertImage=function(t,e){var n=this;return Wt(t,e).then(function(t){n.beforeCommand(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(n.$editable.width(),t.width()))),t.show(),je.create(n.editable).insertNode(t[0]),je.createFromNodeAfter(t[0]).select(),n.afterCommand()}).fail(function(t){n.context.triggerEvent("image.upload.error",t)})},t.prototype.insertImages=function(t){var i=this;S.each(t,function(t,e){var n=e.name;i.options.maximumImageFileSize&&i.options.maximumImageFileSize<e.size?i.context.triggerEvent("image.upload.error",i.lang.image.maximumFileSizeError):qt(e).then(function(t){return i.insertImage(t,n)}).fail(function(){i.context.triggerEvent("image.upload.error")})})},t.prototype.insertImagesOrCallback=function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImages(t)},t.prototype.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=je.createFromNode(Le.ancestor(t.sc,Le.isAnchor))),t.toString()},t.prototype.onFormatBlock=function(t,e){if(t=Te.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),e&&e.length){var n=e[0].className||"";if(n){var i=this.createRange();S([i.sc,i.ec]).closest(t).addClass(n)}}},t.prototype.formatPara=function(){this.formatBlock("P")},t.prototype.fontStyling=function(t,e){var n=this.createRange();if(n){var i=this.style.styleNodes(n);if(S(i).css(t,e),n.isCollapsed()){var o=me.head(i);o&&!Le.nodeLength(o)&&(o.innerHTML=Le.ZERO_WIDTH_NBSP_CHAR,je.createFromNodeAfter(o.firstChild).select(),this.$editable.data(Xe,o))}}},t.prototype.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=Le.ancestor(t.sc,Le.isAnchor);(t=je.createFromNode(e)).select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},t.prototype.getLinkInfo=function(){var t=this.createRange().expand(Le.isAnchor),e=S(me.head(t.nodes(Le.isAnchor))),n={range:t,text:t.toString(),url:e.length?e.attr("href"):""};return e.length&&(n.isNewWindow="_blank"===e.attr("target")),n},t.prototype.addRow=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())},t.prototype.addCol=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())},t.prototype.deleteRow=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())},t.prototype.deleteCol=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())},t.prototype.deleteTable=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())},t.prototype.resizeTo=function(t,e,n){var i;if(n){var o=t.y/t.x,r=e.data("ratio");i={width:o<r?t.x:t.y/r,height:o<r?t.x*r:t.y}}else i={width:t.x,height:t.y};e.css(i)},t.prototype.hasFocus=function(){return this.$editable.is(":focus")},t.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},t.prototype.isEmpty=function(){return Le.isEmpty(this.$editable[0])||Le.emptyPara===this.$editable.html()},t.prototype.empty=function(){this.context.invoke("code",Le.emptyPara)},t.prototype.normalizeContent=function(){this.$editable[0].normalize()},t}(),Je=function(){function t(t){this.context=t,this.$editable=t.layoutInfo.editable}return t.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},t.prototype.pasteByEvent=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var n=me.head(e.items);"file"===n.kind&&-1!==n.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[n.getAsFile()]),this.context.invoke("editor.afterCommand")}},t}(),Ze=function(){function t(t){this.context=t,this.$eventListener=S(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=S(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return t.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},t.prototype.attachDragAndDropEvent=function(){var o=this,i=S(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(t){var e=o.context.invoke("codeview.isActivated"),n=0<o.$editor.width()&&0<o.$editor.height();e||i.length||!n||(o.$editor.addClass("dragover"),o.$dropzone.width(o.$editor.width()),o.$dropzone.height(o.$editor.height()),r.text(o.lang.image.dragImageHere)),i=i.add(t.target)},this.documentEventHandlers.onDragleave=function(t){(i=i.not(t.target)).length||o.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=S(),o.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){o.$dropzone.addClass("hover"),r.text(o.lang.image.dropImage)}).on("dragleave",function(){o.$dropzone.removeClass("hover"),r.text(o.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(t){var i=t.originalEvent.dataTransfer;t.preventDefault(),i&&i.files&&i.files.length?(o.$editable.focus(),o.context.invoke("editor.insertImagesOrCallback",i.files)):S.each(i.types,function(t,e){var n=i.getData(e);-1<e.toLowerCase().indexOf("text")?o.context.invoke("editor.pasteHTML",n):S(n).each(function(t,e){o.context.invoke("editor.insertNode",e)})})}).on("dragover",!1)},t.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}},t}();Te.hasCodeMirror&&(Te.isSupportAmd?require(["codemirror"],function(t){Ke=t}):Ke=window.CodeMirror);var tn=function(){function t(t){this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options}return t.prototype.sync=function(){this.isActivated()&&Te.hasCodeMirror&&this.$codable.data("cmEditor").save()},t.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},t.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},t.prototype.activate=function(){var e=this;if(this.$codable.val(Le.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),Te.hasCodeMirror){var n=Ke.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var i=new Ke.TernServer(this.options.codemirror.tern);n.ternServer=i,n.on("cursorActivity",function(t){i.updateArgHints(t)})}n.on("blur",function(t){e.context.triggerEvent("blur.codeview",n.getValue(),t)}),n.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",n)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)})},t.prototype.deactivate=function(){if(Te.hasCodeMirror){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=Le.value(this.$codable,this.options.prettifyHtml)||Le.emptyPara,n=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},t.prototype.destroy=function(){this.isActivated()&&this.deactivate()},t}(),en=24,nn=function(){function t(t){this.$document=S(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.options=t.options}return t.prototype.initialize=function(){var i=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var n=i.$editable.offset().top-i.$document.scrollTop(),e=function(t){var e=t.clientY-(n+en);e=0<i.options.minheight?Math.max(e,i.options.minheight):e,e=0<i.options.maxHeight?Math.min(e,i.options.maxHeight):e,i.$editable.height(e)};i.$document.on("mousemove",e).one("mouseup",function(){i.$document.off("mousemove",e)})})},t.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},t}(),on=function(){function t(t){var e=this;this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=S(window),this.$scrollbar=S("html, body"),this.onResize=function(){e.resizeTo({h:e.$window.height()-e.$toolbar.outerHeight()})}}return t.prototype.resizeTo=function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),
this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)},t.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},t.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},t}(),rn=function(){function t(t){var n=this;this.context=t,this.$document=S(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){n.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}return t.prototype.initialize=function(){var r=this;this.$handle=S(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(Le.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var e=r.$handle.find(".note-control-selection").data("target"),n=e.offset(),i=r.$document.scrollTop(),o=function(t){r.context.invoke("editor.resizeTo",{x:t.clientX-n.left,y:t.clientY-(n.top-i)},e,!t.shiftKey),r.update(e[0])};r.$document.on("mousemove",o).one("mouseup",function(t){t.preventDefault(),r.$document.off("mousemove",o),r.context.invoke("editor.afterCommand")}),e.data("ratio")||e.data("ratio",e.height()/e.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),r.update()})},t.prototype.destroy=function(){this.$handle.remove()},t.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=Le.isImg(t),n=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t),e){var i=S(t),o=i.position(),r={left:o.left+parseInt(i.css("marginLeft"),10),top:o.top+parseInt(i.css("marginTop"),10)},s={w:i.outerWidth(!1),h:i.outerHeight(!1)};n.css({display:"block",left:r.left,top:r.top,width:s.w,height:s.h}).data("target",i);var a=new Image;a.src=i.attr("src");var l=s.w+"x"+s.h+" ("+this.lang.image.original+": "+a.width+"x"+a.height+")";n.find(".note-control-selection-info").text(l),this.context.invoke("editor.saveTarget",t)}else this.hide();return e},t.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},t}(),sn="http://",an=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,ln=function(){function t(t){var n=this;this.context=t,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)}}}return t.prototype.initialize=function(){this.lastWordRange=null},t.prototype.destroy=function(){this.lastWordRange=null},t.prototype.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),e=t.match(an);if(e&&(e[1]||e[2])){var n=e[1]?t:sn+t,i=S("<a />").html(t).attr("href",n)[0];this.lastWordRange.insertNode(i),this.lastWordRange=null,this.context.invoke("editor.focus")}}},t.prototype.handleKeydown=function(t){if(me.contains([Be.code.ENTER,Be.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}},t.prototype.handleKeyup=function(t){me.contains([Be.code.ENTER,Be.code.SPACE],t.keyCode)&&this.replace()},t}(),un=function(){function t(t){var e=this;this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){e.$note.val(t.invoke("code"))}}}return t.prototype.shouldInitialize=function(){return Le.isTextarea(this.$note[0])},t}(),cn=function(){function t(t){var e=this;this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}}}return t.prototype.shouldInitialize=function(){return!!this.options.placeholder},t.prototype.initialize=function(){var t=this;this.$placeholder=S('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.context.invoke("focus")}).text(this.options.placeholder).prependTo(this.$editingArea),this.update()},t.prototype.destroy=function(){this.$placeholder.remove()},t.prototype.update=function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)},t}(),dn=function(){function t(t){this.ui=S.summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=ge.invertObject(this.options.keyMap[Te.isMac?"mac":"pc"])}return t.prototype.representShortcut=function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(Te.isMac&&(e=e.replace("CMD","\u2318").replace("SHIFT","\u21e7"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},t.prototype.button=function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)},t.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},t.prototype.destroy=function(){delete this.fontInstalledMap},t.prototype.isFontInstalled=function(t){return this.fontInstalledMap.hasOwnProperty(t)||(this.fontInstalledMap[t]=Te.isFontInstalled(t)||me.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]},t.prototype.isFontDeservedToAdd=function(t){var e=["sans-serif","serif","monospace","cursive","fantasy"];return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===S.inArray(t,e)},t.prototype.addToolbarButtons=function(){var a=this;this.context.memo("button.style",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents(a.ui.icon(a.options.icons.magic),a.options),tooltip:a.lang.style.style,data:{toggle:"dropdown"}}),a.ui.dropdown({className:"dropdown-style",items:a.options.styleTags,title:a.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:a.lang.style.hasOwnProperty(t)?a.lang.style[t]:t});var e=t.tag,n=t.title;return"<"+e+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+n+"</"+e+">"},click:a.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var t=function(t){var e=n.options.styleTags[t];n.context.memo("button.style."+e,function(){return a.button({className:"note-btn-style-"+e,contents:'<div data-value="'+e+'">'+e.toUpperCase()+"</div>",tooltip:a.lang.style[e],click:a.context.createInvokeHandler("editor.formatBlock")}).render()})},n=this,e=0,i=this.options.styleTags.length;e<i;e++)t(e,i);this.context.memo("button.bold",function(){return a.button({className:"note-btn-bold",contents:a.ui.icon(a.options.icons.bold),tooltip:a.lang.font.bold+a.representShortcut("bold"),click:a.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return a.button({className:"note-btn-italic",contents:a.ui.icon(a.options.icons.italic),tooltip:a.lang.font.italic+a.representShortcut("italic"),click:a.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return a.button({className:"note-btn-underline",contents:a.ui.icon(a.options.icons.underline),tooltip:a.lang.font.underline+a.representShortcut("underline"),click:a.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return a.button({contents:a.ui.icon(a.options.icons.eraser),tooltip:a.lang.font.clear+a.representShortcut("removeFormat"),click:a.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return a.button({className:"note-btn-strikethrough",contents:a.ui.icon(a.options.icons.strikethrough),tooltip:a.lang.font.strikethrough+a.representShortcut("strikethrough"),click:a.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return a.button({className:"note-btn-superscript",contents:a.ui.icon(a.options.icons.superscript),tooltip:a.lang.font.superscript,click:a.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return a.button({className:"note-btn-subscript",contents:a.ui.icon(a.options.icons.subscript),tooltip:a.lang.font.subscript,click:a.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var t=a.context.invoke("editor.currentStyle");return S.each(t["font-family"].split(","),function(t,e){e=e.trim().replace(/['"]+/g,""),a.isFontDeservedToAdd(e)&&-1===S.inArray(e,a.options.fontNames)&&a.options.fontNames.push(e)}),a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents('<span class="note-current-fontname"/>',a.options),tooltip:a.lang.font.name,data:{toggle:"dropdown"}}),a.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:a.options.icons.menuCheck,items:a.options.fontNames.filter(a.isFontInstalled.bind(a)),title:a.lang.font.name,template:function(t){return"<span style=\"font-family: '"+t+"'\">"+t+"</span>"},click:a.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',a.options),tooltip:a.lang.font.size,data:{toggle:"dropdown"}}),a.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:a.options.icons.menuCheck,items:a.options.fontSizes,title:a.lang.font.size,click:a.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return a.ui.buttonGroup({className:"note-color",children:[a.button({className:"note-current-color-button",contents:a.ui.icon(a.options.icons.font+" note-recent-color"),tooltip:a.lang.color.recent,click:function(t){var e=S(t.currentTarget);a.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")})},callback:function(t){t.find(".note-recent-color").css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents("",a.options),tooltip:a.lang.color.more,data:{toggle:"dropdown"}}),a.ui.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+a.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',a.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+a.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',a.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(t){t.find(".note-holder").each(function(t,e){var n=S(e);n.append(a.ui.palette({colors:a.options.colors,colorsName:a.options.colorsName,eventName:n.data("event"),container:a.options.container,tooltip:a.options.tooltip}).render())})},click:function(t){var e=S(t.target),n=e.data("event"),i=e.data("value");if(n&&i){var o="backColor"===n?"background-color":"color",r=e.closest(".note-color").find(".note-recent-color"),s=e.closest(".note-color").find(".note-current-color-button");r.css(o,i),s.attr("data-"+n,i),a.context.invoke("editor."+n,i)}}})]}).render()}),this.context.memo("button.ul",function(){return a.button({contents:a.ui.icon(a.options.icons.unorderedlist),tooltip:a.lang.lists.unordered+a.representShortcut("insertUnorderedList"),click:a.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return a.button({contents:a.ui.icon(a.options.icons.orderedlist),tooltip:a.lang.lists.ordered+a.representShortcut("insertOrderedList"),click:a.context.createInvokeHandler("editor.insertOrderedList")}).render()});var o=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),r=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),s=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),u=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",ge.invoke(o,"render")),this.context.memo("button.justifyCenter",ge.invoke(r,"render")),this.context.memo("button.justifyRight",ge.invoke(s,"render")),this.context.memo("button.justifyFull",ge.invoke(l,"render")),this.context.memo("button.outdent",ge.invoke(u,"render")),this.context.memo("button.indent",ge.invoke(c,"render")),this.context.memo("button.paragraph",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents(a.ui.icon(a.options.icons.alignLeft),a.options),tooltip:a.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),a.ui.dropdown([a.ui.buttonGroup({className:"note-align",children:[o,r,s,l]}),a.ui.buttonGroup({className:"note-list",children:[u,c]})])]).render()}),this.context.memo("button.height",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents(a.ui.icon(a.options.icons.textHeight),a.options),tooltip:a.lang.font.height,data:{toggle:"dropdown"}}),a.ui.dropdownCheck({items:a.options.lineHeights,checkClassName:a.options.icons.menuCheck,className:"dropdown-line-height",title:a.lang.font.height,click:a.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return a.ui.buttonGroup([a.button({className:"dropdown-toggle",contents:a.ui.dropdownButtonContents(a.ui.icon(a.options.icons.table),a.options),tooltip:a.lang.table.table,data:{toggle:"dropdown"}}),a.ui.dropdown({title:a.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:a.options.insertTableMaxSize.col+"em",height:a.options.insertTableMaxSize.row+"em"}).mousedown(a.context.createInvokeHandler("editor.insertTable")).on("mousemove",a.tableMoveHandler.bind(a))}}).render()}),this.context.memo("button.link",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.link+a.representShortcut("linkDialog.show"),click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return a.button({contents:a.ui.icon(a.options.icons.picture),tooltip:a.lang.image.image,click:a.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return a.button({contents:a.ui.icon(a.options.icons.video),tooltip:a.lang.video.video,click:a.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return a.button({contents:a.ui.icon(a.options.icons.minus),tooltip:a.lang.hr.insert+a.representShortcut("insertHorizontalRule"),click:a.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return a.button({className:"btn-fullscreen",contents:a.ui.icon(a.options.icons.arrowsAlt),tooltip:a.lang.options.fullscreen,click:a.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return a.button({className:"btn-codeview",contents:a.ui.icon(a.options.icons.code),tooltip:a.lang.options.codeview,click:a.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return a.button({contents:a.ui.icon(a.options.icons.redo),tooltip:a.lang.history.redo+a.representShortcut("redo"),click:a.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return a.button({contents:a.ui.icon(a.options.icons.undo),tooltip:a.lang.history.undo+a.representShortcut("undo"),click:a.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return a.button({contents:a.ui.icon(a.options.icons.question),tooltip:a.lang.options.help,click:a.context.createInvokeHandler("helpDialog.show")}).render()})},t.prototype.addImagePopoverButtons=function(){var t=this;this.context.memo("button.imageSize100",function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.imageSize50",function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.imageSize25",function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.floatLeft",function(){return t.button({contents:t.ui.icon(t.options.icons.alignLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return t.button({contents:t.ui.icon(t.options.icons.alignRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return t.button({contents:t.ui.icon(t.options.icons.alignJustify),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()})},t.prototype.addLinkPopoverButtons=function(){var t=this;this.context.memo("button.linkDialogShow",function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()})},t.prototype.addTablePopoverButtons=function(){var t=this;this.context.memo("button.addRowUp",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()})},t.prototype.build=function(t,e){for(var n=0,i=e.length;n<i;n++){for(var o=e[n],r=S.isArray(o)?o[0]:o,s=S.isArray(o)?1===o.length?[o[0]]:o[1]:[o],a=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,u=s.length;l<u;l++){var c=this.context.memo("button."+s[l]);c&&a.append("function"==typeof c?c(this.context):c)}a.appendTo(t)}},t.prototype.updateCurrentStyle=function(t){var i=this,e=t||this.$toolbar,n=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(e,{".note-btn-bold":function(){return"bold"===n["font-bold"]},".note-btn-italic":function(){return"italic"===n["font-italic"]},".note-btn-underline":function(){return"underline"===n["font-underline"]},".note-btn-subscript":function(){return"subscript"===n["font-subscript"]},".note-btn-superscript":function(){return"superscript"===n["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===n["font-strikethrough"]}}),n["font-family"]){var o=n["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),r=me.find(o,this.isFontInstalled.bind(this));e.find(".dropdown-fontname a").each(function(t,e){var n=S(e),i=n.data("value")+""==r+"";n.toggleClass("checked",i)}),e.find(".note-current-fontname").text(r).css("font-family",r)}if(n["font-size"]){var s=n["font-size"];e.find(".dropdown-fontsize a").each(function(t,e){var n=S(e),i=n.data("value")+""==s+"";n.toggleClass("checked",i)}),e.find(".note-current-fontsize").text(s)}if(n["line-height"]){var a=n["line-height"];e.find(".dropdown-line-height li a").each(function(t,e){var n=S(e).data("value")+""==a+"";i.className=n?"checked":""})}},t.prototype.updateBtnStates=function(n,t){var i=this;S.each(t,function(t,e){i.ui.toggleBtnActive(n.find(t),e())})},t.prototype.tableMoveHandler=function(t){var e,n=18,i=S(t.target.parentNode),o=i.next(),r=i.find(".note-dimension-picker-mousecatcher"),s=i.find(".note-dimension-picker-highlighted"),a=i.find(".note-dimension-picker-unhighlighted");if(t.offsetX===undefined){var l=S(t.target).offset();e={x:t.pageX-l.left,y:t.pageY-l.top}}else e={x:t.offsetX,y:t.offsetY};var u={c:Math.ceil(e.x/n)||1,r:Math.ceil(e.y/n)||1};s.css({width:u.c+"em",height:u.r+"em"}),r.data("value",u.c+"x"+u.r),3<u.c&&u.c<this.options.insertTableMaxSize.col&&a.css({width:u.c+1+"em"}),3<u.r&&u.r<this.options.insertTableMaxSize.row&&a.css({height:u.r+1+"em"}),o.html(u.c+" x "+u.r)},t}(),hn=function(){function t(t){this.context=t,this.$window=S(window),this.$document=S(document),this.ui=S.summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.followScroll=this.followScroll.bind(this)}return t.prototype.shouldInitialize=function(){return!this.options.airMode},t.prototype.initialize=function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){t.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},t.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},t.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$toolbar.parent(".note-toolbar-wrapper"),e=this.$editor.outerHeight(),n=this.$editor.width(),i=this.$toolbar.height();t.css({height:i});var o=0;this.options.otherStaticBar&&(o=S(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),s=this.$editor.offset().top;s-o<r&&r<s+e-o-i?this.$toolbar.css({position:"fixed",top:o,width:n}):this.$toolbar.css({position:"relative",top:0,width:"100%"})},t.prototype.changeContainer=function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)},t.prototype.updateFullscreen=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)},t.prototype.updateCodeview=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()},t.prototype.activate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!0)},t.prototype.deactivate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!1)},t}(),fn=function(){function t(t){this.context=t,this.ui=S.summernote.ui,this.$body=S(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control  note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":S("<div/>").append(this.ui.checkbox({id:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<button type="submit" href="#" class="'+"btn btn-primary note-btn note-btn-primary note-link-btn"+'" disabled>'+this.lang.link.insert+"</button>";this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:e,footer:n}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Be.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},t.prototype.toggleLinkBtn=function(t,e,n){this.ui.toggleBtn(t,e.val()&&n.val())},t.prototype.showLinkDialog=function(l){var u=this;return S.Deferred(function(i){var o=u.$dialog.find(".note-link-text"),r=u.$dialog.find(".note-link-url"),s=u.$dialog.find(".note-link-btn"),a=u.$dialog.find("input[type=checkbox]");u.ui.onDialogShown(u.$dialog,function(){u.context.triggerEvent("dialog.shown"),l.url||(l.url=l.text),o.val(l.text);var t=function(){u.toggleLinkBtn(s,o,r),l.text=o.val()};o.on("input",t).on("paste",function(){setTimeout(t,0)});var e=function(){u.toggleLinkBtn(s,o,r),l.text||o.val(r.val())};r.on("input",e).on("paste",function(){setTimeout(e,0)}).val(l.url),Te.isSupportTouch||r.trigger("focus"),u.toggleLinkBtn(s,o,r),u.bindEnterKey(r,s),u.bindEnterKey(o,s);var n=l.isNewWindow!==undefined?l.isNewWindow:u.context.options.linkTargetBlank;a.prop("checked",n),s.one("click",function(t){t.preventDefault(),i.resolve({range:l.range,url:r.val(),text:o.val(),isNewWindow:a.is(":checked")}),u.ui.hideDialog(u.$dialog)})}),u.ui.onDialogHidden(u.$dialog,function(){o.off("input paste keypress"),r.off("input paste keypress"),s.off("click"),"pending"===i.state()&&i.reject()}),u.ui.showDialog(u.$dialog)}).promise()},t.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},t}(),pn=function(){function t(t){var e=this;this.context=t,this.ui=S.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.disable summernote.dialog.shown":function(){e.hide()}}}return t.prototype.shouldInitialize=function(){return!me.isEmpty(this.options.popover.link)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var t=this.context.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var e=Le.ancestor(t.sc,Le.isAnchor),n=S(e).attr("href");this.$popover.find("a").attr("href",n).html(n);var i=Le.posFromPlaceholder(e);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide()}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),gn=function(){function t(t){this.context=t,this.ui=S.summernote.ui,this.$body=S(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e="";if(this.options.maximumImageFileSize){var n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),i=1*(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B";e="<small>"+this.lang.image.maximumFileSize+" : "+i+"</small>"}var o=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',e,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<button type="submit" href="#" class="'+"btn btn-primary note-btn note-btn-primary note-image-btn"+'" disabled>'+this.lang.image.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:o,footer:r}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(t,e){t.on("keypress",
function(t){t.keyCode===Be.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},t.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},t.prototype.showImageDialog=function(){var o=this;return S.Deferred(function(e){var t=o.$dialog.find(".note-image-input"),n=o.$dialog.find(".note-image-url"),i=o.$dialog.find(".note-image-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),t.replaceWith(t.clone().on("change",function(t){e.resolve(t.target.files||t.target.value)}).val("")),i.click(function(t){t.preventDefault(),e.resolve(n.val())}),n.on("keyup paste",function(){var t=n.val();o.ui.toggleBtn(i,t)}).val(""),Te.isSupportTouch||n.trigger("focus"),o.bindEnterKey(n,i)}),o.ui.onDialogHidden(o.$dialog,function(){t.off("change"),n.off("keyup paste keypress"),i.off("click"),"pending"===e.state()&&e.reject()}),o.ui.showDialog(o.$dialog)})},t}(),mn=function(){function t(t){var e=this;this.context=t,this.ui=S.summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable":function(){e.hide()}}}return t.prototype.shouldInitialize=function(){return!me.isEmpty(this.options.popover.image)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(t){if(Le.isImg(t)){var e=Le.posFromPlaceholder(t),n=Le.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:e.left,top:this.options.popatmouse?event.pageY:Math.min(e.top,n.top)})}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),vn=function(){function t(t){var n=this;this.context=t,this.ui=S.summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(t,e){n.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}return t.prototype.shouldInitialize=function(){return!me.isEmpty(this.options.popover.table)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),Te.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=Le.isCell(t);if(e){var n=Le.posFromPlaceholder(t);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return e},t.prototype.hide=function(){this.$popover.hide()},t}(),bn=function(){function t(t){this.context=t,this.ui=S.summernote.ui,this.$body=S(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<button type="submit" href="#" class="'+"btn btn-primary note-btn note-btn-primary note-video-btn"+'" disabled>'+this.lang.video.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:n}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Be.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},t.prototype.createVideoNode=function(t){var e,n=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,i=t.match(n),o=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,r=t.match(o),s=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,a=t.match(s),l=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,u=t.match(l),c=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,d=t.match(c),h=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,f=t.match(h),p=/\/\/v\.qq\.com.*?vid=(.+)/,g=t.match(p),m=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,v=t.match(m),b=/^.+.(mp4|m4v)$/,y=t.match(b),w=/^.+.(ogg|ogv)$/,_=t.match(w),x=/^.+.(webm)$/,C=t.match(x);if(i&&11===i[1].length){var k=i[1];e=S("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+k).attr("width","640").attr("height","360")}else if(r&&r[0].length)e=S("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+r[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(a&&a[0].length)e=S("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(u&&u[3].length)e=S("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+u[3]).attr("width","640").attr("height","360");else if(d&&d[2].length)e=S("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+d[2]).attr("width","640").attr("height","360");else if(f&&f[1].length)e=S("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+f[1]);else if(g&&g[1].length||v&&v[2].length){var T=g&&g[1].length?g[1]:v[2];e=S("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+T+"&amp;auto=0")}else{if(!(y||_||C))return!1;e=S("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return e.addClass("note-video-clip"),e[0]},t.prototype.show=function(){var n=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){n.ui.hideDialog(n.$dialog),n.context.invoke("editor.restoreRange");var e=n.createVideoNode(t);e&&n.context.invoke("editor.insertNode",e)}).fail(function(){n.context.invoke("editor.restoreRange")})},t.prototype.showVideoDialog=function(i){var o=this;return S.Deferred(function(e){var n=o.$dialog.find(".note-video-url"),t=o.$dialog.find(".note-video-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),n.val(i).on("input",function(){o.ui.toggleBtn(t,n.val())}),Te.isSupportTouch||n.trigger("focus"),t.click(function(t){t.preventDefault(),e.resolve(n.val())}),o.bindEnterKey(n,t)}),o.ui.onDialogHidden(o.$dialog,function(){n.off("input"),t.off("click"),"pending"===e.state()&&e.reject()}),o.ui.showDialog(o.$dialog)})},t}(),yn=function(){function t(t){this.context=t,this.ui=S.summernote.ui,this.$body=S(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.10</a> \xb7 ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> \xb7 ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.createShortcutList=function(){var i=this,o=this.options.keyMap[Te.isMac?"mac":"pc"];return Object.keys(o).map(function(t){var e=o[t],n=S('<div><div class="help-list-item"/></div>');return n.append(S("<label><kbd>"+t+"</kdb></label>").css({width:180,"margin-right":10})).append(S("<span/>").html(i.context.memo("help."+e)||e)),n.html()}).join("")},t.prototype.showHelpDialog=function(){var e=this;return S.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()},t.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.context.invoke("editor.restoreRange")})},t}(),wn=20,_n=function(){function t(t){var n=this;this.context=t,this.ui=S.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(t,e){Te.isFF||e.relatedTarget&&Le.ancestor(e.relatedTarget,ge.eq(n.$popover[0]))||n.hide()}}}return t.prototype.shouldInitialize=function(){return this.options.airMode&&!me.isEmpty(this.options.popover.air)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(){var t=this.context.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=me.last(t.range.getClientRects());if(e){var n=ge.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-wn,top:n.top+n.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),xn=5,Cn=function(){function t(t){var n=this;this.context=t,this.ui=S.summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=S.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}return t.prototype.shouldInitialize=function(){return 0<this.hints.length},t.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(){t.$content.find(".active").removeClass("active"),S(t).addClass("active"),t.replace()})},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},t.prototype.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var n=t.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},t.prototype.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var n=t.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},t.prototype.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),je.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},t.prototype.nodeFromItem=function(t){var e=this.hints[t.data("index")],n=t.data("item"),i=e.content?e.content(n):n;return"string"==typeof i&&(i=Le.createText(i)),i},t.prototype.createItemTemplates=function(n,t){var i=this.hints[n];return t.map(function(t){var e=S('<div class="note-hint-item"/>');return e.append(i.template?i.template(t):t+""),e.data({index:n,item:t}),e})},t.prototype.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===Be.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===Be.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===Be.code.DOWN&&(t.preventDefault(),this.moveDown()))},t.prototype.searchKeyword=function(t,e,n){var i=this.hints[t];if(i&&i.match.test(e)&&i.search){var o=i.match.exec(e);i.search(o[1],n)}else n()},t.prototype.createGroup=function(e,t){var n=this,i=S('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,t,function(t){(t=t||[]).length&&(i.html(n.createItemTemplates(e,t)),n.show())}),i},t.prototype.handleKeyup=function(t){var n=this;if(!me.contains([Be.code.ENTER,Be.code.UP,Be.code.DOWN],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange(),i=e.toString();if(this.hints.length&&i){this.$content.empty();var o=ge.rect2bnd(me.last(e.getClientRects()));o&&(this.$popover.hide(),this.lastWordRange=e,this.hints.forEach(function(t,e){t.match.test(i)&&n.createGroup(e,i).appendTo(n.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:o.left,top:o.top-this.$popover.outerHeight()-xn}):this.$popover.css({left:o.left,top:o.top+o.height+xn}))}else this.hide()}},t.prototype.show=function(){this.$popover.show()},t.prototype.hide=function(){this.$popover.hide()},t}(),kn=function(){function t(t,e){this.ui=S.summernote.ui,this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=e,this.initialize()}return t.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},t.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},t.prototype.reset=function(){var t=this.isDisabled();this.code(Le.emptyPara),this._destroy(),this._initialize(),t&&this.disable()},t.prototype._initialize=function(){var e=this,n=S.extend({},this.options.buttons);Object.keys(n).forEach(function(t){e.memo("button."+t,n[t])});var i=S.extend({},this.options.modules,S.summernote.plugins||{});Object.keys(i).forEach(function(t){e.module(t,i[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})},t.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)},t.prototype.code=function(t){var e=this.invoke("codeview.isActivated");if(t===undefined)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t)},t.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},t.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},t.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},t.prototype.triggerEvent=function(){var t=me.head(arguments),e=me.tail(me.from(arguments)),n=this.options.callbacks[ge.namespaceToCamel(t,"on")];n&&n.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)},t.prototype.initializeModule=function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||ge.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&Le.attachEvents(this.$note,e.events))},t.prototype.module=function(t,e,n){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),n||this.initializeModule(t)},t.prototype.removeModule=function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&Le.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]},t.prototype.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},t.prototype.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},t.prototype.createInvokeHandlerAndUpdateState=function(e,n){var i=this;return function(t){i.createInvokeHandler(e,n)(t),i.invoke("buttons.updateCurrentStyle")}},t.prototype.createInvokeHandler=function(n,i){var o=this;return function(t){t.preventDefault();var e=S(t.target);o.invoke(n,i||e.closest("[data-value]").data("value"),e)}},t.prototype.invoke=function(){var t=me.head(arguments),e=me.tail(me.from(arguments)),n=t.split("."),i=1<n.length,o=i&&me.head(n),r=i?me.last(n):me.head(n),s=this.modules[o||"editor"];return!o&&this[r]?this[r].apply(this,e):s&&s[r]&&s.shouldInitialize()?s[r].apply(s,e):void 0},t}();S.fn.extend({summernote:function(){var t=S.type(me.head(arguments)),e="string"===t,n="object"===t,o=S.extend({},S.summernote.options,n?me.head(arguments):{});o.langInfo=S.extend(!0,{},S.summernote.lang["en-US"],S.summernote.lang[o.lang]),o.icons=S.extend(!0,{},S.summernote.options.icons,o.icons),o.tooltip="auto"===o.tooltip?!Te.isSupportTouch:o.tooltip,this.each(function(t,e){var n=S(e);if(!n.data("summernote")){var i=new kn(n,o);n.data("summernote",i),n.data("summernote").triggerEvent("init",i.layoutInfo)}});var i=this.first();if(i.length){var r=i.data("summernote");if(e)return r.invoke.apply(r,me.from(arguments));o.focus&&r.invoke("editor.focus")}return this}}),S.summernote=S.extend(S.summernote,{version:"0.8.10",ui:fe,dom:Le,plugins:{},options:{modules:{editor:Qe,clipboard:Je,dropzone:Ze,codeview:tn,statusbar:nn,fullscreen:on,handle:rn,hintPopover:Cn,autoLink:ln,autoSync:un,placeholder:cn,buttons:dn,toolbar:hn,linkDialog:fn,linkPopover:pn,imageDialog:gn,imagePopover:mn,tablePopover:vn,videoDialog:bn,helpDialog:yn,airPopover:_n},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(u){u.extend(!0,u.summernote.lang,{"en-US":{cleaner:{tooltip:"Cleaner",not:"Text has been Cleaned!!!",limitText:"Text",limitHTML:"HTML"}}}),u.extend(u.summernote.options,{cleaner:{action:"both",newline:"<br>",notStyle:"position:absolute;top:0;left:0;right:0",icon:'<i class="note-icon"><svg xmlns="http://www.w3.org/2000/svg" id="libre-paintbrush" viewBox="0 0 14 14" width="14" height="14"><path d="m 11.821425,1 q 0.46875,0 0.82031,0.311384 0.35157,0.311384 0.35157,0.780134 0,0.421875 -0.30134,1.01116 -2.22322,4.212054 -3.11384,5.035715 -0.64956,0.609375 -1.45982,0.609375 -0.84375,0 -1.44978,-0.61942 -0.60603,-0.61942 -0.60603,-1.469866 0,-0.857143 0.61608,-1.419643 l 4.27232,-3.877232 Q 11.345985,1 11.821425,1 z m -6.08705,6.924107 q 0.26116,0.508928 0.71317,0.870536 0.45201,0.361607 1.00781,0.508928 l 0.007,0.475447 q 0.0268,1.426339 -0.86719,2.32366 Q 5.700895,13 4.261155,13 q -0.82366,0 -1.45982,-0.311384 -0.63616,-0.311384 -1.0212,-0.853795 -0.38505,-0.54241 -0.57924,-1.225446 -0.1942,-0.683036 -0.1942,-1.473214 0.0469,0.03348 0.27455,0.200893 0.22768,0.16741 0.41518,0.29799 0.1875,0.130581 0.39509,0.24442 0.20759,0.113839 0.30804,0.113839 0.27455,0 0.3683,-0.247767 0.16741,-0.441965 0.38505,-0.753349 0.21763,-0.311383 0.4654,-0.508928 0.24776,-0.197545 0.58928,-0.31808 0.34152,-0.120536 0.68974,-0.170759 0.34821,-0.05022 0.83705,-0.07031 z"/></svg></i>',keepHtml:!0,keepOnlyTags:[],keepClasses:!1,badTags:["style","script","applet","embed","noframes","noscript","html"],badAttributes:["style","start"],limitChars:520,limitDisplay:"both",limitStop:!1}}),u.extend(u.summernote.plugins,{cleaner:function(t){var e=u.summernote.ui,r=t.layoutInfo.note,s=t.layoutInfo.editor,p=t.options,a=p.langInfo,l=function(t,e){var n=t;if(!p.cleaner.keepClasses){var i=/(\n|\r| class=(")?Mso[a-zA-Z]+(")?)/g;n=t.replace(i," ")}var o=/(\n)+/g;if(n=n.replace(o,e),p.cleaner.keepHtml){var r=new RegExp("<!--(.*?)-->","gi");n=n.replace(r,"");var s=new RegExp("<(/)*(meta|link|\\?xml:|st1:|o:|font)(.*?)>","gi");n=n.replace(s,"");for(var a=p.cleaner.badTags,l=0;l<a.length;l++)s=new RegExp("<"+a[l]+"\\b.*>.*</"+a[l]+">","gi"),n=n.replace(s,"");var u=p.cleaner.keepOnlyTags;if(void 0===u&&(u=[]),0<u.length){u=(((u||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var c=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;n=n.replace(c,function(t,e){return-1<u.indexOf("<"+e.toLowerCase()+">")?t:""})}for(var d=p.cleaner.badAttributes,h=0;h<d.length;h++){var f=new RegExp(" "+d[h]+"=['|\"](.*?)['|\"]","gi");n=n.replace(f,"")}}return n};"both"!=p.cleaner.action&&"button"!=p.cleaner.action||t.memo("button.cleaner",function(){return e.button({contents:p.cleaner.icon,tooltip:a.cleaner.tooltip,click:function(){r.summernote("createRange").toString()?r.summernote("pasteHTML",r.summernote("createRange").toString()):r.summernote("code",l(r.summernote("code"))),0<u(".note-status-output").length?u(".note-status-output").html('<div class="alert alert-success">'+a.cleaner.not+"</div>"):s.find(".note-editing-area").append('<div class="alert alert-success" style="'+p.cleaner.notStyle+'">'+a.cleaner.not+"</div>")}}).render()}),this.events={"summernote.init":function(){if(u(".note-status-output").length<1&&(u(".note-statusbar").prepend('<output class="note-status-output"></output>'),u("head").append("<style>.note-statusbar .note-status-output{display:block;padding-top:7px;width:100%;font-size:14px;line-height:1.42857143;height:25px;color:#000}.note-statusbar .pull-right{float:right!important}.note-statusbar .note-status-output .text-muted{color:#777}.note-statusbar .note-status-output .text-primary{color:#286090}.note-statusbar .note-status-output .text-success{color:#3c763d}.note-statusbar .note-status-output .text-info{color:#31708f}.note-statusbar .note-status-output .text-warning{color:#8a6d3b}.note-statusbar .note-status-output .text-danger{color:#a94442}.note-statusbar .alert{margin:-7px 0 0 0;padding:2px 10px;border:1px solid transparent;border-radius:0}.note-statusbar .alert .note-icon{margin-right:5px}.note-statusbar .alert-success{color:#3c763d!important;background-color: #dff0d8 !important;border-color:#d6e9c6}.note-statusbar .alert-info{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.note-statusbar .alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.note-statusbar .alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}</style>")),0!=p.cleaner.limitChars||"none"!=p.cleaner.limitDisplay){var t=u(".note-editable").text().replace(/(<([^>]+)>)/gi,"").replace(/( )/," "),e=u(".note-editable").html(),n="";t.length>p.cleaner.limitChars&&0<p.cleaner.limitChars?n+='text-danger">':n+='">',"text"!=p.cleaner.limitDisplay&&"both"!=p.cleaner.limitDisplay||(n+=a.cleaner.limitText+": "+t.length),"both"==p.cleaner.limitDisplay&&(n+=" / "),"html"!=p.cleaner.limitDisplay&&"both"!=p.cleaner.limitDisplay||(n+=a.cleaner.limitHTML+": "+e.length),u(".note-status-output").html('<small class="pull-right '+n+"&nbsp;</small>")}},"summernote.keydown":function(t,e){if(0!=p.cleaner.limitChars||"none"!=p.cleaner.limitDisplay){var n=u(".note-editable").text().replace(/(<([^>]+)>)/gi,"").replace(/( )/," "),i=u(".note-editable").html(),o="";if(1==p.cleaner.limitStop&&n.length>=p.cleaner.limitChars){var r=e.keyCode;if(allowed_keys=[8,37,38,39,40,46],-1!=u.inArray(r,allowed_keys))return u(".cleanerLimit").removeClass("text-danger"),!0;u(".cleanerLimit").addClass("text-danger"),e.preventDefault(),e.stopPropagation()}else n.length>p.cleaner.limitChars&&0<p.cleaner.limitChars?o+='text-danger">':o+='">',"text"!=p.cleaner.limitDisplay&&"both"!=p.cleaner.limitDisplay||(o+=a.cleaner.limitText+": "+n.length),"both"==p.cleaner.limitDisplay&&(o+=" / "),"html"!=p.cleaner.limitDisplay&&"both"!=p.cleaner.limitDisplay||(o+=a.cleaner.limitHTML+": "+i.length),u(".note-status-output").html('<small class="cleanerLimit pull-right '+o+"&nbsp;</small>")}},"summernote.paste":function(t,e){if("both"==p.cleaner.action||"paste"==p.cleaner.action){e.preventDefault();var n=window.navigator.userAgent.indexOf("MSIE ");n=0<n||!!navigator.userAgent.match(/Trident.*rv\:11\./);var i=-1<navigator.userAgent.toLowerCase().indexOf("firefox");if(n)var o=window.clipboardData.getData("Text");else o=e.originalEvent.clipboardData.getData(p.cleaner.keepHtml?"Text":"text/plain");o&&(n||i?setTimeout(r.summernote("pasteHTML",l(o,p.cleaner.newline)),1):r.summernote("pasteHTML",l(o,p.cleaner.newline)),0<u(".note-status-output").length?u(".note-status-output").html('<div class="summernote-cleanerAlert alert alert-success">'+a.cleaner.not+"</div>"):s.find(".note-resizebar").append('<div class="summernote-cleanerAlert alert alert-success" style="'+p.cleaner.notStyle+'">'+a.cleaner.not+"</div>"))}}}}})});var Showdown={},JSON;Showdown.converter=function(){var p,g,a,n=0;this.makeHtml=function(t){return p=new Array,g=new Array,a=new Array,t===undefined&&(t=""),t=(t=(t=(t=t.replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"),t=(t=z(t="\n\n"+t+"\n\n")).replace(/^[ \t]+$/gm,""),t=i(t),t=e(t),t=s(t),t=(t=(t=D(t)).replace(/~D/g,"$$")).replace(/~T/g,"~")};var l,e=function(t){return t=t.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(t,e,n,i,o){return e=e.toLowerCase(),p[e]=T(n),i?i+o:(o&&(g[e]=o.replace(/"/g,"&quot;")),"")})},i=function(t){return t=(t=(t=(t=(t=(t=(t=t.replace(/\n/g,"\n\n")).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,o)).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,o)).replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,o)).replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,o)).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,o)).replace(/\n\n/g,"\n")},o=function(t,e){var n=e;return n=(n=(n=n.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),n="\n\n~K"+(a.push(n)-1)+"K\n\n"},s=function(t){t=m(t);var e=y("<hr />");return t=(t=(
t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e)).replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,e)).replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,e),t=v(t),t=b(t),t=C(t),t=i(t),t=k(t)},u=function(t){return t=w(t),t=r(t),t=S(t),t=h(t),t=c(t),t=E(t),t=T(t),t=(t=x(t)).replace(/  +\n/g," <br />\n")},r=function(t){var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return t=t.replace(e,function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=M(e,"\\`*_")})},c=function(t){return t=(t=(t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,d)).replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,d)).replace(/(\[([^\[\]]+)\])()()()()()/g,d)},d=function(t,e,n,i,o,r,s,a){a==undefined&&(a="");var l=e,u=n,c=i.toLowerCase(),d=o,h=a;if(""==d)if(""==c&&(c=u.toLowerCase().replace(/ ?\n/g," ")),d="#"+c,p[c]!=undefined)d=p[c],g[c]!=undefined&&(h=g[c]);else{if(!(-1<l.search(/\(\s*\)$/m)))return l;d=""}var f='<a href="'+(d=M(d,"*_"))+'"';return""!=h&&(h=h.replace(/"/g,"&quot;"),f+=' title="'+(h=M(h,"*_"))+'"'),f+=">"+u+"</a>"},h=function(t){return t=(t=t.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,f)).replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,f)},f=function(t,e,n,i,o,r,s,a){var l=e,u=n,c=i.toLowerCase(),d=o,h=a;if(h||(h=""),""==d){if(""==c&&(c=u.toLowerCase().replace(/ ?\n/g," ")),d="#"+c,p[c]==undefined)return l;d=p[c],g[c]!=undefined&&(h=g[c])}u=u.replace(/"/g,"&quot;");var f='<img src="'+(d=M(d,"*_"))+'" alt="'+u+'"';return h=h.replace(/"/g,"&quot;"),f+=' title="'+(h=M(h,"*_"))+'"',f+=" />"},m=function(t){return t=(t=(t=t.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(t,e){return y("<h1>"+u(e)+"</h1>")})).replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(t,e){return y("<h2>"+u(e)+"</h2>")})).replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(t,e,n){var i=e.length;return y("<h"+i+">"+u(n)+"</h"+i+">")})},v=function(t){t+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return n?t=t.replace(e,function(t,e,n){var i=e,o=-1<n.search(/[*+-]/g)?"ul":"ol";i=i.replace(/\n{2,}/g,"\n\n\n");var r=l(i);return r="<"+o+">"+(r=r.replace(/\s+$/,""))+"</"+o+">\n"}):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,t=t.replace(e,function(t,e,n,i){var o=e,r=n,s=-1<i.search(/[*+-]/g)?"ul":"ol",a=(r=r.replace(/\n{2,}/g,"\n\n\n"),l(r));return a=o+"<"+s+">\n"+a+"</"+s+">\n"})),t=t.replace(/~0/,"")};l=function(t){return n++,t=t.replace(/\n{2,}$/,"\n"),t=(t=(t+="~0").replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(t,e,n,i,o){var r=o;return e||-1<r.search(/\n{2,}/)?r=s(A(r)):(r=(r=v(A(r))).replace(/\n$/,""),r=u(r)),"<li>"+r+"</li>\n"})).replace(/~0/g,""),n--,t};var b=function(t){return t=(t=(t+="~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(t,e,n){var i=e,o=n;return i=_(A(i)),i=(i=(i=z(i)).replace(/^\n+/g,"")).replace(/\n+$/g,""),y(i="<pre><code>"+i+"\n</code></pre>")+o})).replace(/~0/,"")},y=function(t){return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(a.push(t)-1)+"K\n\n"},w=function(t){return t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(t,e,n,i){var o=i;return o=(o=o.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),e+"<code>"+(o=_(o))+"</code>"})},_=function(t){return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),t=M(t,"*_{}[]\\",!1)},x=function(t){return t=(t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>")).replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},C=function(t){return t=t.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(t,e){var n=e;return n=(n=(n=n.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""),n=(n=(n=s(n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(t,e){var n=e;return n=(n=n.replace(/^  /gm,"~0")).replace(/~0/g,"")}),y("<blockquote>\n"+n+"\n</blockquote>")})},k=function(t){for(var e=(t=(t=t.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),n=new Array,i=e.length,o=0;o<i;o++){var r=e[o];0<=r.search(/~K(\d+)K/g)?n.push(r):0<=r.search(/\S/)&&(r=(r=u(r)).replace(/^([ \t]*)/g,"<p>"),r+="</p>",n.push(r))}i=n.length;for(o=0;o<i;o++)for(;0<=n[o].search(/~K(\d+)K/);){var s=a[RegExp.$1];s=s.replace(/\$/g,"$$$$"),n[o]=n[o].replace(/~K\d+K/,s)}return n.join("\n\n")},T=function(t){return t=(t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?\$!])/gi,"&lt;")},S=function(t){return t=(t=t.replace(/\\(\\)/g,I)).replace(/\\([`*_{}\[\]()>#+-.!])/g,I)},E=function(t){return t=(t=t.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>')).replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(t,e){return N(D(e))})},N=function(t){function e(t){var e="0123456789ABCDEF",n=t.charCodeAt(0);return e.charAt(n>>4)+e.charAt(15&n)}var n=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+e(t)+";"},function(t){return t}];return t=(t='<a href="'+(t=(t="mailto:"+t).replace(/./g,function(t){if("@"==t)t=n[Math.floor(2*Math.random())](t);else if(":"!=t){var e=Math.random();t=.9<e?n[2](t):.45<e?n[1](t):n[0](t)}return t}))+'">'+t+"</a>").replace(/">.+:/g,'">')},D=function(t){return t=t.replace(/~E(\d+)E/g,function(t,e){var n=parseInt(e);return String.fromCharCode(n)})},A=function(t){return t=(t=t.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")},z=function(t){return t=(t=(t=(t=(t=t.replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"~A~B")).replace(/~B(.+?)~A/g,function(t,e){for(var n=e,i=4-n.length%4,o=0;o<i;o++)n+=" ";return n})).replace(/~A/g,"    ")).replace(/~B/g,"")},M=function(t,e,n){var i="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var o=new RegExp(i,"g");return t=t.replace(o,I)},I=function(t,e){return"~E"+e.charCodeAt(0)+"E"}},Gettext=function(t){this.domain="messages",this.locale_data=undefined;var e=["domain","locale_data"];if(this.isValidObject(t))for(var n in t)for(var i=0;i<e.length;i++)n==e[i]&&this.isValidObject(t[n])&&(this[n]=t[n]);return this.try_load_lang(),this},Gettext.context_glue="\x04",Gettext._locale_data={},Gettext.prototype.try_load_lang=function(){if("undefined"!=typeof this.locale_data){var t=this.locale_data;if(this.locale_data=undefined,this.parse_locale_data(t),"undefined"==typeof Gettext._locale_data[this.domain])throw new Error("Error: Gettext 'locale_data' does not contain the domain '"+this.domain+"'")}var e=this.get_lang_refs();if("object"==typeof e&&0<e.length)for(var n=0;n<e.length;n++){var i=e[n];if("application/json"==i.type){if(!this.try_load_lang_json(i.href))throw new Error("Error: Gettext 'try_load_lang_json' failed. Unable to exec xmlhttprequest for link ["+i.href+"]")}else{if("application/x-po"!=i.type)throw new Error("TODO: link type ["+i.type+"] found, and support is planned, but not implemented at this time.");if(!this.try_load_lang_po(i.href))throw new Error("Error: Gettext 'try_load_lang_po' failed. Unable to exec xmlhttprequest for link ["+i.href+"]")}}},Gettext.prototype.parse_locale_data=function(t){for(var e in"undefined"==typeof Gettext._locale_data&&(Gettext._locale_data={}),t)if(t.hasOwnProperty(e)&&this.isValidObject(t[e])){var n=!1;for(var i in t[e]){n=!0;break}if(n){var o=t[e];for(var r in""==e&&(e="messages"),this.isValidObject(Gettext._locale_data[e])||(Gettext._locale_data[e]={}),this.isValidObject(Gettext._locale_data[e].head)||(Gettext._locale_data[e].head={}),this.isValidObject(Gettext._locale_data[e].msgs)||(Gettext._locale_data[e].msgs={}),o)if(""==r){var s=o[r];for(var a in s){var l=a.toLowerCase();Gettext._locale_data[e].head[l]=s[a]}}else Gettext._locale_data[e].msgs[r]=o[r]}}for(var e in Gettext._locale_data)if(this.isValidObject(Gettext._locale_data[e].head["plural-forms"])&&"undefined"==typeof Gettext._locale_data[e].head.plural_func){var u=Gettext._locale_data[e].head["plural-forms"];if(!new RegExp("^(\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;a-zA-Z0-9_()])+)","m").test(u))throw new Error("Syntax error in language file. Plural-Forms header is invalid ["+u+"]");var c=Gettext._locale_data[e].head["plural-forms"];/;\s*$/.test(c)||(c=c.concat(";"));var d="var plural; var nplurals; "+c+' return { "nplural" : nplurals, "plural" : (plural === true ? 1 : plural ? plural : 0) };';Gettext._locale_data[e].head.plural_func=new Function("n",d)}else"undefined"==typeof Gettext._locale_data[e].head.plural_func&&(Gettext._locale_data[e].head.plural_func=function(t){return{nplural:2,plural:1!=t?1:0}})},Gettext.prototype.try_load_lang_po=function(t){var e=this.sjax(t);if(e){var n=this.uri_basename(t),i=this.parse_po(e),o={};return i&&(i[""]||(i[""]={}),i[""].domain||(i[""].domain=n),o[n=i[""].domain]=i,this.parse_locale_data(o)),1}},Gettext.prototype.uri_basename=function(t){var e,n;return(e=t.match(/^(.*\/)?(.*)/))?(n=e[2].match(/^(.*)\..+$/))?n[1]:e[2]:""},Gettext.prototype.parse_po=function(t){for(var e={},n={},i="",o=[],r=t.split("\n"),s=0;s<r.length;s++){if(r[s]=r[s].replace(/(\n|\r)+$/,""),/^$/.test(r[s])){if("undefined"!=typeof n.msgid){var a="undefined"!=typeof n.msgctxt&&n.msgctxt.length?n.msgctxt+Gettext.context_glue+n.msgid:n.msgid,l="undefined"!=typeof n.msgid_plural&&n.msgid_plural.length?n.msgid_plural:null,u=[];for(var c in n){(d=c.match(/^msgstr_(\d+)/))&&(u[parseInt(d[1])]=n[c])}u.unshift(l),1<u.length&&(e[a]=u),n={},i=""}}else{if(/^#/.test(r[s]))continue;(d=r[s].match(/^msgctxt\s+(.*)/))?n[i="msgctxt"]=this.parse_po_dequote(d[1]):(d=r[s].match(/^msgid\s+(.*)/))?n[i="msgid"]=this.parse_po_dequote(d[1]):(d=r[s].match(/^msgid_plural\s+(.*)/))?n[i="msgid_plural"]=this.parse_po_dequote(d[1]):(d=r[s].match(/^msgstr\s+(.*)/))?n[i="msgstr_0"]=this.parse_po_dequote(d[1]):(d=r[s].match(/^msgstr\[0\]\s+(.*)/))?n[i="msgstr_0"]=this.parse_po_dequote(d[1]):(d=r[s].match(/^msgstr\[(\d+)\]\s+(.*)/))?n[i="msgstr_"+d[1]]=this.parse_po_dequote(d[2]):/^"/.test(r[s])?n[i]+=this.parse_po_dequote(r[s]):o.push("Strange line ["+s+"] : "+r[s])}}if("undefined"!=typeof n.msgid){a="undefined"!=typeof n.msgctxt&&n.msgctxt.length?n.msgctxt+Gettext.context_glue+n.msgid:n.msgid,l="undefined"!=typeof n.msgid_plural&&n.msgid_plural.length?n.msgid_plural:null,u=[];for(var c in n){var d;(d=c.match(/^msgstr_(\d+)/))&&(u[parseInt(d[1])]=n[c])}u.unshift(l),1<u.length&&(e[a]=u),n={},i=""}if(e[""]&&e[""][1]){var h={},f=e[""][1].split(/\\n/);for(s=0;s<f.length;s++)if(f.length){var p=f[s].indexOf(":",0);if(-1!=p){var g=f[s].substring(0,p),m=f[s].substring(p+1),v=g.toLowerCase();h[v]&&h[v].length?o.push("SKIPPING DUPLICATE HEADER LINE: "+f[s]):/#-#-#-#-#/.test(v)?o.push("SKIPPING ERROR MARKER IN HEADER: "+f[s]):(m=m.replace(/^\s+/,""),h[v]=m)}else o.push("PROBLEM LINE IN HEADER: "+f[s]),h[f[s]]=""}e[""]=h}else e[""]={};return e},Gettext.prototype.parse_po_dequote=function(t){var e;return(e=t.match(/^"(.*)"/))&&(t=e[1]),t=t.replace(/\\"/g,'"')},Gettext.prototype.try_load_lang_json=function(t){var e=this.sjax(t);if(e){var n=this.JSON(e);return this.parse_locale_data(n),1}},Gettext.prototype.get_lang_refs=function(){for(var t=new Array,e=document.getElementsByTagName("link"),n=0;n<e.length;n++)if("gettext"==e[n].rel&&e[n].href){if("undefined"==typeof e[n].type||""==e[n].type)if(/\.json$/i.test(e[n].href))e[n].type="application/json";else if(/\.js$/i.test(e[n].href))e[n].type="application/json";else if(/\.po$/i.test(e[n].href))e[n].type="application/x-po";else{if(!/\.mo$/i.test(e[n].href))throw new Error("LINK tag with rel=gettext found, but the type and extension are unrecognized.");e[n].type="application/x-mo"}if(e[n].type=e[n].type.toLowerCase(),"application/json"==e[n].type)e[n].type="application/json";else if("text/javascript"==e[n].type)e[n].type="application/json";else if("application/x-po"==e[n].type)e[n].type="application/x-po";else{if("application/x-mo"!=e[n].type)throw new Error("LINK tag with rel=gettext found, but the type attribute ["+e[n].type+"] is unrecognized.");e[n].type="application/x-mo"}t.push(e[n])}return t},Gettext.prototype.textdomain=function(t){return t&&t.length&&(this.domain=t),this.domain},Gettext.prototype.gettext=function(t){var e,n,i,o;return this.dcnpgettext(null,e,t,n,i,o)},Gettext.prototype.dgettext=function(t,e){var n,i,o,r;return this.dcnpgettext(t,n,e,i,o,r)},Gettext.prototype.dcgettext=function(t,e,n){var i,o,r;return this.dcnpgettext(t,i,e,o,r,n)},Gettext.prototype.ngettext=function(t,e,n){var i,o;return this.dcnpgettext(null,i,t,e,n,o)},Gettext.prototype.dngettext=function(t,e,n,i){var o,r;return this.dcnpgettext(t,o,e,n,i,r)},Gettext.prototype.dcngettext=function(t,e,n,i,o){var r;return this.dcnpgettext(t,r,e,n,i,o,o)},Gettext.prototype.pgettext=function(t,e){var n,i,o;return this.dcnpgettext(null,t,e,n,i,o)},Gettext.prototype.dpgettext=function(t,e,n){var i,o,r;return this.dcnpgettext(t,e,n,i,o,r)},Gettext.prototype.dcpgettext=function(t,e,n,i){var o,r;return this.dcnpgettext(t,e,n,o,r,i)},Gettext.prototype.npgettext=function(t,e,n,i){var o;return this.dcnpgettext(null,t,e,n,i,o)},Gettext.prototype.dnpgettext=function(t,e,n,i,o){var r;return this.dcnpgettext(t,e,n,i,o,r)},Gettext.prototype.dcnpgettext=function(t,e,n,i,o){if(!this.isValidObject(n))return"";var r=this.isValidObject(i),s=this.isValidObject(e)?e+Gettext.context_glue+n:n,a=this.isValidObject(t)?t:this.isValidObject(this.domain)?this.domain:"messages",l=new Array;if("undefined"!=typeof Gettext._locale_data&&this.isValidObject(Gettext._locale_data[a]))l.push(Gettext._locale_data[a]);else if("undefined"!=typeof Gettext._locale_data)for(var u in Gettext._locale_data)l.push(Gettext._locale_data[u]);var c,d=[],h=!1;if(l.length)for(var f=0;f<l.length;f++){var p=l[f];if(this.isValidObject(p.msgs[s])){for(var g=0;g<p.msgs[s].length;g++)d[g]=p.msgs[s][g];if(d.shift(),c=p,h=!0,0<d.length&&0!=d[0].length)break}}0!=d.length&&0!=d[0].length||(d=[n,i]);var m=d[0];if(r){var v;if(h&&this.isValidObject(c.head.plural_func)){var b=c.head.plural_func(o);b.plural||(b.plural=0),b.nplural||(b.nplural=0),b.nplural<=b.plural&&(b.plural=0),v=b.plural}else v=1!=o?1:0;this.isValidObject(d[v])&&(m=d[v])}return m},Gettext.strargs=function(t,e){null==e||void 0===e?e=[]:e.constructor!=Array&&(e=[e]);for(var n="";;){var i,o=t.indexOf("%");if(-1==o){n+=t;break}if(n+=t.substr(0,o),"%%"==t.substr(o,2))n+="%",t=t.substr(o+2);else if(i=t.substr(o).match(/^%(\d+)/)){var r=parseInt(i[1]),s=i[1].length;0<r&&null!=e[r-1]&&"undefined"!=typeof e[r-1]&&(n+=e[r-1]),t=t.substr(o+1+s)}else n+="%",t=t.substr(o+1)}return n},Gettext.prototype.strargs=function(t,e){return Gettext.strargs(t,e)},Gettext.prototype.isArray=function(t){return this.isValidObject(t)&&t.constructor==Array},Gettext.prototype.isValidObject=function(t){return null!=t&&void 0!==t},Gettext.prototype.sjax=function(t){var e;if(!(e=window.XMLHttpRequest?new XMLHttpRequest:-1!=navigator.userAgent.toLowerCase().indexOf("msie 5")?new ActiveXObject("Microsoft.XMLHTTP"):new ActiveXObject("Msxml2.XMLHTTP")))throw new Error("Your browser doesn't do Ajax. Unable to support external language files.");e.open("GET",t,!1);try{e.send(null)}catch(o){return}var n=e.status;if(200==n||0==n)return e.responseText;var i=e.statusText+" (Error "+e.status+")";return e.responseText.length&&(i+="\n"+e.responseText),void alert(i)},Gettext.prototype.JSON=function(data){return eval("("+data+")")},function(t,e,n){function s(t){return this.e=t,this.i=0,this.js=["with(XPath){return ","}"],this.expression(1,1)||this.error(),new Function("n","nsr",this.js.join(""))}function i(t){if(this==t)return 0;if(2==this.nodeType&&2==t.nodeType)return this.ownerElement&&this.ownerElement==t.ownerElement?32:0;var e=this.ownerElement||this,n=t.ownerElement||t;if(0<=e.sourceIndex&&0<=n.sourceIndex&&e.contains&&n.contains)return(e.contains(n)?16:n.contains(e)&&8)|(e.sourceIndex<n.sourceIndex?4:n.sourceIndex<e.sourceIndex&&2)||1;for(var i=e,o=n,r=0,s=0;i=i.parentNode;)r++;for(;o=o.parentNode;)s++;if(s<r){for(;r--!=s;)e=e.parentNode;if(e==n)return 10}else if(r<s){for(;s--!=r;)n=n.parentNode;if(n==e)return 20}for(;(i=e.parentNode)!=(o=n.parentNode);)if(!(e=i)||!(n=o))return 1;for(;e=e.nextSibling;)if(e==n)return 4;return 2}function o(t,e){this.name="XPathException",this.code=t,this.message=e}function r(t){this.ns={};for(var e,n,i=t.attributes.length;0<=--i;)(e=/xmlns:(.+)/.exec((n=t.attributes[i]).nodeName))&&(this.ns[e[1]]=n.nodeValue);this.ns[""]=t.getAttribute("targetNamespace")}function a(t,e){this.fn=s.cache[t]||(s.cache[t]=new s(t)),this.nsr=e}function l(t,e){if(0==e)switch(typeof t){default:e++;case"boolean":e++;case"string":e++;case"number":e++}switch(this.resultType=e){case 1:return void(this.numberValue=s.number(t));case 2:return void(this.stringValue=s.string(t));case 3:return void(this.booleanValue=s.bool(t));case 4:case 5:if(t instanceof Array)return this.value=t,this.index=0,void(this.invalidIteratorState=!1);break;case 6:case 7:if(t instanceof Array)return this.value=t,void(this.snapshotLength=t.length);break;case 8:case 9:if(t instanceof Array)return void(this.singleNodeValue=t[0])}throw new o(52)}function u(){}if(s.ie=/MSIE/.test(navigator.userAgent),s.prototype={match:function(t,e){var n,i;return!(!(n=t.exec(this.e.substr(this.i)))||"number"==typeof e&&!(i=n[e])||"object"==typeof e&&!(i=e[n[1]]))&&(this.m=n,this.i+=n[0].length,i||n)},error:function(t){var e;t=(t||"Syntax error")+" at index "+this.i+": "+this.e.substr(this.i);try{e=new o(51,t)}catch(n){e=new Error(t)}throw e},step:function(t,e,n,i){var o,r=3;if(this.match(/^(\/\/?|\.\.?|@)\s*/,1))switch(this.m[1]){case"/":if(n&&this.error(),!i)return this.step(t,e,1);this.js.splice(t,0,' axis(axes["',"document-root",'"],'),r+=this.nodeTypes.node.call(this,t+r),n=1;break;case"//":n&&this.error(),this.js.splice(t,0,' axis(axes["',"descendant-or-self",'"],'),r+=this.nodeTypes.node.call(this,t+r),n=1;break;case".":n||i||this.error(),this.js.splice(t,0,' axis(axes["',"self",'"],'),r+=this.nodeTypes.node.call(this,t+r),n=0;break;case"..":n||i||this.error(),this.js.splice(t,0,' axis(axes["',"parent",'"],'),r+=this.nodeTypes.node.call(this,t+r),n=0;break;case"@":n||i||this.error(),this.js.splice(t,0,' axis(axes["',"attribute",'"],'),r+=this.nodeTest(t+r,"node")||this.error("Missing nodeTest after @"),n=0}else{if(!n&&!i)return n?this.error():0;if(this.match(/^([a-z]+(?:-[a-z]+)*)\s*::\s*/,s.axes))this.js.splice(t,0,' axis(axes["',this.m[1],'"],'),r+=this.nodeTest(t+r,"attribute"==this.m[1]?"node":"element")||this.error("Missing nodeTest after ::"),n=0;else{if(!(r=this.nodeTest(t,"element")))return 0;this.js.splice(t,0,' axis(axes["',"child",'"],'),r+=3,n=0}}for(;o=this.predicate(t+r);r+=o);return i&&this.js.splice(e+r++,0,i),r+=this.step(t,e+r,n),this.js.splice(e+r++,0,")"),r},expression:function(t,e,n){for(var i,o=this.operand(t);i=this.match(/^(or|and|!?=|[<>]=?|[|*+-]|div|mod)\s*/,this.operators);){if(n&&n[0]>=i[0]){this.i-=this.m[0].length;break}this.js.splice(t,0,i[1]),o++,this.js.splice(t+o++,0,i[2]),o+=this.expression(t+o,e,i)||this.error("Missing operand"),this.js.splice(t+o++,0,i[3])}return o},operand:function(t){if(this.match(/^(-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)|"[^"]*"|'[^']*')\s*/,1))return this.js.splice(t,0,this.m[1]),1;var e;if(e=this.match(/^([a-z]+(?:-[a-z]+)*)\s*\(\s*/,this.functions)){var n,i=1;for(this.js.splice(t,0,e[1]);n&&this.js.splice(t+i++,0,","),i+=n=this.expression(t+i,t+i),n&&this.match(/^,\s*/););return this.match(/^\)\s*/)||this.error("Missing ("),e[0]&&(n&&this.js.splice(t+i++,0,","),this.js.splice(t+i++,0,e[0])),e[2]?this.js.splice(t+i++,0,e[2]):1<n&&this.error("Function has arguments"),i+=this.step(t,t+i)}if(this.match(/^\(\s*/)){i=1;return this.js.splice(t,0,"("),i+=this.expression(t+i,t+i),this.match(/^\)\s*/)||this.error("Missing )"),this.js.splice(t+i++,")"),i}return this.step(t,t,0,"[n]")},operators:{"|":[1,"union(",",",")"],or:[1,"bool(",")||bool(",")"],and:[2,"bool(",")&&bool(",")"],"=":[3,"compare(eq,",",",")"],"!=":[3,"compare(ne,",",",")"],"<":[4,"compare(lt,",",",")"],">":[4,"compare(gt,",",",")"],"<=":[4,"compare(le,",",",")"],">=":[4,"compare(ge,",",",")"],"+":[5,"number(",")+number(",")"],"-":[5,"number(",")-number(",")"],"*":[6,"number(",")*number(",")"],div:[6,"number(",")/number(",")"],mod:[6,"number(",")%number(",")"]},functions:{last:[0,"nl.length"],position:[0,"(i+1)"],count:["nl","(",".length||0)"],id:["n","id(",")"],"local-name":["nl","localName(",")"],"namespace-uri":["nl","namespaceURI(",")"],name:["nl","qName(",")"],string:["n","string(",")"],concat:[0,"concat(",")"],"starts-with":[0,"startsWith(",")"],contains:[0,"contains(",")"],"substring-before":[0,"substringBefore(",")"],"substring-after":[0,"substringAfter(",")"],substring:[0,"substring(",")"],"string-length":["n","string(",").length"],"normalize-space":["n","normalizeSpace(",")"],translate:[0,"translate(",")"],"boolean":[0,"bool(",")"],not:[0,"!bool(",")"],"true":[0,"true "],"false":[0,"false "],number:["n","number(",")"],floor:[0,"Math.floor(number(","))"],ceiling:[0,"Math.ceil(number(","))"],round:[0,"Math.round(number(","))"],sum:[0,"sum(",")"]},predicate:function(t){var e=0;return this.match(/^\[\s*/)&&((e=this.expression(t,t))&&(this.js.splice(t,0,"function(n,i,nl){with(XPath){var r="),e++,this.js.splice(t+e++,0,';return typeof r=="number"?Math.round(r)==i+1:bool(r)}},')),this.match(/^\]\s*/)||this.error("Missing ]")),e},nodeTest:function(t,e){var n;return(n=this.match(/^([a-z]+(?:-[a-z]+)*)\(([^)]*)\)\s*/,this.nodeTypes))?n.call(this,t,this.m[2]):this.match(/^\*\s*/)?this.nodeTypes[e].call(this,t):this.nodeName(t)},nodeType:function(t,e){return this.js.splice(t,0,"function(n){return n.nodeType==",e,"},"),3},nodeTypes:{node:function(t){return this.js.splice(t,0,"null,"),1},element:function(t){return this.nodeType(t,1)},attribute:function(t){return this.nodeType(t,2)},text:function(t){return this.nodeType(t,3)},"processing-instruction":function(t,e){return e?(this.js.splice(t,0,"function(n){return n.nodeType==7&&n.target==",e,"},"),3):this.nodeType(t,7)},comment:function(t){return this.nodeType(t,8)}},nodeName:function(t){return this.match(/^([a-zA-Z_]+(?:-?[a-zA-Z0-9]+)*)(?::([a-zA-Z_]+(?:-?[a-zA-Z0-9]+)*))?\s*/,1)?this.m[2]?(this.js.splice(t,0,'function(n){if(!nsr)throw new XPathException(14);return "',this.m[2],'"==',s.ie?"n.baseName":"n.localName",'&&nsr.lookupNamespaceURI("',this.m[1],'")==n.namespaceURI},'),7):(this.js.splice(t,0,"function(n){return/^",this.m[1],"$/i.test(n.nodeName)},"),3):0}},s.order=function(t,e){var n=t.compareDocumentPosition?t.compareDocumentPosition(e):s.compareDocumentPosition.call(t,e);return 32&n?(t=Array.prototype.indexOf.call(t.attributes,t))<(e=Array.prototype.indexOf.call(e.attributes,e))?-1:e<t?1:0:n?3-(6&n||3):t==e?0:(t=t.ownerElement)&&(e=e.ownerElement)?s.order(t,e):s.ie?1:0},s.compare=function(t,e,n){if(e instanceof Array&&n instanceof Array){var i=e.map(this.string),o=n.map(this.string);for(e=i.length;0<=--e;)for(n=o.length;0<=--n;)if(!t(i[e],o[n]))return!1;return!0}if(e instanceof Array){for(var r=e.length;0<=--r;)if(!t(this[typeof n](e[r]),n))return!1;return 0<e.length}if(n instanceof Array){for(r=n.length;0<=--r;)if(!t(e,this[typeof e](n[r])))return!1;return 0<n.length}return"boolean"==typeof e||"boolean"==typeof n?t(this.bool(e),this.bool(n)):"number"==typeof e||"number"==typeof n?t(this.number(e),this.number(n)):t(this.string(e),this.string(n))},s.eq=function(t,e){return t==e},s.ne=function(t,e){return t!=e},s.lt=function(t,e){return t<e},s.gt=function(t,e){return e<t},s.le=function(t,e){return t<=e},s.ge=function(t,e){return e<=t},s.id=function(t,e){1==arguments.length&&(e=t);for(var n=[],i=this.string(t).split(/\s+/),o=i.length;0<=--o;)(t=(e.ownerDocument||e).getElementById(i[o]))&&n.push(t);return n.sort(this.order)},s.localName=new Function("nl","return (nl.length&&nl[0]."+(s.ie?"baseName":"localName")+')||""'),s.namespaceURI=function(t){return t.length&&t[0].namespaceURI||""},s.qName=function(t){return t.length&&t[0].nodeName||""},s.union=function(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],i=t.length-1,o=e.length-1;;){switch(this.order(t[i],e[o])){case-1:n.unshift(e[o--]);break;case 0:o--;case 1:n.unshift(t[i--]);break;default:throw new Error("Invalid order")}if(i<0){0<++o&&n.unshift.apply(n,n.slice.call(e,0,o));break}if(o<0){0<++i&&n.unshift.apply(n,n.slice.call(t,0,i));break}}return n},s.string=s.object=function(t){if(t instanceof Array&&void 0===(t=t[0]))return"";if("string"==typeof t)return t;switch(t.nodeType){case 1:case 9:case 11:return Array.prototype.map.call(t.childNodes,this.string,this).join("");default:return t.nodeValue||""}return String(t)},s.concat=function(){return Array.prototype.map.call(arguments,this.string,this).join("")},s.startsWith=function(t,e){return this.string(t).substr(0,(e=this.string(e)).length)==e},s.contains=function(t,e){return-1!=this.string(t).indexOf(this.string(e))},s.substringBefore=function(t,e){return-1!=(e=(t=this.string(t)).indexOf(this.string(e)))?t.substr(0,e):""},s.substringAfter=function(t,e){t=this.string(t),e=this.string(e);var n=t.indexOf(e);return-1!=n?t.substr(n+e.length):""},s.substring=function(t,e,n){return t=this.string(t),e=Math.round(this.number(e))-1,2==arguments.length?t.substr(e<0?0:e):t.substr(e<0?0:e,Math.round(this.number(n))-Math.max(0,-e))},s.normalizeSpace=function(t){return this.string(t).replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")},s.translate=function(t,e,n){t=this.string(t),e=this.string(e),n=this.string(n);for(var i,o,r=[],s=t.length,a=0;0<=--s;)(-1==(i=e.indexOf(o=t.charAt(a++)))||(o=n.charAt(i)))&&r.push(o);return r.join("")},s.bool=s["boolean"]=function(t){return"boolean"==typeof t?t:t instanceof Array||"string"==typeof t?0<t.length:Boolean(t)},s.number=function(t){return t instanceof Array&&void 0===(t=t[0])?0:"number"==typeof t?t:"boolean"==typeof t?t?1:0:Number(this.string(t))},s.sum=function(t){for(var e=0,n=t.length;0<=--n;)e+=this.number(t[n]);return e},s.walk=function(t,e){for(var n,i=t.firstChild;i;)if(e.push(i),n=i.firstChild)i=n;else for(n=i;!(i=n.nextSibling)&&(n=n.parentNode)&&n!=t;);return e},s.axes={ancestor:function(t){for(var e=[];t=t.parentNode;)e.unshift(t);return e},"ancestor-or-self":function(t){for(var e=[];e.unshift(t),t=t.parentNode;);return e},attribute:new Function("n","var nl = [], a = n.attributes;if(a){attr:for(var x,i=a.length;--i>=0;){if(!(x=a[i]).specified){"+(s.ie?'switch(x.nodeName){case"selected":case"value":if(x.nodeValue)break;default:continue attr;}':"continue;")+"}nl.unshift(x);}}return nl;"),child:function(t){return t.childNodes||[]},descendant:function(t){return this.walk(t,[])},"descendant-or-self":function(t){return this.walk(t,[t])},following:function(t){for(var e,n=[];t;)(e=t.nextSibling)?(n.push(t=e),(e=t.firstChild)&&n.push(t=e)):t=t.parentNode;return n},"following-sibling":function(t){for(var e=[];t=t.nextSibling;)e.push(t);return e},parent:function(t){return t.parentNode?[t.parentNode]:[]},preceding:function(t){for(var e,n=[],i=t.parentNode;t;)if(e=t.previousSibling){for(t=e;e=t.lastChild;t=e);n.unshift(t)}else(t=t.parentNode)&&(t==i?i=i.parentNode:n.unshift(t));return n},"preceding-sibling":function(t){for(var e=[];t=t.previousSibling;)e.unshift(t);return e},self:function(t){return[t]},"document-root":function(t){return[t.ownerDocument||t]}},s.axis=function(t,e){for(var n,i,o,r=arguments.length-1,s=arguments[r],a=Array.prototype,l=0,u=s.length;0<=--u;){for(i=t.call(this,s[l++]),e&&i.length&&(i=a.filter.call(i,e,this)),o=2;o<r&&i.length;i=a.filter.call(i,arguments[o++],this));n=n?this.union(n,i):i}return n||[]},s.cache={},t.Node){var c=t.Node.prototype;!n&&c.compareDocumentPosition||(c.compareDocumentPosition=i),!n&&c.contains||(c.contains=function(t){return Boolean(16&this.compareDocumentPosition(t))})}else s.compareDocumentPosition=i;if(n||!t.XPathException){var d=o,h=new Error;h.toString=function(){return this.name+":"+this.message},d.prototype=h,d.NAMESPACE_ERR=14,d.INVALID_EXPRESSION_ERR=51,d.TYPE_ERR=52,t.XPathException=d}if(!n&&t.XPathNSResolver||(r.prototype={lookupNamespaceURI:function(t){return this.ns[t||""]}},t.XPathNSResolver=r),!n&&t.XPathExpression||(a.prototype={evaluate:function(t,e){return new l(this.fn(t,this.nsr),e)}},t.XPathExpression=a),n||!t.XPathResult){var f=l;f.ANY_TYPE=0,f.NUMBER_TYPE=1,f.STRING_TYPE=2,f.BOOLEAN_TYPE=3,f.UNORDERED_NODE_ITERATOR_TYPE=4,f.ORDERED_NODE_ITERATOR_TYPE=5,f.UNORDERED_NODE_SNAPSHOT_TYPE=6,f.ORDERED_NODE_SNAPSHOT_TYPE=7,f.ANY_UNORDERED_NODE_TYPE=8,f.FIRST_ORDERED_NODE_TYPE=9,f.prototype={iterateNext:function(){switch(this.resultType){case 4:case 5:return this.value[this.index++]}throw new o(52)},snapshotItem:function(t){switch(this.resultType){case 6:case 7:return this.value[t]}throw new o(52)}},t.XPathResult=f}!n&&t.XPathEvaluator||((d=u).prototype={createExpression:function(t,e){return new a(t,e)},createNSResolver:function(t){return new r(t)},evaluate:function(t,e,n,i){return new a(t,n).evaluate(e,i)}},d.install=function(t,e){for(var n in u.prototype)!e&&t[n]||(t[n]=u.prototype[n])},t.XPathEvaluator=d,t.Document?d.install(t.Document.prototype,n):d.install(document,n),t.XPath=s)}(window,document,/WebKit/.test(navigator.userAgent)||/Node\.js/.test(navigator.userAgent)),JSON||(JSON={}),function(){function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,o,r,s,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;n<r;n+=1)s[n]=str(n,l)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;n<r;n+=1)"string"==typeof rep[n]&&((o=str(i=rep[n],l))&&s.push(quote(i)+(gap?": ":":")+o));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&((o=str(i,l))&&s.push(quote(i)+(gap?": ":":")+o));return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(indent=gap="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(!(rep=e)||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&((i=walk(o,n))!==undefined?o[n]=i:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(t,e){var n,i,o=s,r=[];if(e=e||o.length,t)for(n=0;n<t;n++)r[n]=o[0|Math.random()*e];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",n=0;n<36;n++)r[n]||(i=0|16*Math.random(),r[n]=o[19==n?3&i|8:i]);return r.join("")},Math.uuidFast=function(){for(var t,e=s,n=new Array(36),i=0,o=0;o<36;o++)8==o||13==o||18==o||23==o?n[o]="-":14==o?n[o]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),t=15&i,i>>=4,n[o]=e[19==o?3&t|8:t])
;return n.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}}(),function(i){function e(e,n){return function(t){return o(e.call(this,t),n)}}function t(e,n){return function(t){return this.lang().ordinal(e.call(this,t),n)}}function n(){}function a(t){u(this,t)}function l(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,o=t.days||t.day||t.d||0,r=t.hours||t.hour||t.h||0,s=t.minutes||t.minute||t.m||0,a=t.seconds||t.second||t.s||0,l=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=l+1e3*a+6e4*s+36e5*r,this._days=o+7*i,this._months=n+12*e,this._data={},this._bubble()}function u(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function c(t){return t<0?Math.ceil(t):Math.floor(t)}function o(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function r(t,e,n,i){var o,r,s=e._milliseconds,a=e._days,l=e._months;s&&t._d.setTime(+t._d+s*n),(a||l)&&(o=t.minute(),r=t.hour()),a&&t.date(t.date()+a*n),l&&t.month(t.month()+l*n),s&&!i&&I.updateOffset(t),(a||l)&&(t.minute(o),t.hour(r))}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t,e){var n,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),r=0;for(n=0;n<i;n++)~~t[n]!=~~e[n]&&r++;return r+o}function h(t){return t?ot[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function f(t,e){return e.abbr=t,O[t]||(O[t]=new n),O[t].set(e),O[t]}function p(t){if(!t)return I.fn._lang;if(!O[t]&&L)try{require("./lang/"+t)}catch(e){return I.fn._lang}return O[t]}function g(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function m(n){var i,o,r=n.match($);for(i=0,o=r.length;i<o;i++)r[i]=lt[r[i]]?lt[r[i]]:g(r[i]);return function(t){var e="";for(i=0;i<o;i++)e+=r[i]instanceof Function?r[i].call(t,n):r[i];return e}}function v(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var i=5;i--&&j.test(t);)t=t.replace(j,n);return rt[t]||(rt[t]=m(t)),rt[t](e)}function b(t,e){switch(t){case"DDDD":return q;case"YYYY":return W;case"YYYYY":return Y;case"S":case"SS":case"SSS":case"DDD":return U;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return K;case"a":case"A":return p(e._l)._meridiemParse;case"X":return Q;case"Z":case"ZZ":return G;case"T":return X;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return V;default:return new RegExp(t.replace("\\",""))}}function y(t){var e=((G.exec(t)||[])[0]+"").match(et)||["-",0,0],n=60*e[1]+~~e[2];return"+"===e[0]?-n:n}function w(t,e,n){var i,o=n._a;switch(t){case"M":case"MM":o[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":null!=(i=p(n._l).monthsParse(e))?o[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(o[2]=~~e);break;case"YY":o[0]=~~e+(68<~~e?1900:2e3);break;case"YYYY":case"YYYYY":o[0]=~~e;break;case"a":case"A":n._isPm=p(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":o[3]=~~e;break;case"m":case"mm":o[4]=~~e;break;case"s":case"ss":o[5]=~~e;break;case"S":case"SS":case"SSS":o[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=y(e)}null==e&&(n._isValid=!1)}function _(t){var e,n,i=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];i[3]+=~~((t._tzm||0)/60),i[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),t._d=n}}function x(t){var e,n,i=t._f.match($),o=t._i;for(t._a=[],e=0;e<i.length;e++)(n=(b(i[e],t).exec(o)||[])[0])&&(o=o.slice(o.indexOf(n)+n.length)),lt[i[e]]&&w(i[e],n,t);o&&(t._il=o),t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),_(t)}function C(t){var e,n,i,o,r,s=99;for(o=0;o<t._f.length;o++)(e=u({},t))._f=t._f[o],x(e),n=new a(e),r=d(e._a,n.toArray()),n._il&&(r+=n._il.length),r<s&&(s=r,i=n);u(t,i)}function k(t){var e,n=t._i,i=J.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;e<4;e++)if(tt[e][1].exec(n)){t._f+=tt[e][0];break}G.exec(n)&&(t._f+=" Z"),x(t)}else t._d=new Date(n)}function T(t){var e=t._i,n=F.exec(e);e===i?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof e?k(t):s(e)?(t._a=e.slice(0),_(t)):t._d=e instanceof Date?new Date(+e):new Date(e)}function S(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function E(t,e,n){var i=H(Math.abs(t)/1e3),o=H(i/60),r=H(o/60),s=H(r/24),a=H(s/365),l=i<45&&["s",i]||1===o&&["m"]||o<45&&["mm",o]||1===r&&["h"]||r<22&&["hh",r]||1===s&&["d"]||s<=25&&["dd",s]||s<=45&&["M"]||s<345&&["MM",H(s/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=0<t,l[4]=n,S.apply({},l)}function N(t,e,n){var i,o=n-e,r=n-t.day();return o<r&&(r-=7),r<o-7&&(r+=7),i=I(t).add("d",r),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function D(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=p().preparse(e)),I.isMoment(e)?(t=u({},e))._d=new Date(+e._d):n?s(n)?C(t):x(t):T(t),new a(t))}function A(t,n){I.fn[t]=I.fn[t+"s"]=function(t){var e=this._isUTC?"UTC":"";return null!=t?(this._d["set"+e+n](t),I.updateOffset(this),this):this._d["get"+e+n]()}}function z(t){I.duration.fn[t]=function(){return this._data[t]}}function M(t,e){I.duration.fn["as"+t]=function(){return+this/e}}for(var I,P,R="2.1.0",H=Math.round,O={},L="undefined"!=typeof module&&module.exports,F=/^\/?Date\((\-?\d+)/i,B=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,$=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,V=/\d\d?/,U=/\d{1,3}/,q=/\d{3}/,W=/\d{1,4}/,Y=/[+\-]?\d{1,6}/,K=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,G=/Z|[\+\-]\d\d:?\d\d/i,X=/T/i,Q=/[\+\-]?\d+(\.\d{1,3})?/,J=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Z="YYYY-MM-DDTHH:mm:ssZ",tt=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],et=/([\+\-]|\d\d)/gi,nt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),it={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ot={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},rt={},st="DDD w W M D d".split(" "),at="M D H h m s w W".split(" "),lt={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return o(this.year()%100,2)},YYYY:function(){return o(this.year(),4)},YYYYY:function(){return o(this.year(),5)},gg:function(){return o(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return o(this.weekYear(),5)},GG:function(){return o(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return o(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return o(~~(this.milliseconds()/10),2)},SSS:function(){return o(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+o(~~(t/60),2)+":"+o(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+o(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};st.length;)P=st.pop(),lt[P+"o"]=t(lt[P],P);for(;at.length;)P=at.pop(),lt[P+P]=e(lt[P],2);for(lt.DDDD=e(lt.DDD,3),n.prototype={set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=I([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=I([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[0<t?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return N(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},(I=function(t,e,n){return D({_i:t,_f:e,_l:n,_isUTC:!1})}).utc=function(t,e,n){return D({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},I.unix=function(t){return I(1e3*t)},I.duration=function(t,e){var n,i,o=I.isDuration(t),r="number"==typeof t,s=o?t._input:r?{}:t,a=B.exec(t);return r?e?s[e]=t:s.milliseconds=t:a&&(n="-"===a[1]?-1:1,s={y:0,d:~~a[2]*n,h:~~a[3]*n,m:~~a[4]*n,s:~~a[5]*n,ms:~~a[6]*n}),i=new l(s),o&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},I.version=R,I.defaultFormat=Z,I.updateOffset=function(){},I.lang=function(t,e){return t?(e?f(t,e):O[t]||p(t),void(I.duration.fn._lang=I.fn._lang=p(t))):I.fn._lang._abbr},I.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),p(t)},I.isMoment=function(t){return t instanceof a},I.isDuration=function(t){return t instanceof l},I.fn=a.prototype={clone:function(){return I(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return v(I(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?I.utc(this._a):I(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=v(this,t||I.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return r(this,"string"==typeof t?I.duration(+e,t):I.duration(t,e),1),this},subtract:function(t,e){return r(this,"string"==typeof t?I.duration(+e,t):I.duration(t,e),-1),this},diff:function(t,e,n){var i,o,r=this._isUTC?I(t).zone(this._offset||0):I(t).local(),s=6e4*(this.zone()-r.zone());return"year"===(e=h(e))||"month"===e?(i=432e5*(this.daysInMonth()+r.daysInMonth()),o=12*(this.year()-r.year())+(this.month()-r.month()),o+=(this-I(this).startOf("month")-(r-I(r).startOf("month")))/i,o-=6e4*(this.zone()-I(this).startOf("month").zone()-(r.zone()-I(r).startOf("month").zone()))/i,"year"===e&&(o/=12)):(i=this-r,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?o:c(o)},from:function(t,e){return I.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(I(),t)},calendar:function(){var t=this.diff(I().startOf("day"),"days",!0),e=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0==t%4&&0!=t%100||0==t%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().weekdaysParse(t))?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?("string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))||(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),I.updateOffset(this)),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=h(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+I(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+I(t).startOf(e)},isSame:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)==+I(t).startOf(e)},min:function(t){return(t=I.apply(null,arguments))<this?this:t},max:function(t){return this<(t=I.apply(null,arguments))?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=y(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&r(this,I.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return I.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=H((I(this).startOf("day")-I(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=N(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=N(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=N(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===i?this._lang:(this._lang=p(t),this)}},P=0;P<nt.length;P++)A(nt[P].toLowerCase().replace(/s$/,""),nt[P]);for(P in A("year","FullYear"),I.fn.days=I.fn.day,I.fn.months=I.fn.month,I.fn.weeks=I.fn.week,I.fn.isoWeeks=I.fn.isoWeek,I.fn.toJSON=I.fn.toISOString,I.duration.fn=l.prototype={_bubble:function(){var t,e,n,i,o=this._milliseconds,r=this._days,s=this._months,a=this._data;a.milliseconds=o%1e3,t=c(o/1e3),a.seconds=t%60,e=c(t/60),a.minutes=e%60,n=c(e/60),a.hours=n%24,r+=c(n/24),a.days=r%30,s+=c(r/30),a.months=s%12,i=c(s/12),a.years=i},weeks:function(){return c(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=E(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=I.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=I.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=h(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=h(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:I.fn.lang},it)it.hasOwnProperty(P)&&(M(P,it[P]),z(P.toLowerCase()));M("Weeks",6048e5),I.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},I.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),L&&(module.exports=I),"undefined"==typeof ender&&(this.moment=I),"function"==typeof define&&define.amd&&define("moment",[],function(){return I})}.call(this),window.TinyMCERails={configuration:{"default":{}},initialize:function(t,e){if("undefined"!=typeof tinyMCE){var n=TinyMCERails.configuration[t||"default"];n=TinyMCERails._merge(n,e),tinyMCE.init(n)}else setTimeout(function(){TinyMCERails.initialize(t,e)},50)},setupTurbolinks:function(){document.addEventListener("turbolinks:before-render",function(){tinymce.remove()})},_merge:function(){for(var t={},e=0;e<arguments.length;++e){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("[object Object]"===Object.prototype.toString.call(n[i])?t[i]=TinyMCERails._merge(t[i],n[i]):t[i]=n[i])}return t}},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&TinyMCERails.setupTurbolinks(),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(wt){"use strict";function h(i){for(var o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.concat(t);return i.apply(null,n)}}function f(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function _t(p,g){void 0===g&&(g={});var m,v=0,b={};m=g.maxLoadTime||5e3;var y=function(t){p.getElementsByTagName("head")[0].appendChild(t)},n=function(t,e,n){var o,i,r,s,a=function(t){s.status=t,s.passed=[],s.failed=[],o&&(o.onload=null,o.onerror=null,o=null)},l=function(){for(var t=s.passed,e=t.length;e--;)t[e]();a(2)},u=function(){for(var t=s.failed,e=t.length;e--;)t[e]();a(3)},c=function(){var t=wt.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&parseInt(t[1],10)<536)},d=function(t,e){t()||((new Date).getTime()-r<m?Li.setTimeout(e):u())},h=function(){d(function(){for(var t,e,n=p.styleSheets,i=n.length;i--;)if((e=(t=n[i]).ownerNode?t.ownerNode:t.owningElement)&&e.id===o.id)return l(),!0},h)},f=function(){d(function(){try{var t=i.sheet.cssRules;return l(),!!t}catch(e){}},f)};if(t=go._addCacheSuffix(t),b[t]?s=b[t]:(s={passed:[],failed:[]},b[t]=s),e&&s.passed.push(e),n&&s.failed.push(n),1!==s.status)if(2!==s.status)if(3!==s.status){if(s.status=1,(o=p.createElement("link")).rel="stylesheet",o.type="text/css",o.id="u"+v++,o.async=!1,o.defer=!1,r=(new Date).getTime(),g.contentCssCors&&(o.crossOrigin="anonymous"),g.referrerPolicy&&Tn(rn.fromDom(o),"referrerpolicy",g.referrerPolicy),"onload"in o&&!c())o.onload=h,o.onerror=u;else{if(0<wt.navigator.userAgent.indexOf("Firefox"))return(i=p.createElement("style")).textContent='@import "'+t+'"',f(),void y(i);h()}y(o),o.href=t}else u();else l()},e=function(e){return Ti.nu(function(t){n(e,U(t,q(zi.value(e))),U(t,q(zi.error(e))))})},o=function(t){return t.fold(W,W)};return{load:n,loadAll:function(t,n,i){Ei(vt(t,e)).get(function(t){var e=Tt(t,function(t){return t.isValue()});0<e.fail.length?i(e.fail.map(o)):n(e.pass.map(o))})},_setReferrerPolicy:function(t){g.referrerPolicy=t}}}function xt(r){var t,e,n,i,o,s,a,l,u,c,d,h,f,C={},p={},k=[],g={},m={},v=function(t,e,n){var i=r[t];return i?i=_r(i,/[, ]/,_r(i.toUpperCase(),/[, ]/)):(i=yr[t])||(i=_r(e," ",_r(e.toUpperCase()," ")),i=Cr(i,n),yr[t]=i),i};n=Er((r=r||{}).schema),!1===r.verify_html&&(r.valid_elements="*[*]"),t=Nr(r.valid_styles),e=Nr(r.invalid_styles,"map"),l=Nr(r.valid_classes,"map"),i=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=v("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),a=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=v("non_empty_elements","td th iframe video audio object script pre code",s),d=v("move_caret_before_on_enter_elements","table",c),h=v("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),u=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",h),f=v("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),xr((r.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(t){m[t]=new RegExp("</"+t+"[^>]*>","gi")});var T=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},b=function(t){var e,n,i,o,r,s,a,l,u,c,d,h,f,p,g,m,v,b,y,w=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,_=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,x=/[*?+]/;if(t)for(t=Sr(t,","),C["@"]&&(m=C["@"].attributes,v=C["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(r=w.exec(t[e])){if(p=r[1],u=r[2],g=r[3],l=r[5],s={attributes:h={},attributesOrder:f=[]},"#"===p&&(s.paddEmpty=!0),"-"===p&&(s.removeEmpty=!0),"!"===r[4]&&(s.removeEmptyAttrs=!0),m){for(b in m)h[b]=m[b];f.push.apply(f,v)}if(l)for(i=0,o=(l=Sr(l,"|")).length;i<o;i++)if(r=_.exec(l[i])){if(a={},d=r[1],c=r[2].replace(/[\\:]:/g,":"),p=r[3],y=r[4],"!"===d&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(c),a.required=!0),"-"===d){delete h[c],f.splice(Tr(f,c),1);continue}p&&("="===p&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:c,value:y}),a.defaultValue=y),":"===p&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:c,value:y}),a.forcedValue=y),"<"===p&&(a.validValues=_r(y,"?"))),x.test(c)?(s.attributePatterns=s.attributePatterns||[],a.pattern=T(c),s.attributePatterns.push(a)):(h[c]||f.push(c),h[c]=a)}m||"@"!==u||(m=h,v=f),g&&(s.outputName=u,C[g]=s),x.test(u)?(s.pattern=T(u),k.push(s)):C[u]=s}},y=function(t){C={},k=[],b(t),xr(n,function(t,e){p[e]=t.children})},w=function(t){var s=/^(~)?(.+)$/;t&&(yr.text_block_elements=yr.block_elements=null,xr(Sr(t,","),function(t){var e=s.exec(t),n="~"===e[1],i=n?"span":"div",o=e[2];if(p[o]=p[i],g[o]=i,n||(u[o.toUpperCase()]={},u[o]={}),!C[o]){var r=C[i];delete(r=Cr({},r)).removeEmptyAttrs,delete r.removeEmpty,C[o]=r}xr(p,function(t,e){t[i]&&(p[e]=t=Cr({},p[e]),t[o]=t[i])})}))},_=function(t){var o=/^([+\-]?)(\w+)\[([^\]]+)\]$/;yr[r.schema]=null,t&&xr(Sr(t,","),function(t){var e,n,i=o.exec(t);i&&(n=i[1],e=n?p[i[2]]:p[i[2]]={"#comment":{}},e=p[i[2]],xr(Sr(i[3],"|"),function(t){"-"===n?delete e[t]:e[t]={}}))})},x=function(t){var e,n=C[t];if(n)return n;for(e=k.length;e--;)if((n=k[e]).pattern.test(t))return n};r.valid_elements?y(r.valid_elements):(xr(n,function(t,e){C[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},p[e]=t.children}),"html5"!==r.schema&&xr(Sr("strong/b em/i"),function(t){t=Sr(t,"/"),C[t[1]].outputName=t[0]}),xr(Sr("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){C[t]&&(C[t].removeEmpty=!0)}),xr(Sr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(t){C[t].paddEmpty=!0}),xr(Sr("span"),function(t){C[t].removeEmptyAttrs=!0})),w(r.custom_elements),_(r.valid_children),b(r.extended_valid_elements),_("+ol[ul|ol],+ul[ul|ol]"),xr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,e){C[e]&&(C[e].parentsRequired=Sr(t))}),r.invalid_elements&&xr(kr(r.invalid_elements),function(t){C[t]&&delete C[t]}),x("span")||b("span[!data-mce-type|*]");var S=function(t,e){var n,i,o=x(t);if(o){if(!e)return!0;if(o.attributes[e])return!0;if(n=o.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1};return{children:p,elements:C,getValidStyles:function(){return t},getValidClasses:function(){return l},getBlockElements:function(){return u},getInvalidStyles:function(){return e},getShortEndedElements:function(){return s},getTextBlockElements:function(){return h},getTextInlineElements:function(){return f},getBoolAttrs:function(){return a},getElementRule:x,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return i},getSpecialElements:function(){return m},isValidChild:function(t,e){var n=p[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:S,getCustomElements:function(){return g},addValidElements:b,setValidElements:y,addCustomElements:w,addValidChildren:_}}function t(){function n(t,e){return i.push(t+" ")>Qo.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function n(t){return t[Vr]=!0,t}function u(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Jr)-(~t.sourceIndex||Jr);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function e(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function i(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function o(s){return n(function(r){return r=+r,n(function(t,e){for(var n,i=s([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function g(t){return t&&typeof t.getElementsByTagName!==Qr&&t}function r(){}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(s,t,e){var a=t.dir,l=e&&"parentNode"===a,u=Wr++;return t.first?function(t,e,n){for(;t=t[a];)if(1===t.nodeType||l)return s(t,e,n)}:function(t,e,n){var i,o,r=[qr,u];if(n){for(;t=t[a];)if((1===t.nodeType||l)&&s(t,e,n))return!0}else for(;t=t[a];)if(1===t.nodeType||l){if((i=(o=t[Vr]||(t[Vr]={}))[a])&&i[0]===qr&&i[1]===u)return r[2]=i[2];if((o[a]=r)[2]=s(t,e,n))return!0}}}function p(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function b(t,e,n){for(var i=0,o=e.length;i<o;i++)Ss(t,e[i],n);return n}function w(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(r=t[a])&&(n&&!n(r,i,o)||(s.push(r),u&&e.push(a)));return s}function y(f,p,g,m,v,t){return m&&!m[Vr]&&(m=y(m)),v&&!v[Vr]&&(v=y(v,t)),n(function(t,e,n,i){var o,r,s,a=[],l=[],u=e.length,c=t||b(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?c:w(c,a,f,n,i),h=g?v||(t?f:u||m)?[]:e:d;if(g&&g(d,h,n,i),m)for(o=w(h,l),m(o,[],n,i),r=o.length;r--;)(s=o[r])&&(h[l[r]]=!(d[l[r]]=s));if(t){if(v||f){if(v){for(o=[],r=h.length;r--;)(s=h[r])&&o.push(d[r]=s);v(null,h=[],o,i)}for(r=h.length;r--;)(s=h[r])&&-1<(o=v?rs.call(t,s):a[r])&&(t[o]=!(e[o]=s))}}else h=w(h===e?h.splice(u,h.length):h),v?v(null,e,h,i):is.apply(e,h)})}function v(t){for(var i,e,n,o=t.length,r=Qo.relative[t[0].type],s=r||Qo.relative[" "],a=r?1:0,l=d(function(t){return t===i},s,!0),u=d(function(t){return-1<rs.call(i,t)},s,!0),c=[function(t,e,n){return!r&&(n||e!==ir)||((i=e).nodeType?l(t,e,n):u(t,e,n))}];a<o;a++)if(e=Qo.relative[t[a].type])c=[d(p(c),e)];else{if((e=Qo.filter[t[a].type].apply(null,t[a].matches))[Vr]){for(n=++a;n<o&&!Qo.relative[t[n].type];n++);return y(1<a&&p(c),1<a&&m(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ds,"$1"),e,a<n&&v(t.slice(a,n)),n<o&&v(t=t.slice(n)),n<o&&m(t))}c.push(e)}return p(c)}function s(m,v){var b=0<v.length,y=0<m.length,t=function(t,e,n,i,o){var r,s,a,l=0,u="0",c=t&&[],d=[],h=ir,f=t||y&&Qo.find.TAG("*",o),p=qr+=null==h?1:Math.random()||.1,g=f.length;for(o&&(ir=e!==ar&&e);u!==g&&null!=(r=f[u]);u++){if(y&&r){for(s=0;a=m[s++];)if(a(r,e,n)){i.push(r);break}o&&(qr=p)}b&&((r=!a&&r)&&l--,t&&c.push(r))}if(l+=u,b&&u!==l){for(s=0;a=v[s++];)a(c,d,e,n);if(t){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=es.call(i));d=w(d)}is.apply(i,d),o&&!t&&0<d.length&&1<l+v.length&&Ss.uniqueSort(i)}return o&&(qr=p,ir=h),c};return b?n(t):t}function Ct(s,a){var l,u=this;void 0===a&&(a={});var i={},c=wt.window,o={},e=0,t=!0,n=!0,r=_t(s,{contentCssCors:a.contentCssCors,referrerPolicy:a.referrerPolicy}),d=[],h=a.schema?a.schema:xt({}),f=Ar({url_converter:a.url_converter,url_converter_scope:a.url_converter_scope},a.schema),p=a.ownEvents?new jr:jr.Event,g=h.getBlockElements(),m=ia.overrideDefaults(function(){return{context:s,element:yt.getRoot()}}),v=function(t){if("string"==typeof t)return!!g[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!g[t.nodeName])}return!1},b=function(t){if(t&&s&&"string"==typeof t){var e=s.getElementById(t);return e&&e.id!==t?s.getElementsByName(t)[1]:e}return t},y=function(t){return"string"==typeof t&&(t=b(t)),m(t)},w=function(t,e,n){var i,o,r=y(t);return r.length&&(o=(i=l[e])&&i.get?i.get(r,e):r.attr(e)),void 0===o&&(o=n||""),o},_=function(t){var e=b(t);return e?e.attributes:[]},x=function(t,e,n){var i,o;""===n&&(n=null);var r=y(t);i=r.attr(e),r.length&&((o=l[e])&&o.set?o.set(r,n,e):r.attr(e,n),i!==n&&a.onSetAttrib&&a.onSetAttrib({attrElm:r,attrName:e,attrValue:n}))},C=function(e,t){if(!Da||1!==e.nodeType||t)return e.cloneNode(t);if(t)return null;var n=s.createElement(e.nodeName);return Ea(_(e),function(t){x(n,t.nodeName,w(e,t.nodeName))}),n},k=function(){return a.root_element||s.body},T=function(t){var e=Sa(t);return{x:e.x(),y:e.y(),w:e.width(),h:e.height()}},S=function(t,e){return hi.getPos(s.body,b(t),e)},E=function(t,e,n){var i=kt(e)?y(t).css(e,n):y(t).css(e);a.update_styles&&Ia(f,i)},N=function(t,e){var n=y(t).css(e);a.update_styles&&Ia(f,n)},D=function(t,e,n){var i=y(t);return n?i.css(e):("float"===(e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}))&&(e=Yi.browser.isIE()?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[e]:undefined)},A=function(t){var e,n;return t=b(t),e=D(t,"width"),n=D(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},z=function(t){var e,n;return t=b(t),e=S(t),n=A(t),{x:e.x,y:e.y,w:n.w,h:n.h}},M=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(Aa.test(e)){var i=e.toLowerCase().split(/,/),o=t.nodeName.toLowerCase();for(n=i.length-1;0<=n;n--)if(i[n]===o)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var r=Array.isArray(t)?t:[t];return 0<Ss(e,r[0].ownerDocument||r[0],null,r).length},I=function(t,e,n,i){var o,r=[],s=b(t);for(i=i===undefined,n=n||("BODY"!==k().nodeName?k().parentNode:null),go.is(e,"string")&&(e="*"===(o=e)?function(t){return 1===t.nodeType}:function(t){return M(t,o)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!e||"function"==typeof e&&e(s)){if(!i)return[s];r.push(s)}s=s.parentNode}return i?r:null},P=function(t,e,n){var i=I(t,e,n,!1);return i&&0<i.length?i[0]:null},R=function(t,e,n){var i=e;if(t)for("string"==typeof e&&(i=function(t){return M(t,e)}),t=t[n];t;t=t[n])if(
"function"==typeof i&&i(t))return t;return null},H=function(t,e){return R(t,e,"nextSibling")},O=function(t,e){return R(t,e,"previousSibling")},L=function(t,e){return Ss(t,b(e)||a.root_element||s,[])},F=function(t,n,i){var o,e="string"==typeof t?b(t):t;if(!e)return!1;if(go.isArray(e)&&(e.length||0===e.length))return o=[],Ea(e,function(t,e){t&&("string"==typeof t&&(t=b(t)),o.push(n.call(i,t,e)))}),o;var r=i||u;return n.call(r,e)},B=function(t,e){y(t).each(function(t,n){Ea(e,function(t,e){x(n,e,t)})})},$=function(t,i){var e=y(t);Da?e.each(function(t,e){if(!1!==e.canHaveHTML){for(;e.firstChild;)e.removeChild(e.firstChild);try{e.innerHTML="<br>"+i,e.removeChild(e.firstChild)}catch(n){ia("<div></div>").html("<br>"+i).contents().slice(1).appendTo(e)}return i}}):e.html(i)},j=function(t,n,i,o,r){return F(t,function(t){var e="string"==typeof n?s.createElement(n):n;return B(e,i),o&&("string"!=typeof o&&o.nodeType?e.appendChild(o):"string"==typeof o&&$(e,o)),r?e:t.appendChild(e)})},V=function(t,e,n){return j(s.createElement(t),t,e,n,!0)},U=br.decode,q=br.encodeAllRaw,W=function(t){var e,n=s.createElement("div"),i=s.createDocumentFragment();for(t&&(n.innerHTML=t);e=n.firstChild;)i.appendChild(e);return i},Y=function(t,e){var n=y(t);return e?n.each(function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]},K=function(t){return f.parse(t)},G=function(t,e){return f.serialize(t,e)},X=function(t){var e,n;if(yt!==Ct.DOM&&s===wt.document){if(i[t])return;i[t]=!0}(n=s.getElementById("mceDefaultStyles"))||((n=s.createElement("style")).id="mceDefaultStyles",n.type="text/css",(e=s.getElementsByTagName("head")[0]).firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(s.createTextNode(t))},Q=function(t){var n;yt===Ct.DOM||s!==wt.document?(t||(t=""),n=s.getElementsByTagName("head")[0],Ea(t.split(","),function(t){var e;t=go._addCacheSuffix(t),o[t]||(o[t]=!0,e=V("link",$t($t({rel:"stylesheet",type:"text/css",href:t},a.contentCssCors?{crossOrigin:"anonymous"}:{}),a.referrerPolicy?{referrerPolicy:a.referrerPolicy}:{})),n.appendChild(e))})):Ct.DOM.loadCSS(t)},J=function(t,e,n){y(t).toggleClass(e,n).each(function(){""===this.className&&ia(this).attr("class",null)})},Z=function(t,e){y(t).addClass(e)},tt=function(t,e){return y(t).hasClass(e)},et=function(t){y(t).show()},nt=function(t){y(t).hide()},it=function(t){return"none"===y(t).css("display")},ot=function(t){var e="string"==typeof t?b(t):t;return le.isElement(e)?e.outerHTML:ia("<div></div>").append(ia(e).clone()).html()},rt=function(t,e){y(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}Y(ia(this).html(e),!0)})},st=function(t,e){var i=b(e);return F(t,function(t){var e,n;return e=i.parentNode,(n=i.nextSibling)?e.insertBefore(t,n):e.appendChild(t),t})},at=function(e,t,n){return F(t,function(t){return go.is(t,"array")&&(e=e.cloneNode(!0)),n&&Ea(Na(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},lt=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=V(t),Ea(_(e),function(t){x(n,t.nodeName,w(e,t.nodeName))}),at(n,e,!0)),n||e},ut=function(t){return f.toHex(go.trim(t))},ct=function(t,e){var n,i,o,r,s=0;if(t=t.firstChild){var a=new oa(t,t.parentNode),l=h?h.getWhiteSpaceElements():{};e=e||(h?h.getNonEmptyElements():null);do{if(o=t.nodeType,le.isElement(t)){var u=t.getAttribute("data-mce-bogus");if(u){t=a.next("all"===u);continue}if(r=t.nodeName.toLowerCase(),e&&e[r]){if("br"!==r)return!1;s++,t=a.next();continue}for(n=(i=_(t)).length;n--;)if("name"===(r=i[n].nodeName)||"data-mce-bookmark"===r)return!1}if(8===o)return!1;if(3===o&&!za.test(t.nodeValue))return!1;if(3===o&&t.parentNode&&l[t.parentNode.nodeName]&&za.test(t.nodeValue))return!1;t=a.next()}while(t)}return s<=1},dt=function(){return s.createRange()},ht=function(t,e,n){var i,o,r,s=dt();if(t&&e)return s.setStart(t.parentNode,Pa(t)),s.setEnd(e.parentNode,Pa(e)),i=s.extractContents(),(s=dt()).setStart(e.parentNode,Pa(e)+1),s.setEnd(t.parentNode,Pa(t)+1),o=s.extractContents(),(r=t.parentNode).insertBefore(Bo.trimNode(yt,i),t),n?r.insertBefore(n,t):r.insertBefore(e,t),r.insertBefore(Bo.trimNode(yt,o),t),Y(t),n||e},ft=function(t,e,n,i){if(go.isArray(t)){for(var o=t.length,r=[];o--;)r[o]=ft(t[o],e,n,i);return r}return!a.collect||t!==s&&t!==c||d.push([t,e,n,i]),p.bind(t,e,n,i||yt)},pt=function(t,e,n){var i;if(go.isArray(t)){i=t.length;for(var o=[];i--;)o[i]=pt(t[i],e,n);return o}if(d&&(t===s||t===c))for(i=d.length;i--;){var r=d[i];t!==r[0]||e&&e!==r[1]||n&&n!==r[2]||p.unbind(r[0],r[1],r[2])}return p.unbind(t,e,n)},gt=function(t,e,n){return p.fire(t,e,n)},mt=function(t){if(t&&le.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},vt=function(t){for(var e=k(),n=null;t&&t!==e&&null===(n=mt(t));t=t.parentNode);return n},bt=function(){if(d)for(var t=d.length;t--;){var e=d[t];p.unbind(e[0],e[1],e[2])}Ss.setDocument&&Ss.setDocument()},yt={doc:s,settings:a,win:c,files:o,stdMode:t,boxModel:n,styleSheetLoader:r,boundEvents:d,styles:f,schema:h,events:p,isBlock:v,$:m,$$:y,root:null,clone:C,getRoot:k,getViewPort:T,getRect:z,getSize:A,getParent:P,getParents:I,get:b,getNext:H,getPrev:O,select:L,is:M,add:j,create:V,createHTML:function(t,e,n){var i,o="";for(i in o+="<"+t,e)e.hasOwnProperty(i)&&null!==e[i]&&"undefined"!=typeof e[i]&&(o+=" "+i+'="'+q(e[i])+'"');return void 0!==n?o+">"+n+"</"+t+">":o+" />"},createFragment:W,remove:Y,setStyle:E,getStyle:D,setStyles:N,removeAllAttribs:function(t){return F(t,function(t){var e,n=t.attributes;for(e=n.length-1;0<=e;e--)t.removeAttributeNode(n.item(e))})},setAttrib:x,setAttribs:B,getAttrib:w,getPos:S,parseStyle:K,serializeStyle:G,addStyle:X,loadCSS:Q,addClass:Z,removeClass:function(t,e){J(t,e,!1)},hasClass:tt,toggleClass:J,show:et,hide:nt,isHidden:it,uniqueId:function(t){return(t||"mce_")+e++},setHTML:$,getOuterHTML:ot,setOuterHTML:rt,decode:U,encode:q,insertAfter:st,replace:at,rename:lt,findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:ut,run:F,getAttribs:_,isEmpty:ct,createRng:dt,nodeIndex:Pa,split:ht,bind:ft,unbind:pt,fire:gt,getContentEditable:mt,getContentEditableParent:vt,destroy:bt,isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return l=Ma(f,a,function(){return yt}),yt}function x(){var i=this,o=[],s={},a={},r=[],l=function(t){var e;return a[t]&&(e=a[t].dependencies),e||[]},t=function(e,t,n){o.push(t),a[e]={instance:t,dependencies:n};var i=Tt(r,function(t){return t.name===e});return r=i.fail,Xa(i.pass,function(t){t.callback()}),t},e=function(t){delete s[t],delete a[t]},u=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},c=function(t,n,e,i){var o=l(t);Xa(o,function(t){var e=u(n,t);d(e.resource,e,undefined,undefined)}),e&&(i?e.call(i):e.call(Ua))},d=function(t,e,n,i,o){if(!s[t]){var r="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==r.indexOf("/")&&-1===r.indexOf("://")&&(r=x.baseURL+"/"+r),s[t]=r.substring(0,r.lastIndexOf("/")),a[t]?c(t,e,n,i):Ua.ScriptLoader.add(r,function(){return c(t,e,n,i)},i,o)}},n=function(t,e){a.hasOwnProperty(t)?e():r.push({name:t,callback:e})};return{items:o,urls:s,lookup:a,_listeners:r,get:function(t){return a[t]?a[t].instance:undefined},dependencies:l,requireLangPack:function(t,e){var n=Ga.getCode();if(n&&!1!==x.languageLoad){if(e)if(-1!==(e=","+e+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1===e.indexOf(","+n+","))return;Ua.ScriptLoader.add(s[t]+"/langs/"+n+".js")}},add:t,remove:e,createUrl:u,addComponents:function(t,e){var n=i.urls[t];Xa(e,function(t){Ua.ScriptLoader.add(n+"/"+t)})},load:d,waitFor:n}}function a(t,e,n,i,o){return t(n,i)?et.some(n):lt(o)&&o(n)?et.none():e(n,i,o)}function C(e,n,t){var i=function(){return Bu(e),0===n},o=function(){return Bu(e)?n>=e.data.length:n>=e.childNodes.length},r=function(){var t;return(t=Uu(e.ownerDocument)).setStart(e,n),t.setEnd(e,n),t},s=function(){return t||(t=Zu(C(e,n))),t},a=function(){return 0<s().length},l=function(t){return t&&e===t.container()&&n===t.offset()},u=function(t){return Vu(e,t?n-1:n)};return{container:q(e),offset:q(n),toRange:r,getClientRects:s,isVisible:a,isAtStart:i,isAtEnd:o,isEqual:l,getNode:u}}function l(n,i){var t=function(t){if(!n(t))throw new Error("Can only get "+i+" value of a "+i+" node");return e(t).getOr("")},e=function(t){return n(t)?et.from(t.dom().nodeValue):et.none()};return{get:t,getOption:e,set:function(t,e){if(!n(t))throw new Error("Can only set raw "+i+" value of a "+i+" node");t.dom().nodeValue=e}}}function c(F,B){void 0===B&&(B=xt());var t=function(){};!1!==(F=F||{}).fix_self_closing&&(F.fix_self_closing=!0);var $=F.comment?F.comment:t,j=F.cdata?F.cdata:t,V=F.text?F.text:t,U=F.start?F.start:t,q=F.end?F.end:t,W=F.pi?F.pi:t,Y=F.doctype?F.doctype:t;return{parse:function(t){var e,n,i,c,o,r,s,d,a,l,h,u,f,p,g,m,v,b,y,w,_,x,C,k,T,S,E,N,D,A=0,z=[],M=0,I=br.decode,P=go.makeMap("src,href,data,background,formaction,poster,xlink:href"),R=/((java|vb)script|mhtml):/i,H=function(t){var e,n;for(e=z.length;e--&&z[e].name!==t;);if(0<=e){for(n=z.length-1;e<=n;n--)(t=z[n]).valid&&q(t.name);z.length=e}},O=function(t,e,n,i,o){var r,s,a=/[\s\u0000-\u001F]+/g;if(n=(e=e.toLowerCase())in h?e:I(n||i||o||""),f&&!d&&!1===uf(e)){if(!(r=b[e])&&y){for(s=y.length;s--&&!(r=y[s]).pattern.test(e););-1===s&&(r=null)}if(!r)return;if(r.validValues&&!(n in r.validValues))return}if(P[e]&&!F.allow_script_urls){var l=n.replace(a,"");try{l=decodeURIComponent(l)}catch(u){l=unescape(l)}if(R.test(l))return;if(df(F,l))return}d&&(e in P||0===e.indexOf("on"))||(c.map[e]=n,c.push({name:e,value:n}))};for(T=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),S=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,l=B.getShortEndedElements(),k=F.self_closing_elements||B.getSelfClosingElements(),h=B.getBoolAttrs(),f=F.validate,a=F.remove_internals,D=F.fix_self_closing,E=B.getSpecialElements(),C=t+">";e=T.exec(C);){if(A<e.index&&V(I(t.substr(A,e.index-A))),n=e[6])":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),H(n);else if(n=e[7]){if(e.index+e[0].length>t.length){V(I(t.substr(e.index))),A=e.index+e[0].length;continue}":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),u=n in l,D&&k[n]&&0<z.length&&z[z.length-1].name===n&&H(n);var L=ff(S,e[8]);if(null!==L){if("all"===L){A=hf(B,t,T.lastIndex),T.lastIndex=A;continue}g=!1}if(!f||(p=B.getElementRule(n))){if(g=!0,f&&(b=p.attributes,y=p.attributePatterns),(v=e[8])?((d=-1!==v.indexOf("data-mce-type"))&&a&&(g=!1),(c=[]).map={},v.replace(S,O)):(c=[]).map={},f&&!d){if(w=p.attributesRequired,_=p.attributesDefault,x=p.attributesForced,p.removeEmptyAttrs&&!c.length&&(g=!1),x)for(o=x.length;o--;)s=(m=x[o]).name,"{$uid}"===(N=m.value)&&(N="mce_"+M++),c.map[s]=N,c.push({name:s,value:N});if(_)for(o=_.length;o--;)(s=(m=_[o]).name)in c.map||("{$uid}"===(N=m.value)&&(N="mce_"+M++),c.map[s]=N,c.push({name:s,value:N}));if(w){for(o=w.length;o--&&!(w[o]in c.map););-1===o&&(g=!1)}if(m=c.map["data-mce-bogus"]){if("all"===m){A=hf(B,t,T.lastIndex),T.lastIndex=A;continue}g=!1}}g&&U(n,c,u)}else g=!1;if(i=E[n]){i.lastIndex=A=e.index+e[0].length,(e=i.exec(t))?(g&&(r=t.substr(A,e.index-A)),A=e.index+e[0].length):(r=t.substr(A),A=t.length),g&&(0<r.length&&V(r,!0),q(n)),T.lastIndex=A;continue}u||(v&&v.indexOf("/")===v.length-1?g&&q(n):z.push({name:n,valid:g}))}else(n=e[1])?(">"===n.charAt(0)&&(n=" "+n),F.allow_conditional_comments||"[if"!==n.substr(0,3).toLowerCase()||(n=" "+n),$(n)):(n=e[2])?j(cf(n)):(n=e[3])?Y(n):(n=e[4])&&W(n,e[5]);A=e.index+e[0].length}for(A<t.length&&V(I(t.substr(A))),o=z.length-1;0<=o;o--)(n=z[o]).valid&&q(n.name)}}}function k(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}}function T(n){var i=[],o=function(){var t=n.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():k()},t=function(){return et.from(i[0])},r=function(t,e){return!(t.type!==e.type||t.text!==e.text||t.progressBar||t.timeout||e.progressBar||e.timeout)},s=function(){0<i.length&&o().reposition(i)},a=function(t){i.push(t)},l=function(e){At(i,function(t){return t===e}).each(function(t){i.splice(t,1)})},u=function(e){if(!n.removed&&Rg.isEditorAttachedToDom(n))return Dt(i,function(t){return r(o().getArgs(t),e)}).getOrThunk(function(){n.editorManager.setActive(n);var t=o().open(e,function(){l(t),s()});return a(t),s(),t})},e=function(){t().each(function(t){o().close(t),l(t),s()})},c=function(){return i};return function(e){e.on("SkinLoaded",function(){var t=e.settings.service_message;t&&u({text:t,type:"warning",timeout:0})}),e.on("ResizeEditor ResizeWindow NodeChange",function(){Li.requestAnimationFrame(s)}),e.on("remove",function(){bt(i.slice(),function(t){o().close(t)})})}(n),{open:u,close:e,getNotifications:c}}function S(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}function E(l,s){var n={},a=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e},e=function(t,e,n,i){var o,r;(o=new wt.XMLHttpRequest).open("POST",s.url),o.withCredentials=s.credentials,o.upload.onprogress=function(t){i(t.loaded/t.total*100)},o.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var t;o.status<200||300<=o.status?n("HTTP Error: "+o.status):(t=JSON.parse(o.responseText))&&"string"==typeof t.location?e(a(s.basePath,t.location)):n("Invalid JSON: "+o.responseText)},(r=new wt.FormData).append("file",t.blob(),t.filename()),o.send(r)},i=function(){return new Ii(function(t){t([])})},u=function(t,e){return{url:e,blobInfo:t,status:!0}},c=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},d=function(t,e){go.each(n[t],function(t){t(e)}),delete n[t]},o=function(r,s,a){return l.markPending(r.blobUri()),new Ii(function(e){var n,t=function(){};try{var i=function(){n&&(n.close(),t)};s(r,function(t){i(),l.markUploaded(r.blobUri(),t),d(r.blobUri(),u(r,t)),e(u(r,t))},function(t){i(),l.removeFailed(r.blobUri()),d(r.blobUri(),c(r,t)),e(c(r,t))},function(t){t<0||100<t||(n||(n=a()),n.progressBar.value(t))})}catch(o){e(c(r,o.message))}})},r=function(t){return t===e},h=function(t){var e=t.blobUri();return new Ii(function(t){n[e]=n[e]||[],n[e].push(t)})},f=function(t,e){return t=go.grep(t,function(t){return!l.isUploaded(t.blobUri())}),Ii.all(go.map(t,function(t){return l.isPending(t.blobUri())?h(t):o(t,s.handler,e)}))},t=function(t,e){return!s.url&&r(s.handler)?i():f(t,e)};return!1===lt(s.handler)&&(s.handler=e),{upload:t}}function N(o,r){var s={};return{findAll:function(t,n){var e;n||(n=q(!0)),e=St(em(t),function(t){var e=t.src;return!!Yi.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!e||e===Yi.transparentSrc)&&(0===e.indexOf("blob:")?!o.isUploaded(e)&&n(t):0===e.indexOf("data:")&&n(t)))))});var i=vt(e,function(n){if(s[n.src])return new Ii(function(e){s[n.src].then(function(t){if("string"==typeof t)return t;e({image:n,blobInfo:t.blobInfo})})});var t=new Ii(function(t,e){tm(r,n,t,e)}).then(function(t){return delete s[t.image.src],t})["catch"](function(t){return delete s[n.src],t});return s[n.src]=t});return Ii.all(i)}}}function D(){var e=1,n=2,i={},o=function(t,e){return{status:t,resultUri:e}},r=function(t){return t in i},t=function(t){return!!r(t)&&i[t].status===e},s=function(t){return!!r(t)&&i[t].status===n};return{hasBlobUri:r,getResultUri:function(t){var e=i[t];return e?e.resultUri:null},isPending:t,isUploaded:s,markPending:function(t){i[t]=o(e,null)},markUploaded:function(t,e){i[t]=o(n,e)},removeFailed:function(t){delete i[t]},destroy:function(){i={}}}}function A(t){var n={},e=function(t){return t?n[t]:n},i=function(t){return _n(n,t)},o=function(t,e){t&&("string"!=typeof t?go.each(t,function(t,e){o(e,t)}):(rt(e)||(e=[e]),go.each(e,function(t){"undefined"==typeof t.deep&&(t.deep=!t.selector),"undefined"==typeof t.split&&(t.split=!t.selector||t.inline),"undefined"==typeof t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),n[t]=e))},r=function(t){return t&&n[t]&&delete n[t],n};return o(Ww.get(t.dom)),o(t.settings.formats),{get:e,has:i,register:o,unregister:r}}function z(t){return{getBookmark:h(xh.getBookmark,t),moveToBookmark:h(xh.moveToBookmark,t)}}function M(i,o){var t=function(t){var e=o(t);if(e<=0||null===e){var n=An(t,i);return parseFloat(n)||0}return e},r=function(o,t){return Nt(t,function(t,e){var n=An(o,e),i=n===undefined?0:parseInt(n,10);return isNaN(i)?t:t+i},0)},e=function(t,e,n){var i=r(t,n);return i<e?e-i:0};return{set:function(t,e){if(!ut(e)&&!e.match(/^[0-9]+$/))throw new Error(i+".set accepts only positive integer values. Value was "+e);var n=t.dom();xn(n)&&(n.style[i]=e+"px")},get:t,getOuter:t,aggregate:r,max:e}}function I(r,n){var s,a;return{selectorChangedWithUnbind:function(t,e){return s||(s={},a={},n.on("NodeChange",function(t){var n=t.element,i=r.getParents(n,null,r.getRoot()),o={};go.each(s,function(t,n){go.each(i,function(e){if(r.is(e,n))return a[n]||(go.each(t,function(t){t(!0,{node:e,selector:n,parents:i})}),a[n]=t),o[n]=t,!1})}),go.each(a,function(t,e){o[e]||(delete a[e],go.each(t,function(t){t(!1,{node:n,selector:e,parents:i})}))})})),s[t]||(s[t]=[]),s[t].push(e),{unbind:function(){TC(s,t,e),TC(a,t,e)}}}}}function P(n){return{walk:function(t,e){return Wh.walk(n,t,e)},split:Xb,normalize:function(e){return hC.normalize(n,e).fold(q(!1),function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0})}}}var R,H,O,L,F,B,$,j,V=function(){},U=function(n,i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n(i.apply(null,t))}},q=function(t){return function(){return t}},W=function(t){return t},Y=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!n.apply(null,t)}},K=function(t){return function(){throw new Error(t)}},G=q(!1),X=q(!0),Q=function(){return J},J=(R=function(t){return t.isNone()},L={fold:function(t){return t()},is:G,isSome:G,isNone:X,getOr:O=function(t){return t},getOrThunk:H=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:q(null),getOrUndefined:q(undefined),or:O,orThunk:H,map:Q,each:V,bind:Q,exists:G,forall:X,filter:Q,equals:R,equals_:R,toArray:function(){return[]},toString:q("none()")},Object.freeze&&Object.freeze(L),L),Z=function(n){var t=q(n),e=function(){return o},i=function(t){return t(n)},o={fold:function(t,e){return e(n)},is:function(t){return n===t},isSome:X,isNone:G,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return Z(t(n))},each:function(t){t(n)},bind:i,exists:i,forall:i,filter:function(t){return t(n)?o:J},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(t){return t.is(n)},equals_:function(t,e){return t.fold(G,function(t){return e(n,t)})}};return o},tt=function(t){return null===t||t===undefined?J:Z(t)},et={some:Z,none:Q,from:tt},nt=function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},it=function(e){return function(t){return nt(t)===e}},kt=it("string"),ot=it("object"),rt=it("array"),st=it("null"),at=it("boolean"),lt=it("function"),ut=it("number"),ct=Array.prototype.slice,dt=Array.prototype.indexOf,ht=Array.prototype.push,ft=function(t,e){return dt.call(t,e)},pt=function(t,e){var n=ft(t,e);return-1===n?et.none():et.some(n)},gt=function(t,e){return-1<ft(t,e)},mt=function(t,e){for(var n=0,i=t.length;n<i;n++){if(e(t[n],n))return!0}return!1},vt=function(t,e){for(var n=t.length,i=new Array(n),o=0;o<n;o++){var r=t[o];i[o]=e(r,o)}return i},bt=function(t,e){for(var n=0,i=t.length;n<i;n++){e(t[n],n)}},yt=function(t,e){for(var n=t.length-1;0<=n;n--){e(t[n],n)}},Tt=function(t,e){for(var n=[],i=[],o=0,r=t.length;o<r;o++){var s=t[o];(e(s,o)?n:i).push(s)}return{pass:n,fail:i}},St=function(t,e){for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i];e(r,i)&&n.push(r)}return n},Et=function(t,e,n){return yt(t,function(t){n=e(n,t)}),n},Nt=function(t,e,n){return bt(t,function(t){n=e(n,t)}),n},Dt=function(t,e){for(var n=0,i=t.length;n<i;n++){var o=t[n];if(e(o,n))return et.some(o)}return et.none()},At=function(t,e){for(var n=0,i=t.length;n<i;n++){if(e(t[n],n))return et.some(n)}return et.none()},zt=function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!rt(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);ht.apply(e,t[n])}return e},Mt=function(t,e){var n=vt(t,e);return zt(n)},It=function(t,e){for(var n=0,i=t.length;n<i;++n){if(!0!==e(t[n],n))return!1}return!0},Pt=function(t){var e=ct.call(t,0);return e.reverse(),e},Rt=function(t,e){return St(t,function(t){return!gt(e,t)})},Ht=function(t,e){for(var n={},i=0,o=t.length;i<o;i++){var r=t[i];n[String(r)]=e(r,i)}return n},Ot=function(t,e){var n=ct.call(t,0);return n.sort(e),n},Lt=function(t){return 0===t.length?et.none():et.some(t[0])},Ft=function(t){return 0===t.length?et.none():et.some(t[t.length-1])},Bt=lt(Array.from)?Array.from:function(t){return ct.call(t)},$t=function(){return($t=Object.assign||function r(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},jt=function(e){return function(t){return!!t&&t.nodeType===e}},Vt=function(t){return!!t&&!Object.getPrototypeOf(t)},Ut=jt(1),qt=function(t){var n=t.map(function(t){return t.toLowerCase()});return function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();return gt(n,e)}return!1}},Wt=function(i,t){var o=t.toLowerCase().split(" ");return function(t){var e;if(Ut(t))for(e=0;e<o.length;e++){var n=t.ownerDocument.defaultView.getComputedStyle(t,null);if((n?n.getPropertyValue(i):null)===o[e])return!0}return!1}},Yt=function(e,n){return function(t){return Ut(t)&&t[e]===n}},Kt=function(e){return function(t){return Ut(t)&&t.hasAttribute(e)}},Gt=function(e,n){return function(t){return Ut(t)&&t.getAttribute(e)===n}},Xt=function(t){return Ut(t)&&t.hasAttribute("data-mce-bogus")},Qt=function(t){return Ut(t)&&"all"===t.getAttribute("data-mce-bogus")},Jt=function(t){return Ut(t)&&"TABLE"===t.tagName},Zt=function(e){return function(t){if(Ut(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},te=qt(["textarea","input"]),ee=jt(3),ne=jt(8),ie=jt(9),oe=jt(11),re=qt(["br"]),se=Zt("true"),ae=Zt("false"),le={isText:ee,isElement:Ut,isComment:ne,isDocument:ie,isDocumentFragment:oe,isBr:re,isContentEditableTrue:se,isContentEditableFalse:ae,isRestrictedNode:Vt,matchNodeNames:qt,hasPropValue:Yt,hasAttribute:Kt,hasAttributeValue:Gt,matchStyleValues:Wt,isBogus:Xt,isBogusAll:Qt,isTable:Jt,isTextareaOrInput:te},ue=function(t){var e=t,n=function(){return e},i=function(){return ue(n())};return{get:n,set:function(t){e=t},clone:i}},ce=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}return undefined},de=function(t,e){var n=ce(t,e);if(!n)return{major:0,minor:0};var i=function(t){return Number(e.replace(n,"$"+t))};return pe(i(1),i(2))},he=function(t,e){var n=String(e).toLowerCase();return 0===t.length?fe():de(t,n)},fe=function(){return pe(0,0)},pe=function(t,e){return{major:t,minor:e}},ge={nu:pe,detect:he,unknown:fe},me="Edge",ve="Chrome",be="IE",ye="Opera",we="Firefox",_e="Safari",xe=function(t,e){return function(){return e===t}},Ce=function(){return ke({current:undefined,version:ge.unknown()})},ke=function(t){var e=t.current;return{current:e,version:t.version,isEdge:xe(me,e),isChrome:xe(ve,e),isIE:xe(be,e),isOpera:xe(ye,e),isFirefox:xe(we,e),isSafari:xe(_e,e)}},Te={unknown:Ce,nu:ke,edge:q(me),chrome:q(ve),ie:q(be),opera:q(ye),firefox:q(we),safari:q(_e)},Se="Windows",Ee="iOS",Ne="Android",De="Linux",Ae="OSX",ze="Solaris",Me="FreeBSD",Ie=function(t,e){return function(){return e===t}},Pe=function(){return Re({current:undefined,version:ge.unknown()})},Re=function(t){var e=t.current;return{current:e,version:t.version,isWindows:Ie(Se,e),isiOS:Ie(Ee,e),isAndroid:Ie(Ne,e),isOSX:Ie(Ae,e),isLinux:Ie(De,e),isSolaris:Ie(ze,e),isFreeBSD:Ie(Me,e)}},He={unknown:Pe,nu:Re,windows:q(Se),ios:q(Ee),android:q(Ne),linux:q(De),osx:q(Ae),solaris:q(ze),freebsd:q(Me)},Oe=function(t,e,n,i){var o=t.isiOS()&&!0===/ipad/i.test(n),r=t.isiOS()&&!o,s=t.isiOS()||t.isAndroid(),a=s||i("(pointer:coarse)"),l=o||!r&&s&&i("(min-device-width:768px)"),u=r||s&&!l,c=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!u&&!l&&!c;return{isiPad:q(o),isiPhone:q(r),isTablet:q(l),isPhone:q(u),isTouch:q(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:q(c),isDesktop:q(d)}},Le=function(t,e){var n=String(e).toLowerCase();return Dt(t,function(t){return t.search(n)})},Fe={detectBrowser:function(t,n){return Le(t,n).map(function(t){var e=ge.detect(t.versionRegexes,n);return{current:t.name,version:e}})},detectOs:function(t,n){return Le(t,n).map(function(t){var e=ge.detect(t.versionRegexes,n);return{current:t.name,version:e}})}},Be=function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(n,n+e.length)===e},$e=function(t,e){return-1!==t.indexOf(e)},je=function(t,e){return Be(t,e,0)},Ve=function(t){return t.replace(/^\s+|\s+$/g,"")},Ue=function(t){return t.replace(/^\s+/g,"")},qe=function(t){return t.replace(/\s+$/g,"")},We=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ye=function(e){return function(t){return $e(t,e)}},Ke=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return $e(t,"edge/")&&$e(t,"chrome")&&$e(t,"safari")&&$e(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,We],search:function(t){return $e(t,"chrome")&&!$e(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return $e(t,"msie")||$e(t,"trident")}},{name:"Opera",versionRegexes:[We,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ye("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ye("firefox")},{name:"Safari",versionRegexes:[We,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return($e(t,"safari")||$e(t,"mobile/"))&&$e(t,"applewebkit")}}],Ge=[{name:"Windows",search:Ye("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return $e(t,"iphone")||$e(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ye("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ye("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ye("linux"),versionRegexes:[]},{name:"Solaris",search:Ye("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ye("freebsd"),versionRegexes:[]}],Xe={browsers:q(Ke),oses:q(Ge)},Qe=function(t){return wt.window.matchMedia(t).matches},Je=ue({detect:function(t,e){var n=Xe.browsers(),i=Xe.oses(),o=Fe.detectBrowser(n,t).fold(Te.unknown,Te.nu),r=Fe.detectOs(i,t).fold(He.unknown,He.nu);return{browser:o,os:r,deviceType:Oe(r,o,t,e)}}}.detect(wt.navigator.userAgent,Qe)),Ze=function(){return Je.get()},tn=function(t,e){var n=(e||wt.document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||1<n.childNodes.length)throw wt.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return on(n.childNodes[0])},en=function(t,e){var n=(e||wt.document).createElement(t);return on(n)},nn=function(t,e){var n=(e||wt.document).createTextNode(t);return on(n)},on=function(t){if(null===t||t===undefined)throw new Error("Node cannot be null or undefined");return{dom:q(t)}},rn={fromHtml:tn,fromTag:en,fromText:nn,fromDom:on,fromPoint:function(t,e,n){var i=t.dom();return et.from(i.elementFromPoint(e,n)).map(on)}},sn=(wt.Node.ATTRIBUTE_NODE,wt.Node.CDATA_SECTION_NODE,wt.Node.COMMENT_NODE,wt.Node.DOCUMENT_NODE),an=(wt.Node.DOCUMENT_TYPE_NODE,wt.Node.DOCUMENT_FRAGMENT_NODE,wt.Node.ELEMENT_NODE),ln=wt.Node.TEXT_NODE,un=(wt.Node.PROCESSING_INSTRUCTION_NODE,wt.Node.ENTITY_REFERENCE_NODE,wt.Node.ENTITY_NODE,wt.Node.NOTATION_NODE,"undefined"!=typeof wt.window?wt.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),cn=function(t){return t.dom().nodeType},dn=function(e){return function(t){return cn(t)===e}},hn=dn(an),fn=dn(ln),pn=Object.keys,gn=Object.hasOwnProperty,mn=function(t,e){for(var n=pn(t),i=0,o=n.length;i<o;i++){var r=n[i];e(t[r],r)}},vn=function(t,n){return bn(t,function(t,e){return{k:e,v:n(t,e)}})},bn=function(t,i){var o={};return mn(t,function(t,e){var n=i(t,e);o[n.k]=n.v}),o},yn=function(t,n){var i={},o={};return mn(t,function(t,e){(n(t,e)?i:o)[e]=t}),{t:i,f:o}},wn=function(t,e){return _n(t,e)?et.from(t[e]):et.none()},_n=function(t,e){return gn.call(t,e)},xn=function(t){return t.style!==undefined&&lt(t.style.getPropertyValue)},Cn=function(t){var e=fn(t)?t.dom().parentNode:t.dom();return e!==undefined&&null!==e&&e.ownerDocument.body.contains(e)},kn=function(t,e,n){if(!(kt(n)||at(n)||ut(n)))throw wt.console.error("Invalid call to Attr.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},Tn=function(t,e,n){kn(t.dom(),e,n)},Sn=function(t,e){var n=t.dom();mn(e,function(t,e){kn(n,e,t)})},En=function(t,e){var n=t.dom().getAttribute(e);return null===n?undefined:n},Nn=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},Dn=function(t,e){t.dom().removeAttribute(e)},An=function(t,e){var n=t.dom(),i=wt.window.getComputedStyle(n).getPropertyValue(e),o=""!==i||Cn(t)?i:zn(n,e);return null===o?undefined:o},zn=function(t,e){return xn(t)?t.style.getPropertyValue(e):""},Mn=function(t,e){var n=t.dom(),i=zn(n,e);return et.from(i).filter(function(t){return 0<t.length})},In=function(t){return t.dom().offsetWidth},Pn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(e.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+n.length+" arguments");var i={};return bt(e,function(t,e){i[t]=q(n[e])}),i}},Rn={toArray:function(t,e){for(var n=[],i=function(t){return n.push(t),e(t)},o=e(t);(o=o.bind(i)).isSome(););return n}},Hn=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},On={documentPositionPreceding:function(t,e){return Hn(t,e,wt.Node.DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(t,e){return Hn(t,e,wt.Node.DOCUMENT_POSITION_CONTAINED_BY)}},Ln=an,Fn=sn,Bn=function(t,e){var n=t.dom();if(n.nodeType!==Ln)return!1;var i=n;if(i.matches!==undefined)return i.matches(e);if(i.msMatchesSelector!==undefined)return i.msMatchesSelector(e);if(i.webkitMatchesSelector!==undefined)return i.webkitMatchesSelector(e);if(i.mozMatchesSelector!==undefined)return i.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},$n=function(t){return t.nodeType!==Ln&&t.nodeType!==Fn||0===t.childElementCount},jn=function(t,e){var n=e===undefined?wt.document:e.dom();return $n(n)?[]:vt(n.querySelectorAll(t),rn.fromDom)},Vn=function(t,e){var n=e===undefined?wt.document:e.dom();return $n(n)?et.none():et.from(n.querySelector(t)).map(rn.fromDom)},Un=function(t,e){return t.dom()===e.dom()},qn=function(t,e){var n=t.dom(),i=e.dom();return n!==i&&n.contains(i)},Wn=function(t,e){return On.documentPositionContainedBy(t.dom(),e.dom())},Yn=Ze().browser.isIE()?Wn:qn,Kn=function(t){return rn.fromDom(t.dom().ownerDocument)},Gn=function(t){return rn.fromDom(t.dom().ownerDocument.documentElement)},Xn=function(t){return rn.fromDom(t.dom().ownerDocument.defaultView)},Qn=function(t){return et.from(t.dom().parentNode).map(rn.fromDom)
},Jn=function(t,e){for(var n=lt(e)?e:G,i=t.dom(),o=[];null!==i.parentNode&&i.parentNode!==undefined;){var r=i.parentNode,s=rn.fromDom(r);if(o.push(s),!0===n(s))break;i=r}return o},Zn=function(t){return et.from(t.dom().previousSibling).map(rn.fromDom)},ti=function(t){return et.from(t.dom().nextSibling).map(rn.fromDom)},ei=function(t){return Pt(Rn.toArray(t,Zn))},ni=function(t){return Rn.toArray(t,ti)},ii=function(t){return vt(t.dom().childNodes,rn.fromDom)},oi=function(t,e){var n=t.dom().childNodes;return et.from(n[e]).map(rn.fromDom)},ri=function(t){return oi(t,0)},si=function(t){return oi(t,t.dom().childNodes.length-1)},ai=function(t){return t.dom().childNodes.length},li=(Pn("element","offset"),Ze().browser),ui=function(t){return Dt(t,hn)},ci=function(t){return li.isFirefox()&&"table"===un(t)?ui(ii(t)).filter(function(t){return"caption"===un(t)}).bind(function(o){return ui(ni(o)).map(function(t){var e=t.dom().offsetTop,n=o.dom().offsetTop,i=o.dom().offsetHeight;return e<=n?-i:0})}).getOr(0):0},di=function(t,e){return t.children&&gt(t.children,e)},hi={getPos:function(t,e,n){var i,o,r=0,s=0,a=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===An(rn.fromDom(t),"position"))return{x:r=(o=e.getBoundingClientRect()).left+(a.documentElement.scrollLeft||t.scrollLeft)-a.documentElement.clientLeft,y:s=o.top+(a.documentElement.scrollTop||t.scrollTop)-a.documentElement.clientTop};for(i=e;i&&i!==n&&i.nodeType&&!di(i,n);)r+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!==n&&i.nodeType&&!di(i,n);)r-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=ci(rn.fromDom(e))}return{x:r,y:s}}},fi={},pi={exports:fi};F=undefined,B=fi,$=pi,j=undefined,function(t){"object"==typeof B&&void 0!==$?$.exports=t():"function"==typeof F&&F.amd?F([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}(function(){return function(){function c(r,s,a){function l(e,t){if(!s[e]){if(!r[e]){var n="function"==typeof j&&j;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[e]={exports:{}};r[e][0].call(o.exports,function(t){return l(r[e][1][t]||t)},o,o.exports,c,r,s,a)}return s[e].exports}for(var u="function"==typeof j&&j,t=0;t<a.length;t++)l(a[t]);return l}return c}()({1:[function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function r(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function s(){g&&f&&(g=!1,f.length?p=f.concat(p):m=-1,p.length&&a())}function a(){if(!g){var t=o(s);g=!0;for(var e=p.length;e;){for(f=p,p=[];++m<e;)f&&f[m].run();m=-1,e=p.length}f=null,g=!1,r(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,d,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var f,p=[],g=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||g||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(){return[]},h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(t,g){(function(p){!function(t){function i(){}function o(t,e){return function(){t.apply(e,arguments)}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],d(t,this)}function s(i,o){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,r._immediateFn(function(){var t=1===i._state?o.onFulfilled:o.onRejected;if(null!==t){var e;try{e=t(i._value)}catch(n){return void l(o.promise,n)}a(o.promise,e)}else(1===i._state?a:l)(o.promise,i._value)})):i._deferreds.push(o)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void d(o(n,e),t)}t._state=1,t._value=e,u(t)}catch(i){l(t,i)}}function l(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,l(e,t))})}catch(i){if(n)return;n=!0,l(e,i)}}var e=setTimeout;r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new c(t,e,n)),n},r.all=function(t){var l=Array.prototype.slice.call(t);return new r(function(o,r){function s(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){s(e,t)},r)}l[e]=t,0==--a&&o(l)}catch(i){r(i)}}if(0===l.length)return o([]);for(var a=l.length,t=0;t<l.length;t++)s(t,l[t])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(n){return new r(function(t,e){e(n)})},r.race=function(o){return new r(function(t,e){for(var n=0,i=o.length;n<i;n++)o[n].then(t,e)})},r._immediateFn="function"==typeof p?function(t){p(t)}:function(t){e(t,0)},r._unhandledRejectionFn=function n(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function h(t){r._immediateFn=t},r._setUnhandledRejectionFn=function f(t){r._unhandledRejectionFn=t},void 0!==g&&g.exports?g.exports=r:t.Promise||(t.Promise=r)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(l,t,u){(function(t,e){function n(t,e){this._id=t,this._clearFn=e}var o=l("process/browser.js").nextTick,i=Function.prototype.apply,r=Array.prototype.slice,s={},a=0;u.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(t){t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},u.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},u._unrefActive=u.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function n(){t._onTimeout&&t._onTimeout()},e))},u.setImmediate="function"==typeof t?t:function(t){var e=a++,n=!(arguments.length<2)&&r.call(arguments,1);return s[e]=!0,o(function i(){s[e]&&(n?t.apply(null,n):t.call(null),u.clearImmediate(e))}),e},u.clearImmediate="function"==typeof e?e:function(t){delete s[t]}}).call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e){var n=t("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:i.Promise||n}},{"promise-polyfill":2}]},{},[4])(4)});var gi,mi,vi,bi,yi=pi.exports.boltExport,wi=function(t){var n=et.none(),e=[],i=function(n){return wi(function(e){o(function(t){e(n(t))})})},o=function(t){s()?l(t):e.push(t)},r=function(t){n=et.some(t),a(e),e=[]},s=function(){return n.isSome()},a=function(t){bt(t,l)},l=function(e){n.each(function(t){wt.setTimeout(function(){e(t)},0)})};return t(r),{get:o,map:i,isReady:s}},_i=function(e){return wi(function(t){t(e)})},xi={nu:wi,pure:_i},Ci=function(t){wt.setTimeout(function(){throw t},0)},ki=function(n){var t=function(t){n().then(t,Ci)};return{map:function(t){return ki(function(){return n().then(t)})},bind:function(e){return ki(function(){return n().then(function(t){return e(t).toPromise()})})},anonBind:function(t){return ki(function(){return n().then(function(){return t.toPromise()})})},toLazy:function(){return xi.nu(t)},toCached:function(){var t=null;return ki(function(){return null===t&&(t=n()),t})},toPromise:n,get:t}},Ti={nu:function(t){return ki(function(){return new yi(t)})},pure:function(t){return ki(function(){return yi.resolve(t)})}},Si=function(s,t){return t(function(n){var i=[],o=0,r=function(e){return function(t){i[e]=t,++o>=s.length&&n(i)}};0===s.length?n([]):bt(s,function(t,e){t.get(r(e))})})},Ei=function(t){return Si(t,Ti.nu)},Ni=function(n){var t=function(){return Ni(n)},e=function(){return Ni(n)},i=function(t){return Ni(t(n))},o=function(){return Ni(n)},r=function(t){t(n)},s=function(t){return t(n)},a=function(t,e){return e(n)},l=function(t){return t(n)},u=function(t){return t(n)},c=function(){return et.some(n)};return{is:function(t){return n===t},isValue:X,isError:G,getOr:q(n),getOrThunk:q(n),getOrDie:q(n),or:t,orThunk:e,fold:a,map:i,mapError:o,each:r,bind:s,exists:l,forall:u,toOption:c}},Di=function(e){return{is:G,isValue:G,isError:X,getOr:W,getOrThunk:function(t){return t()},getOrDie:function(){return K(String(e))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(t){return t(e)},map:function(){return Di(e)},mapError:function(t){return Di(t(e))},each:V,bind:function(){return Di(e)},exists:G,forall:X,toOption:et.none}},Ai=function(t,e){return t.fold(function(){return Di(e)},Ni)},zi={value:Ni,error:Di,fromOption:Ai},Mi=function(){function i(t,e){return function(){t.apply(e,arguments)}}function r(i){var o=this;null!==this._state?t(function(){var t=o._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(o._value)}catch(n){return void i.reject(n)}i.resolve(e)}else(o._state?i.resolve:i.reject)(o._value)}):this._deferreds.push(i)}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void u(i(e,t),i(o,this),i(s,this))}this._state=!0,this._value=t,a.call(this)}catch(n){s.call(this,n)}}function s(t){this._state=!1,this._value=t,a.call(this)}function a(){for(var t=0,e=this._deferreds.length;t<e;t++)r.call(this,this._deferreds[t]);this._deferreds=null}function l(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function u(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(o){if(i)return;i=!0,n(o)}}var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,i(o,this),i(s,this))},t=c.immediateFn||"function"==typeof wt.setImmediate&&wt.setImmediate||function(t){wt.setTimeout(t,1)};return c.prototype["catch"]=function(t){return this.then(null,t)},c.prototype.then=function(n,i){var o=this;return new c(function(t,e){r.call(o,new l(n,i,t,e))})},c.all=function(t){var l=Array.prototype.slice.call(1===arguments.length&&e(t)?arguments[0]:arguments);return new c(function(o,r){function s(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){s(e,t)},r)}l[e]=t,0==--a&&o(l)}catch(i){r(i)}}if(0===l.length)return o([]);for(var a=l.length,t=0;t<l.length;t++)s(t,l[t])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(n){return new c(function(t,e){e(n)})},c.race=function(o){return new c(function(t,e){for(var n=0,i=o.length;n<i;n++)o[n].then(t,e)})},c},Ii=window.Promise?window.Promise:Mi(),Pi=function(t,e){var n,i=wt.window.requestAnimationFrame,o=["ms","moz","webkit"],r=function(t){wt.window.setTimeout(t,0)};for(n=0;n<o.length&&!i;n++)i=wt.window[o[n]+"RequestAnimationFrame"];i||(i=r),i(t,e)},Ri=function(t,e){return"number"!=typeof e&&(e=0),wt.setTimeout(t,e)},Hi=function(t,e){return"number"!=typeof e&&(e=1),wt.setInterval(t,e)},Oi=function(n,i){var o,t;return(t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];wt.clearTimeout(o),o=Ri(function(){n.apply(this,t)},i)}).stop=function(){wt.clearTimeout(o)},t},Li={requestAnimationFrame:function(t,e){gi?gi.then(t):gi=new Ii(function(t){e||(e=wt.document.body),Pi(t,e)}).then(t)},setTimeout:Ri,setInterval:Hi,setEditorTimeout:function(t,e,n){return Ri(function(){t.removed||e()},n)},setEditorInterval:function(t,e,n){var i;return i=Hi(function(){t.removed?wt.clearInterval(i):e()},n)},debounce:Oi,throttle:Oi,clearInterval:function(t){return wt.clearInterval(t)},clearTimeout:function(t){return wt.clearTimeout(t)}},Fi=wt.navigator.userAgent,Bi=Ze(),$i=Bi.browser,ji=Bi.os,Vi=Bi.deviceType,Ui=/WebKit/.test(Fi)&&!$i.isEdge(),qi="FormData"in wt.window&&"FileReader"in wt.window&&"URL"in wt.window&&!!wt.URL.createObjectURL,Wi=-1!==Fi.indexOf("Windows Phone"),Yi={opera:$i.isOpera(),webkit:Ui,ie:!(!$i.isIE()&&!$i.isEdge())&&$i.version.major,gecko:$i.isFirefox(),mac:ji.isOSX()||ji.isiOS(),iOS:Vi.isiPad()||Vi.isiPhone(),android:ji.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:wt.window.getSelection&&"Range"in wt.window,documentMode:$i.isIE()?wt.document.documentMode||7:10,fileApi:qi,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!$i.isIE(),desktop:Vi.isDesktop(),windowsPhone:Wi,browser:{current:$i.current,version:$i.version,isChrome:$i.isChrome,isEdge:$i.isEdge,isFirefox:$i.isFirefox,isIE:$i.isIE,isOpera:$i.isOpera,isSafari:$i.isSafari},os:{current:ji.current,version:ji.version,isAndroid:ji.isAndroid,isFreeBSD:ji.isFreeBSD,isiOS:ji.isiOS,isLinux:ji.isLinux,isOSX:ji.isOSX,isSolaris:ji.isSolaris,isWindows:ji.isWindows},deviceType:{isDesktop:Vi.isDesktop,isiPad:Vi.isiPad,isiPhone:Vi.isiPhone,isPhone:Vi.isPhone,isTablet:Vi.isTablet,isTouch:Vi.isTouch,isWebView:Vi.isWebView}},Ki=Array.isArray,Gi=function(t){var e,n,i=t;if(!Ki(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i},Xi=function(t,e,n){var i,o;if(!t)return 0;if(n=n||t,t.length!==undefined){for(i=0,o=t.length;i<o;i++)if(!1===e.call(n,t[i],i,t))return 0}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return 0;return 1},Qi=function(n,i){var o=[];return Xi(n,function(t,e){o.push(i(t,e,n))}),o},Ji=function(n,i){var o=[];return Xi(n,function(t,e){i&&!i(t,e,n)||o.push(t)}),o},Zi=function(t,e,n){var i,o;for(i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t))return i;return-1},to=function(t,e,n){var i=Zi(t,e,n);return-1!==i?t[i]:undefined},eo={isArray:Ki,toArray:Gi,each:Xi,map:Qi,filter:Ji,indexOf:function(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,i){var o=0;for(arguments.length<3&&(n=t[0]);o<t.length;o++)n=e.call(i,n,t[o],o);return n},findIndex:Zi,find:to,last:function(t){return t[t.length-1]}},no=/^\s*|\s*$/g,io=function(t){return null===t||t===undefined?"":(""+t).replace(no,"")},oo=function(t,e){return e?!("array"!==e||!eo.isArray(t))||typeof t===e:t!==undefined},ro=function(t,e,n){var i;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},so=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},ao=function(t,e,n){var i,o,r,s,a,l=this,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),r=t[3].match(/(^|\.)(\w+)$/i)[2],!(o=l.createNS(t[3].replace(/\.\w+$/,""),n))[r]){if("static"===t[2])return o[r]=e,void(this.onCreate&&this.onCreate(t[2],t[3],o[r]));e[r]||(e[r]=function(){},u=1),o[r]=e[r],l.extend(o[r].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],a=o[r],o[r]=u?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},o[r].prototype[r]=o[r],l.each(i,function(t,e){o[r].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?o[r].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!==r&&(o[r].prototype[e]=t)})),l.each(e["static"],function(t,e){o[r][e]=t})}},lo=function(t,e){for(var n,i,o,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a,l=arguments;for(n=1,i=l.length;n<i;n++)for(o in e=l[n])e.hasOwnProperty(o)&&(a=e[o])!==undefined&&(t[o]=a);return t},uo=function(t,n,i,o){o=o||this,t&&(i&&(t=t[i]),eo.each(t,function(t,e){if(!1===n.call(o,t,e,i))return!1;uo(t,n,i,o)}))},co=function(t,e){var n,i;for(e=e||wt.window,t=t.split("."),n=0;n<t.length;n++)e[i=t[n]]||(e[i]={}),e=e[i];return e},ho=function(t,e){var n,i;for(e=e||wt.window,n=0,i=(t=t.split(".")).length;n<i&&(e=e[t[n]]);n++);return e},fo=function(t,e){return!t||oo(t,"array")?t:eo.map(t.split(e||","),io)},po=function(t){var e=Yi.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t},go={trim:io,isArray:eo.isArray,is:oo,toArray:eo.toArray,makeMap:ro,each:eo.each,map:eo.map,grep:eo.filter,inArray:eo.indexOf,hasOwn:so,extend:lo,create:ao,walk:uo,createNS:co,resolve:ho,explode:fo,_addCacheSuffix:po},mo=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],vo=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],bo=["td","th"],yo=["thead","tbody","tfoot"],wo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],_o=["li","dd","dt"],xo=["ul","ol","dl"],Co=["pre","script","textarea","style"],ko=function(e){var n;return function(t){return(n=n||Ht(e,q(!0))).hasOwnProperty(un(t))}},To=ko(["h1","h2","h3","h4","h5","h6"]),So=ko(mo),Eo=function(t){return"table"===un(t)},No=function(t){return hn(t)&&!So(t)},Do=function(t){return hn(t)&&"br"===un(t)},Ao=ko(wo),zo=ko(xo),Mo=ko(_o),Io=ko(vo),Po=ko(yo),Ro=ko(bo),Ho=ko(Co),Oo=function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n},Lo=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Fo=function(t,e){var n,i=e.childNodes;if(!le.isElement(e)||!Lo(e)){for(n=i.length-1;0<=n;n--)Fo(t,i[n]);if(!1===le.isDocument(e)){if(le.isText(e)&&0<e.nodeValue.length){var o=go.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||0<o)return;if(0===o&&Oo(e))return}else if(le.isElement(e)&&(1===(i=e.childNodes).length&&Lo(i[0])&&e.parentNode.insertBefore(i[0],e),i.length||Io(rn.fromDom(e))))return;t.remove(e)}return e}},Bo={trimNode:Fo},$o=go.makeMap,jo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uo=/[<>&\"\']/g,qo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Wo={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};vi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},bi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Yo=function(t){var e;return(e=rn.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t},Ko=function(t,e){var n,i,o,r={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),vi[i]||(o="&"+t[n+1]+";",r[i]=o,r[o]=i);return r}};mi=Ko("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Go,Xo,Qo,Jo,Zo,tr,er,nr,ir,or,rr,sr,ar,lr,ur,cr,dr,hr,fr,pr=function(t,e){return t.replace(e?jo:Vo,function(t){return vi[t]||t})},gr=function(t,e){return t.replace(e?jo:Vo,function(t){return 1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":vi[t]||"&#"+t.charCodeAt(0)+";"})},mr=function(t,e,n){return n=n||mi,t.replace(e?jo:Vo,function(t){return vi[t]||n[t]||t})},vr=function(t,e){var n=Ko(e)||mi,i=function(t,e){return t.replace(e?jo:Vo,function(t){return vi[t]!==undefined?vi[t]:n[t]!==undefined?n[t]:1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"})},o=function(t,e){return mr(t,e,n)},r=$o(t.replace(/\+/g,","));return r.named&&r.numeric?i:r.named?e?o:mr:r.numeric?gr:pr},br={encodeRaw:pr,encodeAllRaw:function(t){return(""+t).replace(Uo,function(t){return vi[t]||t})},encodeNumeric:gr,encodeNamed:mr,getEncodeFunc:vr,decode:function(t){return t.replace(qo,function(t,e){return e?65535<(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Wo[e]||String.fromCharCode(e):bi[t]||mi[t]||Yo(t)})}},yr={},wr={},_r=go.makeMap,xr=go.each,Cr=go.extend,kr=go.explode,Tr=go.inArray,Sr=function(t,e){return(t=go.trim(t))?t.split(e||" "):[]},Er=function(t){var a,e,n,i,o,r,l={},s=function(t,e,n){var i,o,r,s=function(t,e){var n,i,o={};for(n=0,i=t.length;n<i;n++)o[t[n]]=e||{};return o};for(e=e||"","string"==typeof(n=n||[])&&(n=Sr(n)),i=(t=Sr(t)).length;i--;)r={attributes:s(o=Sr([a,e].join(" "))),attributesOrder:o,children:s(n,wr)},l[t[i]]=r},u=function(t,e){var n,i,o,r;for(n=(t=Sr(t)).length,e=Sr(e);n--;)for(i=l[t[n]],o=0,r=e.length;o<r;o++)i.attributes[e[o]]={},i.attributesOrder.push(e[o])};return yr[t]?yr[t]:(a="id accesskey class dir lang style tabindex title role",e="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",e+=" article aside details dialog figure main header footer hgroup section nav",n+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(a+=" xml:lang",n=[n,r="acronym applet basefont big font strike tt"].join(" "),xr(Sr(r),function(t){s(t,"",n)}),e=[e,o="center dir isindex noframes"].join(" "),i=[e,n].join(" "),xr(Sr(o),function(t){s(t,"",i)})),i=i||[e,n].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",n),s("q","cite",n),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",n),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?i:n),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),"html4"!==t&&(s("wbr"),s("ruby","",[n,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",n),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[n,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",n),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",n),s("progress","value max",n),s("meter","value min max low high optimum",n),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select","onchange"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==t&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("iframe","sandbox seamless allowfullscreen")),xr(Sr("a form meter progress dfn"),function(t){l[t]&&delete l[t].children[t]}),delete l.caption.children.table,delete l.script,yr[t]=l)},Nr=function(t,n){var i;return t&&(i={},"string"==typeof t&&(t={"*":t}),xr(t,function(t,e){i[e]=i[e.toUpperCase()]="map"===n?_r(t,/[, ]/):kr(t,/[, ]/)})),i},Dr=function(t,e,n,i){var o=function(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t};return"#"+o(e)+o(n)+o(i)},Ar=function(m,t){var v,e,a,l,b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,y=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,w=/\s*([^:]+):\s*([^;]+);?/g,_=/\s+$/,x={},C="\ufeff";for(m=m||{},t&&(a=t.getValidStyles(),l=t.getInvalidStyles()),e=("\\\" \\' \\; \\: ; : "+C).split(" "),v=0;v<e.length;v++)x[e[v]]=C+v,x[C+v]=e[v];return{toHex:function(t){return t.replace(b,Dr)},parse:function(t){var e,n,i,o,l={},a=m.url_converter,u=m.url_converter_scope||this,r=function(t,e,n){var i,o,r,s;if((i=l[t+"-top"+e])&&(o=l[t+"-right"+e])&&(r=l[t+"-bottom"+e])&&(s=l[t+"-left"+e])){var a=[i,o,r,s];for(v=a.length-1;v--&&a[v]===a[v+1];);-1<v&&n||(l[t+e]=-1===v?a[0]:a.join(" "),delete l[t+"-top"+e],delete l[t+"-right"+e],delete l[t+"-bottom"+e],delete l[t+"-left"+e])}},s=function(t){var e,n=l[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return l[t]=n[0],!0}},c=function(t,e,n,i){s(e)&&s(n)&&s(i)&&(l[t]=l[e]+" "+l[n]+" "+l[i],delete l[e],delete l[n],delete l[i])},d=function(t){return o=!0,x[t]},h=function(t,e){return o&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return x[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},f=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},p=function(t){return t.replace(/\\[0-9a-f]+/gi,f)},g=function(t,e,n,i,o,r){if(o=o||r)return"'"+(o=h(o)).replace(/\'/g,"\\'")+"'";if(e=h(e||n||i),!m.allow_script_urls){var s=e.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!m.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return a&&(e=a.call(u,e,"style")),"url('"+e.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,d).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,d)});e=w.exec(t);
)if(w.lastIndex=e.index+e[0].length,n=e[1].replace(_,"").toLowerCase(),i=e[2].replace(_,""),n&&i){if(n=p(n),i=p(i),-1!==n.indexOf(C)||-1!==n.indexOf('"'))continue;if(!m.allow_script_urls&&("behavior"===n||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===n&&"700"===i?i="bold":"color"!==n&&"background-color"!==n||(i=i.toLowerCase()),i=(i=i.replace(b,Dr)).replace(y,g),l[n]=o?h(i,!0):i}r("border","",!0),r("border","-width"),r("border","-color"),r("border","-style"),r("padding",""),r("margin",""),c("border","border-width","border-style","border-color"),"medium none"===l.border&&delete l.border,"none"===l["border-image"]&&delete l["border-image"]}return l},serialize:function(r,t){var e,n,s="",i=function(t){var e,n,i,o;if(e=a[t])for(n=0,i=e.length;n<i;n++)t=e[n],(o=r[t])&&(s+=(0<s.length?" ":"")+t+": "+o+";")},o=function(t,e){var n;return(!(n=l["*"])||!n[t])&&(!(n=l[e])||!n[t])};if(t&&a)i("*"),i(t);else for(e in r)!(n=r[e])||l&&!o(e,t)||(s+=(0<s.length?" ":"")+e+": "+n+";");return s}}},zr="mce-data-",Mr=/^(?:mouse|contextmenu)|click/,Ir={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Pr=function(t){return t.isDefaultPrevented===Hr||t.isDefaultPrevented===Rr},Rr=function(){return!1},Hr=function(){return!0},Or=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Lr=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Fr=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&0<n.length)return n[0]}return e},Br=function(t,e){var n,i=e||{};for(n in t)Ir[n]||(i[n]=t[n]);if(i.target||(i.target=i.srcElement||wt.document),Yi.experimentalShadowDom&&(i.target=Fr(t,i.target)),t&&Mr.test(t.type)&&t.pageX===undefined&&t.clientX!==undefined){var o=i.target.ownerDocument||wt.document,r=o.documentElement,s=o.body;i.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),i.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=Hr,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=Hr,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},!(i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Hr,i.stopPropagation()})===Pr(i)&&(i.isDefaultPrevented=Rr,i.isPropagationStopped=Rr,i.isImmediatePropagationStopped=Rr),"undefined"==typeof i.metaKey&&(i.metaKey=!1),i},$r=function(t,e,n){var i=t.document,o={type:"ready"};if(n.domLoaded)e(o);else{var r=function(){Lr(t,"DOMContentLoaded",r),Lr(t,"load",r),n.domLoaded||(n.domLoaded=!0,e(o))};(function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body})()?r():Or(t,"DOMContentLoaded",r),Or(t,"load",r)}},jr=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando=zr+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in wt.document.documentElement,this.hasFocusIn="onfocusin"in wt.document.documentElement,this.count=1}return t.prototype.bind=function(t,e,n,i){var o,r,s,a,l,u,c,d=this,h=wt.window,f=function(t){d.executeHandlers(Br(t||h.event),o)};if(t&&3!==t.nodeType&&8!==t.nodeType){t[d.expando]?o=t[d.expando]:(o=d.count++,t[d.expando]=o,d.events[o]={}),i=i||t;var p=e.split(" ");for(s=p.length;s--;)u=f,l=c=!1,"DOMContentLoaded"===(a=p[s])&&(a="ready"),d.domLoaded&&"ready"===a&&"complete"===t.readyState?n.call(i,Br({type:a})):(d.hasMouseEnterLeave||(l=d.mouseEnterLeave[a])&&(u=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Br(t||h.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,d.executeHandlers(t,o))}),d.hasFocusIn||"focusin"!==a&&"focusout"!==a||(c=!0,l="focusin"===a?"focus":"blur",u=function(t){(t=Br(t||h.event)).type="focus"===t.type?"focusin":"focusout",d.executeHandlers(t,o)}),(r=d.events[o][a])?"ready"===a&&d.domLoaded?n(Br({type:a})):r.push({func:n,scope:i}):(d.events[o][a]=r=[{func:n,scope:i}],r.fakeName=l,r.capture=c,r.nativeHandler=u,"ready"===a?$r(t,u,d):Or(t,l||a,u,c)));return t=r=0,n}},t.prototype.unbind=function(t,e,n){var i,o,r,s,a,l;if(!t||3===t.nodeType||8===t.nodeType)return this;if(i=t[this.expando]){if(l=this.events[i],e){var u=e.split(" ");for(r=u.length;r--;)if(o=l[a=u[r]]){if(n)for(s=o.length;s--;)if(o[s].func===n){var c=o.nativeHandler,d=o.fakeName,h=o.capture;(o=o.slice(0,s).concat(o.slice(s+1))).nativeHandler=c,o.fakeName=d,o.capture=h,l[a]=o}n&&0!==o.length||(delete l[a],Lr(t,o.fakeName||a,o.nativeHandler,o.capture))}}else{for(a in l)o=l[a],Lr(t,o.fakeName||a,o.nativeHandler,o.capture);l={}}for(a in l)return this;delete this.events[i];try{delete t[this.expando]}catch(f){t[this.expando]=null}}return this},t.prototype.fire=function(t,e,n){var i;if(!t||3===t.nodeType||8===t.nodeType)return this;var o=Br(null,n);for(o.type=e,o.target=t;(i=t[this.expando])&&this.executeHandlers(o,i),(t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow)&&!o.isPropagationStopped(););return this},t.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(t,e){var n,i,o,r,s=this.events[e];if(n=s&&s[t.type])for(i=0,o=n.length;i<o;i++)if((r=n[i])&&!1===r.func.call(r.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return},t.Event=new t,t}(),Vr="sizzle"+-new Date,Ur=wt.window.document,qr=0,Wr=0,Yr=t(),Kr=t(),Gr=t(),Xr=function(t,e){return t===e&&(rr=!0),0},Qr=typeof undefined,Jr=1<<31,Zr={}.hasOwnProperty,ts=[],es=ts.pop,ns=ts.push,is=ts.push,os=ts.slice,rs=ts.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},ss="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",as="[\\x20\\t\\r\\n\\f]",ls="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",us="\\["+as+"*("+ls+")(?:"+as+"*([*^$|!~]?=)"+as+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ls+"))|)"+as+"*\\]",cs=":("+ls+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+us+")*)|.*)\\)|)",ds=new RegExp("^"+as+"+|((?:^|[^\\\\])(?:\\\\.)*)"+as+"+$","g"),hs=new RegExp("^"+as+"*,"+as+"*"),fs=new RegExp("^"+as+"*([>+~]|"+as+")"+as+"*"),ps=new RegExp("="+as+"*([^\\]'\"]*?)"+as+"*\\]","g"),gs=new RegExp(cs),ms=new RegExp("^"+ls+"$"),vs={ID:new RegExp("^#("+ls+")"),CLASS:new RegExp("^\\.("+ls+")"),TAG:new RegExp("^("+ls+"|[*])"),ATTR:new RegExp("^"+us),PSEUDO:new RegExp("^"+cs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+as+"*(even|odd|(([+-]|)(\\d*)n|)"+as+"*(?:([+-]|)"+as+"*(\\d+)|))"+as+"*\\)|)","i"),bool:new RegExp("^(?:"+ss+")$","i"),needsContext:new RegExp("^"+as+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+as+"*((?:-\\d)?\\d*)"+as+"*\\)|)(?=[^-]|$)","i")},bs=/^(?:input|select|textarea|button)$/i,ys=/^h\d$/i,ws=/^[^{]+\{\s*\[native \w/,_s=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xs=/[+~]/,Cs=/'|\\/g,ks=new RegExp("\\\\([\\da-f]{1,6}"+as+"?|("+as+")|.)","ig"),Ts=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{is.apply(ts=os.call(Ur.childNodes),Ur.childNodes),ts[Ur.childNodes.length].nodeType}catch(eP){is={apply:ts.length?function(t,e){ns.apply(t,os.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}var Ss=function(t,e,n,i){var o,r,s,a,l,u,c,d,h,f;if((e?e.ownerDocument||e:Ur)!==ar&&sr(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=(e=e||ar).nodeType)&&9!==a)return[];if(ur&&!i){if(o=_s.exec(t))if(s=o[1]){if(9===a){if(!(r=e.getElementById(s))||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&fr(e,r)&&r.id===s)return n.push(r),n}else{if(o[2])return is.apply(n,e.getElementsByTagName(t)),n;if((s=o[3])&&Xo.getElementsByClassName)return is.apply(n,e.getElementsByClassName(s)),n}if(Xo.qsa&&(!cr||!cr.test(t))){if(d=c=Vr,h=e,f=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=tr(t),(c=e.getAttribute("id"))?d=c.replace(Cs,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+m(u[l]);h=xs.test(t)&&g(e.parentNode)||e,f=u.join(",")}if(f)try{return is.apply(n,h.querySelectorAll(f)),n}catch(p){}finally{c||e.removeAttribute("id")}}}return nr(t.replace(ds,"$1"),e,n,i)};for(Go in Xo=Ss.support={},Zo=Ss.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},sr=Ss.setDocument=function(t){function e(t){try{return t.top}catch(e){}return null}var n,l=t?t.ownerDocument||t:Ur,i=l.defaultView;return l!==ar&&9===l.nodeType&&l.documentElement?(lr=(ar=l).documentElement,ur=!Zo(l),i&&i!==e(i)&&(i.addEventListener?i.addEventListener("unload",function(){sr()},!1):i.attachEvent&&i.attachEvent("onunload",function(){sr()})),Xo.attributes=!0,Xo.getElementsByTagName=!0,Xo.getElementsByClassName=ws.test(l.getElementsByClassName),Xo.getById=!0,Qo.find.ID=function(t,e){if(typeof e.getElementById!==Qr&&ur){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},Qo.filter.ID=function(t){var e=t.replace(ks,Ts);return function(t){return t.getAttribute("id")===e}},Qo.find.TAG=Xo.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==Qr)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},Qo.find.CLASS=Xo.getElementsByClassName&&function(t,e){if(ur)return e.getElementsByClassName(t)},dr=[],cr=[],Xo.disconnectedMatch=!0,cr=cr.length&&new RegExp(cr.join("|")),dr=dr.length&&new RegExp(dr.join("|")),n=ws.test(lr.compareDocumentPosition),fr=n||ws.test(lr.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Xr=n?function(t,e){if(t===e)return rr=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!Xo.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument===Ur&&fr(Ur,t)?-1:e===l||e.ownerDocument===Ur&&fr(Ur,e)?1:or?rs.call(or,t)-rs.call(or,e):0:4&n?-1:1)}:function(t,e){if(t===e)return rr=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,s=[t],a=[e];if(!o||!r)return t===l?-1:e===l?1:o?-1:r?1:or?rs.call(or,t)-rs.call(or,e):0;if(o===r)return u(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?u(s[i],a[i]):s[i]===Ur?-1:a[i]===Ur?1:0},l):ar},Ss.matches=function(t,e){return Ss(t,null,null,e)},Ss.matchesSelector=function(t,e){if((t.ownerDocument||t)!==ar&&sr(t),e=e.replace(ps,"='$1']"),Xo.matchesSelector&&ur&&(!dr||!dr.test(e))&&(!cr||!cr.test(e)))try{var n=hr.call(t,e);if(n||Xo.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(eP){}return 0<Ss(e,ar,null,[t]).length},Ss.contains=function(t,e){return(t.ownerDocument||t)!==ar&&sr(t),fr(t,e)},Ss.attr=function(t,e){(t.ownerDocument||t)!==ar&&sr(t);var n=Qo.attrHandle[e.toLowerCase()],i=n&&Zr.call(Qo.attrHandle,e.toLowerCase())?n(t,e,!ur):undefined;return i!==undefined?i:Xo.attributes||!ur?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},Ss.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Ss.uniqueSort=function(t){var e,n=[],i=0,o=0;if(rr=!Xo.detectDuplicates,or=!Xo.sortStable&&t.slice(0),t.sort(Xr),rr){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return or=null,t},Jo=Ss.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Jo(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=Jo(e);return n},(Qo=Ss.selectors={cacheLength:50,createPseudo:n,match:vs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ks,Ts),t[3]=(t[3]||t[4]||t[5]||"").replace(ks,Ts),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Ss.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Ss.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return vs.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&gs.test(n)&&(e=tr(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ks,Ts).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Yr[t+" "];return e||(e=new RegExp("(^|"+as+")"+t+"("+as+"|$)"))&&Yr(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Qr&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=Ss.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,t,e,p,g){var m="nth"!==f.slice(0,3),v="last"!==f.slice(-4),b="of-type"===t;return 1===p&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,s,a,l,u=m!==v?"nextSibling":"previousSibling",c=t.parentNode,d=b&&t.nodeName.toLowerCase(),h=!n&&!b;if(c){if(m){for(;u;){for(r=t;r=r[u];)if(b?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&h){for(a=(i=(o=c[Vr]||(c[Vr]={}))[f]||[])[0]===qr&&i[1],s=i[0]===qr&&i[2],r=a&&c.childNodes[a];r=++a&&r&&r[u]||(s=a=0)||l.pop();)if(1===r.nodeType&&++s&&r===t){o[f]=[qr,a,s];break}}else if(h&&(i=(t[Vr]||(t[Vr]={}))[f])&&i[0]===qr)s=i[1];else for(;(r=++a&&r&&r[u]||(s=a=0)||l.pop())&&((b?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++s||(h&&((r[Vr]||(r[Vr]={}))[f]=[qr,s]),r!==t)););return(s-=g)===p||s%p==0&&0<=s/p}}},PSEUDO:function(t,r){var e,s=Qo.pseudos[t]||Qo.setFilters[t.toLowerCase()]||Ss.error("unsupported pseudo: "+t);return s[Vr]?s(r):1<s.length?(e=[t,t,"",r],Qo.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,i=s(t,r),o=i.length;o--;)t[n=rs.call(t,i[o])]=!(e[n]=i[o])}):function(t){return s(t,0,e)}):s}},pseudos:{not:n(function(t){var i=[],o=[],a=er(t.replace(ds,"$1"));return a[Vr]?n(function(t,e,n,i){for(var o,r=a(t,null,i,[]),s=t.length;s--;)(o=r[s])&&(t[s]=!(e[s]=o))}):function(t,e,n){return i[0]=t,a(i,null,n,o),!o.pop()}}),has:n(function(e){return function(t){return 0<Ss(e,t).length}}),contains:n(function(e){return e=e.replace(ks,Ts),function(t){return-1<(t.textContent||t.innerText||Jo(t)).indexOf(e)}}),lang:n(function(n){return ms.test(n||"")||Ss.error("unsupported lang: "+n),n=n.replace(ks,Ts).toLowerCase(),function(t){var e;do{if(e=ur?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=wt.window.location&&wt.window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===lr},focus:function(t){return t===ar.activeElement&&(!ar.hasFocus||ar.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!Qo.pseudos.empty(t)},header:function(t){return ys.test(t.nodeName)},input:function(t){return bs.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:o(function(){return[0]}),last:o(function(t,e){return[e-1]}),eq:o(function(t,e,n){return[n<0?n+e:n]}),even:o(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:o(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:o(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:o(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=Qo.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Qo.pseudos[Go]=e(Go);for(Go in{submit:!0,reset:!0})Qo.pseudos[Go]=i(Go);r.prototype=Qo.filters=Qo.pseudos,Qo.setFilters=new r,tr=Ss.tokenize=function(t,e){var n,i,o,r,s,a,l,u=Kr[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=Qo.preFilter;s;){for(r in n&&!(i=hs.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(o=[])),n=!1,(i=fs.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(ds," ")}),s=s.slice(n.length)),Qo.filter)Qo.filter.hasOwnProperty(r)&&(!(i=vs[r].exec(s))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),s=s.slice(n.length)));if(!n)break}return e?s.length:s?Ss.error(t):Kr(t,a).slice(0)},er=Ss.compile=function(t,e){var n,i=[],o=[],r=Gr[t+" "];if(!r){for(e||(e=tr(t)),n=e.length;n--;)(r=v(e[n]))[Vr]?i.push(r):o.push(r);(r=Gr(t,s(o,i))).selector=t}return r},nr=Ss.select=function(t,e,n,i){var o,r,s,a,l,u="function"==typeof t&&t,c=!i&&tr(t=u.selector||t);if(n=n||[],1===c.length){if(2<(r=c[0]=c[0].slice(0)).length&&"ID"===(s=r[0]).type&&Xo.getById&&9===e.nodeType&&ur&&Qo.relative[r[1].type]){if(!(e=(Qo.find.ID(s.matches[0].replace(ks,Ts),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=vs.needsContext.test(t)?0:r.length;o--&&(s=r[o],!Qo.relative[a=s.type]);)if((l=Qo.find[a])&&(i=l(s.matches[0].replace(ks,Ts),xs.test(r[0].type)&&g(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&m(r)))return is.apply(n,i),n;break}}return(u||er(t,c))(i,e,!ur,n,xs.test(t)&&g(e.parentNode)||e),n},Xo.sortStable=Vr.split("").sort(Xr).join("")===Vr,Xo.detectDuplicates=!!rr,sr(),Xo.sortDetached=!0;var Es=wt.document,Ns=Array.prototype.push,Ds=Array.prototype.slice,As=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,zs=jr.Event,Ms=go.makeMap("children,contents,next,prev"),Is=function(t){return void 0!==t},Ps=function(t){return"string"==typeof t},Rs=function(t){return t&&t===t.window},Hs=function(t,e){var n,i,o;for(o=(e=e||Es).createElement("div"),n=e.createDocumentFragment(),o.innerHTML=t;i=o.firstChild;)n.appendChild(i);return n},Os=function(t,e,n,i){var o;if(Ps(e))e=Hs(e,Js(t[0]));else if(e.length&&!e.nodeType){if(e=ia.makeArray(e),i)for(o=e.length-1;0<=o;o--)Os(t,e[o],n,i);else for(o=0;o<e.length;o++)Os(t,e[o],n,i);return t}if(e.nodeType)for(o=t.length;o--;)n.call(t[o],e);return t},Ls=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},Fs=function(t,e,n){var i,o;return e=ia(e)[0],t.each(function(){var t=this;n&&i===t.parentNode||(i=t.parentNode,o=e.cloneNode(!1),t.parentNode.insertBefore(o,t)),o.appendChild(t)}),t},Bs=go.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),$s=go.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),js={"for":"htmlFor","class":"className",readonly:"readOnly"},Vs={"float":"cssFloat"},Us={},qs={},Ws=function(t,e){return new ia.fn.init(t,e)},Ys=function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},Ks=/^\s*|\s*$/g,Gs=function(t){return null===t||t===undefined?"":(""+t).replace(Ks,"")},Xs=function(t,e){var n,i,o,r;if(t)if((n=t.length)===undefined){for(i in t)if(t.hasOwnProperty(i)&&(r=t[i],!1===e.call(r,i,r)))break}else for(o=0;o<n&&(r=t[o],!1!==e.call(r,o,r));o++);return t},Qs=function(t,n){var i=[];return Xs(t,function(t,e){n(e,t)&&i.push(e)}),i},Js=function(t){return t?9===t.nodeType?t:t.ownerDocument:Es};Ws.fn=Ws.prototype={constructor:Ws,selector:"",context:null,length:0,init:function(t,e){var n,i,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(e&&e.nodeType)o.context=e;else{if(e)return ia(t).attr(e);o.context=e=wt.document}if(Ps(t)){if(!(n="<"===(o.selector=t).charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:As.exec(t)))return ia(e).find(t);if(n[1])for(i=Hs(t,Js(e)).firstChild;i;)Ns.call(o,i),i=i.nextSibling;else{if(!(i=Js(e).getElementById(n[2])))return o;if(i.id!==n[2])return o.find(t);o.length=1,o[0]=i}}else this.add(t,!1);return o},toArray:function(){return go.toArray(this)},add:function(t,e){var n,i,o=this;if(Ps(t))return o.add(ia(t));if(!1!==e)for(n=ia.unique(o.toArray().concat(ia.makeArray(t))),o.length=n.length,i=0;i<n.length;i++)o[i]=n[i];else Ns.apply(o,ia.makeArray(t));return o},attr:function(e,n){var t,i=this;if("object"==typeof e)Xs(e,function(t,e){i.attr(t,e)});else{if(!Is(n)){if(i[0]&&1===i[0].nodeType){if((t=Us[e])&&t.get)return t.get(i[0],e);if($s[e])return i.prop(e)?e:undefined;null===(n=i[0].getAttribute(e,2))&&(n=undefined)}return n}this.each(function(){var t;if(1===this.nodeType){if((t=Us[e])&&t.set)return void t.set(this,n);null===n?this.removeAttribute(e,2):this.setAttribute(e,n,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=js[t]||t))Xs(t,function(t,e){n.prop(t,e)});else{if(!Is(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return n},css:function(n,i){var t,o,r=this,e=function(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})},s=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})};if("object"==typeof n)Xs(n,function(t,e){r.css(t,e)});else if(Is(i))n=e(n),"number"!=typeof i||Bs[n]||(i=i.toString()+"px"),r.each(function(){var t=this.style;if((o=qs[n])&&o.set)o.set(this,i);else{try{this.style[Vs[n]||n]=i}catch(e){}null!==i&&""!==i||(t.removeProperty?t.removeProperty(s(n)):t.removeAttribute(n))}});else{if(t=r[0],(o=qs[n])&&o.get)return o.get(t);if(!t.ownerDocument.defaultView)return t.currentStyle?t.currentStyle[e(n)]:"";try{return t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(s(n))}catch(a){return undefined}}return r},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],zs.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(Is(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){ia(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(Is(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Os(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return Os(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?Os(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?Os(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return ia(t).append(this),this},prependTo:function(t){return ia(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Fs(this,t)},wrapAll:function(t){return Fs(this,t,!0)},wrapInner:function(t){return this.each(function(){ia(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){ia(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),ia(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(o,r){var t=this;return"string"!=typeof o||(-1!==o.indexOf(" ")?Xs(o.split(" "),function(){t.toggleClass(this,r)}):t.each(function(t,e){var n,i;(i=Ls(e,o))!==r&&(n=e.className,i?e.className=Gs((" "+n+" ").replace(" "+o+" "," ")):e.className+=n?" "+o:o)})),t},hasClass:function(t){return Ls(this[0],t)},each:function(t){return Xs(this,t)},on:function(t,e){return this.each(function(){zs.bind(this,t,e)})},off:function(t,e){return this.each(function(){zs.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?zs.fire(this,t.type,t):zs.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new ia(Ds.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)ia.find(t,this[e],i);return ia(i)},filter:function(n){return ia("function"==typeof n?Qs(this.toArray(),function(t,e){return n(e,t)}):ia.filter(n,this.toArray()))},closest:function(n){var i=[];return n instanceof ia&&(n=n[0]),this.each(function(t,e){for(;e;){if("string"==typeof n&&ia(e).is(n)){i.push(e);break}if(e===n){i.push(e);break}e=e.parentNode}}),ia(i)},offset:function(t){var e,n,i,o,r=0,s=0;return t?this.css(t):((e=this[0])&&(i=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(r=(o=e.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=o.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:r,top:s})},push:Ns,sort:Array.prototype.sort,splice:Array.prototype.splice},go.extend(Ws,{extend:go.extend,makeArray:function(t){return Rs(t)||t.nodeType?[t]:go.toArray(t)},inArray:Ys,isArray:go.isArray,each:Xs,trim:Gs,grep:Qs,find:Ss,expr:Ss.selectors,unique:Ss.uniqueSort,text:Ss.getText,contains:Ss.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!==e[i].nodeType&&e.splice(i,1);return e=1===e.length?ia.find.matchesSelector(e[0],t)?[e[0]]:[]:ia.find.matches(t,e)}});var Zs=function(t,e,n){var i=[],o=t[e];for("string"!=typeof n&&n instanceof ia&&(n=n[0]);o&&9!==o.nodeType;){if(n!==undefined){if(o===n)break;if("string"==typeof n&&ia(o).is(n))break}1===o.nodeType&&i.push(o),o=o[e]}return i},ta=function(t,e,n,i){var o=[];for(i instanceof ia&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(i!==undefined){if(t===i)break;if("string"==typeof i&&ia(t).is(i))break}o.push(t)}return o},ea=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};Xs({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Zs(t,"parentNode")},next:function(t){return ea(t,"nextSibling",1)},prev:function(t){return ea(t,"previousSibling",1)},children:function(t){return ta(t.firstChild,"nextSibling",1)},contents:function(t){return go.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(i,o){Ws.fn[i]=function(e){var n=[];this.each(function(){var t=o.call(n,this,e,n);t&&(ia.isArray(t)?n.push.apply(n,t):n.push(t))}),1<this.length&&(Ms[i]||(n=ia.unique(n)),0===i.indexOf("parents")&&(n=n.reverse()));var t=ia(n);return e?t.filter(e):t}}),Xs({parentsUntil:function(t,e){return Zs(t,"parentNode",e)},nextUntil:function(t,e){return ta(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return ta(t,"previousSibling",1,e).slice(1)}},function(o,r){Ws.fn[o]=function(e,t){var n=[];this.each(function(){var t=r.call(n,this,e,n);t&&(ia.isArray(t)?n.push.apply(n,t):n.push(t))}),1<this.length&&(n=ia.unique(n),0!==o.indexOf("parents")&&"prevUntil"!==o||(n=n.reverse()));var i=ia(n);return t?i.filter(t):i}}),Ws.fn.is=function(t){return!!t&&0<this.filter(t).length},Ws.fn.init.prototype=Ws.fn,Ws.overrideDefaults=function(n){var i,o=function(t,e){return i=i||n(),0===arguments.length&&(t=i.element),e||(e=i.context),new o.fn.init(t,e)};return ia.extend(o,this),o},Ws.attrHooks=Us,Ws.cssHooks=qs;var na,ia=Ws,oa=function(){function t(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,e,n,i){var o,r;if(t){if(!i&&t[e])return t[e];if(t!==this.rootNode){if(o=t[n])return o;for(r=t.parentNode;r&&r!==this.rootNode;r=r.parentNode)if(o=r[n])return o}}},t.prototype.findPreviousNode=function(t,e,n,i){var o,r,s;if(t){if(o=t[n],this.rootNode&&o===this.rootNode)return;if(o){if(!i)for(s=o[e];s;s=s[e])if(!s[e])return s;return o}if((r=t.parentNode)&&r!==this.rootNode)return r}},t}(),ra=function(e,n){Qn(e).each(function(t){t.dom().insertBefore(n.dom(),e.dom())})},sa=function(t,e){ti(t).fold(function(){Qn(t).each(function(t){la(t,e)})},function(t){ra(t,e)})},aa=function(e,n){ri(e).fold(function(){la(e,n)},function(t){e.dom().insertBefore(n.dom(),t.dom())})},la=function(t,e){t.dom().appendChild(e.dom())},ua=function(t,e){ra(t,e),la(e,t)},ca=function(e,t){bt(t,function(t){ra(e,t)})},da=function(e,t){bt(t,function(t){la(e,t)})},ha=function(t){t.dom().textContent="",bt(ii(t),function(t){fa(t)})},fa=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},pa=function(t){var e=ii(t);0<e.length&&ca(t,e),fa(t)},ga=function(n,i){var t=function(t,e){return ga(n+t,i+e)};return{left:q(n),top:q(i),translate:t}},ma=ga,va=function(t){var e=t.getBoundingClientRect();return ma(e.left,e.top)},ba=function(t,e){return t!==undefined?t:e!==undefined?e:0},ya=function(t){var e=t.dom().ownerDocument,n=e.body,i=e.defaultView,o=e.documentElement;if(n===t.dom())return ma(n.offsetLeft,n.offsetTop);var r=ba(i.pageYOffset,o.scrollTop),s=ba(i.pageXOffset,o.scrollLeft),a=ba(o.clientTop,n.clientTop),l=ba(o.clientLeft,n.clientLeft);return wa(t).translate(s-l,r-a)},wa=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?ma(n.offsetLeft,n.offsetTop):Cn(t)?va(e):ma(0,0)},_a=Ze().browser.isSafari(),xa=function(t){var e=t!==undefined?t.dom():wt.document,n=e.body.scrollLeft||e.documentElement.scrollLeft,i=e.body.scrollTop||e.documentElement.scrollTop;return ma(n,i)},Ca=function(t,e,n){(n!==undefined?n.dom():wt.document).defaultView.scrollTo(t,e)},ka=function(t,e){_a&&lt(t.dom().scrollIntoViewIfNeeded)?t.dom().scrollIntoViewIfNeeded(!1):t.dom().scrollIntoView(e)},Ta=function(t,e,n,i){return{x:q(t),y:q(e),width:q(n),height:q(i),right:q(t+n),bottom:q(e+i)}},Sa=function(t){var e=t===undefined?wt.window:t,n=e.document,i=xa(rn.fromDom(n)),o=e.visualViewport;if(o!==undefined)return Ta(Math.max(o.pageLeft,i.left()),Math.max(o.pageTop,i.top()),o.width,o.height);var r=n.documentElement,s=r.clientWidth,a=r.clientHeight;return Ta(i.left(),i.top(),s,a)},Ea=go.each,Na=go.grep,Da=Yi.ie,Aa=/^([a-z0-9],?)+$/i,za=/^[ \t\r\n]*$/,Ma=function(n,i,o){var r=i.keep_values,t={set:function(t,e,n){i.url_converter&&(e=i.url_converter.call(i.url_converter_scope||o(),e,n,t[0])),t.attr("data-mce-"+n,e).attr(n,e)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},e={style:{set:function(t,e){null===e||"object"!=typeof e?(r&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(t){var e=t.attr("data-mce-style")||t.attr("style");return e=n.serialize(n.parse(e),t[0].nodeName)}}};return r&&(e.href=e.src=t),e},Ia=function(t,e){var n=e.attr("style"),i=t.serialize(t.parse(n),e[0].nodeName);i||(i=null),e.attr("data-mce-style",i)},Pa=function(t,e){var n,i,o=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!==i||i!==n&&t.nodeValue.length)&&(o++,n=i);return o};(na=Ct||(Ct={})).DOM=na(wt.document),na.nodeIndex=Pa;var Ra,Ha=Ct,Oa=Ha.DOM,
La=go.each,Fa=go.grep,Ba=0,$a=1,ja=2,Va=3,Ua=function(){function t(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return t.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},t.prototype.loadScript=function(t,e,n){var i,o,r=Oa,s=function(){r.remove(o),i&&(i.onreadystatechange=i.onload=i=null),e()},a=function(){lt(n)?n():"undefined"!=typeof wt.console&&wt.console.log&&wt.console.log("Failed to load script: "+t)};o=r.uniqueId(),(i=wt.document.createElement("script")).id=o,i.type="text/javascript",i.src=go._addCacheSuffix(t),this.settings.referrerPolicy&&r.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=s,i.onerror=a,(wt.document.getElementsByTagName("head")[0]||wt.document.body).appendChild(i)},t.prototype.isDone=function(t){return this.states[t]===ja},t.prototype.markDone=function(t){this.states[t]=ja},t.prototype.add=function(t,e,n,i){this.states[t]===undefined&&(this.queue.push(t),this.states[t]=Ba),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:i,scope:n||this}))},t.prototype.load=function(t,e,n,i){return this.add(t,e,n,i)},t.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},t.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},t.prototype.loadScripts=function(n,t,e,i){var o,r=this,s=[],a=function(e,t){La(r.scriptLoadedCallbacks[t],function(t){lt(t[e])&&t[e].call(t.scope)}),r.scriptLoadedCallbacks[t]=undefined};r.queueLoadedCallbacks.push({success:t,failure:i,scope:e||this}),(o=function(){var t=Fa(n);if(n.length=0,La(t,function(t){r.states[t]!==ja?r.states[t]!==Va?r.states[t]!==$a&&(r.states[t]=$a,r.loading++,r.loadScript(t,function(){r.states[t]=ja,r.loading--,a("success",t),o()},function(){r.states[t]=Va,r.loading--,s.push(t),a("failure",t),o()})):a("failure",t):a("success",t)}),!r.loading){var e=r.queueLoadedCallbacks.slice(0);r.queueLoadedCallbacks.length=0,La(e,function(t){0===s.length?lt(t.success)&&t.success.call(t.scope):lt(t.failure)&&t.failure.call(t.scope,s)})}})()},t.ScriptLoader=new t,t}(),qa=function(t){return ot(t)&&_n(t,"raw")},Wa=function(t){return rt(t)&&1<t.length},Ya={},Ka=ue("en"),Ga={getData:function(){return vn(Ya,function(t){return $t({},t)})},setCode:function(t){t&&Ka.set(t)},getCode:function(){return Ka.get()},add:function(t,e){var n=Ya[t];for(var i in n||(Ya[t]=n={}),e)n[i.toLowerCase()]=e[i]},translate:function(t){var i=Ya[Ka.get()]||{},o=function(t){return lt(t)?Object.prototype.toString.call(t):e(t)?"":""+t},e=function(t){return""===t||null===t||t===undefined},n=function(t){var e=o(t),n=e.toLowerCase();return _n(i,n)?o(i[n]):e},r=function(t){return t.replace(/{context:\w+}$/,"")},s=function(t){return t};if(e(t))return s("");if(qa(t))return s(o(t.raw));if(Wa(t)){var a=t.slice(1);return s(r(n(t[0]).replace(/\{([0-9]+)\}/g,function(t,e){return _n(a,e)?o(a[e]):t})))}return s(r(n(t)))},isRtl:function(){return wn(Ya,Ka.get()).bind(function(t){return wn(t,"_dir")}).exists(function(t){return"rtl"===t})},hasCode:function(t){return _n(Ya,t)}},Xa=go.each;(Ra=x||(x={})).PluginManager=Ra(),Ra.ThemeManager=Ra();var Qa,Ja=x,Za=function(n,i){var o=null;return{cancel:function(){null!==o&&(wt.clearTimeout(o),o=null)},throttle:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null===o&&(o=wt.setTimeout(function(){n.apply(null,t),o=null},i))}}},tl=function(n,i){var o=null;return{cancel:function(){null!==o&&(wt.clearTimeout(o),o=null)},throttle:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null!==o&&wt.clearTimeout(o),o=wt.setTimeout(function(){n.apply(null,t),o=null},i)}}},el=function(t,e){var n=En(t,e);return n===undefined||""===n?[]:n.split(" ")},nl=function(t,e,n){var i=el(t,e).concat([n]);return Tn(t,e,i.join(" ")),!0},il=function(t,e,n){var i=St(el(t,e),function(t){return t!==n});return 0<i.length?Tn(t,e,i.join(" ")):Dn(t,e),!1},ol=function(t){return t.dom().classList!==undefined},rl=function(t){return el(t,"class")},sl=function(t,e){return nl(t,"class",e)},al=function(t,e){return il(t,"class",e)},ll=function(t,e){ol(t)?t.dom().classList.add(e):sl(t,e)},ul=function(t){0===(ol(t)?t.dom().classList:rl(t)).length&&Dn(t,"class")},cl=function(t,e){ol(t)?t.dom().classList.remove(e):al(t,e);ul(t)},dl=function(t,e){return ol(t)&&t.dom().classList.contains(e)},hl=function(t,e){var n=[];return bt(ii(t),function(t){e(t)&&(n=n.concat([t])),n=n.concat(hl(t,e))}),n},fl=function(t,e){return jn(e,t)},pl=function(t,e,n){for(var i=t.dom(),o=lt(n)?n:q(!1);i.parentNode;){i=i.parentNode;var r=rn.fromDom(i);if(e(r))return et.some(r);if(o(r))break}return et.none()},gl=function(t,e,n){return a(function(t,e){return e(t)},pl,t,e,n)},ml=function(t,e,n){return pl(t,function(t){return Bn(t,e)},n)},vl=function(t,e){return Vn(e,t)},bl=function(t,e,n){return a(Bn,ml,t,e,n)},yl=q("mce-annotation"),wl=q("data-mce-annotation"),_l=q("data-mce-annotation-uid"),xl=function(i,t){var e=i.selection.getRng(),n=rn.fromDom(e.startContainer),o=rn.fromDom(i.getBody()),r=t.fold(function(){return"."+yl()},function(t){return"["+wl()+'="'+t+'"]'}),s=oi(n,e.startOffset).getOr(n),a=bl(s,r,function(t){return Un(t,o)}),l=function(t,e){return Nn(t,e)?et.some(En(t,e)):et.none()};return a.bind(function(t){return l(t,""+_l()).bind(function(n){return l(t,""+wl()).map(function(t){var e=kl(i,n);return{uid:n,name:t,elements:e}})})})},Cl=function(t){return hn(t)&&dl(t,yl())},kl=function(t,e){var n=rn.fromDom(t.getBody());return fl(n,"["+_l()+'="'+e+'"]')},Tl=function(t,e){var n=rn.fromDom(t.getBody()),i=fl(n,"["+wl()+'="'+e+'"]'),o={};return bt(i,function(t){var e=En(t,_l()),n=o.hasOwnProperty(e)?o[e]:[];o[e]=n.concat([t])}),o},Sl=function(n){var o=ue({}),r=function(){return{listeners:[],previous:ue(et.none())}},t=function(t,e){i(t,function(t){return e(t),t})},i=function(t,e){var n=o.get(),i=e(n.hasOwnProperty(t)?n[t]:r());n[t]=i,o.set(n)},s=function(e,n,i){t(e,function(t){bt(t.listeners,function(t){return t(!0,e,{uid:n,nodes:vt(i,function(t){return t.dom()})})})})},a=function(e){t(e,function(t){bt(t.listeners,function(t){return t(!1,e)})})},e=tl(function(){var t=o.get(),e=Ot(pn(t));bt(e,function(t){i(t,function(o){var r=o.previous.get();return xl(n,et.some(t)).fold(function(){r.isSome()&&(a(t),o.previous.set(et.none()))},function(t){var e=t.uid,n=t.name,i=t.elements;r.is(e)||(s(n,e,i),o.previous.set(et.some(e)))}),{previous:o.previous,listeners:o.listeners}})})},30);return n.on("remove",function(){e.cancel()}),n.on("NodeChange",function(){e.throttle()}),{addListener:function(t,e){i(t,function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}})}}},El=function(t,e){var n=function(t){return et.from(t.attr(wl())).bind(e.lookup)};t.on("init",function(){t.serializer.addNodeFilter("span",function(t){bt(t,function(e){n(e).each(function(t){!1===t.persistent&&e.unwrap()})})})})},Nl=function(){var n={};return{register:function(t,e){n[t]={name:t,settings:e}},lookup:function(t){return n.hasOwnProperty(t)?et.from(n[t]).map(function(t){return t.settings}):et.none()}}},Dl=0,Al=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++Dl+String(e)},zl=function(e,t){bt(t,function(t){ll(e,t)})},Ml=function(t,e){return rn.fromDom(t.dom().cloneNode(e))},Il=function(t){return Ml(t,!1)},Pl=function(t){return Ml(t,!0)},Rl=function(t,e){var n=(e||wt.document).createElement("div");return n.innerHTML=t,ii(rn.fromDom(n))},Hl=function(t){return t.dom().innerHTML},Ol=function(t,e){var n=Kn(t).dom(),i=rn.fromDom(n.createDocumentFragment()),o=Rl(e,n);da(i,o),ha(t),la(t,i)},Ll="\ufeff",Fl={isZwsp:function(t){return t===Ll},ZWSP:Ll,trim:function(t){return t.replace(new RegExp(Ll,"g"),"")}},Bl=le.isElement,$l=le.isText,jl=function(t){return $l(t)&&(t=t.parentNode),Bl(t)&&t.hasAttribute("data-mce-caret")},Vl=function(t){return $l(t)&&Fl.isZwsp(t.data)},Ul=function(t){return jl(t)||Vl(t)},ql=function(t){return t.firstChild!==t.lastChild||!le.isBr(t.firstChild)},Wl=function(t,e){var n,i,o;if(i=t.ownerDocument.createTextNode(Fl.ZWSP),o=t.parentNode,e){if(n=t.previousSibling,$l(n)){if(Ul(n))return n;if(Jl(n))return n.splitText(n.data.length-1)}o.insertBefore(i,t)}else{if(n=t.nextSibling,$l(n)){if(Ul(n))return n;if(Ql(n))return n.splitText(1),n}t.nextSibling?o.insertBefore(i,t.nextSibling):o.appendChild(i)}return i},Yl=function(t){var e=t.container();return!(!t||!le.isText(e))&&(e.data.charAt(t.offset())===Fl.ZWSP||t.isAtStart()&&Vl(e.previousSibling))},Kl=function(t){var e=t.container();return!(!t||!le.isText(e))&&(e.data.charAt(t.offset()-1)===Fl.ZWSP||t.isAtEnd()&&Vl(e.nextSibling))},Gl=function(){var t=wt.document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},Xl=function(t,e,n){var i,o;return(i=e.ownerDocument.createElement(t)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(Gl()),o=e.parentNode,n?o.insertBefore(i,e):e.nextSibling?o.insertBefore(i,e.nextSibling):o.appendChild(i),i},Ql=function(t){return $l(t)&&t.data[0]===Fl.ZWSP},Jl=function(t){return $l(t)&&t.data[t.data.length-1]===Fl.ZWSP},Zl=function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];le.isBogus(n)&&n.parentNode.removeChild(n)},tu=function(t){return t&&t.hasAttribute("data-mce-caret")?(Zl(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},eu=function(t){return jl(t.startContainer)},nu=le.isContentEditableTrue,iu=le.isContentEditableFalse,ou=le.isBr,ru=le.isText,su=le.matchNodeNames(["script","style","textarea"]),au=le.matchNodeNames(["img","input","textarea","hr","iframe","video","audio","object"]),lu=le.matchNodeNames(["table"]),uu=Ul,cu=function(t){return!uu(t)&&(ru(t)?!su(t.parentNode):au(t)||ou(t)||lu(t)||hu(t))},du=function(t){return le.isElement(t)&&"true"===t.getAttribute("unselectable")},hu=function(t){return!1===du(t)&&iu(t)},fu=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(hu(t))return!1;if(nu(t))return!0}return!0},pu=function(t){return!!hu(t)&&!0!==Nt(Bt(t.getElementsByTagName("*")),function(t,e){return t||nu(e)},!1)},gu=function(t){return au(t)||pu(t)},mu=function(t,e){return cu(t)&&fu(t,e)},vu=Math.round,bu=function(t){return t?{left:vu(t.left),top:vu(t.top),bottom:vu(t.bottom),right:vu(t.right),width:vu(t.width),height:vu(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},yu=function(t,e){return t=bu(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},wu=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},_u=function(t,e,n){return 0<=t&&t<=Math.min(e.height,n.height)/2},xu=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&_u(e.top-t.bottom,t,e)},Cu=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&_u(e.bottom-t.top,t,e)},ku=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},Tu=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Su=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Eu=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Nu=function(t){return"string"==typeof t&&768<=t.charCodeAt(0)&&Eu.test(t)},Du=function(t,e,n){return t.isSome()&&e.isSome()?et.some(n(t.getOrDie(),e.getOrDie())):et.none()},Au=function(t,e,n,i){return t.isSome()&&e.isSome()&&n.isSome()?et.some(i(t.getOrDie(),e.getOrDie(),n.getOrDie())):et.none()},zu=function(t,e){return t?et.some(e):et.none()},Mu=[].slice,Iu={and:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Mu.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}},or:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Mu.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}}},Pu=le.isElement,Ru=cu,Hu=le.matchStyleValues("display","block table"),Ou=le.matchStyleValues("float","left right"),Lu=Iu.and(Pu,Ru,Y(Ou)),Fu=Y(le.matchStyleValues("white-space","pre pre-line pre-wrap")),Bu=le.isText,$u=le.isBr,ju=Ha.nodeIndex,Vu=Su,Uu=function(t){return"createRange"in t?t.createRange():Ha.DOM.createRng()},qu=function(t){return t&&/[\r\n\t ]/.test(t)},Wu=function(t){return!!t.setStart&&!!t.setEnd},Yu=function(t){var e,n=t.startContainer,i=t.startOffset;return!!(qu(t.toString())&&Fu(n.parentNode)&&le.isText(n)&&(e=n.data,qu(e[i-1])||qu(e[i+1])))},Ku=function(t){var e,n=t.ownerDocument,i=Uu(n),o=n.createTextNode("\xa0"),r=t.parentNode;return r.insertBefore(o,t),i.setStart(o,0),i.setEnd(o,1),e=bu(i.getBoundingClientRect()),r.removeChild(o),e},Gu=function(t){var e=t.startContainer,n=t.endContainer,i=t.startOffset,o=t.endOffset;if(e===n&&le.isText(n)&&0===i&&1===o){var r=t.cloneRange();return r.setEndAfter(n),Qu(r)}return null},Xu=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},Qu=function(t){var e,n;return e=0<(n=t.getClientRects()).length?bu(n[0]):bu(t.getBoundingClientRect()),!Wu(t)&&$u(t)&&Xu(e)?Ku(t):Xu(e)&&Wu(t)?Gu(t):e},Ju=function(t,e){var n=yu(t,e);return n.width=1,n.right=n.left+1,n},Zu=function(t){var e,n,i=[],o=function(t){0!==t.height&&(0<i.length&&wu(t,i[i.length-1])||i.push(t))},r=function(t,e){var n=Uu(t.ownerDocument);if(e<t.data.length){if(Nu(t.data[e]))return i;if(Nu(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!Yu(n)))return o(Ju(Qu(n),!1)),i}0<e&&(n.setStart(t,e-1),n.setEnd(t,e),Yu(n)||o(Ju(Qu(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),Yu(n)||o(Ju(Qu(n),!0)))};if(Bu(t.container()))return r(t.container(),t.offset()),i;if(Pu(t.container()))if(t.isAtEnd())n=Vu(t.container(),t.offset()),Bu(n)&&r(n,n.data.length),Lu(n)&&!$u(n)&&o(Ju(Qu(n),!1));else{if(n=Vu(t.container(),t.offset()),Bu(n)&&r(n,0),Lu(n)&&t.isAtEnd())return o(Ju(Qu(n),!1)),i;e=Vu(t.container(),t.offset()-1),Lu(e)&&!$u(e)&&(Hu(e)||Hu(n)||!Lu(n))&&o(Ju(Qu(e),!1)),Lu(n)&&o(Ju(Qu(n),!0))}return i};(Qa=C||(C={})).fromRangeStart=function(t){return Qa(t.startContainer,t.startOffset)},Qa.fromRangeEnd=function(t){return Qa(t.endContainer,t.endOffset)},Qa.after=function(t){return Qa(t.parentNode,ju(t)+1)},Qa.before=function(t){return Qa(t.parentNode,ju(t))},Qa.isAbove=function(t,e){return Du(Lt(e.getClientRects()),Ft(t.getClientRects()),xu).getOr(!1)},Qa.isBelow=function(t,e){return Du(Ft(e.getClientRects()),Lt(t.getClientRects()),Cu).getOr(!1)},Qa.isAtStart=function(t){return!!t&&t.isAtStart()},Qa.isAtEnd=function(t){return!!t&&t.isAtEnd()},Qa.isTextPosition=function(t){return!!t&&le.isText(t.container())},Qa.isElementPosition=function(t){return!1===Qa.isTextPosition(t)};var tc,ec,nc=C,ic=le.isText,oc=le.isBogus,rc=Ha.nodeIndex,sc=function(t){var e=t.parentNode;return oc(e)?sc(e):e},ac=function(t){return t?eo.reduce(t.childNodes,function(t,e){return oc(e)&&"BR"!==e.nodeName?t=t.concat(ac(e)):t.push(e),t},[]):[]},lc=function(t,e){for(;(t=t.previousSibling)&&ic(t);)e+=t.data.length;return e},uc=function(e){return function(t){return e===t}},cc=function(t){var i,e,n;return i=ac(sc(t)),e=eo.findIndex(i,uc(t),t),i=i.slice(0,e+1),n=eo.reduce(i,function(t,e,n){return ic(e)&&ic(i[n-1])&&t++,t},0),i=eo.filter(i,le.matchNodeNames([t.nodeName])),(e=eo.findIndex(i,uc(t),t))-n},dc=function(t){return(ic(t)?"text()":t.nodeName.toLowerCase())+"["+cc(t)+"]"},hc=function(t,e,n){var i=[];for(e=e.parentNode;e!==t&&(!n||!n(e));e=e.parentNode)i.push(e);return i},fc=function(t,e){var n,i,o,r,s,a=[];return n=e.container(),i=e.offset(),ic(n)?o=lc(n,i):(i>=(r=n.childNodes).length?(o="after",i=r.length-1):o="before",n=r[i]),a.push(dc(n)),s=hc(t,n),s=eo.filter(s,Y(le.isBogus)),(a=a.concat(eo.map(s,function(t){return dc(t)}))).reverse().join("/")+","+o},pc=function(t,e,n){var i=ac(t);return i=eo.filter(i,function(t,e){return!ic(t)||!ic(i[e-1])}),(i=eo.filter(i,le.matchNodeNames([e])))[n]},gc=function(t,e){for(var n,i=t,o=0;ic(i);){if(n=i.data.length,o<=e&&e<=o+n){t=i,e-=o;break}if(!ic(i.nextSibling)){t=i,e=n;break}o+=n,i=i.nextSibling}return ic(t)&&e>t.data.length&&(e=t.data.length),nc(t,e)},mc=function(t,e){var n,i,o;return e?(e=(n=e.split(","))[0].split("/"),o=1<n.length?n[1]:"before",(i=eo.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),pc(t,e[1],parseInt(e[2],10))):null},t))?ic(i)?gc(i,parseInt(o,10)):(o="after"===o?rc(i)+1:rc(i),nc(i.parentNode,o)):null):null},vc=function(t,e){le.isText(e)&&0===e.data.length&&t.remove(e)},bc=function(t,e,n){e.insertNode(n),vc(t,n.previousSibling),vc(t,n.nextSibling)},yc=function(e,t,n){var i=et.from(n.firstChild),o=et.from(n.lastChild);t.insertNode(n),i.each(function(t){return vc(e,t.previousSibling)}),o.each(function(t){return vc(e,t.nextSibling)})},wc=function(t,e,n){le.isDocumentFragment(n)?yc(t,e,n):bc(t,e,n)},_c=le.isContentEditableFalse,xc=function(t,e,n){var i,o;for(o=t(e.data.slice(0,n)).length,i=e.previousSibling;i&&le.isText(i);i=i.previousSibling)o+=t(i.data).length;return o},Cc=function(t,e,n,i,o){var r,s=i[o?"startContainer":"endContainer"],a=i[o?"startOffset":"endOffset"],l=[],u=0,c=t.getRoot();for(le.isText(s)?l.push(n?xc(e,s,a):a):(a>=(r=s.childNodes).length&&r.length&&(u=1,a=Math.max(0,r.length-1)),l.push(t.nodeIndex(r[a],n)+u));s&&s!==c;s=s.parentNode)l.push(t.nodeIndex(s,n));return l},kc=function(t,e,n,i){var o=e.dom,r={};return r.start=Cc(o,t,n,i,!0),e.isCollapsed()||(r.end=Cc(o,t,n,i,!1)),r},Tc=function(t,e,n){var i=0;return go.each(t.select(e),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++}),i},Sc=function(t,e){var n,i,o,r=e?"start":"end";n=t[r+"Container"],i=t[r+"Offset"],le.isElement(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(e?i:i-1,o.length-1)])&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i))},Ec=function(t){return Sc(t,!0),Sc(t,!1),t},Nc=function(t,e){var n;if(le.isElement(t)&&(t=Su(t,e),_c(t)))return t;if(Ul(t)){if(le.isText(t)&&jl(t)&&(t=t.parentNode),n=t.previousSibling,_c(n))return n;if(n=t.nextSibling,_c(n))return n}},Dc=function(t){return Nc(t.startContainer,t.startOffset)||Nc(t.endContainer,t.endOffset)},Ac=function(t,e,n){var i=n.getNode(),o=i?i.nodeName:null,r=n.getRng();if(_c(i)||"IMG"===o)return{name:o,index:Tc(n.dom,o,i)};var s=Dc(r);return s?{name:o=s.tagName,index:Tc(n.dom,o,s)}:kc(t,n,e,r)},zc=function(t){var e=t.getRng();return{start:fc(t.dom.getRoot(),nc.fromRangeStart(e)),end:fc(t.dom.getRoot(),nc.fromRangeEnd(e))}},Mc=function(t){return{rng:t.getRng()}},Ic=function(t,e,n){var i={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",i,"&#xFEFF;"):t.create("span",i)},Pc=function(t,e){var n=t.dom,i=t.getRng(),o=n.uniqueId(),r=t.isCollapsed(),s=t.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:Tc(n,a,s)};var l=Ec(i.cloneRange());if(!r){l.collapse(!1);var u=Ic(n,o+"_end",e);wc(n,l,u)}(i=Ec(i)).collapse(!0);var c=Ic(n,o+"_start",e);return wc(n,i,c),t.moveToBookmark({id:o,keep:1}),{id:o}},Rc={getBookmark:function(t,e,n){return 2===e?Ac(Fl.trim,n,t):3===e?zc(t):e?Mc(t):Pc(t,!1)},getUndoBookmark:h(Ac,W,!0),getPersistentBookmark:Pc},Hc="_mce_caret",Oc=function(t){return le.isElement(t)&&t.id===Hc},Lc=function(t,e){for(;e&&e!==t;){if(e.id===Hc)return e;e=e.parentNode}return null},Fc=le.isElement,Bc=le.isText,$c=function(t){var e=t.parentNode;e&&e.removeChild(t)},jc=function(t){try{return t.nodeValue}catch(e){return""}},Vc=function(t,e){0===e.length?$c(t):t.nodeValue=e},Uc=function(t){var e=Fl.trim(t);return{count:t.length-e.length,text:e}},qc=function(t,e){return Xc(t),e},Wc=function(t,e){var n=Uc(t.data.substr(0,e.offset())),i=Uc(t.data.substr(e.offset())),o=n.text+i.text;return 0<o.length?(Vc(t,o),nc(t,e.offset()-n.count)):e},Yc=function(t,e){var n=e.container(),i=pt(Bt(n.childNodes),t).map(function(t){return t<e.offset()?nc(n,e.offset()-1):e}).getOr(e);return Xc(t),i},Kc=function(t,e){return Bc(t)&&e.container()===t?Wc(t,e):qc(t,e)},Gc=function(t,e){return e.container()===t.parentNode?Yc(t,e):qc(t,e)},Xc=function(t){if(Fc(t)&&Ul(t)&&(ql(t)?t.removeAttribute("data-mce-caret"):$c(t)),Bc(t)){var e=Fl.trim(jc(t));Vc(t,e)}},Qc={removeAndReposition:function(t,e){return nc.isTextPosition(e)?Kc(t,e):Gc(t,e)},remove:Xc},Jc=Ze().browser,Zc=le.isContentEditableFalse,td=function(t){return le.isElement(t)&&/^(TD|TH)$/i.test(t.tagName)},ed=function(t,e,n){var i,o,r,s,a,l=yu(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(i=t.ownerDocument.documentElement,o=t.scrollLeft||i.scrollLeft,r=t.scrollTop||i.scrollTop):(a=t.getBoundingClientRect(),o=t.scrollLeft-a.left,r=t.scrollTop-a.top),l.left+=o,l.right+=o,l.top+=r,l.bottom+=r,l.width=1,0<(s=e.offsetWidth-e.clientWidth)&&(n&&(s*=-1),l.left+=s,l.right+=s),l},nd=function(t){var e,n,i,o,r;for(e=ia("*[contentEditable=false]",t),o=0;o<e.length;o++)i=(n=e[o]).previousSibling,Jl(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1)),i=n.nextSibling,Ql(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))},id=function(r,s,t){var e,a,l=ue(et.none()),n=function(e,t){var n,i;if(u(),td(t))return null;if(!s(t))return a=Wl(t,e),i=t.ownerDocument.createRange(),Zc(a.nextSibling)?(i.setStart(a,0),i.setEnd(a,0)):(i.setStart(a,1),i.setEnd(a,1)),i;a=Xl("p",t,e),n=ed(r,t,e),ia(a).css("top",n.top);var o=ia('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(r)[0];return l.set(et.some({caret:o,element:t,before:e})),l.get().each(function(t){e&&ia(t.caret).addClass("mce-visual-caret-before")}),c(),(i=t.ownerDocument.createRange()).setStart(a,0),i.setEnd(a,0),i},u=function(){nd(r),a&&(Qc.remove(a),a=null),l.get().each(function(t){ia(t.caret).remove(),l.set(et.none())}),Li.clearInterval(e)},c=function(){e=Li.setInterval(function(){t()?ia("div.mce-visual-caret",r).toggleClass("mce-visual-caret-hidden"):ia("div.mce-visual-caret",r).addClass("mce-visual-caret-hidden")},500)};return{show:n,hide:u,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){l.get().each(function(t){var e=ed(r,t.element,t.before);ia(t.caret).css($t({},e))})},destroy:function(){return Li.clearInterval(e)}}},od=function(){return Jc.isIE()||Jc.isEdge()||Jc.isFirefox()},rd=function(t){return Zc(t)||le.isTable(t)&&od()},sd=le.isContentEditableFalse,ad=le.matchStyleValues("display","block table table-cell table-caption list-item"),ld=Ul,ud=jl,cd=le.isElement,dd=cu,hd=function(t){return 0<t},fd=function(t){return t<0},pd=function(t,e){for(var n;n=t(e);)if(!ud(n))return n;return null},gd=function(t,e,n,i,o){var r=new oa(t,i);if(fd(e)){if((sd(t)||ud(t))&&n(t=pd(r.prev,!0)))return t;for(;t=pd(r.prev,o);)if(n(t))return t}if(hd(e)){if((sd(t)||ud(t))&&n(t=pd(r.next,!0)))return t;for(;t=pd(r.next,o);)if(n(t))return t}return null},md=function(t,e){for(;t&&t!==e;){if(ad(t))return t;t=t.parentNode}return null},vd=function(t,e,n){return md(t.container(),n)===md(e.container(),n)},bd=function(t,e){var n,i;return e?(n=e.container(),i=e.offset(),cd(n)?n.childNodes[i+t]:null):null},yd=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},wd=function(t,e,n){return md(e,t)===md(n,t)},_d=function(t,e,n){var i,o;for(o=t?"previousSibling":"nextSibling";n&&n!==e;){if(i=n[o],ld(i)&&(i=i[o]),sd(i)){if(wd(e,i,n))return i;break}if(dd(i))break;n=n.parentNode}return null},xd=h(yd,!0),Cd=h(yd,!1),kd=function(t,e,n){var i,o,r,s,a=h(_d,!0,e),l=h(_d,!1,e);if(o=n.startContainer,r=n.startOffset,jl(o)){if(cd(o)||(o=o.parentNode),"before"===(s=o.getAttribute("data-mce-caret"))&&(i=o.nextSibling,rd(i)))return xd(i);if("after"===s&&(i=o.previousSibling,rd(i)))return Cd(i)}if(!n.collapsed)return n;if(le.isText(o)){if(ld(o)){if(1===t){if(i=l(o))return xd(i);if(i=a(o))return Cd(i)}if(-1===t){if(i=a(o))return Cd(i);if(i=l(o))return xd(i)}return n}if(Jl(o)&&r>=o.data.length-1)return 1===t&&(i=l(o))?xd(i):n;if(Ql(o)&&r<=1)return-1===t&&(i=a(o))?Cd(i):n;if(r===o.data.length)return(i=l(o))?xd(i):n;if(0===r)return(i=a(o))?Cd(i):n}return n},Td=function(t,e){return et.from(bd(t?0:-1,e)).filter(sd)},Sd=function(t,e,n){var i=kd(t,e,n);return-1===t?C.fromRangeStart(i):C.fromRangeEnd(i)},Ed=function(t){return et.from(t.getNode()).map(rn.fromDom)},Nd=function(t){return et.from(t.getNode(!0)).map(rn.fromDom)},Dd=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},Ad=function(t,e){var n=vd(t,e);return!(n||!le.isBr(t.getNode()))||n};(ec=tc||(tc={}))[ec.Backwards=-1]="Backwards",ec[ec.Forwards=1]="Forwards";var zd=le.isContentEditableFalse,Md=le.isText,Id=le.isElement,Pd=le.isBr,Rd=cu,Hd=gu,Od=mu,Ld=function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n},Fd=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Bd=function(t,e){if(hd(t)){if(Rd(e.previousSibling)&&!Md(e.previousSibling))return nc.before(e);if(Md(e))return nc(e,0)}if(fd(t)){if(Rd(e.nextSibling)&&!Md(e.nextSibling))return nc.after(e);if(Md(e))return nc(e,e.data.length)}return fd(t)?Pd(e)?nc.before(e):nc.after(e):nc.before(e)},$d=function(t,e){var n=e.nextSibling;return n&&Rd(n)?Md(n)?nc(n,0):nc.before(n):jd(tc.Forwards,nc.after(e),t)},jd=function(t,e,n){var i,o,r,s,a;if(!Id(n)||!e)return null;if(e.isEqual(nc.after(n))&&n.lastChild){if(a=nc.after(n.lastChild),fd(t)&&Rd(n.lastChild)&&Id(n.lastChild))return Pd(n.lastChild)?nc.before(n.lastChild):a}else a=e;var l=a.container(),u=a.offset();if(Md(l)){if(fd(t)&&0<u)return nc(l,--u);if(hd(t)&&u<l.length)return nc(l,++u);i=l}else{if(fd(t)&&0<u&&(o=Fd(l,u-1),Rd(o)))return!Hd(o)&&(r=gd(o,t,Od,o))?Md(r)?nc(r,r.data.length):nc.after(r):Md(o)?nc(o,o.data.length):nc.before(o);if(hd(t)&&u<l.childNodes.length&&(o=Fd(l,u),Rd(o)))return Pd(o)?$d(n,o):!Hd(o)&&(r=gd(o,t,Od,o))?Md(r)?nc(r,0):nc.before(r):Md(o)?nc(o,0):nc.after(o);i=o||a.getNode()}return(hd(t)&&a.isAtEnd()||fd(t)&&a.isAtStart())&&(i=gd(i,t,q(!0),n,!0),Od(i,n))?Bd(t,i):(o=gd(i,t,Od,n),!(s=eo.last(St(Ld(l,n),zd)))||o&&s.contains(o)?o?Bd(t,o):null:a=hd(t)?nc.after(s):nc.before(s))},Vd=function(e){return{next:function(t){return jd(tc.Forwards,t,e)},prev:function(t){return jd(tc.Backwards,t,e)}}},Ud=function(t,e,n){var i=t?nc.before(n):nc.after(n);return Qd(t,e,i)},qd=function(t){return le.isBr(t)?nc.before(t):nc.after(t)},Wd=function(t){return nc.isTextPosition(t)?0===t.offset():cu(t.getNode())},Yd=function(t){if(nc.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return cu(t.getNode(!0))},Kd=function(t,e){return!nc.isTextPosition(t)&&!nc.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Gd=function(t){return!nc.isTextPosition(t)&&le.isBr(t.getNode())},Xd=function(t,e,n){return t?!Kd(e,n)&&!Gd(e)&&Yd(e)&&Wd(n):!Kd(n,e)&&Wd(e)&&Yd(n)},Qd=function(t,e,n){var i=Vd(e);return et.from(t?i.next(n):i.prev(n))},Jd=function(e,n,i){return Qd(e,n,i).bind(function(t){return vd(i,t,n)&&Xd(e,i,t)?Qd(e,n,t):et.some(t)})},Zd=function(e,n,t,i){return Jd(e,n,t).bind(function(t){return i(t)?Zd(e,n,t,i):et.some(t)})},th=function(t,e){var n=t?e.firstChild:e.lastChild;return le.isText(n)?et.some(nc(n,t?0:n.data.length)):n?cu(n)?et.some(t?nc.before(n):qd(n)):Ud(t,e,n):et.none()},eh=h(Qd,!0),nh=h(Qd,!1),ih={fromPosition:Qd,nextPosition:eh,prevPosition:nh,navigate:Jd,navigateIgnore:Zd,positionIn:th,firstPositionIn:h(th,!0),lastPositionIn:h(th,!1)},oh=function(t){return"string"==typeof t.start},rh=function(t){return t.hasOwnProperty("rng")},sh=function(t){return t.hasOwnProperty("id")},ah=function(t){return t.hasOwnProperty("name")},lh=function(t){return go.isArray(t.start)},uh=function(t,e){return le.isElement(e)&&t.isBlock(e)&&!e.innerHTML&&!Yi.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},ch=function(t,e){var n,i;return n=t.createRng(),i=mc(t.getRoot(),e.start),n.setStart(i.container(),i.offset()),i=mc(t.getRoot(),e.end),n.setEnd(i.container(),i.offset()),n},dh=function(t,e){var n=t.ownerDocument.createTextNode(Fl.ZWSP);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)},hh=function(t){return!1===t.hasChildNodes()},fh=function(t,e){return ih.lastPositionIn(t).fold(function(){return!1},function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0})},ph=function(t,e,n){return!(!hh(e)||!Lc(t,e))&&(dh(e,n),!0)},gh=function(t,e,n,i){var o,r,s,a,l=n[e?"start":"end"],u=t.getRoot();if(l){for(s=l[0],r=u,o=l.length-1;1<=o;o--){if(a=r.childNodes,ph(u,r,i))return!0;if(l[o]>a.length-1)return!!ph(u,r,i)||fh(r,i);r=a[l[o]]}3===r.nodeType&&(s=Math.min(l[0],r.nodeValue.length)),1===r.nodeType&&(s=Math.min(l[0],r.childNodes.length)),e?i.setStart(r,s):i.setEnd(r,s)}return!0},mh=function(t){return le.isText(t)&&0<t.data.length},vh=function(t,e,n){var i,o,r,s,a,l,u=t.get(n.id+"_"+e),c=n.keep;if(u){if(i=u.parentNode,"start"===e?c?u.hasChildNodes()?(i=u.firstChild,o=1):mh(u.nextSibling)?(i=u.nextSibling,o=0):mh(u.previousSibling)?(i=u.previousSibling,o=u.previousSibling.data.length):(i=u.parentNode,o=t.nodeIndex(u)+1):o=t.nodeIndex(u):c?u.hasChildNodes()?(i=u.firstChild,o=1):mh(u.previousSibling)?(i=u.previousSibling,o=u.previousSibling.data.length):(i=u.parentNode,o=t.nodeIndex(u)):o=t.nodeIndex(u),a=i,l=o,!c){for(s=u.previousSibling,r=u.nextSibling,go.each(go.grep(u.childNodes),function(t){le.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});u=t.get(n.id+"_"+e);)t.remove(u,!0);s&&r&&s.nodeType===r.nodeType&&le.isText(s)&&!Yi.opera&&(o=s.nodeValue.length,s.appendData(r.nodeValue),t.remove(r),a=s,l=o)}return et.some(nc(a,l))}return et.none()},bh=function(t,e){var n=t.createRng();return gh(t,!0,e,n)&&gh(t,!1,e,n)?et.some(n):et.none()},yh=function(i,t){var e=vh(i,"start",t),n=vh(i,"end",t);return Du(e,n.or(e),function(t,e){var n=i.createRng();return n.setStart(uh(i,t.container()),t.offset()),n.setEnd(uh(i,e.container()),e.offset()),n})},wh=function(n,t){return et.from(n.select(t.name)[t.index]).map(function(t){var e=n.createRng();return e.selectNode(t),e})},_h={resolve:function(t,e){var n=t.dom;if(e){if(lh(e))return bh(n,e);if(oh(e))return et.some(ch(n,e));if(sh(e))return yh(n,e);if(ah(e))return wh(n,e);if(rh(e))return et.some(e.rng)}return et.none()}},xh={getBookmark:function(t,e,n){return Rc.getBookmark(t,e,n)},moveToBookmark:function(e,t){_h.resolve(e,t).each(function(t){e.setRng(t)})},isBookmarkNode:function(t){
return le.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}},Ch=function(t){return t&&/^(IMG)$/.test(t.nodeName)},kh=function(t,e,n){var i,o,r,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!Ch(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(s<(r=a.childNodes).length?(a=r[s],i=new oa(a,t.getParent(a,t.isBlock))):(a=r[r.length-1],(i=new oa(a,t.getParent(a,t.isBlock))).next(!0)),o=i.current();o;o=i.next())if(3===o.nodeType&&!Sh(o))return n.setStart(o,0),void e.setRng(n)},Th=function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!Sh(t))return t},Sh=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},Eh=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},Nh=function(t,e,n){return Eh(t,t.getStyle(e,n),n)},Dh={isInlineBlock:Ch,moveStart:kh,getNonWhiteSpaceSibling:Th,isTextBlock:function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},isValid:function(t,e,n){return t.schema.isValidChild(e,n)},isWhiteSpaceNode:Sh,replaceVars:function(t,n){return"string"!=typeof t?t=t(n):n&&(t=t.replace(/%(\w+)/g,function(t,e){return n[e]||t})),t},isEq:function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},normalizeStyleValue:Eh,getStyle:Nh,getTextDecoration:function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},getParents:function(t,e,n){return t.getParents(e,n,t.getRoot())}},Ah=xh.isBookmarkNode,zh=Dh.getParents,Mh=Dh.isWhiteSpaceNode,Ih=Dh.isTextBlock,Ph=function(t,e){for(void 0===e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}},Rh=function(t,e){var n=Ph(t,e);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Ph(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(t=n.node).splitText(n.offset-1)}return t},Hh=function(t){return"BR"===t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},Oh=function(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},Lh=function(t,e,n,i){var o,r,s=n.nodeValue;return void 0===i&&(i=t?s.length:0),t?(o=s.lastIndexOf(" ",i),-1!==(o=(r=s.lastIndexOf("\xa0",i))<o?o:r)&&!e&&(o<i||!t)&&o<=s.length&&o++):(o=s.indexOf(" ",i),r=s.indexOf("\xa0",i),o=-1!==o&&(-1===r||o<r)?o:r),o},Fh=function(t,e,n,i,o,r){var s,a,l;if(3===n.nodeType){if(-1!==(a=Lh(o,r,n,i)))return{container:n,offset:a};l=n}for(var u=new oa(n,t.getParent(n,t.isBlock)||e);s=u[o?"prev":"next"]();)if(3!==s.nodeType||Ah(s.parentNode)){if(t.isBlock(s)||Dh.isEq(s,"BR"))break}else if(-1!==(a=Lh(o,r,l=s)))return{container:s,offset:a};if(l)return{container:l,offset:i=o?0:l.length}},Bh=function(t,e,n,i,o){var r,s,a,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[o]&&(i=i[o]),r=zh(t,i),s=0;s<r.length;s++)for(a=0;a<e.length;a++)if(!("collapsed"in(l=e[a])&&l.collapsed!==n.collapsed)&&t.is(r[s],l.selector))return r[s];return i},$h=function(e,t,n,i){var o,r=e.dom,s=r.getRoot();if(t[0].wrapper||(o=r.getParent(n,t[0].block,s)),!o){var a=r.getParent(n,"LI,TD,TH");o=r.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==s&&Ih(e,t)},a)}if(o&&t[0].wrapper&&(o=zh(r,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[i]&&!r.isBlock(o[i])&&(o=o[i],!Dh.isEq(o,"br")););return o||n},jh=function(t,e,n,i,o,r,s){var a,l,u,c,d;if(a=l=s?n:o,c=s?"previousSibling":"nextSibling",d=t.getRoot(),3===a.nodeType&&!Mh(a)&&(s?0<i:r<a.nodeValue.length))return a;for(;;){if(!e[0].block_expand&&t.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!Ah(u)&&!Mh(u)&&!Hh(u))return l;if(l===d||l.parentNode===d){a=l;break}l=l.parentNode}return a},Vh={expandRng:function(t,e,n,i){var o,r=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,u=t.dom;return 1===r.nodeType&&r.hasChildNodes()&&3===(r=Su(r,s)).nodeType&&(s=0),1===a.nodeType&&a.hasChildNodes()&&3===(a=Su(a,e.collapsed?l:l-1)).nodeType&&(l=a.nodeValue.length),r=Oh(u,r),a=Oh(u,a),(Ah(r.parentNode)||Ah(r))&&(r=Ah(r)?r:r.parentNode,3===(r=e.collapsed?r.previousSibling||r:r.nextSibling||r).nodeType&&(s=e.collapsed?r.length:0)),(Ah(a.parentNode)||Ah(a))&&(a=Ah(a)?a:a.parentNode,3===(a=e.collapsed?a.nextSibling||a:a.previousSibling||a).nodeType&&(l=e.collapsed?0:a.length)),e.collapsed&&((o=Fh(u,t.getBody(),r,s,!0,i))&&(r=o.container,s=o.offset),(o=Fh(u,t.getBody(),a,l,!1,i))&&(a=o.container,l=o.offset)),n[0].inline&&(a=i?a:Rh(a,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===r.nodeType&&0!==s||(r=jh(u,n,r,s,a,l,!0)),n[0].inline&&3===a.nodeType&&l!==a.nodeValue.length||(a=jh(u,n,r,s,a,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(r=Bh(u,n,e,r,"previousSibling"),a=Bh(u,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(r=$h(t,n,r,"previousSibling"),a=$h(t,n,a,"nextSibling"),n[0].block&&(u.isBlock(r)||(r=jh(u,n,r,s,a,l,!0)),u.isBlock(a)||(a=jh(u,n,r,s,a,l,!1)))),1===r.nodeType&&(s=u.nodeIndex(r),r=r.parentNode),1===a.nodeType&&(l=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:r,startOffset:s,endContainer:a,endOffset:l}}},Uh=go.each,qh=function(t,e){var n=t.childNodes;return--e>n.length-1?e=n.length-1:e<0&&(e=0),n[e]||t},Wh={walk:function(t,e,o){var n,i,r,s,a,l,u,c=e.startContainer,d=e.startOffset,h=e.endContainer,f=e.endOffset;if(0<(u=t.select("td[data-mce-selected],th[data-mce-selected]")).length)Uh(u,function(t){o([t])});else{var p=function(t){var e;return 3===(e=t[0]).nodeType&&e===c&&d>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===f&&0<t.length&&e===h&&3===e.nodeType&&t.splice(t.length-1,1),t},g=function(t,e,n){for(var i=[];t&&t!==n;t=t[e])i.push(t);return i},m=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},v=function(t,e,n){var i=n?"nextSibling":"previousSibling";for(a=(s=t).parentNode;s&&s!==e;s=a)a=s.parentNode,(l=g(s===t?s:s[i],i)).length&&(n||l.reverse(),o(p(l)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[d]),1===h.nodeType&&h.hasChildNodes()&&(h=qh(h,f)),c===h)return o(p([c]));for(n=t.findCommonAncestor(c,h),s=c;s;s=s.parentNode){if(s===h)return v(c,n,!0);if(s===n)break}for(s=h;s;s=s.parentNode){if(s===c)return v(h,n);if(s===n)break}i=m(c,n)||c,r=m(h,n)||h,v(c,i,!0),(l=g(i===c?i:i.nextSibling,"nextSibling",r===h?r.nextSibling:r)).length&&o(p(l)),v(h,r)}}},Yh=function(){return"\ufeff"},Kh=l(fn,"text"),Gh=function(t){return Kh.get(t)},Xh=function(t){return fn(t)&&Gh(t)===Yh()},Qh=function(e,n,i,o){return Qn(n).fold(function(){return"skipping"},function(t){return"br"===o||Xh(n)?"valid":Cl(n)?"existing":Oc(n)?"caret":Dh.isValid(e,i,o)&&Dh.isValid(e,un(t),i)?"valid":"invalid-child"})},Jh=function(t){return 3===t.startContainer.nodeType&&t.startContainer.nodeValue.length>=t.startOffset&&"\xa0"===t.startContainer.nodeValue[t.startOffset]},Zh=function(t,e){var n=Vh.expandRng(t,e,[{inline:!0}],Jh(e));e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)},tf=function(t,e,n,i){var o=e.uid,r=void 0===o?Al("mce-annotation"):o,s=f(e,["uid"]),a=rn.fromTag("span",t);ll(a,yl()),Tn(a,""+_l(),r),Tn(a,""+wl(),n);var l=i(r,s),u=l.attributes,c=void 0===u?{}:u,d=l.classes,h=void 0===d?[]:d;return Sn(a,c),zl(a,h),a},ef=function(i,t,e,n,o){var r=[],s=tf(i.getDoc(),o,e,n),a=ue(et.none()),l=function(){a.set(et.none())},u=function(){return a.get().getOrThunk(function(){var t=Il(s);return r.push(t),a.set(et.some(t)),t})},c=function(t){bt(t,d)},d=function(t){switch(Qh(i,t,"span",un(t))){case"invalid-child":l();var e=ii(t);c(e),l();break;case"valid":var n=u();ua(t,n)}},h=function(t){var e=vt(t,rn.fromDom);c(e)};return Wh.walk(i.dom,t,function(t){l(),h(t)}),r},nf=function(o,r,s,a){o.undoManager.transact(function(){var t=o.selection.getRng();if(t.collapsed&&Zh(o,t),o.selection.getRng().collapsed){var e=tf(o.getDoc(),a,r,s.decorate);Ol(e,"\xa0"),o.selection.getRng().insertNode(e.dom()),o.selection.select(e.dom())}else{var n=Rc.getPersistentBookmark(o.selection,!1),i=o.selection.getRng();ef(o,i,r,s.decorate,a),o.selection.moveToBookmark(n)}})},of=function(i){var o=Nl();El(i,o);var n=Sl(i);return{register:function(t,e){o.register(t,e)},annotate:function(e,n){o.lookup(e).each(function(t){nf(i,e,t,n)})},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(t){xl(i,et.some(t)).each(function(t){var e=t.elements;bt(e,pa)})},getAll:function(t){var e=Tl(i,t);return vn(e,function(t){return vt(t,function(t){return t.dom()})})}}},rf=/^[ \t\r\n]*$/,sf={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},af=function(t,e,n){var i=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[i])return t[i];if(t!==e){var r=t[o];if(r)return r;for(var s=t.parent;s&&s!==e;s=s.parent)if(r=s[o])return r}},lf=function(){function a(t,e){this.name=t,1===(this.type=e)&&(this.attributes=[],this.attributes.map={})}return a.create=function(t,e){var n=new a(t,sf[t]||1);if(e)for(var i in e)n.attr(i,e[i]);return n},a.prototype.replace=function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},a.prototype.attr=function(t,e){var n,i=this;if("string"!=typeof t){for(var o in t)i.attr(o,t[o]);return i}if(n=i.attributes){if(e===undefined)return n.map[t];if(null===e){if(t in n.map){delete n.map[t];for(var r=n.length;r--;)if(n[r].name===t)return n.splice(r,1),i}return i}if(t in n.map){for(r=n.length;r--;)if(n[r].name===t){n[r].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,i}},a.prototype.clone=function(){var t,e=this,n=new a(e.name,e.type);if(t=e.attributes){var i=[];i.map={};for(var o=0,r=t.length;o<r;o++){var s=t[o];"id"!==s.name&&(i[i.length]={name:s.name,value:s.value},i.map[s.name]=s.value)}n.attributes=i}return n.value=e.value,n.shortEnded=e.shortEnded,n},a.prototype.wrap=function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},a.prototype.unwrap=function(){for(var t=this,e=t.firstChild;e;){var n=e.next;t.insert(e,t,!0),e=n}t.remove()},a.prototype.remove=function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n)&&(n.prev=null):i.next=n,e.lastChild===t?(e.lastChild=i)&&(i.next=null):n.prev=i,t.parent=t.next=t.prev=null),t},a.prototype.append=function(t){var e=this;t.parent&&t.remove();var n=e.lastChild;return n?((n.next=t).prev=n,e.lastChild=t):e.lastChild=e.firstChild=t,t.parent=e,t},a.prototype.insert=function(t,e,n){t.parent&&t.remove();var i=e.parent||this;return n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,(t.next=e).prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,(t.prev=e).next=t),t.parent=i,t},a.prototype.getAll=function(t){for(var e=this,n=[],i=e.firstChild;i;i=af(i,e))i.name===t&&n.push(i);return n},a.prototype.empty=function(){var t=this;if(t.firstChild){for(var e=[],n=t.firstChild;n;n=af(n,t))e.push(n);for(var i=e.length;i--;){(n=e[i]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return t.firstChild=t.lastChild=null,t},a.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var i=this,o=i.firstChild;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(t[o.name])return!1;for(var r=o.attributes.length;r--;){var s=o.attributes[r].name;if("name"===s||0===s.indexOf("data-mce-bookmark"))return!1}}if(8===o.type)return!1;if(3===o.type&&!rf.test(o.value))return!1;if(3===o.type&&o.parent&&e[o.parent.name]&&rf.test(o.value))return!1;if(n&&n(o))return!1}while(o=af(o,i));return!0},a.prototype.walk=function(t){return af(this,null,t)},a}(),uf=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},cf=function(t){return t.replace(/<!--|-->/g,"")},df=function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))},hf=function(t,e,n){var i,o,r,s,a=1;for(s=t.getShortEndedElements(),(r=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;o=r.exec(e);){if(i=r.lastIndex,"/"===o[1])a--;else if(!o[1]){if(o[2]in s)continue;a++}if(0===a)break}return i},ff=function(t,e){var n=t.exec(e);if(n){var i=n[1],o=n[2];return"string"==typeof i&&"data-mce-bogus"===i.toLowerCase()?o:null}return null};(c||(c={})).findEndTag=hf;var pf,gf,mf,vf=c,bf=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")},yf=function(t,e){var n,i,o,r,s,a=e,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=t.schema;for(a=bf(t.getTempAttrs(),a),s=u.getShortEndedElements();r=l.exec(a);)i=l.lastIndex,o=r[0].length,n=s[r[1]]?i:vf.findEndTag(u,a,i),a=a.substring(0,i-o)+a.substring(n),l.lastIndex=i-o;return Fl.trim(a)},wf={trimExternal:yf,trimInternal:yf},_f=function(t,e,n){var i=t.getParam(e,n);if(-1===i.indexOf("="))return i;var o=t.getParam(e,"","hash");return o.hasOwnProperty(t.id)?o[t.id]:n},xf={getIframeAttrs:function(t){return t.getParam("iframe_attrs",{})},getDocType:function(t){return t.getParam("doctype","<!DOCTYPE html>")},getDocumentBaseUrl:function(t){return t.getParam("document_base_url","")},getBodyId:function(t){return _f(t,"body_id","tinymce")},getBodyClass:function(t){return _f(t,"body_class","")},getContentSecurityPolicy:function(t){return t.getParam("content_security_policy","")},shouldPutBrInPre:function(t){return t.getParam("br_in_pre",!0)},getForcedRootBlock:function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},getForcedRootBlockAttrs:function(t){return t.getParam("forced_root_block_attrs",{})},getBrNewLineSelector:function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},getNoNewLineSelector:function(t){return t.getParam("no_newline_selector","")},shouldKeepStyles:function(t){return t.getParam("keep_styles",!0)},shouldEndContainerOnEmptyBlock:function(t){return t.getParam("end_container_on_empty_block",!1)},getFontStyleValues:function(t){return go.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},getFontSizeClasses:function(t){return go.explode(t.getParam("font_size_classes",""))},getIconPackName:function(t){return t.getParam("icons","","string")},getIconsUrl:function(t){return t.getParam("icons_url","","string")},getImagesDataImgFilter:function(t){return t.getParam("images_dataimg_filter",q(!0),"function")},isAutomaticUploadsEnabled:function(t){return t.getParam("automatic_uploads",!0,"boolean")},shouldReuseFileName:function(t){return t.getParam("images_reuse_filename",!1,"boolean")},shouldReplaceBlobUris:function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},getImageUploadUrl:function(t){return t.getParam("images_upload_url","","string")},getImageUploadBasePath:function(t){return t.getParam("images_upload_base_path","","string")},getImagesUploadCredentials:function(t){return t.getParam("images_upload_credentials",!1,"boolean")},getImagesUploadHandler:function(t){return t.getParam("images_upload_handler",null,"function")},shouldUseContentCssCors:function(t){return t.getParam("content_css_cors",!1,"boolean")},getReferrerPolicy:function(t){return t.getParam("referrer_policy","","string")},getLanguageCode:function(t){return t.getParam("language","en","string")},getLanguageUrl:function(t){return t.getParam("language_url","","string")},shouldIndentUseMargin:function(t){return t.getParam("indent_use_margin",!1)},getIndentation:function(t){return t.getParam("indentation","40px","string")},getContentCss:function(t){var e=t.settings.content_css;return kt(e)?vt(e.split(","),Ve):rt(e)?e:!1===e||t.inline?[]:["default"]},getDirectionality:function(t){return t.getParam("directionality",Ga.isRtl()?"rtl":undefined)},getInlineBoundarySelector:function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}},Cf="html",kf=function(t,e){var n=xf.getForcedRootBlock(t),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(i,"")},Tf=function(t,e,n){var i;if(e.format=e.format?e.format:Cf,e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)i=go.trim(wf.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)i=Fl.trim(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);i=kf(t,t.serializer.serialize(n,e))}return"text"===e.format||Ho(rn.fromDom(n))?e.content=i:e.content=go.trim(i),e.no_events||t.fire("GetContent",e),e.content},Sf=function(e,n){return void 0===n&&(n={}),et.from(e.getBody()).fold(q("tree"===n.format?new lf("body",11):""),function(t){return Tf(e,n,t)})},Ef=go.makeMap,Nf=function(t){var a,l,u,c,d,h=[];return a=(t=t||{}).indent,l=Ef(t.indent_before||""),u=Ef(t.indent_after||""),c=br.getEncodeFunc(t.entity_encoding||"raw",t.entities),d="html"===t.element_format,{start:function(t,e,n){var i,o,r,s;if(a&&l[t]&&0<h.length&&0<(s=h[h.length-1]).length&&"\n"!==s&&h.push("\n"),h.push("<",t),e)for(i=0,o=e.length;i<o;i++)r=e[i],h.push(" ",r.name,'="',c(r.value,!0),'"');h[h.length]=!n||d?">":" />",n&&a&&u[t]&&0<h.length&&0<(s=h[h.length-1]).length&&"\n"!==s&&h.push("\n")},end:function(t){var e;h.push("</",t,">"),a&&u[t]&&0<h.length&&0<(e=h[h.length-1]).length&&"\n"!==e&&h.push("\n")},text:function(t,e){0<t.length&&(h[h.length]=e?t:c(t))},cdata:function(t){h.push("<![CDATA[",t,"]]>")},comment:function(t){h.push("<!--",t,"-->")},pi:function(t,e){e?h.push("<?",t," ",c(e),"?>"):h.push("<?",t,"?>"),a&&h.push("\n")},doctype:function(t){h.push("<!DOCTYPE",t,">",a?"\n":"")},reset:function(){h.length=0},getContent:function(){return h.join("").replace(/\n$/,"")}}},Df=function(e,p){void 0===p&&(p=xt());var g=Nf(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(t){var d,h;h=e.validate,d={3:function(t){g.text(t.value,t.raw)},8:function(t){g.comment(t.value)},7:function(t){g.pi(t.name,t.value)},10:function(t){g.doctype(t.value)},4:function(t){g.cdata(t.value)},11:function(t){if(t=t.firstChild)for(;f(t),t=t.next;);}},g.reset();var f=function(t){var e,n,i,o,r,s,a,l,u,c=d[t.type];if(c)c(t);else{if(e=t.name,n=t.shortEnded,i=t.attributes,h&&i&&1<i.length&&((s=[]).map={},u=p.getElementRule(t.name))){for(a=0,l=u.attributesOrder.length;a<l;a++)(o=u.attributesOrder[a])in i.map&&(r=i.map[o],s.map[o]=r,s.push({name:o,value:r}));for(a=0,l=i.length;a<l;a++)(o=i[a].name)in s.map||(r=i.map[o],s.map[o]=r,s.push({name:o,value:r}));i=s}if(g.start(t.name,i,n),!n){if(t=t.firstChild)for(;f(t),t=t.next;);g.end(e)}}};return 1!==t.type||e.inner?d[11](t):f(t),g.getContent()}}},Af=function(t,e){e(t),t.firstChild&&Af(t.firstChild,e),t.next&&Af(t.next,e)},zf=function(t,n,e){var i={},o={},r=[];for(var s in e.firstChild&&Af(e.firstChild,function(e){bt(t,function(t){t.name===e.name&&(i[t.name]?i[t.name].nodes.push(e):i[t.name]={filter:t,nodes:[e]})}),bt(n,function(t){"string"==typeof e.attr(t.name)&&(o[t.name]?o[t.name].nodes.push(e):o[t.name]={filter:t,nodes:[e]})})}),i)i.hasOwnProperty(s)&&r.push(i[s]);for(var s in o)o.hasOwnProperty(s)&&r.push(o[s]);return r},Mf=function(t,e,n){var i=zf(t,e,n);bt(i,function(e){bt(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},If=function(t){var e=Kn(t).dom();return t.dom()===e.activeElement},Pf=function(t){var e=t!==undefined?t.dom():wt.document;return et.from(e.activeElement).map(rn.fromDom)},Rf=function(e){return Pf(Kn(e)).filter(function(t){return e.dom().contains(t.dom())})},Hf={generate:function(s){if(!rt(s))throw new Error("cases must be an array");if(0===s.length)throw new Error("there must be at least one case");var a=[],n={};return bt(s,function(t,i){var e=pn(t);if(1!==e.length)throw new Error("one and only one name per case");var o=e[0],r=t[o];if(n[o]!==undefined)throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!rt(r))throw new Error("case arguments must be an array");a.push(o),n[o]=function(){var t=arguments.length;if(t!==r.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+r.length+" ("+r+"), got "+t);for(var n=new Array(t),e=0;e<n.length;e++)n[e]=arguments[e];return{fold:function(){if(arguments.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+arguments.length);return arguments[i].apply(null,n)},match:function(t){var e=pn(t);if(a.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+"\nActual: "+e.join(","));if(!It(a,function(t){return gt(e,t)}))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+a.join(", "));return t[o].apply(null,n)},log:function(t){wt.console.log(t,{constructors:a,constructor:o,params:n})}}}}),n}},Of={create:Pn("start","soffset","finish","foffset")},Lf=Hf.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ff=function(t,e,n,i){return t.fold(e,n,i)},Bf=function(t){return t.fold(W,W,W)},$f={before:Lf.before,on:Lf.on,after:Lf.after,cata:Ff,getStart:Bf},jf=Hf.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vf=function(t){return jf.exact(t.start(),t.soffset(),t.finish(),t.foffset())},Uf=function(t){return t.match({domRange:function(t){return rn.fromDom(t.startContainer)},relative:function(t){return $f.getStart(t)},exact:function(t){return t}})},qf={domRange:jf.domRange,relative:jf.relative,exact:jf.exact,exactFromRange:Vf,getWin:function(t){var e=Uf(t);return Xn(e)},range:Of.create},Wf=Ze().browser,Yf=function(t,e){var n=fn(e)?Gh(e).length:ii(e).length+1;return n<t?n:t<0?0:t},Kf=function(t){return qf.range(t.start(),Yf(t.soffset(),t.start()),t.finish(),Yf(t.foffset(),t.finish()))},Gf=function(t,e){return!le.isRestrictedNode(e.dom())&&(Yn(t,e)||Un(t,e))},Xf=function(e){return function(t){return Gf(e,t.start())&&Gf(e,t.finish())}},Qf=function(t){return!0===t.inline||Wf.isIE()},Jf=function(t){return qf.range(rn.fromDom(t.startContainer),t.startOffset,rn.fromDom(t.endContainer),t.endOffset)},Zf=function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?et.from(e.getRangeAt(0)):et.none()).map(Jf)},tp=function(t){var e=Xn(t);return Zf(e.dom()).filter(Xf(t))},ep=function(t,e){return et.from(e).filter(Xf(t)).map(Kf)},np=function(t){var e=wt.document.createRange();try{return e.setStart(t.start().dom(),t.soffset()),e.setEnd(t.finish().dom(),t.foffset()),et.some(e)}catch(_){return et.none()}},ip=function(e){return(e.bookmark?e.bookmark:et.none()).bind(function(t){return ep(rn.fromDom(e.getBody()),t)}).bind(np)},op={store:function(t){var e=Qf(t)?tp(rn.fromDom(t.getBody())):et.none();t.bookmark=e.isSome()?e:t.bookmark},storeNative:function(t,e){var n=rn.fromDom(t.getBody()),i=(Qf(t)?et.from(e):et.none()).map(Jf).filter(Xf(n));t.bookmark=i.isSome()?i:t.bookmark},readRange:Zf,restore:function(e){ip(e).each(function(t){e.selection.setRng(t)})},getRng:ip,getBookmark:tp,validate:ep},rp={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},sp=function(t){return"nodechange"===t.type&&t.selectionChange},ap=function(t,e){var n=function(){e.throttle()};Ha.DOM.bind(wt.document,"mouseup",n),t.on("remove",function(){Ha.DOM.unbind(wt.document,"mouseup",n)})},lp=function(t){t.on("focusout",function(){op.store(t)})},up=function(t,e){t.on("mouseup touchend",function(){e.throttle()})},cp=function(e,t){Ze().browser.isIE()?lp(e):up(e,t),e.on("keyup NodeChange",function(t){sp(t)||op.store(e)})},dp={register:function(t){var e=Za(function(){op.store(t)},0);t.on("init",function(){t.inline&&ap(t,e),cp(t,e)}),t.on("remove",function(){e.cancel()})}},hp=Ha.DOM,fp=function(t){return rp.isEditorUIElement(t)},pp=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==hp.getParent(t,function(t){return fp(t)||!!n&&e.dom.is(t,n)})},gp=function(){try{return wt.document.activeElement}catch(t){return wt.document.body}},mp=function(i,t){var e=t.editor;dp.register(e),e.on("focusin",function(){var t=this,e=i.focusedEditor;e!==t&&(e&&e.fire("blur",{focusedEditor:t}),i.setActive(t),(i.focusedEditor=t).fire("focus",{blurredEditor:e}),t.focus(!0))}),e.on("focusout",function(){var e=this;Li.setEditorTimeout(e,function(){var t=i.focusedEditor;pp(e,gp())||t!==e||(e.fire("blur",{focusedEditor:null}),i.focusedEditor=null)})}),pf||(pf=function(t){var e,n=i.activeEditor;e=t.target,n&&e.ownerDocument===wt.document&&(e===wt.document.body||pp(n,e)||i.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),i.focusedEditor=null))},hp.bind(wt.document,"focusin",pf))},vp=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(hp.unbind(wt.document,"focusin",pf),pf=null)},bp={setup:function(t){t.on("AddEditor",h(mp,t)),t.on("RemoveEditor",h(vp,t))},isEditorUIElement:fp,isEditorContentAreaElement:function(t){var e=t.classList;return e!==undefined&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},isUIElement:pp},yp=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},wp=function(t){return t.collapsed?et.from(Su(t.startContainer,t.startOffset)).map(rn.fromDom):et.none()},_p=function(e,t){return wp(t).bind(function(t){return Po(t)?et.some(t):!1===Yn(e,t)?et.some(e):et.none()})},xp=function(e,t){_p(rn.fromDom(e.getBody()),t).bind(function(t){return ih.firstPositionIn(t.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},Cp=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},kp=function(t){return If(t)||Rf(t).isSome()},Tp=function(t){return t.iframeElement&&If(rn.fromDom(t.iframeElement))},Sp=function(t){var e=t.getBody();return e&&kp(rn.fromDom(e))},Ep=function(e){return Pf().filter(function(t){return!bp.isEditorContentAreaElement(t.dom())&&bp.isUIElement(e,t.dom())}).isSome()},Np=function(t){return t.inline?Sp(t):Tp(t)},Dp=function(t){return Np(t)||Ep(t)},Ap=function(e){var t=e.selection,n=e.getBody(),i=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==undefined&&!1===Np(e)&&op.getRng(e).each(function(t){e.selection.setRng(t),i=t});var o=yp(e,t.getNode());if(e.$.contains(n,o))return Cp(o),xp(e,i),void zp(e);e.inline||(Yi.opera||Cp(n),e.getWin().focus()),(Yi.gecko||e.inline)&&(Cp(n),xp(e,i)),zp(e)},zp=function(t){return t.editorManager.setActive(t)},Mp={focus:function(t,e){t.removed||(e?zp(t):Ap(t))},hasFocus:Np,hasEditorOrUiFocus:Dp},Ip="html",Pp=function(t){return t instanceof lf},Rp=function(i){Mp.hasFocus(i)&&ih.firstPositionIn(i.getBody()).each(function(t){var e=t.getNode(),n=le.isTable(e)?ih.firstPositionIn(e).getOr(t):t;i.selection.setRng(n.toRange())})},Hp=function(t,e){t.dom.setHTML(t.getBody(),e),Rp(t)},Op=function(t,e,n,i){var o,r;return 0===n.length||/^\s+$/.test(n)?(r='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+r+"</li>"),(o=xf.getForcedRootBlock(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),o.toLowerCase())?(n=r,n=t.dom.createHTML(o,t.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),Hp(t,n),t.fire("SetContent",i)):("raw"!==i.format&&(n=Df({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=Ho(rn.fromDom(e))?n:go.trim(n),Hp(t,i.content),i.no_events||t.fire("SetContent",i)),i.content},Lp=function(t,e,n,i){Mf(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var o=Df({validate:t.validate},t.schema).serialize(n);return i.content=Ho(rn.fromDom(e))?o:go.trim(o),Hp(t,i.content),i.no_events||t.fire("SetContent",i),n},Fp=function(e,n,i){return void 0===i&&(i={}),i.format=i.format?i.format:Ip,i.set=!0,i.content=Pp(n)?"":n,Pp(n)||i.no_events||(e.fire("BeforeSetContent",i),n=i.content),et.from(e.getBody()).fold(q(n),function(t){return Pp(n)?Lp(e,t,n,i):Op(e,t,n,i)})},Bp={firePreProcess:function(t,e){return t.fire("PreProcess",e)},firePostProcess:function(t,e){return t.fire("PostProcess",e)},fireRemove:function(t){return t.fire("remove")},fireDetach:function(t){return t.fire("detach")},fireSwitchMode:function(t,e){return t.fire("SwitchMode",{mode:e})},fireObjectResizeStart:function(t,e,n,i){t.fire("ObjectResizeStart",{target:e,width:n,height:i})},fireObjectResized:function(t,e,n,i){t.fire("ObjectResized",{target:e,width:n,height:i})}},$p=Ha.DOM,jp=function(t){$p.setStyle(t.id,"display",t.orgDisplay)},Vp=function(t){return et.from(t).each(function(t){return t.destroy()})},Up=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},qp=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),$p.unbind(e,"submit reset",t.formEventDelegate))},Wp=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,i=t.getBody(),o=t.getElement();i&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&o&&$p.remove(o.nextSibling),Bp.fireRemove(t),t.editorManager.remove(t),!t.inline&&i&&jp(t),Bp.fireDetach(t),$p.remove(t.getContainer()),Vp(e),Vp(n),t.destroy()}},Yp=function(t,e){var n=t.selection,i=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Vp(n),Vp(i)),qp(t),Up(t),t.destroyed=!0):t.remove())},Kp=Object.prototype.hasOwnProperty,Gp=function(t,e){return e},Xp=function(s){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},i=0;i<t.length;i++){var o=t[i];for(var r in o)Kp.call(o,r)&&(n[r]=s(n[r],o[r]))}return n}},Qp=Xp(function(t,e){return ot(t)&&ot(e)?Qp(t,e):e}),Jp=Xp(Gp),Zp=Pn("sections","settings"),tg=Ze().deviceType,eg=tg.isTouch(),ng=tg.isPhone(),ig=tg.isTablet(),og=["lists","autolink","autosave"],rg={table_grid:!1,object_resizing:!1,resize:!1},sg=function(t){var e=rt(t)?t.join(" "):t,n=vt(kt(e)?e.split(" "):[],Ve);return St(n,function(t){return 0<t.length})},ag=function(t){return St(t,h(gt,og))},lg=function(n,t){var e=yn(t,function(t,e){return gt(n,e)});return Zp(e.t,e.f)},ug=function(t,e,n){void 0===n&&(n={});var i=t.sections(),o=i.hasOwnProperty(e)?i[e]:{};return go.extend({},n,o)},cg=function(t,e){return t.sections().hasOwnProperty(e)},dg=function(t,e,n){var i=t.sections();return cg(t,e)&&i[e].theme===n},hg=function(t,e){return cg(t,e)?t.sections()[e]:{}},fg=function(t,e,n,i){var o={id:t,theme:"silver",toolbar_drawer:"floating",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:i.convertURL,url_converter_scope:i};return $t($t({},o),n?rg:{})},pg=function(t){var e={resize:!1,toolbar_drawer:"scrolling",toolbar_sticky:!1},n={menubar:!1};return $t($t($t({},rg),e),t?n:{})},gg=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?go.extend({},t.external_plugins,n):n},mg=function(t,e){return[].concat(sg(t)).concat(sg(e))},vg=function(t,e,n,i){var o=sg(n.forced_plugins),r=sg(i.plugins),s=hg(e,"mobile"),a=s.plugins?sg(s.plugins):r,l=t&&dg(e,"mobile","mobile")?ag(a):t&&cg(e,"mobile")?a:r,u=mg(o,l);return go.extend(i,{plugins:u.join(" ")})},bg=function(t,e){return t&&cg(e,"mobile")},yg=function(t,e,n,i,o){var r=t?{mobile:pg(e)}:{},s=lg(["mobile"],Qp(r,o)),a=go.extend(n,i,s.settings(),bg(t,s)?ug(s,"mobile"):{},{validate:!0,external_plugins:gg(i,s.settings())});return vg(t,s,i,a)},wg=function(t,e,n,i,o){var r=fg(e,n,eg,t);return yg(ng||ig,ng,r,i,o)},_g=function(t,e,n){return et.from(e.settings[n]).filter(t)},xg=function(t){var n={}
;return"string"==typeof t?bt(0<t.indexOf("=")?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(t){var e=t.split("=");1<e.length?n[go.trim(e[0])]=go.trim(e[1]):n[go.trim(e[0])]=go.trim(e[0])}):n=t,n},Cg=function(e){return function(t){return rt(t)&&It(t,e)}},kg=function(t,e,n,i){var o=e in t.settings?t.settings[e]:n;return"hash"===i?xg(o):"string"===i?_g(kt,t,e).getOr(n):"number"===i?_g(ut,t,e).getOr(n):"boolean"===i?_g(at,t,e).getOr(n):"object"===i?_g(ot,t,e).getOr(n):"array"===i?_g(rt,t,e).getOr(n):"string[]"===i?_g(Cg(kt),t,e).getOr(n):"function"===i?_g(lt,t,e).getOr(n):o},Tg=function(t,e){return e.dom()[t]},Sg=function(t,e){return parseInt(An(e,t),10)},Eg=h(Tg,"clientWidth"),Ng=h(Tg,"clientHeight"),Dg=h(Sg,"margin-top"),Ag=h(Sg,"margin-left"),zg=function(t){return t.dom().getBoundingClientRect()},Mg=function(t,e,n){var i=Eg(t),o=Ng(t);return 0<=e&&0<=n&&e<=i&&n<=o},Ig=function(t,e,n,i){var o=zg(e);return{x:n-(t?o.left+e.dom().clientLeft+Ag(e):0),y:i-(t?o.top+e.dom().clientTop+Dg(e):0)}},Pg=function(t){return et.from(t).map(rn.fromDom)},Rg={isXYInContentArea:function(t,e,n){var i=rn.fromDom(t.getBody()),o=t.inline?i:Gn(i),r=Ig(t.inline,o,e,n);return Mg(o,r.x,r.y)},isEditorAttachedToDom:function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return Pg(e).map(function(t){return Yn(Kn(t),t)}).getOr(!1)}},Hg=function(n){var i=[],o=function(){var t=n.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():S()},r=function(t,e){return function(){return e?e.apply(t,arguments):undefined}},e=function(t){n.fire("OpenWindow",{dialog:t})},t=function(t){n.fire("CloseWindow",{dialog:t})},s=function(t){i.push(t),e(t)},a=function(e){t(e),0===(i=St(i,function(t){return t!==e})).length&&n.focus()},l=function(){return et.from(i[i.length-1])},u=function(t){n.editorManager.setActive(n),op.store(n);var e=t();return s(e),e},c=function(t,e){return u(function(){return o().open(t,e,a)})},d=function(t){return u(function(){return o().openUrl(t,a)})},h=function(t,e,n){o().alert(t,r(n||this,e))},f=function(t,e,n){o().confirm(t,r(n||this,e))},p=function(){l().each(function(t){o().close(t),a(t)})};return n.on("remove",function(){bt(i,function(t){o().close(t)})}),{open:c,openUrl:d,alert:h,confirm:f,close:p}},Og=function(t,e){t.notificationManager.open({type:"error",text:e})},Lg=function(t,e){t._skinLoaded?Og(t,e):t.on("SkinLoaded",function(){Og(t,e)})},Fg=function(t){wt.console.error(t)},Bg=function(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e},$g=function(t,e,n){var i=Ga.translate(["Failed to initialize plugin: {0}",e]);jg(i,n),Lg(t,i)},jg=function(){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=wt.window.console;n&&(n.error?n.error.apply(n,arguments):n.log.apply(n,arguments))},Vg={pluginLoadError:function(t,e){Fg(Bg("plugin",t,e))},iconsLoadError:function(t,e){Fg(Bg("icons",t,e))},languageLoadError:function(t,e){Fg(Bg("language",t,e))},pluginInitError:$g,uploadError:function(t,e){Lg(t,Ga.translate(["Failed to upload image: {0}",e]))},displayError:Lg,initError:jg},Ug=function(){return{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',
"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000" stroke-width="2"><path d="M12 5v14M5 12h14"/></g></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><path d="M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z" fill-rule="nonzero"/></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z" opacity=".2"/><path d="M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path d="M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z" fill-rule="evenodd"/></svg>',"table-delete-row":'<svg width="24" height="24"><path d="M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z" fill-rule="evenodd"/></svg>',"table-delete-table":'<svg width="24" height="26"><path d="M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z" fill-rule="evenodd"/></svg>',"table-insert-column-after":'<svg width="24" height="24"><path d="M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z" fill-rule="evenodd"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path d="M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path d="M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z" fill-rule="evenodd"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path d="M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z" fill-rule="evenodd"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z" fill-rule="evenodd"/></svg>',"table-row-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-split-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z" fill-rule="evenodd"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z" fill-rule="evenodd"/></svg>',table:'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 0 1-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 0 1-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 0 1 2 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'}},qg=function(){var n={};return{add:function(t,e){n[t]=e},get:function(t){return n[t]?n[t]:{icons:{}}},has:function(t){return _n(n,t)}}}(),Wg=Ja.PluginManager,Yg=Ja.ThemeManager,Kg=function(r){return new Ii(function(t,e){var n=function(){e("Cannot convert "+r+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new wt.XMLHttpRequest;i.open("GET",r,!0),i.responseType="blob",i.onload=function(){200===this.status?t(this.response):n()},i.onerror=n,i.send()}catch(o){n()}})},Gg=function(t){var e,n,i=decodeURIComponent(t).split(",");return(n=/data:([^;]+)/.exec(i[0]))&&(e=n[1]),{type:e,data:i[1]}},Xg=function(r){return new Ii(function(t){var e,n,i,o=Gg(r);try{e=wt.atob(o.data)}catch(eP){return void t(new wt.Blob([]))}for(n=new Uint8Array(e.length),i=0;i<n.length;i++)n[i]=e.charCodeAt(i);t(new wt.Blob([n],{type:o.type}))})},Qg={uriToBlob:function(t){return 0===t.indexOf("blob:")?Kg(t):0===t.indexOf("data:")?Xg(t):null},blobToDataUri:function(n){return new Ii(function(t){var e=new wt.FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n)})},parseDataUri:Gg},Jg=0,Zg=function(t){return(t||"blobid")+Jg++},tm=function(n,i,o,e){var r,s;0!==i.src.indexOf("blob:")?(r=Qg.parseDataUri(i.src).data,(s=n.findFirst(function(t){return t.base64()===r}))?o({image:i,blobInfo:s}):Qg.uriToBlob(i.src).then(function(t){s=n.create(Zg(),t,r),n.add(s),o({image:i,blobInfo:s})},function(t){e(t)})):(s=n.getByUri(i.src))?o({image:i,blobInfo:s}):Qg.uriToBlob(i.src).then(function(e){Qg.blobToDataUri(e).then(function(t){r=Qg.parseDataUri(t).data,s=n.create(Zg(),e,r),n.add(s),o({image:i,blobInfo:s})})},function(t){e(t)})},em=function(t){return t?Bt(t.getElementsByTagName("img")):[]},nm=0,im=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+t()+t()+t()},om={uuid:function(t){return t+nm+++im()}},rm=function(){var n=[],i=function(t){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.toLowerCase()]||"dat"},t=function(t,e,n,i){if(kt(t))return o({id:t,name:i,blob:e,base64:n});if(ot(t))return o(t);throw new Error("Unknown input type")},o=function(t){var e,n;if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return e=t.id||om.uuid("blobid"),n=t.name||e,{id:q(e),name:q(n),filename:q(n+"."+i(t.blob.type)),blob:q(t.blob),base64:q(t.base64),blobUri:q(t.blobUri||wt.URL.createObjectURL(t.blob)),uri:q(t.uri)}},e=function(t){r(t.id())||n.push(t)},r=function(e){return s(function(t){return t.id()===e})},s=function(t){return St(n,t)[0]};return{create:t,add:e,get:r,getByUri:function(e){return s(function(t){return t.blobUri()===e})},findFirst:s,removeByUri:function(e){n=St(n,function(t){return t.blobUri()!==e||(wt.URL.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){bt(n,function(t){wt.URL.revokeObjectURL(t.blobUri())}),n=[]}}},sm=function(o){var e,t,r=rm(),s=D(),n=[],a=function(e){return function(t){return o.selection?e(t):[]}},i=function(){return"?"+(new Date).getTime()},l=function(t,e,n){for(var i=0;-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1),-1!==i;);return t},u=function(t,e,n){return t=l(t,'src="'+e+'"','src="'+n+'"'),t=l(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},c=function(e,n){bt(o.undoManager.data,function(t){"fragmented"===t.type?t.fragments=vt(t.fragments,function(t){return u(t,e,n)}):t.content=u(t.content,e,n)})},d=function(){return o.notificationManager.open({text:o.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},h=function(t,e){r.removeByUri(t.src),c(t.src,e),o.$(t).attr({src:xf.shouldReuseFileName(o)?e+i():e,"data-mce-src":o.convertURL(e,"src")})},f=function(n){return e||(e=E(s,{url:xf.getImageUploadUrl(o),basePath:xf.getImageUploadBasePath(o),credentials:xf.getImagesUploadCredentials(o),handler:xf.getImagesUploadHandler(o)})),v().then(a(function(i){var t;return t=vt(i,function(t){return t.blobInfo}),e.upload(t,d).then(a(function(t){var e=vt(t,function(t,e){var n=i[e].image;return t.status&&xf.shouldReplaceBlobUris(o)?h(n,t.url):t.error&&Vg.uploadError(o,t.error),{element:n,status:t.status}});return n&&n(e),e}))}))},p=function(t){if(xf.isAutomaticUploadsEnabled(o))return f(t)},g=function(e){return!1!==It(n,function(t){return t(e)})&&(0!==e.getAttribute("src").indexOf("data:")||xf.getImagesDataImgFilter(o)(e))},m=function(t){n.push(t)},v=function(){return t||(t=N(s,r)),t.findAll(o.getBody(),g).then(a(function(t){return t=St(t,function(t){return"string"!=typeof t||(Vg.displayError(o,t),!1)}),bt(t,function(t){c(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),t}))},b=function(){r.destroy(),s.destroy(),t=e=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var e=s.getResultUri(n);if(e)return'src="'+e+'"';var i=r.getByUri(n);return i||(i=Nt(o.editorManager.get(),function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':t})};return o.on("SetContent",function(){xf.isAutomaticUploadsEnabled(o)?p():v()}),o.on("RawSaveContent",function(t){t.content=y(t.content)}),o.on("GetContent",function(t){t.source_view||"raw"===t.format||(t.content=y(t.content))}),o.on("PostRender",function(){o.parser.addNodeFilter("img",function(t){bt(t,function(t){var e=t.attr("src");if(!r.getByUri(e)){var n=s.getResultUri(e)
;n&&t.attr("src",n)}})})}),{blobCache:r,addFilter:m,uploadImages:f,uploadImagesAuto:p,scanForImages:v,destroy:b}},am=function(t){return t.slice(0,-1)},lm=function(t,e,n){return Yn(e,t)?am(Jn(t,function(t){return n(t)||Un(t,e)})):[]},um=function(t,e){return lm(t,e,q(!1))},cm=function(t,e){return[t].concat(um(t,e))},dm={parentsUntil:lm,parents:um,parentsAndSelf:cm},hm=function(t,e){return t.hasOwnProperty(e.nodeName)},fm=function(t,e){return!!le.isText(e)||!!le.isElement(e)&&(!hm(t,e)&&!xh.isBookmarkNode(e))},pm=function(e,t,n){return mt(dm.parents(rn.fromDom(n),rn.fromDom(t)),function(t){return hm(e,t.dom())})},gm=function(t,e){if(le.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||hm(t,e.nextSibling)))return!0}return!1},mm=function(t){var e,n,i,o,r,s,a,l,u,c,d=t.dom,h=t.selection,f=t.schema,p=f.getBlockElements(),g=h.getStart(),m=t.getBody(),v=xf.getForcedRootBlock(t);if(g&&le.isElement(g)&&v&&(c=m.nodeName.toLowerCase(),f.isValidChild(c,v.toLowerCase())&&!pm(p,m,g))){for(n=(e=h.getRng()).startContainer,i=e.startOffset,o=e.endContainer,r=e.endOffset,u=Mp.hasFocus(t),g=m.firstChild;g;)if(fm(p,g)){if(gm(p,g)){g=(a=g).nextSibling,d.remove(a);continue}s||(s=d.create(v,xf.getForcedRootBlockAttrs(t)),g.parentNode.insertBefore(s,g),l=!0),g=(a=g).nextSibling,s.appendChild(a)}else s=null,g=g.nextSibling;l&&u&&(e.setStart(n,i),e.setEnd(o,r),h.setRng(e),t.nodeChanged())}},vm={setup:function(t){xf.getForcedRootBlock(t)&&t.on("NodeChange",h(mm,t))}},bm={isEq:function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}},ym=function(t){var e=t.startContainer,n=t.startOffset;return le.isText(e)?0===n?et.some(rn.fromDom(e)):et.none():et.from(e.childNodes[n]).map(rn.fromDom)},wm=function(t){var e=t.endContainer,n=t.endOffset;return le.isText(e)?n===e.data.length?et.some(rn.fromDom(e)):et.none():et.from(e.childNodes[n-1]).map(rn.fromDom)},_m=function(e){return ri(e).fold(q([e]),function(t){return[e].concat(_m(t))})},xm=function(e){return si(e).fold(q([e]),function(t){return"br"===un(t)?Zn(t).map(function(t){return[e].concat(xm(t))}).getOr([]):[e].concat(xm(t))})},Cm=function(o,t){return Du(ym(t),wm(t),function(t,e){var n=Dt(_m(o),h(Un,t)),i=Dt(xm(o),h(Un,e));return n.isSome()&&i.isSome()}).getOr(!1)},km=function(t,e,n,i){var o=n,r=new oa(n,o),s=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==go.trim(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n))}while(n=i?r.next():r.prev());"BODY"===o.nodeName&&(i?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},Tm=function(t){var e=t.selection.getSel();return e&&0<e.rangeCount},Sm=function(){function t(i){var o;this.lastPath=[],this.editor=i;var e=this;"onselectionchange"in i.getDoc()||i.on("NodeChange click mouseup keyup focus",function(t){var e,n;n={startContainer:(e=i.selection.getRng()).startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset},"nodechange"!==t.type&&bm.isEq(n,o)||i.fire("SelectionChange"),o=n}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var t=i.selection.getStart(!0);!t||!Yi.range&&i.selection.isCollapsed()||Tm(i)&&!e.isSameElementPath(t)&&i.dom.isChildOf(t,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("mouseup",function(t){!t.isDefaultPrevented()&&Tm(i)&&("IMG"===i.selection.getNode().nodeName?Li.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())})}return t.prototype.nodeChanged=function(t){var e,n,i,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.settings.disable_nodechange&&!this.editor.readonly&&(i=this.editor.getBody(),(e=o.getStart(!0)||i).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,i)||(e=i),n=[],this.editor.dom.getParent(e,function(t){if(t===i)return!0;n.push(t)}),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var e,n;if((n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t)).length===this.lastPath.length){for(e=n.length;0<=e&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},t}(),Em={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return Yi.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Nm=function(e){return function(t){return e===t}}("\xa0"),Dm=function(t){return/^[\r\n\t ]$/.test(t)},Am=function(t){return!Dm(t)&&!Nm(t)},zm=function(n,i,o){return et.from(o.container()).filter(le.isText).exists(function(t){var e=n?0:-1;return i(t.data.charAt(o.offset()+e))})},Mm=h(zm,!0,Dm),Im=h(zm,!1,Dm),Pm=function(t){var e=t.container();return le.isText(e)&&0===e.data.length},Rm=function(e,n){return function(t){return et.from(bd(e?0:-1,t)).filter(n).isSome()}},Hm=function(t){return"IMG"===t.nodeName&&"block"===An(rn.fromDom(t),"display")},Om=function(t){return le.isContentEditableFalse(t)&&!le.isBogusAll(t)},Lm=Rm(!0,Hm),Fm=Rm(!1,Hm),Bm=Rm(!0,le.isTable),$m=Rm(!1,le.isTable),jm=Rm(!0,Om),Vm=Rm(!1,Om),Um=function(e){var t=function(t){return vt(t,function(t){return(t=bu(t)).node=e,t})};if(le.isElement(e))return t(e.getClientRects());if(le.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},qm=function(t){return Nt(t,function(t,e){return t.concat(Um(e))},[])};(mf=gf||(gf={}))[mf.Up=-1]="Up",mf[mf.Down=1]="Down";var Wm=function(t,e,n,i){for(;i=gd(i,t,mu,e);)if(n(i))return},Ym=function(o,r,s,t,a,e){var n,l,u=0,c=[],i=function(t){var e,n,i;for(i=qm([t]),-1===o&&(i=i.reverse()),e=0;e<i.length;e++)if(n=i[e],!s(n,l)){if(0<c.length&&r(n,eo.last(c))&&u++,n.line=u,a(n))return!0;c.push(n)}};return(l=eo.last(e.getClientRects()))&&(i(n=e.getNode()),Wm(o,t,i,n)),c},Km=function(t,e){return e.line>t},Gm=function(t,e){return e.line===t},Xm=h(Ym,gf.Up,xu,Cu),Qm=h(Ym,gf.Down,Cu,xu),Jm=function(t,e,n,i){var o,r,s,a,l,u,c=Vd(e),d=[],h=0,f=function(t){return eo.last(t.getClientRects())};1===t?(o=c.next,r=Cu,s=xu,a=nc.after(i)):(o=c.prev,r=xu,s=Cu,a=nc.before(i)),u=f(a);do{if(a.isVisible()&&!s(l=f(a),u)){if(0<d.length&&r(l,eo.last(d))&&h++,(l=bu(l)).position=a,l.line=h,n(l))return d;d.push(l)}}while(a=o(a));return d},Zm=function(e){return function(t){return Km(e,t)}},tv=function(e){return function(t){return Gm(e,t)}},ev=le.isContentEditableFalse,nv=gd,iv=function(t,e){return Math.abs(t.left-e)},ov=function(t,e){return Math.abs(t.right-e)},rv=function(t,e){return t>=e.left&&t<=e.right},sv=function(t,o){return eo.reduce(t,function(t,e){var n,i;return n=Math.min(iv(t,o),ov(t,o)),i=Math.min(iv(e,o),ov(e,o)),rv(o,e)?e:rv(o,t)?t:i===n&&ev(e.node)?e:i<n?e:t})},av=function(t,e,n,i){for(;i=nv(i,t,mu,e);)if(n(i))return},lv=function(t,i){var o=[],e=function(e,t){var n;return n=St(qm([t]),function(t){return!e(t,i)}),o=o.concat(n),0===n.length};return o.push(i),av(gf.Up,t,h(e,xu),i.node),av(gf.Down,t,h(e,Cu),i.node),o},uv=function(t){return St(Bt(t.getElementsByTagName("*")),rd)},cv=function(t,e){return{node:t.node,before:iv(t,e)<ov(t,e)}},dv=function(t,e,n){var i,o=qm(uv(t)),r=St(o,function(t){return n>=t.top&&n<=t.bottom});return(i=sv(r,e))&&(i=sv(lv(t,i),e))&&rd(i.node)?cv(i,e):null},hv={isXYWithinRange:function(e,n,t){if(t.collapsed)return!1;if(Yi.browser.isIE()&&t.startOffset===t.endOffset-1&&t.startContainer===t.endContainer){var i=t.startContainer.childNodes[t.startOffset];if(le.isElement(i))return mt(i.getClientRects(),function(t){return ku(t,e,n)})}return mt(t.getClientRects(),function(t){return ku(t,e,n)})}},fv=function(t){var e,n,i,o;return o=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,i=e.defaultView,{top:o.top+i.pageYOffset-n.clientTop,left:o.left+i.pageXOffset-n.clientLeft}},pv=function(t){return t.inline?fv(t.getBody()):{left:0,top:0}},gv=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},mv=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},o={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:o},vv=function(t,e){if(e.target.ownerDocument===t.getDoc())return{left:e.pageX,top:e.pageY};var n=fv(t.getContentAreaContainer()),i=mv(t);return{left:e.pageX-n.left+i.left,top:e.pageY-n.top+i.top}},bv=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},yv={calc:function(t,e){return bv(pv(t),gv(t),vv(t,e))}},wv=le.isContentEditableFalse,_v=le.isContentEditableTrue,xv=function(t,e){return wv(e)&&e!==t},Cv=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!wv(e)},kv=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},Tv=function(t,e,n,i){var o=e.cloneNode(!0);t.dom.setStyles(o,{width:n,height:i}),t.dom.setAttrib(o,"data-mce-selected",null);var r=t.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(r,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),r.appendChild(o),r},Sv=function(t,e){t.parentNode!==e&&e.appendChild(t)},Ev=function(t,e,n,i,o,r){var s=0,a=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>o&&(s=e.pageX+n-o),e.pageY+i>r&&(a=e.pageY+i-r),t.style.width=n-s+"px",t.style.height=i-a+"px"},Nv=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},Dv=function(t){return 0===t.button},Av=function(t){return t.element},zv=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},Mv=function(r,s){return function(t){if(Dv(t)){var e=Dt(s.dom.getParents(t.target),Iu.or(wv,_v)).getOr(null);if(xv(s.getBody(),e)){var n=s.dom.getPos(e),i=s.getBody(),o=s.getDoc().documentElement;r.element=e,r.screenX=t.screenX,r.screenY=t.screenY,r.maxX=(s.inline?i.scrollWidth:o.offsetWidth)-2,r.maxY=(s.inline?i.scrollHeight:o.offsetHeight)-2,r.relX=t.pageX-n.x,r.relY=t.pageY-n.y,r.width=e.offsetWidth,r.height=e.offsetHeight,r.ghost=Tv(s,e,r.width,r.height)}}}},Iv=function(i,o){var r=Li.throttle(function(t,e){o._selectionOverrides.hideFakeCaret(),o.selection.placeCaretAt(t,e)},0);return function(t){var e=Math.max(Math.abs(t.screenX-i.screenX),Math.abs(t.screenY-i.screenY));if(Av(i)&&!i.dragging&&10<e){if(o.fire("dragstart",{target:i.element}).isDefaultPrevented())return;i.dragging=!0,o.focus()}if(i.dragging){var n=zv(i,yv.calc(o,t));Sv(i.ghost,o.getBody()),Ev(i.ghost,n,i.width,i.height,i.maxX,i.maxY),r(t.clientX,t.clientY)}}},Pv=function(t){var e=t.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e},Rv=function(i,o){return function(t){if(i.dragging&&Cv(o,Pv(o.selection),i.element)){var e=kv(i.element),n=o.fire("drop",{targetClone:e,clientX:t.clientX,clientY:t.clientY});n.isDefaultPrevented()||(e=n.targetClone,o.undoManager.transact(function(){Nv(i.element),o.insertContent(o.dom.getOuterHTML(e)),o._selectionOverrides.hideFakeCaret()}))}Ov(i)}},Hv=function(t,e){return function(){t.dragging&&e.fire("dragend"),Ov(t)}},Ov=function(t){t.dragging=!1,t.element=null,Nv(t.ghost)},Lv=function(t){var e,n,i,o,r,s,a={};e=Ha.DOM,s=wt.document,n=Mv(a,t),i=Iv(a,t),o=Rv(a,t),r=Hv(a,t),t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",o),e.bind(s,"mousemove",i),e.bind(s,"mouseup",r),t.on("remove",function(){e.unbind(s,"mousemove",i),e.unbind(s,"mouseup",r)})},Fv=function(n){n.on("drop",function(t){var e="undefined"!=typeof t.clientX?n.getDoc().elementFromPoint(t.clientX,t.clientY):null;(wv(e)||wv(n.dom.getContentEditableParent(e)))&&t.preventDefault()})},Bv={init:function(t){Lv(t),Fv(t)}},$v=le.isContentEditableTrue,jv=le.isContentEditableFalse,Vv=function(t,e,n,i,o){return e._selectionOverrides.showCaret(t,n,i,o)},Uv=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},qv=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:Uv(e)},Wv=function(t,e,n){var i=kd(1,t.getBody(),e),o=nc.fromRangeStart(i),r=o.getNode();if(jv(r))return Vv(1,t,r,!o.isAtEnd(),!1);var s=o.getNode(!0);if(jv(s))return Vv(1,t,s,!1,!1);var a=t.dom.getParent(o.getNode(),function(t){return jv(t)||$v(t)});return jv(a)?Vv(1,t,a,!1,n):null},Yv=function(t,e,n){if(!e||!e.collapsed)return e;var i=Wv(t,e,n);return i||e},Kv={setup:function(e){var t=Za(function(){if(!e.removed&&e.getBody().contains(wt.document.activeElement)&&e.selection.getRng().collapsed){var t=Yv(e,e.selection.getRng(),!1);e.selection.setRng(t)}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})}},Gv=le.isContentEditableTrue,Xv=le.isContentEditableFalse,Qv=function(t,e){for(var n=t.getBody();e&&e!==n;){if(Gv(e)||Xv(e))return e;e=e.parentNode}return null},Jv=function(g){var m,t=function(t){return g.dom.isBlock(t)},v=g.getBody(),a=id(g.getBody(),t,function(){return Mp.hasFocus(g)}),b="sel-"+g.dom.uniqueId(),i=function(t){return g.dom.hasClass(t,"mce-offscreen-selection")},l=function(){var t=g.dom.get(b);return t?t.getElementsByTagName("*")[0]:t},u=function(t){t&&g.selection.setRng(t)},c=function(){return g.selection.getRng()},y=function(t,e,n,i){return void 0===i&&(i=!0),g.fire("ShowCaret",{target:e,direction:t,before:n}).isDefaultPrevented()?null:(i&&g.selection.scrollIntoView(e,-1===t),a.show(n,e))},e=function(t){t.hasAttribute("data-mce-caret")&&(tu(t),u(c()),g.selection.scrollIntoView(t[0]))},n=function(){g.on("mouseup",function(t){var e=c();e.collapsed&&Rg.isXYInContentArea(g,t.clientX,t.clientY)&&u(Wv(g,e,!1))}),g.on("click",function(t){var e;(e=Qv(g,t.target))&&(Xv(e)&&(t.preventDefault(),g.focus()),Gv(e)&&g.dom.isChildOf(e,g.selection.getNode())&&f())}),g.on("blur NewBlock",function(){f()}),g.on("ResizeWindow FullscreenStateChanged",function(){return a.reposition()});var o=function(t){var e=Vd(t);if(!t.firstChild)return!1;var n=nc.before(t.firstChild),i=e.next(n);return i&&!jm(i)&&!Vm(i)},r=function(t,e){return g.dom.getParent(t,g.dom.isBlock)===g.dom.getParent(e,g.dom.isBlock)},s=function(t,e){var n=g.dom.getParent(t,g.dom.isBlock),i=g.dom.getParent(e,g.dom.isBlock);return!(!n||!g.dom.isChildOf(n,i)||!1!==Xv(Qv(g,n)))||n&&!r(n,i)&&o(n)};(function(n){var i=!1;n.on("touchstart",function(){i=!1}),n.on("touchmove",function(){i=!0}),n.on("touchend",function(t){if(!i){var e=Qv(n,t.target);Xv(e)&&(t.preventDefault(),h(qv(n,e)))}},!0)})(g),g.on("mousedown",function(t){var e,n=t.target;if((n===v||"HTML"===n.nodeName||g.dom.isChildOf(n,v))&&!1!==Rg.isXYInContentArea(g,t.clientX,t.clientY))if(e=Qv(g,n))Xv(e)?(t.preventDefault(),h(qv(g,e))):(f(),Gv(e)&&t.shiftKey||hv.isXYWithinRange(t.clientX,t.clientY,g.selection.getRng())||(_(),g.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===rd(n)){f(),_();var i=dv(v,t.clientX,t.clientY);if(i&&!s(t.target,i.node)){t.preventDefault();var o=y(1,i.node,i.before,!1);g.getBody().focus(),u(o)}}}),g.on("keypress",function(t){Em.modifierPressed(t)||(t.keyCode,Xv(g.selection.getNode())&&t.preventDefault())}),g.on("GetSelectionRange",function(t){var e=t.range;if(m){if(!m.parentNode)return void(m=null);(e=e.cloneRange()).selectNode(m),t.range=e}}),g.on("SetSelectionRange",function(t){t.range=d(t.range);var e=h(t.range,t.forward);e&&(t.range=e)});var n=function(t){return"mcepastebin"===t.id};g.on("AfterSetSelectionRange",function(t){var e=t.range;w(e)||n(e.startContainer.parentNode)||_(),i(e.startContainer.parentNode)||f()}),g.on("copy",function(t){var e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!Yi.ie){var n=l();n&&(t.preventDefault(),e.clearData(),e.setData("text/html",n.outerHTML),e.setData("text/plain",n.outerText))}}),Bv.init(g),Kv.setup(g)},o=function(t){return Ul(t)||Ql(t)||Jl(t)},w=function(t){return o(t.startContainer)||o(t.endContainer)},d=function(t){var e=g.schema.getShortEndedElements(),n=g.dom.createRng(),i=t.startContainer,o=t.startOffset,r=t.endContainer,s=t.endOffset;return _n(e,i.nodeName.toLowerCase())?0===o?n.setStartBefore(i):n.setStartAfter(i):n.setStart(i,o),_n(e,r.nodeName.toLowerCase())?0===s?n.setEndBefore(r):n.setEndAfter(r):n.setEnd(r,s),n},h=function(t,e){var n,i,o,r,s,a,l,u,c,d,h=g.$,f=g.dom;if(!t)return null;if(t.collapsed){if(!w(t))if(!1===e){if(u=Sd(-1,v,t),rd(u.getNode(!0)))return y(-1,u.getNode(!0),!1,!1);if(rd(u.getNode()))return y(-1,u.getNode(),!u.isAtEnd(),!1)}else{if(u=Sd(1,v,t),rd(u.getNode()))return y(1,u.getNode(),!u.isAtEnd(),!1);if(rd(u.getNode(!0)))return y(1,u.getNode(!0),!1,!1)}return null}if(r=t.startContainer,s=t.startOffset,a=t.endOffset,3===r.nodeType&&0===s&&Xv(r.parentNode)&&(r=r.parentNode,s=f.nodeIndex(r),r=r.parentNode),1!==r.nodeType)return null;if(a===s+1&&r===t.endContainer&&(n=r.childNodes[s]),!Xv(n))return null;if(c=d=n.cloneNode(!0),(l=g.fire("ObjectSelected",{target:n,targetClone:c})).isDefaultPrevented())return null;i=vl(rn.fromDom(g.getBody()),"#"+b).fold(function(){return h([])},function(t){return h([t.dom()])}),c=l.targetClone,0===i.length&&(i=h('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",b)).appendTo(g.getBody()),t=g.dom.createRng(),c===d&&Yi.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(c),t.setStartAfter(i[0].firstChild.firstChild),t.setEndAfter(c)):(i.empty().append("\xa0").append(c).append("\xa0"),t.setStart(i[0].firstChild,1),t.setEnd(i[0].lastChild,0)),i.css({top:f.getPos(n,g.getBody()).y}),i[0].focus(),(o=g.selection.getSel()).removeAllRanges(),o.addRange(t);var p=rn.fromDom(n);return bt(fl(rn.fromDom(g.getBody()),"*[data-mce-selected]"),function(t){Un(p,t)||Dn(t,"data-mce-selected")}),g.dom.getAttrib(n,"data-mce-selected")||n.setAttribute("data-mce-selected","1"),m=n,_(),t},f=function(){m&&(m.removeAttribute("data-mce-selected"),vl(rn.fromDom(g.getBody()),"#"+b).each(fa),m=null),vl(rn.fromDom(g.getBody()),"#"+b).each(fa),m=null},r=function(){a.destroy(),m=null},_=function(){a.hide()};return Yi.ceFalse&&n(),{showCaret:y,showBlockCaretContainer:e,hideFakeCaret:_,destroy:r}},Zv=0,tb=1,eb=2,nb={KEEP:Zv,DELETE:eb,INSERT:tb,diff:function(p,g){var t=p.length+g.length+2,m=new Array(t),v=new Array(t),r=function(t,e,n){return{start:t,end:e,diag:n}},u=function(t,e,n,i,o){var r=c(t,e,n,i);if(null===r||r.start===e&&r.diag===e-i||r.end===t&&r.diag===t-n)for(var s=t,a=n;s<e||a<i;)s<e&&a<i&&p[s]===g[a]?(o.push([Zv,p[s]]),++s,++a):i-n<e-t?(o.push([eb,p[s]]),++s):(o.push([tb,g[a]]),++a);else{u(t,r.start,n,r.start-r.diag,o);for(var l=r.start;l<r.end;++l)o.push([Zv,p[l]]);u(r.end,e,r.end-r.diag,i,o)}},b=function(t,e,n,i){for(var o=t;o-e<i&&o<n&&p[o]===g[o-e];)++o;return r(t,o,e)},c=function(t,e,n,i){var o=e-t,r=i-n;if(0===o||0===r)return null;var s,a,l,u,c,d=o-r,h=r+o,f=(h%2==0?h:h+1)/2;for(m[1+f]=t,v[1+f]=e+1,s=0;s<=f;++s){for(a=-s;a<=s;a+=2){for(l=a+f,a===-s||a!==s&&m[l-1]<m[l+1]?m[l]=m[l+1]:m[l]=m[l-1]+1,c=(u=m[l])-t+n-a;u<e&&c<i&&p[u]===g[c];)m[l]=++u,++c;if(d%2!=0&&d-s<=a&&a<=d+s&&v[l-d]<=m[l])return b(v[l-d],a+t-n,e,i)}for(a=d-s;a<=d+s;a+=2){for(l=a+f-d,a===d-s||a!==d+s&&v[l+1]<=v[l-1]?v[l]=v[l+1]-1:v[l]=v[l-1],c=(u=v[l]-1)-t+n-a;t<=u&&n<=c&&p[u]===g[c];)v[l]=u--,c--;if(d%2==0&&-s<=a&&a<=s&&v[l]<=m[l+d])return b(v[l],a+t-n,e,i)}}},e=[];return u(0,p.length,0,g.length,e),e}},ib=function(t){return le.isElement(t)?t.outerHTML:le.isText(t)?br.encodeRaw(t.data,!1):le.isComment(t)?"<!--"+t.data+"-->":""},ob=function(t){var e,n,i;for(i=wt.document.createElement("div"),e=wt.document.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},rb=function(t,e,n){var i=ob(e);if(t.hasChildNodes()&&n<t.childNodes.length){var o=t.childNodes[n];o.parentNode.insertBefore(i,o)}else t.appendChild(i)},sb=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},ab=function(t,e){var n=0;bt(t,function(t){t[0]===nb.KEEP?n++:t[0]===nb.INSERT?(rb(e,t[1],n),n++):t[0]===nb.DELETE&&sb(e,n)})},lb={read:function(t){return St(vt(Bt(t.childNodes),ib),function(t){return 0<t.length})},write:function(t,e){var n=vt(Bt(e.childNodes),ib);return ab(nb.diff(n,t),e),e}},ub=ue(et.none()),cb=function(){return ub.get().getOrThunk(function(){var t=wt.document.implementation.createHTMLDocument("undo");return ub.set(et.some(t)),t})},db=function(t){return-1!==t.indexOf("</iframe>")},hb=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},fb=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},pb=function(n){var t,e,i;return t=lb.read(n.getBody()),e=(i=Mt(t,function(t){var e=wf.trimInternal(n.serializer,t);return 0<e.length?[e]:[]})).join(""),db(e)?hb(i):fb(e)},gb=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},mb=function(t){var e=rn.fromTag("body",cb());return Ol(e,gb(t)),bt(fl(e,"*[data-mce-bogus]"),pa),Hl(e)},vb=function(t,e){return gb(t)===gb(e)},bb=function(t,e){return mb(t)===mb(e)},yb={createFragmentedLevel:hb,createCompleteLevel:fb,createFromEditor:pb,applyToEditor:function(t,e,n){"fragmented"===e.type?lb.write(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},isEq:function(t,e){return!(!t||!e)&&(!!vb(t,e)||bb(t,e))}},wb=function(t){return 0===t.get()},_b=function(t,e,n){wb(n)&&(t.typing=e)},xb=function(t,e){t.typing&&(_b(t,!1,e),t.add())},Cb=function(t){t.typing&&(t.typing=!1,t.add())},kb=function(t,e,n){wb(e)&&n.set(et.some(Rc.getUndoBookmark(t.selection)))},Tb=function(t,e,n,i,o,r,s){var a=t.settings,l=yb.createFromEditor(t);if(r=r||{},r=go.extend(r,l),!1===wb(i)||t.removed)return null;var u=e.data[n.get()];if(t.fire("BeforeAddUndo",{level:r,lastLevel:u,originalEvent:s}).isDefaultPrevented())return null;if(u&&yb.isEq(u,r))return null;if(e.data[n.get()]&&o.get().each(function(t){e.data[n.get()].beforeBookmark=t}),a.custom_undo_redo_levels&&e.data.length>a.custom_undo_redo_levels){for(var c=0;c<e.data.length-1;c++)e.data[c]=e.data[c+1];e.data.length--,n.set(e.data.length)}r.bookmark=Rc.getUndoBookmark(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(r),n.set(e.data.length-1);var d={level:r,lastLevel:u,originalEvent:s};return t.fire("AddUndo",d),0<n.get()&&(t.setDirty(!0),t.fire("change",d)),r},Sb=function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.fire("ClearUndos")},Eb=function(t,e,n,i,o){if(e.transact(i)){var r=e.data[n.get()].bookmark,s=e.data[n.get()-1];yb.applyToEditor(t,s,!0),e.transact(o)&&(e.data[n.get()-1].beforeBookmark=r)}},Nb=function(t,e,n){var i;return e.get()<n.length-1&&(e.set(e.get()+1),i=n[e.get()],yb.applyToEditor(t,i,!1),t.setDirty(!0),t.fire("Redo",{level:i})),i},Db=function(t,e,n,i){var o;return e.typing&&(e.add(),e.typing=!1,_b(e,!1,n)),0<i.get()&&(i.set(i.get()-1),o=e.data[i.get()],yb.applyToEditor(t,o,!0),t.setDirty(!0),t.fire("Undo",{level:o})),o},Ab=function(t){t.clear(),t.add()},zb=function(t,e,n){return 0<n.get()||e.typing&&e.data[0]&&!yb.isEq(yb.createFromEditor(t),e.data[0])},Mb=function(t,e){return e.get()<t.data.length-1&&!t.typing},Ib=function(t,e,n){return xb(t,e),t.beforeChange(),t.ignore(n),t.add()},Pb=function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}},Rb=function(n,i,o){var r=ue(!1),s=function(t){_b(i,!1,o),i.add({},t)};n.on("init",function(){i.add()}),n.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(xb(i,o),i.beforeChange())}),n.on("ExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&s(t)}),n.on("ObjectResizeStart cut",function(){i.beforeChange()}),n.on("SaveContent ObjectResized blur",s),n.on("dragend",s),n.on("keyup",function(t){var e=t.keyCode;t.isDefaultPrevented()||((33<=e&&e<=36||37<=e&&e<=40||45===e||t.ctrlKey)&&(s(),n.nodeChanged()),46!==e&&8!==e||n.nodeChanged(),r.get()&&i.typing&&!1===yb.isEq(yb.createFromEditor(n),i.data[0])&&(!1===n.isDirty()&&(n.setDirty(!0),n.fire("change",{level:i.data[0],lastLevel:null})),n.fire("TypingUndo"),r.set(!1),n.nodeChanged()))}),n.on("keydown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented())if(33<=e&&e<=36||37<=e&&e<=40||45===e)i.typing&&s(t);else{var n=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||20<e)||224===e||91===e||i.typing||n||(i.beforeChange(),_b(i,!0,o),i.add({},t),r.set(!0))}}),n.on("mousedown",function(t){i.typing&&s(t)});var e=function(t){return"insertReplacementText"===t.inputType},a=function(t){return"insertText"===t.inputType&&null===t.data};n.on("input",function(t){t.inputType&&(e(t)||a(t))&&s(t)}),n.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||n.nodeChanged()})},Hb=function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},Ob=function(n){var i=ue(et.none()),o=ue(0),r=ue(0),s={data:[],typing:!1,beforeChange:function(){kb(n,o,i)},add:function(t,e){return Tb(n,s,r,o,i,t,e)},undo:function(){return Db(n,s,o,r)},redo:function(){return Nb(n,r,s.data)},clear:function(){Sb(n,s,r)},reset:function(){Ab(s)},hasUndo:function(){return zb(n,s,r)},hasRedo:function(){return Mb(s,r)},transact:function(t){return Ib(s,o,t)},ignore:function(t){Pb(o,t)},extra:function(t,e){Eb(n,s,r,t,e)}};return Rb(n,s,o),Hb(n),s},Lb=function(t){for(var e=[],n=t.dom();n;)e.push(rn.fromDom(n)),n=n.lastChild;return e},Fb=function(t){return fn(t)?"\xa0"===Gh(t):Do(t)},Bb={removeTrailingBr:function(t){var e=fl(t,"br"),n=St(Lb(t).slice(-1),Do);e.length===n.length&&bt(n,fa)},fillWithPaddingBr:function(t){ha(t),la(t,rn.fromHtml('<br data-mce-bogus="1">'))},isPaddedElement:function(t){return 1===St(ii(t),Fb).length},trimBlockTrailingBr:function(n){si(n).each(function(e){Zn(e).each(function(t){So(n)&&Do(e)&&So(t)&&fa(e)})})}},$b=Dh.isEq,jb=function(t,e,n){var i=t.formatter.get(n);if(i)for(var o=0;o<i.length;o++)if(!1===i[o].inherit&&t.dom.is(e,i[o].selector))return!0;return!1},Vb=function(e,t,n,i){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!jb(e,t,n)||(t.parentNode===o||!!Wb(e,t,n,i,!0))}),Wb(e,t,n,i))},Ub=function(t,e,n){return!!$b(e,n.inline)||(!!$b(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0))},qb=function(t,e,n,i,o,r){var s,a,l,u=n[i];if(n.onmatch)return n.onmatch(e,n,i);if(u)if("undefined"==typeof u.length){for(s in u)if(u.hasOwnProperty(s)){if(a="attributes"===i?t.getAttrib(e,s):Dh.getStyle(t,e,s),o&&!a&&!n.exact)return;if((!o||n.exact)&&!$b(a,Dh.normalizeStyleValue(t,Dh.replaceVars(u[s],r),s)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?t.getAttrib(e,u[l]):Dh.getStyle(t,e,u[l]))return n;return n},Wb=function(t,e,n,i,o){var r,s,a,l,u=t.formatter.get(n),c=t.dom;if(u&&e)for(s=0;s<u.length;s++)if(r=u[s],Ub(t.dom,e,r)&&qb(c,e,r,"attributes",o,i)&&qb(c,e,r,"styles",o,i)){if(l=r.classes)for(a=0;a<l.length;a++)if(!t.dom.hasClass(e,l[a]))return;return r}},Yb=function(i,o,r){var t,s=[],a={};return t=i.selection.getStart(),i.dom.getParent(t,function(t){var e,n;for(e=0;e<o.length;e++)n=o[e],!a[n]&&Wb(i,t,n,r)&&(a[n]=!0,s.push(n))},i.dom.getRoot()),s},Kb={matchNode:Wb,matchName:Ub,match:function(t,e,n,i){var o;return i?Vb(t,i,e,n):(i=t.selection.getNode(),!!Vb(t,i,e,n)||!((o=t.selection.getStart())===i||!Vb(t,o,e,n)))},matchAll:Yb,canApply:function(t,e){var n,i,o,r,s,a=t.formatter.get(e),l=t.dom;if(a)for(n=t.selection.getStart(),i=Dh.getParents(l,n),r=a.length-1;0<=r;r--){if(!(s=a[r].selector)||a[r].defaultBlock)return!0;for(o=i.length-1;0<=o;o--)if(l.is(i[o],s))return!0}return!1},matchesUnInheritedFormatSelector:jb},Gb=function(t,e){return t.splitText(e)},Xb=function(t){var e=t.startContainer,n=t.startOffset,i=t.endContainer,o=t.endOffset;return e===i&&le.isText(e)?0<n&&n<e.nodeValue.length&&(e=(i=Gb(e,n)).previousSibling,n<o?(e=i=Gb(i,o-=n).previousSibling,o=i.nodeValue.length,n=0):o=0):(le.isText(e)&&0<n&&n<e.nodeValue.length&&(e=Gb(e,n),n=0),le.isText(i)&&0<o&&o<i.nodeValue.length&&(o=(i=Gb(i,o).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:i,endOffset:o}},Qb=function(t){return-1!==" \f\n\r\t\x0B".indexOf(t)},Jb=function(n,i,o){return Nt(n,function(t,e){return Qb(e)||"\xa0"===e?t.previousCharIsSpace||""===t.str&&i||t.str.length===n.length-1&&o?{previousCharIsSpace:!1,str:t.str+"\xa0"}:{previousCharIsSpace:!0,str:t.str+" "}:{previousCharIsSpace:!1,str:t.str+e}},{previousCharIsSpace:!1,str:""}).str},Zb=function(t,e,n){if(0!==n){var i=t.data.slice(e,e+n),o=e+n>=t.data.length,r=0===e;t.replaceData(e,n,Jb(i,r,o))}},ty=function(t,e){var n=t.data.slice(e),i=n.length-Ue(n).length;return Zb(t,e,i)},ey=function(t,e){var n=t.data.slice(0,e),i=n.length-qe(n).length;return Zb(t,e-i,i)},ny=function(t,e,n){var i=qe(t.data).length;return t.appendData(e.data),fa(rn.fromDom(e)),n&&ty(t,i),t},iy=function(t,e,n){return ml(t,e,n).isSome()},oy=function(t,e){var n=rn.fromDom(t),i=rn.fromDom(e);return iy(i,"pre,code",h(Un,n))},ry=function(t,e){return le.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===oy(t,e)},sy=function(t){return le.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")},ay=function(t,e){return cu(e)&&!1===ry(t,e)||sy(e)||ly(e)},ly=le.hasAttribute("data-mce-bookmark"),uy=le.hasAttribute("data-mce-bogus"),cy=le.hasAttributeValue("data-mce-bogus","all"),dy=function(t){var e,n=0;if(ay(t,t))return!1;if(!(e=t.firstChild))return!0;var i=new oa(e,t);do{if(cy(e))e=i.next(!0);else if(uy(e))e=i.next();else if(le.isBr(e))n++,e=i.next();else{if(ay(t,e))return!1;e=i.next()}}while(e);return n<=1},hy={isEmpty:function(t){return dy(t.dom())}},fy=function(t,e){var n=t.container(),i=t.offset();return!1===nc.isTextPosition(t)&&n===e.parentNode&&i>nc.before(e).offset()},py=function(t,e){return fy(e,t)?nc(e.container(),e.offset()-1):e},gy=function(t){return le.isText(t)?nc(t,0):nc.before(t)},my=function(t){return le.isText(t)?nc(t,t.data.length):nc.after(t)},vy=function(t){return cu(t.previousSibling)?et.some(my(t.previousSibling)):t.previousSibling?ih.lastPositionIn(t.previousSibling):et.none()},by=function(t){return cu(t.nextSibling)?et.some(gy(t.nextSibling)):t.nextSibling?ih.firstPositionIn(t.nextSibling):et.none()},yy=function(t,e){var n=nc.before(e.previousSibling?e.previousSibling:e.parentNode);return ih.prevPosition(t,n).fold(function(){return ih.nextPosition(t,nc.after(e))},et.some)},wy=function(t,e){return ih.nextPosition(t,nc.after(e)).fold(function(){return ih.prevPosition(t,nc.before(e))},et.some)},_y=function(t,e){return vy(e).orThunk(function(){return by(e)}).orThunk(function(){return yy(t,e)})},xy=function(t,e){return by(e).orThunk(function(){return vy(e)}).orThunk(function(){return wy(t,e)})},Cy=function(t,e,n){return t?xy(e,n):_y(e,n)},ky=function(t,e,n){return Cy(t,e,n).map(h(py,n))},Ty=function(e,n,t){t.fold(function(){e.focus()},function(t){e.selection.setRng(t.toRange(),n)})},Sy=function(e){return function(t){return t.dom()===e}},Ey=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(un(e))},Ny=function(t){if(hy.isEmpty(t)){var e=rn.fromHtml('<br data-mce-bogus="1">');return ha(t),la(t,e),et.some(nc.before(e.dom()))}return et.none()},Dy=function(t,e,s){var n=Zn(t).filter(fn),i=ti(t).filter(fn);return fa(t),Au(n,i,e,function(t,e,n){var i=t.dom(),o=e.dom(),r=i.data.length;return ny(i,o,s),n.container()===o?nc(i,r):n}).orThunk(function(){return s&&(n.each(function(t){return ey(t.dom(),t.dom().length)}),i.each(function(t){return ty(t.dom(),0)})),e})},Ay=function(t,e){return _n(t.schema.getTextInlineElements(),un(e))},zy={deleteElement:function(e,n,t,i){void 0===i&&(i=!0);var o=ky(n,e.getBody(),t.dom()),r=pl(t,h(Ey,e),Sy(e.getBody())),s=Dy(t,o,Ay(e,t));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):r.bind(Ny).fold(function(){i&&Ty(e,n,s)},function(t){i&&Ty(e,n,et.some(t))})}},My=Fl.ZWSP,Iy="_mce_caret",Py=function(t,e){return t.importNode(e,!0)},Ry=function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==My||1<t.childNodes.length)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e},Hy=function(t){return 0<Ry(t).length},Oy=function(t){if(t){var e=new oa(t,t);for(t=e.current();t;t=e.next())if(3===t.nodeType)return t}return null},Ly=function(t){var e=rn.fromTag("span");return Sn(e,{id:Iy,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&la(e,rn.fromText(My)),e},Fy=function(t){var e=Oy(t);return e&&e.nodeValue.charAt(0)===My&&e.deleteData(0,1),e},By=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,o=t.selection;if(Hy(e))zy.deleteElement(t,!1,rn.fromDom(e),n);else{var r=o.getRng(),s=i.getParent(e,i.isBlock),a=Fy(e);r.startContainer===a&&0<r.startOffset&&r.setStart(a,r.startOffset-1),r.endContainer===a&&0<r.endOffset&&r.setEnd(a,r.endOffset-1),i.remove(e,!0),s&&i.isEmpty(s
)&&Bb.fillWithPaddingBr(rn.fromDom(s)),o.setRng(r)}},$y=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,o=t.selection;if(e)By(t,e,n);else if(!(e=Lc(t.getBody(),o.getStart())))for(;e=i.get(Iy);)By(t,e,!1)},jy=function(t,e,n){var i=t.dom,o=i.getParent(n,h(Dh.isTextBlock,t));o&&i.isEmpty(o)?n.parentNode.replaceChild(e,n):(Bb.removeTrailingBr(rn.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(e,n):i.insertAfter(e,n))},Vy=function(t,e){return t.appendChild(e),e},Uy=function(t,e){var n=Et(t,function(t,e){return Vy(t,e.cloneNode(!1))},e);return Vy(n,n.ownerDocument.createTextNode(My))},qy=function(t,e,n){var i,o,r,s,a,l,u=t.selection;s=(i=u.getRng()).startOffset,l=i.startContainer.nodeValue,(o=Lc(t.getBody(),u.getStart()))&&(r=Oy(o));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&0<s&&s<l.length&&c.test(l.charAt(s))&&c.test(l.charAt(s-1))?(a=u.getBookmark(),i.collapse(!0),i=Vh.expandRng(t,i,t.formatter.get(e)),i=Xb(i),t.formatter.apply(e,n,i),u.moveToBookmark(a)):(o&&r.nodeValue===My||(r=(o=Py(t.getDoc(),Ly(!0).dom())).firstChild,i.insertNode(o),s=1),t.formatter.apply(e,n,o),u.setCursorLocation(r,s))},Wy=function(t,e,n,i){var o,r,s,a,l,u,c,d=t.dom,h=t.selection,f=[],p=h.getRng();for(o=p.startContainer,r=p.startOffset,3===(l=o).nodeType&&(r!==o.nodeValue.length&&(a=!0),l=l.parentNode);l;){if(Kb.matchNode(t,l,e,n,i)){u=l;break}l.nextSibling&&(a=!0),f.push(l),l=l.parentNode}if(u)if(a){s=h.getBookmark(),p.collapse(!0);var g=Vh.expandRng(t,p,t.formatter.get(e),!0);g=Xb(g),t.formatter.remove(e,n,g),h.moveToBookmark(s)}else{c=Lc(t.getBody(),u);var m=Ly(!1).dom(),v=Uy(f,m);jy(t,m,c||u),By(t,c,!1),h.setCursorLocation(v,1),d.isEmpty(u)&&d.remove(u)}},Yy=function(t,e){var n=t.selection,i=t.getBody();$y(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==My||$y(t,Lc(i,n.getStart())),37!==e&&39!==e||$y(t,Lc(i,n.getStart()))},Ky=function(e){e.on("mouseup keydown",function(t){Yy(e,t.keyCode)})},Gy=function(t,e){var n=Ly(!1),i=Uy(e,n.dom());return ra(rn.fromDom(t),n),fa(rn.fromDom(t)),nc(i,0)},Xy=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(un(e))&&!Oc(e.dom())&&!le.isBogus(e.dom())},Qy=function(t){return Oc(t.dom())&&Hy(t.dom())},Jy={},Zy=eo.filter,tw=eo.each,ew=function(t,e){tw(Jy[t],function(t){t(e)})};(function(t,e){var n=Jy[t];n||(Jy[t]=n=[]),Jy[t].push(e)})("pre",function(t){var e,n,i=t.selection.getRng(),o=function(t){return e(t.previousSibling)&&-1!==eo.indexOf(n,t.previousSibling)},r=function(t,e){ia(e).remove(),ia(t).append("<br><br>").append(e.childNodes)};e=le.matchNodeNames(["pre"]),i.collapsed||(n=t.selection.getSelectedBlocks(),tw(Zy(Zy(n,e),o),function(t){r(t.previousSibling,t)}))});var nw={postProcess:ew},iw=go.each,ow=function(o){this.compare=function(t,e){if(t.nodeName!==e.nodeName)return!1;var n=function(n){var i={};return iw(o.getAttribs(n),function(t){var e=t.nodeName.toLowerCase();0!==e.indexOf("_")&&"style"!==e&&0!==e.indexOf("data-")&&(i[e]=o.getAttrib(n,e))}),i},i=function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!==n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0};return!!i(n(t),n(e))&&(!!i(o.parseStyle(o.getAttrib(t,"style")),o.parseStyle(o.getAttrib(e,"style")))&&(!xh.isBookmarkNode(t)&&!xh.isBookmarkNode(e)))}},rw=/^(src|href|style)$/,sw=go.each,aw=Dh.isEq,lw=function(t){return/^(TH|TD)$/.test(t.nodeName)},uw=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},cw=function(t,e,n){var i,o,r;return i=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],le.isElement(i)&&(r=i.childNodes.length-1,!n&&o&&o--,i=i.childNodes[r<o?r:o]),le.isText(i)&&n&&o>=i.nodeValue.length&&(i=new oa(i,t.getBody()).next()||i),le.isText(i)&&!n&&0===o&&(i=new oa(i,t.getBody()).prev()||i),i},dw=function(t,e,n,i){var o=t.create(n,i);return e.parentNode.insertBefore(o,e),o.appendChild(e),o},hw=function(t,e,n,i,o){var r=rn.fromDom(e),s=rn.fromDom(t.create(i,o)),a=n?ni(r):ei(r);return da(s,a),n?(ra(r,s),aa(s,r)):(sa(r,s),la(s,r)),s.dom()},fw=function(t,e,n){return!!aw(e,n.inline)||(!!aw(e,n.block)||(n.selector?le.isElement(e)&&t.is(e,n.selector):void 0))},pw=function(t,e){return e.links&&"A"===t.tagName},gw=function(t,e,n,i){return!(e=Dh.getNonWhiteSpaceSibling(e,n,i))||"BR"===e.nodeName||t.isBlock(e)},mw=function(e,t,n){var i,o=t.parentNode,r=e.dom,s=xf.getForcedRootBlock(e);n.block&&(s?o===r.getRoot()&&(n.list_block&&aw(t,n.list_block)||sw(go.grep(t.childNodes),function(t){Dh.isValid(e,s,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=dw(r,t,s),r.setAttribs(i,e.settings.forced_root_block_attrs)):i=0})):r.isBlock(t)&&!r.isBlock(o)&&(gw(r,t,!1)||gw(r,t.firstChild,!0,1)||t.insertBefore(r.create("br"),t.firstChild),gw(r,t,!0)||gw(r,t.lastChild,!1,1)||t.appendChild(r.create("br")))),n.selector&&n.inline&&!aw(n.inline,t)||r.remove(t,1)},vw=function(t,i,o,r,s){var e,n,a,l=t.dom;if(!fw(l,r,i)&&!pw(r,i))return!1;if("all"!==i.remove)for(sw(i.styles,function(t,e){t=Dh.normalizeStyleValue(l,Dh.replaceVars(t,o),e),"number"==typeof e&&(e=t,s=0),(i.remove_similar||!s||aw(Dh.getStyle(l,s,e),t))&&l.setStyle(r,e,""),a=1}),a&&""===l.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),sw(i.attributes,function(t,e){var n;if(t=Dh.replaceVars(t,o),"number"==typeof e&&(e=t,s=0),i.remove_similar||!s||aw(l.getAttrib(s,e),t)){if("class"===e&&(t=l.getAttrib(r,e))&&(n="",sw(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(n+=(n?" ":"")+t)}),n))return void l.setAttrib(r,e,n);"class"===e&&r.removeAttribute("className"),rw.test(e)&&r.removeAttribute("data-mce-"+e),r.removeAttribute(e)}}),sw(i.classes,function(t){t=Dh.replaceVars(t,o),s&&!l.hasClass(s,t)||l.removeClass(r,t)}),n=l.getAttribs(r),e=0;e<n.length;e++){var u=n[e].nodeName;if(0!==u.indexOf("_")&&0!==u.indexOf("data-"))return!1}return"none"!==i.remove?(mw(t,r,i),!0):void 0},bw=function(n,t,i,o,r){var s;return sw(Dh.getParents(n.dom,t.parentNode).reverse(),function(t){var e;s||"_start"===t.id||"_end"===t.id||(e=Kb.matchNode(n,t,i,o,r))&&!1!==e.split&&(s=t)}),s},yw=function(t,e,n,i,o,r,s,a){var l,u,c,d,h,f,p=t.dom;if(n){for(f=n.parentNode,l=i.parentNode;l&&l!==f;l=l.parentNode){for(u=p.clone(l,!1),h=0;h<e.length;h++)if(vw(t,e[h],a,u,u)){u=0;break}u&&(c&&u.appendChild(c),d||(d=u),c=u)}!r||s.mixed&&p.isBlock(n)||(i=p.split(n,i)),c&&(o.parentNode.insertBefore(c,o),d.appendChild(o))}return i},ww=function(s,n,a,t,i){var e,o,l=s.formatter.get(n),u=l[0],c=!0,d=s.dom,r=s.selection,h=function(t){var e=bw(s,t,n,a,i);return yw(s,l,e,t,t,!0,u,a)},f=function(t){return xh.isBookmarkNode(t)&&le.isElement(t)&&("_start"===t.id||"_end"===t.id)},p=function(t){var e,n,i,o,r;if(le.isElement(t)&&d.getContentEditable(t)&&(o=c,c="true"===d.getContentEditable(t),r=!0),e=go.grep(t.childNodes),c&&!r)for(n=0,i=l.length;n<i&&!vw(s,l[n],a,t,t);n++);if(u.deep&&e.length){for(n=0,i=e.length;n<i;n++)p(e[n]);r&&(c=o)}},g=function(t){var e=d.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return f(n)&&(n=n[t?"firstChild":"lastChild"]),le.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),d.remove(e,!0),n},m=function(t){var e,n,i=t.commonAncestorContainer;if(t=Vh.expandRng(s,t,l,!0),u.split){if(t=Xb(t),(e=cw(s,t,!0))!==(n=cw(s,t))){if(/^(TR|TH|TD)$/.test(e.nodeName)&&e.firstChild&&(e="TR"===e.nodeName?e.firstChild.firstChild||e:e.firstChild||e),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&lw(n)&&n.firstChild&&(n=n.firstChild||n),uw(d,e,n)){var o=et.from(e.firstChild).getOr(e);return h(hw(d,o,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void g(!0)}if(uw(d,n,e)){o=et.from(n.lastChild).getOr(n);return h(hw(d,o,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void g(!1)}e=dw(d,e,"span",{id:"_start","data-mce-type":"bookmark"}),n=dw(d,n,"span",{id:"_end","data-mce-type":"bookmark"}),h(e),h(n),e=g(!0),n=g()}else e=n=h(e);t.startContainer=e.parentNode?e.parentNode:e,t.startOffset=d.nodeIndex(e),t.endContainer=n.parentNode?n.parentNode:n,t.endOffset=d.nodeIndex(n)+1}Wh.walk(d,t,function(t){sw(t,function(t){p(t),le.isElement(t)&&"underline"===s.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===Dh.getTextDecoration(d,t.parentNode)&&vw(s,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(t)t.nodeType?((o=d.createRng()).setStartBefore(t),o.setEndAfter(t),m(o)):m(t);else if("false"!==d.getContentEditable(r.getNode()))r.isCollapsed()&&u.inline&&!d.select("td[data-mce-selected],th[data-mce-selected]").length?Wy(s,n,a,i):(e=Rc.getPersistentBookmark(s.selection,!0),m(r.getRng()),r.moveToBookmark(e),u.inline&&Kb.match(s,n,a,r.getStart())&&Dh.moveStart(d,r,r.getRng()),s.nodeChanged());else{t=r.getNode();for(var v=0,b=l.length;v<b&&(!l[v].ceFalseOverride||!vw(s,l[v],a,t,t));v++);}},_w={removeFormat:vw,remove:ww},xw=go.each,Cw=function(t){return t&&1===t.nodeType&&!xh.isBookmarkNode(t)&&!Oc(t)&&!le.isBogus(t)},kw=function(t,e){var n;for(n=t;n;n=n[e]){if(3===n.nodeType&&0!==n.nodeValue.length)return t;if(1===n.nodeType&&!xh.isBookmarkNode(n))return n}return t},Tw=function(t,e,n){var i,o,r=new ow(t);if(e&&n&&(e=kw(e,"previousSibling"),n=kw(n,"nextSibling"),r.compare(e,n))){for(i=e.nextSibling;i&&i!==n;)i=(o=i).nextSibling,e.appendChild(o);return t.remove(n),go.each(go.grep(n.childNodes),function(t){e.appendChild(t)}),e}return n},Sw=function(t,e,n){xw(t.childNodes,function(t){Cw(t)&&(e(t)&&n(t),t.hasChildNodes()&&Sw(t,e,n))})},Ew=function(n,t){return h(function(t,e){return!(!e||!Dh.getStyle(n,e,t))},t)},Nw=function(i,t,e){return h(function(t,e,n){i.setStyle(n,t,e),""===n.getAttribute("style")&&n.removeAttribute("style"),Dw(i,n)},t,e)},Dw=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},Aw=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=Dh.getTextDecoration(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},zw=function(i,t,e){if(t.clear_child_styles){var n=t.links?"*:not(a)":"*";xw(i.select(n,e),function(n){Cw(n)&&xw(t.styles,function(t,e){i.setStyle(n,e,"")})})}},Mw={mergeWithChildren:function(n,t,i,o){xw(t,function(e){xw(n.dom.select(e.inline,o),function(t){Cw(t)&&_w.removeFormat(n,e,i,t,e.exact?t:null)}),zw(n.dom,e,o)})},mergeUnderlineAndColor:function(t,e,n,i){(e.styles.color||e.styles.textDecoration)&&(go.walk(i,h(Aw,t),"childNodes"),Aw(t,i))},mergeBackgroundColorAndFontSize:function(t,e,n,i){e.styles&&e.styles.backgroundColor&&Sw(i,Ew(t,"fontSize"),Nw(t,"backgroundColor",Dh.replaceVars(e.styles.backgroundColor,n)))},mergeSubSup:function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(Sw(i,Ew(t,"fontSize"),Nw(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},mergeSiblings:function(t,e,n,i){i&&!1!==e.merge_siblings&&(i=Tw(t,Dh.getNonWhiteSpaceSibling(i),i),i=Tw(t,i,Dh.getNonWhiteSpaceSibling(i,!0)))},mergeWithParents:function(e,n,i,o,r){Kb.matchNode(e,r.parentNode,i,o)&&_w.removeFormat(e,n,o,r)||n.merge_with_parents&&e.dom.getParent(r.parentNode,function(t){if(Kb.matchNode(e,t,i,o))return _w.removeFormat(e,n,o,r),!0})}},Iw=function(t,e,n,i){var o=wt.document.createRange();return o.setStart(t,e),o.setEnd(n,i),o},Pw=function(e){var n=nc.fromRangeStart(e),i=nc.fromRangeEnd(e),o=e.commonAncestorContainer;return ih.fromPosition(!1,o,i).map(function(t){return!vd(n,i,o)&&vd(n,t,o)?Iw(n.container(),n.offset(),t.container(),t.offset()):e}).getOr(e)},Rw={normalize:function(t){return t.collapsed?t:Pw(t)}},Hw=go.each,Ow=function(t){return t&&1===t.nodeType&&!xh.isBookmarkNode(t)&&!Oc(t)&&!le.isBogus(t)},Lw=function(p,g,m,i){var t,e,v=p.formatter.get(g),b=v[0],o=!i&&p.selection.isCollapsed(),r=p.dom,n=p.selection,y=function(n,t){if(t=t||b,n){if(t.onformat&&t.onformat(n,t,m,i),Hw(t.styles,function(t,e){r.setStyle(n,e,Dh.replaceVars(t,m))}),t.styles){var e=r.getAttrib(n,"style");e&&n.setAttribute("data-mce-style",e)}Hw(t.attributes,function(t,e){r.setAttrib(n,e,Dh.replaceVars(t,m))}),Hw(t.classes,function(t){t=Dh.replaceVars(t,m),r.hasClass(n,t)||r.addClass(n,t)})}},w=function(t,e){var n=!1;return!!b.selector&&(Hw(t,function(t){if(!("collapsed"in t&&t.collapsed!==o))return r.is(e,t.selector)&&!Oc(e)?(y(e,t),!(n=!0)):void 0}),n)},s=function(l,t,e,u){var c,d,h=[],f=!0;c=b.inline||b.block,d=l.create(c),y(d),Wh.walk(l,t,function(t){var s,a=function(t){var e,n,i,o;if(o=f,e=t.nodeName.toLowerCase(),n=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&l.getContentEditable(t)&&(o=f,f="true"===l.getContentEditable(t),i=!0),Dh.isEq(e,"br"))return s=0,void(b.block&&l.remove(t));if(b.wrapper&&Kb.matchNode(p,t,g,m))s=0;else{if(f&&!i&&b.block&&!b.wrapper&&Dh.isTextBlock(p,e)&&Dh.isValid(p,n,c))return t=l.rename(t,c),y(t),h.push(t),void(s=0);if(b.selector){var r=w(v,t);if(!b.inline||r)return void(s=0)}!f||i||!Dh.isValid(p,c,e)||!Dh.isValid(p,n,c)||!u&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||Oc(t)||b.inline&&l.isBlock(t)?(s=0,Hw(go.grep(t.childNodes),a),i&&(f=o),s=0):(s||(s=l.clone(d,!1),t.parentNode.insertBefore(s,t),h.push(s)),s.appendChild(t))}};Hw(t,a)}),!0===b.links&&Hw(h,function(t){var e=function(t){"A"===t.nodeName&&y(t,b),Hw(go.grep(t.childNodes),e)};e(t)}),Hw(h,function(t){var e,i=function(t){var e=!1;return Hw(t.childNodes,function(t){if(Ow(t))return e=t,!1}),e},n=function(t){var e,n;return(e=i(t))&&!xh.isBookmarkNode(e)&&Kb.matchName(l,e,b)&&(n=l.clone(e,!1),y(n),l.replace(n,t,!0),l.remove(e,1)),n||t};e=function(t){var e=0;return Hw(t.childNodes,function(t){Dh.isWhiteSpaceNode(t)||xh.isBookmarkNode(t)||e++}),e}(t),!(1<h.length)&&l.isBlock(t)||0!==e?(b.inline||b.wrapper)&&(b.exact||1!==e||(t=n(t)),Mw.mergeWithChildren(p,v,m,t),Mw.mergeWithParents(p,b,g,m,t),Mw.mergeBackgroundColorAndFontSize(l,b,m,t),Mw.mergeSubSup(l,b,m,t),Mw.mergeSiblings(l,b,m,t)):l.remove(t,1)})};if("false"!==r.getContentEditable(n.getNode())){if(b){if(i)i.nodeType?w(v,i)||((e=r.createRng()).setStartBefore(i),e.setEndAfter(i),s(r,Vh.expandRng(p,e,v),null,!0)):s(r,i,null,!0);else if(o&&b.inline&&!r.select("td[data-mce-selected],th[data-mce-selected]").length)qy(p,g,m);else{var a=p.selection.getNode();p.settings.forced_root_block||!v[0].defaultBlock||r.getParent(a,r.isBlock)||Lw(p,v[0].defaultBlock),p.selection.setRng(Rw.normalize(p.selection.getRng())),t=Rc.getPersistentBookmark(p.selection,!0),s(r,Vh.expandRng(p,n.getRng(),v)),b.styles&&Mw.mergeUnderlineAndColor(r,b,m,a),n.moveToBookmark(t),Dh.moveStart(r,n,n.getRng()),p.nodeChanged()}nw.postProcess(g,p)}}else{i=n.getNode();for(var l=0,u=v.length;l<u;l++)if(v[l].ceFalseOverride&&r.is(i,v[l].selector))return void y(i,v[l])}},Fw={applyFormat:Lw},Bw=function(e,n){var i=ue({});e.set({}),n.on("NodeChange",function(t){$w(n,t.element,i,e.get())})},$w=function(i,t,e,n){var o=pn(e.get()),r={},s={},a=St(Dh.getParents(i.dom,t),function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")});mn(n,function(t,n){go.each(a,function(e){return i.formatter.matchNode(e,n,{},t.similar)?(-1===o.indexOf(n)&&(bt(t.callbacks,function(t){t(!0,{node:e,format:n,parents:a})}),r[n]=t.callbacks),s[n]=t.callbacks,!1):!Kb.matchesUnInheritedFormatSelector(i,e,n)&&void 0})});var l=jw(e.get(),s,t,a);e.set($t($t({},r),l))},jw=function(t,n,i,o){return yn(t,function(t,e){return!!_n(n,e)||(bt(t,function(t){t(!1,{node:i,format:e,parents:o})}),!1)}).t},Vw=function(t,e,n,i){var o=t.get();bt(e.split(","),function(t){o[t]||(o[t]={similar:i,callbacks:[]}),o[t].callbacks.push(n)}),t.set(o)},Uw=function(t,e,n){var i=t.get();bt(e.split(","),function(t){i[t].callbacks=St(i[t].callbacks,function(t){return t!==n}),0===i[t].callbacks.length&&delete i[t]}),t.set(i)},qw=function(t,e,n,i,o){return null===e.get()&&Bw(e,t),Vw(e,n,i,o),{unbind:function(){return Uw(e,n,i)}}},Ww={get:function(i){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,t,e){go.each(e,function(t,e){i.setAttrib(n,e,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return go.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){e[t]={block:t,remove:"all"}}),e}},Yw=go.each,Kw=Ha.DOM,Gw=function(t,e){var n,i,o,r=e&&e.schema||xt({}),s=function(t,e){e.classes.length&&Kw.addClass(t,e.classes.join(" ")),Kw.setAttribs(t,e.attrs)},l=function(t){var e;return i="string"==typeof t?{name:t,classes:[],attrs:{}}:t,e=Kw.create(i.name),s(e,i),e},u=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,i=r.getElementRule(n),o=i&&i.parentsRequired;return!(!o||!o.length)&&(e&&-1!==go.inArray(o,e)?e:o[0])},c=function(n,t,e){var i,o,r,s=0<t.length&&t[0],a=s&&s.name;if(r=u(n,a))a===r?(o=t[0],t=t.slice(1)):o=r;else if(s)o=t[0],t=t.slice(1);else if(!e)return n;return o&&(i=l(o)).appendChild(n),e&&(i||(i=Kw.create("div")).appendChild(n),go.each(e,function(t){var e=l(t);i.insertBefore(e,n)})),c(i,t,o&&o.siblings)};return t&&t.length?(i=t[0],n=l(i),(o=Kw.create("div")).appendChild(c(n,t.slice(1),i.siblings)),o):""},Xw=function(t,e){return Gw(Jw(t),e)},Qw=function(t){var e,s={classes:[],attrs:{}};return"*"!==(t=s.selector=go.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,e,n,i,o){switch(e){case"#":s.attrs.id=n;break;case".":s.classes.push(n);break;case":":-1!==go.inArray("checked disabled enabled read-only required".split(" "),n)&&(s.attrs[n]=n)}if("["===i){var r=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);r&&(s.attrs[r[1]]=r[2])}return""})),s.name=e||"div",s},Jw=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),go.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var e=go.map(t.split(/(?:~\+|~|\+)/),Qw),n=e.pop();return e.length&&(n.siblings=e),n}).reverse()):[]},Zw={getCssText:function(n,t){var e,i,o,r,s,a,l="";if(!1===(a=n.settings.preview_styles))return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var u=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=n.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(a=t.preview)?"":(e=t.block||t.inline||"span",(r=Jw(t.selector)).length?(r[0].name||(r[0].name=e),e=t.selector,i=Gw(r,n)):i=Gw([e],n),o=Kw.select(e,i)[0]||i.firstChild,Yw(t.styles,function(t,e){(t=u(t))&&Kw.setStyle(o,e,t)}),Yw(t.attributes,function(t,e){(t=u(t))&&Kw.setAttrib(o,e,t)}),Yw(t.classes,function(t){t=u(t),Kw.hasClass(o,t)||Kw.addClass(o,t)}),n.fire("PreviewFormats"),Kw.setStyles(i,{position:"absolute",left:-65535}),n.getBody().appendChild(i),s=Kw.getStyle(n.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,Yw(a.split(" "),function(t){var e=Kw.getStyle(o,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=Kw.getStyle(n.getBody(),t,!0),"#ffffff"===Kw.toHex(e).toLowerCase())||"color"===t&&"#000000"===Kw.toHex(e).toLowerCase())){if("font-size"===t&&/em|%$/.test(e)){if(0===s)return;e=parseFloat(e)/(/%$/.test(e)?100:1)*s+"px"}"border"===t&&e&&(l+="padding:0 2px;"),l+=t+":"+e+";"}}),n.fire("AfterPreviewFormats"),Kw.remove(i),l)},parseSelector:Jw,selectorToHtml:Xw},t_={toggle:function(t,e,n,i,o){var r=e.get(n);!Kb.match(t,n,i,o)||"toggle"in r[0]&&!r[0].toggle?Fw.applyFormat(t,n,i,o):_w.remove(t,n,i,o)}},e_={setup:function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}},n_=function(t){var e=A(t),n=ue(null);return e_.setup(t),Ky(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:h(Fw.applyFormat,t),remove:h(_w.remove,t),toggle:h(t_.toggle,t,e),match:h(Kb.match,t),matchAll:h(Kb.matchAll,t),matchNode:h(Kb.matchNode,t),canApply:h(Kb.canApply,t),formatChanged:h(qw,t,n),getCssText:h(Zw.getCssText,t)}},i_={register:function(e,l,u){e.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)(n=t[i]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)}),e.addAttributeFilter("src,href,style",function(t,e){for(var n,i,o=t.length,r="data-mce-"+e,s=l.url_converter,a=l.url_converter_scope;o--;)(i=(n=t[o]).attr(r))!==undefined?(n.attr(e,0<i.length?i:null),n.attr(r,null)):(i=n.attr(e),"style"===e?i=u.serializeStyle(u.parseStyle(i),n.name):s&&(i=s.call(a,i,e,n.name)),n.attr(e,0<i.length?i:null))}),e.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",0<n.length?n:null))}),e.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,o=t.length;o--;){if("bookmark"===(i=t[o]).attr("data-mce-type")&&!n.cleanup)et.from(i.firstChild).exists(function(t){return!Fl.isZwsp(t.value)})?i.unwrap():i.remove()}}),e.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=br.decode(e.value))}),e.addNodeFilter("script,style",function(t,e){for(var n,i,o,r=t.length,s=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};r--;)i=(n=t[r]).firstChild?n.firstChild.value:"","script"===e?((o=n.attr("type"))&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===l.element_format&&0<i.length&&(n.firstChild.value="// <![CDATA[\n"+s(i)+"\n// ]]>")):"xhtml"===l.element_format&&0<i.length&&(n.firstChild.value="<!--\n"+s(i)+"\n-->")}),e.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)7===(n=t[i]).type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){bt(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})},trimTrailingBr:function(t){var e,n,i=function(t){return t&&"br"===t.name};i(e=t.lastChild)&&i(n=e.prev)&&(e.remove(),n.remove())}},o_=function(t,e,n){var i,o,r,s=t.dom;return e=e.cloneNode(!0),(i=wt.document.implementation).createHTMLDocument&&(o=i.createHTMLDocument(""),go.each("BODY"===e.nodeName?e.childNodes:[e],function(t){o.body.appendChild(o.importNode(t,!0))}),e="BODY"!==e.nodeName?o.body.firstChild:o.body,r=s.doc,s.doc=o),Bp.firePreProcess(t,Jp(n,{node:e})),r&&(s.doc=r),e},r_=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},s_={process:function(t,e,n){return r_(t,n)?o_(t,e,n):e}},a_=function(e,t){bt(t,function(t){e.attr(t,null)})},l_=function(t,r,s){t.addNodeFilter("font",function(t){bt(t,function(t){var e=r.parse(t.attr("style")),n=t.attr("color"),i=t.attr("face"),o=t.attr("size");n&&(e.color=n),i&&(e["font-family"]=i),o&&(e["font-size"]=s[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",r.serialize(e)),a_(t,["color","face","size"])})})},u_=function(t,n){t.addNodeFilter("strike",function(t){bt(t,function(t){var e=n.parse(t.attr("style"));e["text-decoration"]="line-through",t.name="span",t.attr("style",n.serialize(e))})})},c_=function(t,e){var n=Ar();e.convert_fonts_to_spans&&l_(t,n,go.explode(e.font_size_legacy_values)),u_(t,n)},d_={register:function(t,e){e.inline_styles&&c_(t,e)}},h_=function(t,e,n,i){(t.padd_empty_with_br||e.insert)&&n[i.name]?i.empty().append(new lf("br",1)).shortEnded=!0:i.empty().append(new lf("#text",3)).value="\xa0"},f_=function(t){return p_(t,"#text")&&"\xa0"===t.firstChild.value},p_=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},g_=function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty},m_=function(e,t,n,i){return i.isEmpty(t,n,function(t){return g_(e,t)})},v_=function(t,e){return t&&(e[t.name]||"br"===t.name)},b_=function(t,g){var m=t.schema;g.remove_trailing_brs&&t.addNodeFilter("br",function(t,e,n){var i,o,r,s,a,l,u,c,d=t.length,h=go.extend({},m.getBlockElements()),f=m.getNonEmptyElements(),p=m.getNonEmptyElements();for(h.body=1,i=0;i<d;i++)if(r=(o=t[i]).parent,h[o.parent.name]&&o===r.lastChild){for(a=o.prev;a;){if("span"!==(l=a.name)||"bookmark"!==a.attr("data-mce-type")){if("br"!==l)break;if("br"===l){o=null;break}}a=a.prev}o&&(o.remove(),m_(m,f,p,r)&&(u=m.getElementRule(r.name))&&(u.removeEmpty?r.remove():u.paddEmpty&&h_(g,n,h,r)))}else{for(s=o;r&&r.firstChild===s&&r.lastChild===s&&!h[(s=r).name];)r=r.parent;s===r&&!0!==g.padd_empty_with_br&&((c=new lf("#text",3)).value="\xa0",o.replace(c))}}),t.addAttributeFilter("href",function(t){var e,n=t.length,i=function(t){return t.split(" ").filter(function(t){return 0<t.length}).concat(["noopener"]).sort().join(" ")},o=function(t){var e=t?go.trim(t):"";return/\b(noopener)\b/g.test(e)?e:i(e)};if(!g.allow_unsafe_link_target)for(;n--;)"a"===(e=t[n]).name&&"_blank"===e.attr("target")&&e.attr("rel",o(e.attr("rel")))}),g.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(t){for(var e,n,i,o,r=t.length;r--;)if("a"===(o=t[r]).name&&o.firstChild&&!o.attr("href"))for(i=o.parent,e=o.lastChild;n=e.prev,i.insert(e,o),e=n;);}),g.fix_list_elements&&t.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)if("ul"===(n=(e=t[i]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var o=new lf("li",1);o.attr("style","list-style-type: none"),e.wrap(o)}}),g.validate&&m.getValidClasses()&&t.addAttributeFilter("class",function(t){for(var e,n,i,o,r,s,a,l=t.length,u=m.getValidClasses();l--;){for(n=(e=t[l]).attr("class").split(" "),r="",i=0;i<n.length;i++)o=n[i],a=!1,(s=u["*"])&&s[o]&&(a=!0),s=u[e.name],!a&&s&&s[o]&&(a=!0),a&&(r&&(r+=" "),r+=o);r.length||(r=null),e.attr("class",r)}})},y_=go.makeMap,w_=go.each,__=go.explode,x_=go.extend,C_=function(D,A){void 0===A&&(A=xt());var z={},M=[],I={},P={};(D=D||{}).validate=!("validate"in D)||D.validate,D.root_name=D.root_name||"body";var R=function(t){var e,n,i,o,r,s,a,l,u,c,d,h,f,p,g,m;for(h=y_("tr,td,th,tbody,thead,tfoot,table"),c=A.getNonEmptyElements(),d=A.getWhiteSpaceElements(),f=A.getTextBlockElements(),p=A.getSpecialElements(),e=0;e<t.length;e++)if((n=t[e]).parent&&!n.fixed)if(f[n.name]&&"li"===n.parent.name){for(g=n.next;g&&f[g.name];)g.name="li",g.fixed=!0,n.parent.insert(g,n.parent),g=g.next;n.unwrap(n)}else{for(o=[n],i=n.parent;i&&!A.isValidChild(i.name,n.name)&&!h[i.name];i=i.parent)o.push(i);if(i&&1<o.length){for(o.reverse(),r=s=v(o[0].clone()),u=0;u<o.length-1;u++){for(A.isValidChild(s.name,o[u].name)?(a=v(o[u].clone()),s.append(a)):a=s,l=o[u].firstChild;l&&l!==o[u+1];)m=l.next,a.append(l),l=m;s=a}m_(A,c,d,r)?i.insert(n,o[0],!0):(i.insert(r,o[0],!0),i.insert(n,r)),i=o[0],(m_(A,c,d,i)||p_(i,"br"))&&i.empty().remove()}else if(n.parent){if("li"===n.name){if((g=n.prev)&&("ul"===g.name||"ul"===g.name)){g.append(n);continue}if((g=n.next)&&("ul"===g.name||"ul"===g.name)){g.insert(n,g.firstChild,!0);continue}n.wrap(v(new lf("ul",1)));continue}A.isValidChild(n.parent.name,"div")&&A.isValidChild("div",n.name)?n.wrap(v(new lf("div",1))):p[n.name]?n.empty().remove():n.unwrap()}}},v=function(t){var e,n,i;(n=t.name)in z&&((i=I[n])?i.push(t):I[n]=[t]),e=M.length;for(;e--;)(n=M[e].name)in t.attributes.map&&((i=P[n])?i.push(t):P[n]=[t]);return t},t=function(t,s){var e,n,i,o,r,a,l,u,c,d,h,f=[],p=function(t){return!1===t?"":!0===t?"p":t};s=s||{},I={},P={},c=x_(y_("script,style,head,html,body,title,meta,param"),A.getBlockElements());var g=A.getNonEmptyElements(),m=A.children,v=D.validate,b=p("forced_root_block"in s?s.forced_root_block:D.forced_root_block),y=A.getWhiteSpaceElements(),w=/^[ \t\r\n]+/,_=/[ \t\r\n]+$/,x=/[ \t\r\n]+/g,C=/^[ \t\r\n]+$/;d=y.hasOwnProperty(s.context)||y.hasOwnProperty(D.root_name);var k=function(){var t,e,n=N.firstChild,i=function(t){t&&((n=t.firstChild)&&3===n.type&&(n.value=n.value.replace(w,"")),(n=t.lastChild)&&3===n.type&&(n.value=n.value.replace(_,"")))};if(A.isValidChild(N.name,b.toLowerCase())){for(;n;)t=n.next,3===n.type||1===n.type&&"p"!==n.name&&!c[n.name]&&!n.attr("data-mce-type")?(e||((e=T(b,1)).attr(D.forced_root_block_attrs),N.insert(e,n)),e.append(n)):(i(e),e=null),n=t;i(e)}},T=function(t,e){var n,i=new lf(t,e);return t in z&&((n=I[t])?n.push(i):I[t]=[i]),i},S=function(t){var e,n,i,o,r=A.getBlockElements();for(e=t.prev;e&&3===e.type;){if(0<(i=e.value.replace(_,"")).length)return void(e.value=i);if(n=e.next){if(3===n.type&&n.value.length){e=e.prev;continue}if(!r[n.name]&&"script"!==n.name&&"style"!==n.name){e=e.prev;continue}}o=e.prev,e.remove(),e=o}},E=function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n};e=vf({validate:v,allow_script_urls:D.allow_script_urls,allow_conditional_comments:D.allow_conditional_comments,self_closing_elements:E(A.getSelfClosingElements()),cdata:function(t){h.append(T("#cdata",4)).value=t},text:function(t,e){var n;d||(t=t.replace(x," "),v_(h.lastChild,c)&&(t=t.replace(w,""))),0!==t.length&&((n=T("#text",3)).raw=!!e,h.append(n).value=t)},comment:function(t){h.append(T("#comment",8)).value=t},pi:function(t,e){h.append(T(t,7)).value=e,S(h)},doctype:function(t){h.append(T("#doctype",10)).value=t,S(h)},start:function(t,e,n){var i,o,r,s,a;if(r=v?A.getElementRule(t):{}){for((i=T(r.outputName||t,1)).attributes=e,
i.shortEnded=n,h.append(i),(a=m[h.name])&&m[i.name]&&!a[i.name]&&f.push(i),o=M.length;o--;)(s=M[o].name)in e.map&&((l=P[s])?l.push(i):P[s]=[i]);c[t]&&S(i),n||(h=i),!d&&y[t]&&(d=!0)}},end:function(t){var e,n,i,o,r;if(n=v?A.getElementRule(t):{}){if(c[t]&&!d){if((e=h.firstChild)&&3===e.type)if(0<(i=e.value.replace(w,"")).length)e.value=i,e=e.next;else for(o=e.next,e.remove(),e=o;e&&3===e.type;)i=e.value,o=e.next,(0===i.length||C.test(i))&&(e.remove(),e=o),e=o;if((e=h.lastChild)&&3===e.type)if(0<(i=e.value.replace(_,"")).length)e.value=i,e=e.prev;else for(o=e.prev,e.remove(),e=o;e&&3===e.type;)i=e.value,o=e.prev,(0===i.length||C.test(i))&&(e.remove(),e=o),e=o}if(d&&y[t]&&(d=!1),n.removeEmpty&&m_(A,g,y,h)&&!h.attr("name")&&!h.attr("id"))return r=h.parent,c[h.name]?h.empty().remove():h.unwrap(),void(h=r);n.paddEmpty&&(f_(h)||m_(A,g,y,h))&&h_(D,s,c,h),h=h.parent}}},A);var N=h=new lf(s.context||D.root_name,11);if(e.parse(t),v&&f.length&&(s.context?s.invalid=!0:R(f)),b&&("body"===N.name||s.isRootContent)&&k(),!s.invalid){for(u in I)if(I.hasOwnProperty(u)){for(l=z[u],r=(n=I[u]).length;r--;)n[r].parent||n.splice(r,1);for(i=0,o=l.length;i<o;i++)l[i](n,u,s)}for(i=0,o=M.length;i<o;i++)if((l=M[i]).name in P){for(r=(n=P[l.name]).length;r--;)n[r].parent||n.splice(r,1);for(r=0,a=l.callbacks.length;r<a;r++)l.callbacks[r](n,l.name,s)}}return N},e={schema:A,addAttributeFilter:function(t,n){w_(__(t),function(t){var e;for(e=0;e<M.length;e++)if(M[e].name===t)return void M[e].callbacks.push(n);M.push({name:t,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(M)},addNodeFilter:function(t,n){w_(__(t),function(t){var e=z[t];e||(z[t]=e=[]),e.push(n)})},getNodeFilters:function(){var t=[];for(var e in z)z.hasOwnProperty(e)&&t.push({name:e,callbacks:z[e]});return t},filterNode:v,parse:t};return b_(e,D),d_.register(e,D),e},k_=function(t,e,n){-1===go.inArray(e,n)&&(t.addAttributeFilter(n,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),e.push(n))},T_=function(t,e,n){return e.no_events||!t?n:Bp.firePostProcess(t,Jp(e,{content:n})).content},S_=function(t,e,n){var i=Fl.trim(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||Ho(rn.fromDom(e))?i:go.trim(i)},E_=function(t,e,n){var i=n.selection?Jp({forced_root_block:!1},n):n,o=t.parse(e,i);return i_.trimTrailingBr(o),o},N_=function(t,e,n){return Df(t,e).serialize(n)},D_=function(t,e,n,i,o){var r=N_(e,n,i);return T_(t,o,r)},A_=function(s,a){var l,u,c,t=["data-mce-selected"];l=a&&a.dom?a.dom:Ha.DOM,u=a&&a.schema?a.schema:xt(s),s.entity_encoding=s.entity_encoding||"named",s.remove_trailing_brs=!("remove_trailing_brs"in s)||s.remove_trailing_brs,c=C_(s,u),i_.register(c,s,l);var e=function(t,e){var n=Jp({format:"html"},e||{}),i=s_.process(a,t,n),o=S_(l,i,n),r=E_(c,o,n);return"tree"===n.format?r:D_(a,s,u,r,n)};return{schema:u,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:e,addRules:function(t){u.addValidElements(t)},setRules:function(t){u.setValidElements(t)},addTempAttr:h(k_,c,t),getTempAttrs:function(){return t}}},z_=function(t,e){var n=A_(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}};(z||(z={})).isBookmarkNode=xh.isBookmarkNode;var M_,I_,P_=z,R_=le.isContentEditableFalse,H_=le.isContentEditableTrue,O_=function(t,e){for(;e&&e!==t;){if(H_(e)||R_(e))return e;e=e.parentNode}return null},L_=function(i,s){var a,l,u,c,d,h,f,p,g,m,v,b,r,y,w,_,x,C=s.dom,k=go.each,T=s.getDoc(),S=wt.document,E=Math.abs,N=Math.round,D=s.getBody();c={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var A=function(t){return t&&("IMG"===t.nodeName||s.dom.is(t,"figure.image"))},n=function(t,e){if("longpress"!==t.type&&0!==t.type.indexOf("touch"))return A(t.target)&&!hv.isXYWithinRange(t.clientX,t.clientY,e);var n=t.touches[0];return A(t.target)&&!hv.isXYWithinRange(n.clientX,n.clientY,e)},t=function(t){var e=t.target;n(t,s.selection.getRng())&&!t.isDefaultPrevented()&&s.selection.select(e)},z=function(t){return s.dom.is(t,"figure.image")?t.querySelector("img"):t},M=function(t){var e=s.settings.object_resizing;return!1!==e&&!Yi.iOS&&("string"!=typeof e&&(e="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&(t!==s.getBody()&&Bn(rn.fromDom(t),e)))},I=function(t){var e,n,i,o;e=t.screenX-h,n=t.screenY-f,y=e*d[2]+m,w=n*d[3]+v,y=y<5?5:y,w=w<5?5:w,(A(a)&&!1!==s.settings.resize_img_proportional?!Em.modifierPressed(t):Em.modifierPressed(t)||A(a)&&d[2]*d[3]!=0)&&(E(e)>E(n)?(w=N(y*b),y=N(w/b)):(y=N(w/b),w=N(y*b))),C.setStyles(z(l),{width:y,height:w}),i=0<(i=d.startPos.x+e)?i:0,o=0<(o=d.startPos.y+n)?o:0,C.setStyles(u,{left:i,top:o,display:"block"}),u.innerHTML=y+" &times; "+w,d[2]<0&&l.clientWidth<=y&&C.setStyle(l,"left",p+(m-y)),d[3]<0&&l.clientHeight<=w&&C.setStyle(l,"top",g+(v-w)),(e=D.scrollWidth-_)+(n=D.scrollHeight-x)!==0&&C.setStyles(u,{left:i-e,top:o-n}),r||(Bp.fireObjectResizeStart(s,a,m,v),r=!0)},P=function(){r=!1;var t=function(t,e){e&&(a.style[t]||!s.schema.isValid(a.nodeName.toLowerCase(),t)?C.setStyle(z(a),t,e):C.setAttrib(z(a),t,e))};t("width",y),t("height",w),C.unbind(T,"mousemove",I),C.unbind(T,"mouseup",P),S!==T&&(C.unbind(S,"mousemove",I),C.unbind(S,"mouseup",P)),C.remove(l),C.remove(u),o(a),Bp.fireObjectResized(s,a,y,w),C.setAttrib(a,"style",C.getAttrib(a,"style")),s.nodeChanged()},o=function(t){var e,o,r,n,i;R(),L(),e=C.getPos(t,D),p=e.x,g=e.y,i=t.getBoundingClientRect(),o=i.width||i.right-i.left,r=i.height||i.bottom-i.top,a!==t&&(a=t,y=w=0),n=s.fire("ObjectSelected",{target:t}),M(t)&&!n.isDefaultPrevented()?k(c,function(e,t){var n,i=function(t){h=t.screenX,f=t.screenY,m=z(a).clientWidth,v=z(a).clientHeight,b=v/m,(d=e).startPos={x:o*e[0]+p,y:r*e[1]+g},_=D.scrollWidth,x=D.scrollHeight,l=a.cloneNode(!0),C.addClass(l,"mce-clonedresizable"),C.setAttrib(l,"data-mce-bogus","all"),l.contentEditable=!1,l.unSelectabe=!0,C.setStyles(l,{left:p,top:g,margin:0}),l.removeAttribute("data-mce-selected"),D.appendChild(l),C.bind(T,"mousemove",I),C.bind(T,"mouseup",P),S!==T&&(C.bind(S,"mousemove",I),C.bind(S,"mouseup",P)),u=C.add(D,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+v)};(n=C.get("mceResizeHandle"+t))&&C.remove(n),n=C.add(D,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Yi.ie&&(n.contentEditable=!1),C.bind(n,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),i(t)}),e.elm=n,C.setStyles(n,{left:o*e[0]+p-n.offsetWidth/2,top:r*e[1]+g-n.offsetHeight/2})}):R(),a.setAttribute("data-mce-selected","1")},R=function(){var t,e;for(t in L(),a&&a.removeAttribute("data-mce-selected"),c)(e=C.get("mceResizeHandle"+t))&&(C.unbind(e),C.remove(e))},H=function(t){var e,n=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};r||s.removed||(k(C.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),e="mousedown"===t.type?t.target:i.getNode(),n(e=C.$(e).closest("table,img,figure.image,hr")[0],D)&&(F(),n(i.getStart(!0),e)&&n(i.getEnd(!0),e))?o(e):R())},O=function(t){return R_(O_(s.getBody(),t))},L=function(){for(var t in c){var e=c[t];e.elm&&(C.unbind(e.elm),delete e.elm)}},F=function(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};return s.on("init",function(){F(),(Yi.browser.isIE()||Yi.browser.isEdge())&&(s.on("mousedown click",function(t){var e=t.target,n=e.nodeName;r||!/^(TABLE|IMG|HR)$/.test(n)||O(e)||(2!==t.button&&s.selection.select(e,"TABLE"===n),"mousedown"===t.type&&s.nodeChanged())}),s.dom.bind(D,"mscontrolselect",function(t){var e=function(t){Li.setEditorTimeout(s,function(){s.selection.select(t)})};if(O(t.target))return t.preventDefault(),void e(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&e(t.target))}));var e=Li.throttle(function(t){s.composing||H(t)});s.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),s.on("keyup compositionend",function(t){a&&"TABLE"===a.nodeName&&e(t)}),s.on("hide blur",R),s.on("contextmenu longpress",t,!0)}),s.on("remove",L),{isResizable:M,showResizeRect:o,hideResizeRect:R,updateResizeRect:H,destroy:function(){a=l=null}}},F_=M("height",function(t){var e=t.dom();return Cn(t)?e.getBoundingClientRect().height:e.offsetHeight}),B_=function(t){return F_.get(t)},$_=function(i,t){return i.view(t).fold(q([]),function(t){var e=i.owner(t),n=$_(i,e);return[t].concat(n)})},j_=function(t,e){var n=e.owner(t);return $_(e,n)},V_=function(t){return(t.dom()===wt.document?et.none():et.from(t.dom().defaultView.frameElement)).map(rn.fromDom)},U_=function(t){return Kn(t)},q_=Object.freeze({view:V_,owner:U_}),W_=function(t){var e=rn.fromDom(wt.document),n=xa(e),i=j_(t,q_),o=wa(t),r=Et(i,function(t,e){var n=wa(e);return{left:t.left+n.left(),top:t.top+n.top()}},{left:0,top:0});return ma(r.left+o.left()+n.left(),r.top+o.top()+n.top())},Y_=function(t){return"textarea"===un(t)},K_=function(t,e){var n=ii(t);if(0===n.length||Y_(t))return{element:t,offset:e};if(e<n.length&&!Y_(n[e]))return{element:n[e],offset:0};var i=n[n.length-1];return Y_(i)?{element:t,offset:e}:"img"===un(i)?{element:i,offset:1}:fn(i)?{element:i,offset:Gh(i).length}:{element:i,offset:ii(i).length}},G_=function(t,e){var n=ya(t),i=B_(t);return{element:t,bottom:n.top()+i,pos:n,cleanup:e}},X_=function(t,e){var n=K_(t,e),i=rn.fromHtml('<span data-mce-bogus="all">'+Fl.ZWSP+"</span>");return ra(n.element,i),G_(i,function(){return fa(i)})},Q_=function(t){return G_(rn.fromDom(t),V)},J_=function(t,e,n,i){ex(t,function(){return Z_(t,e,n,i)},n)},Z_=function(t,e,n,i){var o=rn.fromDom(t.getBody()),r=rn.fromDom(t.getDoc());In(o);var s=xa(r).top(),a=X_(rn.fromDom(n.startContainer),n.startOffset);e(r,s,a,i),a.cleanup()},tx=function(t,e,n,i){var o=rn.fromDom(t.getDoc());n(o,xa(o).top(),e,i)},ex=function(t,e,n){var i=n.startContainer,o=n.startOffset,r=n.endContainer,s=n.endOffset;e(rn.fromDom(i),rn.fromDom(r));var a=t.dom.createRng();a.setStart(i,o),a.setEnd(r,s),t.selection.setRng(n)},nx=function(t,e,n){return t.fire("ScrollIntoView",{elm:e,alignToTop:n}).isDefaultPrevented()},ix=function(t,e,n,i){var o=t.pos;if(n)Ca(o.left(),o.top(),i);else{var r=o.top()-e+(t.bottom-o.top());Ca(o.left(),r,i)}},ox=function(t,e,n,i,o){i.pos.top()<e?ix(i,n,!1!==o,t):i.bottom>n+e&&ix(i,n,!0===o,t)},rx=function(t,e,n,i){var o=t.dom().defaultView.innerHeight;ox(t,e,o,n,i)},sx=function(t,e,n,i,o){var r=e.dom().defaultView.innerHeight;ox(e,n,r,i,o);var s=W_(i.element),a=Sa(wt.window);s.top()<a.y()?ka(i.element,!1!==o):s.top()>a.bottom()&&ka(i.element,!0===o)},ax=function(t,e,n){return J_(t,h(rx),e,n)},lx=function(t,e,n){return tx(t,Q_(e),h(rx),n)},ux=function(t,e,n){return J_(t,h(sx,t),e,n)},cx=function(t,e,n){return tx(t,Q_(e),h(sx,t),n)},dx={scrollElementIntoView:function(t,e,n){nx(t,e,n)||(t.inline?lx:cx)(t,e,n)},scrollRangeIntoView:function(t,e,n){(t.inline?ax:ux)(t,e,n)}},hx=function(t){return le.isContentEditableTrue(t)||le.isContentEditableFalse(t)},fx=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},px=function(t,n,e){var i,o,r;if(i=e.elementFromPoint(t,n),o=e.body.createTextRange(),i&&"HTML"!==i.tagName||(i=e.body),o.moveToElementText(i),0<(r=(r=go.toArray(o.getClientRects())).sort(function(t,e){return(t=Math.abs(Math.max(t.top-n,t.bottom-n)))-(e=Math.abs(Math.max(e.top-n,e.bottom-n)))})).length){n=(r[0].bottom+r[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(s){}}return null},gx=function(t,e){var n=t&&t.parentElement?t.parentElement():null;return le.isContentEditableFalse(fx(n,e,hx))?null:t},mx={fromPoint:function(t,e,n){var i,o,r=n;if(r.caretPositionFromPoint)(o=r.caretPositionFromPoint(t,e))&&((i=n.createRange()).setStart(o.offsetNode,o.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(r.body.createTextRange){i=r.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(s){i=px(t,e,n)}return gx(i,n.body)}return i}},vx={processRanges:function(n,t){return vt(t,function(t){var e=n.fire("GetSelectionRange",{range:t});return e.range!==t?e.range:t})}},bx=function(t,e){var n=(e||wt.document).createDocumentFragment();return bt(t,function(t){n.appendChild(t.dom())}),rn.fromDom(n)},yx=Pn("element","width","rows"),wx=Pn("element","cells"),_x=Pn("x","y"),xx=function(t,e){var n=parseInt(En(t,e),10);return isNaN(n)?1:n},Cx=function(t,e,n,i,o){for(var r=xx(o,"rowspan"),s=xx(o,"colspan"),a=t.rows(),l=n;l<n+r;l++){a[l]||(a[l]=wx(Pl(i),[]));for(var u=e;u<e+s;u++){a[l].cells()[u]=l===n&&u===e?o:Il(o)}}},kx=function(t,e,n){var i=t.rows();return!!(i[n]?i[n].cells():[])[e]},Tx=function(t,e,n){for(;kx(t,e,n);)e++;return e},Sx=function(t){return Nt(t,function(t,e){return e.cells().length>t?e.cells().length:t},0)},Ex=function(t,e){for(var n=t.rows(),i=0;i<n.length;i++)for(var o=n[i].cells(),r=0;r<o.length;r++)if(Un(o[r],e))return et.some(_x(r,i));return et.none()},Nx=function(t,e,n,i,o){for(var r=[],s=t.rows(),a=n;a<=o;a++){var l=s[a].cells(),u=e<i?l.slice(e,i+1):l.slice(i,e+1);r.push(wx(s[a].element(),u))}return r},Dx=function(t,e,n){var i=e.x(),o=e.y(),r=n.x(),s=n.y(),a=o<s?Nx(t,i,o,r,s):Nx(t,i,s,r,o);return yx(t.element(),Sx(a),a)},Ax=function(t,e){var n=Il(t.element()),i=rn.fromTag("tbody");return da(i,e),la(n,i),n},zx=function(t){return vt(t.rows(),function(t){var e=vt(t.cells(),function(t){var e=Pl(t);return Dn(e,"colspan"),Dn(e,"rowspan"),e}),n=Il(t.element());return da(n,e),n})},Mx={fromDom:function(t){var o=yx(Il(t),0,[]);return bt(fl(t,"tr"),function(n,i){bt(fl(n,"td,th"),function(t,e){Cx(o,Tx(o,e,i),i,n,t)})}),yx(o.element(),Sx(o.rows()),o.rows())},toDom:function(t){return Ax(t,zx(t))},subsection:function(n,t,i){return Ex(n,t).bind(function(e){return Ex(n,i).map(function(t){return Dx(n,e,t)})})}},Ix=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},Px=function(t){return 1<Ix(t).length},Rx={getRanges:Ix,getSelectedNodes:function(t){return Mt(t,function(t){var e=Tu(t);return e?[rn.fromDom(e)]:[]})},hasMultipleRanges:Px},Hx=function(t){return St(Rx.getSelectedNodes(t),Ro)},Ox=function(t){return fl(t,"td[data-mce-selected],th[data-mce-selected]")},Lx=function(t,e){var n=Ox(e),i=Hx(t);return 0<n.length?n:i},Fx=function(t){return Lx(Rx.getRanges(t.selection.getSel()),rn.fromDom(t.getBody()))},Bx={getCellsFromRanges:Hx,getCellsFromElement:Ox,getCellsFromElementOrRanges:Lx,getCellsFromEditor:Fx},$x=function(t){return Dt(t,function(t){return"ul"===un(t)||"ol"===un(t)})},jx=function(t,e){return Dt(t,function(t){return"li"===un(t)&&Cm(t,e)}).fold(q([]),function(){return $x(t).map(function(t){return[rn.fromTag("li"),rn.fromTag(un(t))]}).getOr([])})},Vx=function(t,e){var n=Nt(e,function(t,e){return la(e,t),e},t);return 0<e.length?bx([n]):n},Ux=function(e){return Mo(e)?Qn(e).filter(zo).fold(q([]),function(t){return[e,t]}):zo(e)?[e]:[]},qx=function(t,e){var n=rn.fromDom(e.commonAncestorContainer),i=dm.parentsAndSelf(n,t),o=St(i,function(t){return No(t)||To(t)}),r=jx(i,e),s=o.concat(r.length?r:Ux(n));return vt(s,Il)},Wx=function(){return bx([])},Yx=function(t,e){return Vx(rn.fromDom(e.cloneContents()),qx(t,e))},Kx=function(t,e){return ml(e,"table",h(Un,t))},Gx=function(t,o){return Kx(t,o[0]).bind(function(t){var e=o[0],n=o[o.length-1],i=Mx.fromDom(t);return Mx.subsection(i,e,n).map(function(t){return bx([Mx.toDom(t)])})}).getOrThunk(Wx)},Xx=function(t,e){return 0<e.length&&e[0].collapsed?Wx():Yx(t,e[0])},Qx={read:function(t,e){var n=Bx.getCellsFromElementOrRanges(e,t);return 0<n.length?Gx(t,n):Xx(t,e)}},Jx=function(i){return et.from(i.selection.getRng()).map(function(t){var e=i.dom.add(i.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),n=Fl.trim(e.innerText);return i.dom.remove(e),n}).getOr("")},Zx=function(t,e){var n,i=t.selection.getRng(),o=t.dom.create("body"),r=t.selection.getSel(),s=vx.processRanges(t,Rx.getRanges(r));return(n=e.contextual?Qx.read(rn.fromDom(t.getBody()),s).dom():i.cloneContents())&&o.appendChild(n),t.selection.serializer.serialize(o,e)},tC={getContent:function(t,e){if(void 0===e&&(e={}),e.get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return Jx(t);e.getInner=!0;var n=Zx(t,e);return"tree"===e.format?n:(e.content=t.selection.isCollapsed()?"":n,t.fire("GetContent",e),e.content)}},eC=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},nC=function(t,e,n){return null!==eC(t,e,n)},iC=function(t,e,n){return nC(t,e,function(t){return t.nodeName===n})},oC=function(t){return t&&"TABLE"===t.nodeName},rC=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},sC=function(t,e){return Ul(t)&&!1===nC(t,e,Oc)},aC=function(t,e,n){for(var i=new oa(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=i[n?"prev":"next"]();)if(le.isBr(e))return!0},lC=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},uC=function(t,e){for(;e&&e!==t;){if(le.isContentEditableFalse(e))return!0;e=e.parentNode}return!1},cC=function(t,e,n,i,o){var r,s,a=t.getRoot(),l=t.schema.getNonEmptyElements(),u=t.getParent(o.parentNode,t.isBlock)||a;if(i&&le.isBr(o)&&e&&t.isEmpty(u))return et.some(C(o.parentNode,t.nodeIndex(o)));for(var c=new oa(o,u);s=c[i?"prev":"next"]();){if("false"===t.getContentEditableParent(s)||sC(s,a))return et.none();if(le.isText(s)&&0<s.nodeValue.length)return!1===iC(s,a,"A")?et.some(C(s,i?s.nodeValue.length:0)):et.none();if(t.isBlock(s)||l[s.nodeName.toLowerCase()])return et.none();r=s}return n&&r?et.some(C(r,0)):et.none()},dC=function(t,e,n,i){var o,r,s,a,l,u,c=t.getRoot(),d=!1;if(o=i[(n?"start":"end")+"Container"],r=i[(n?"start":"end")+"Offset"],u=le.isElement(o)&&r===o.childNodes.length,a=t.schema.getNonEmptyElements(),l=n,Ul(o))return et.none();if(le.isElement(o)&&r>o.childNodes.length-1&&(l=!1),le.isDocument(o)&&(o=c,r=0),o===c){if(l&&(s=o.childNodes[0<r?r-1:0])){if(Ul(s))return et.none();if(a[s.nodeName]||oC(s))return et.none()}if(o.hasChildNodes()){if(r=Math.min(!l&&0<r?r-1:r,o.childNodes.length-1),o=o.childNodes[r],r=le.isText(o)&&u?o.data.length:0,!e&&o===c.lastChild&&oC(o))return et.none();if(uC(c,o)||Ul(o))return et.none();if(o.hasChildNodes()&&!1===oC(o)){var h=new oa(s=o,c);do{if(le.isContentEditableFalse(s)||Ul(s)){d=!1;break}if(le.isText(s)&&0<s.nodeValue.length){r=l?0:s.nodeValue.length,o=s,d=!0;break}if(a[s.nodeName.toLowerCase()]&&!rC(s)){r=t.nodeIndex(s),o=s.parentNode,l||r++,d=!0;break}}while(s=l?h.next():h.prev())}}}return e&&(le.isText(o)&&0===r&&cC(t,u,e,!0,o).each(function(t){o=t.container(),r=t.offset(),d=!0}),le.isElement(o)&&((s=o.childNodes[r])||(s=o.childNodes[r-1]),!s||!le.isBr(s)||lC(s,"A")||aC(t,s,!1)||aC(t,s,!0)||cC(t,u,e,!0,s).each(function(t){o=t.container(),r=t.offset(),d=!0}))),l&&!e&&le.isText(o)&&r===o.nodeValue.length&&cC(t,u,e,!1,o).each(function(t){o=t.container(),r=t.offset(),d=!0}),d?et.some(C(o,r)):et.none()},hC={normalize:function(t,e){var n=e.collapsed,i=e.cloneRange(),o=C.fromRangeStart(e);return dC(t,n,!0,i).each(function(t){n&&C.isAbove(o,t)||i.setStart(t.container(),t.offset())}),n||dC(t,n,!1,i).each(function(t){i.setEnd(t.container(),t.offset())}),n&&i.collapse(!0),bm.isEq(e,i)?et.none():et.some(i)}},fC=function(t,e){t.insertData(0,e)},pC=function(t){return 0===t.dom().length?(fa(t),et.none()):et.some(t)},gC=function(i,t){var e=et.from(t.firstChild).map(rn.fromDom),n=et.from(t.lastChild).map(rn.fromDom);i.deleteContents(),i.insertNode(t);var o=e.bind(Zn).filter(fn).bind(pC),r=n.bind(ti).filter(fn).bind(pC);Du(o,e.filter(fn),function(t,e){fC(e.dom(),t.dom().data),fa(t)}),Du(r,n.filter(fn),function(t,e){var n=e.dom().length;e.dom().appendData(t.dom().data),i.setEnd(e.dom(),n),fa(t)}),i.collapse(!1)},mC=function(t,e){return(t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t},vC={setContent:function(t,e,n){if((n=mC(n,e)).no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){var i=t.selection.getRng();gC(i,i.createContextualFragment(n.content)),t.selection.setRng(i),dx.scrollRangeIntoView(t,i),n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)}},bC=function(t,e,n,i,o){var r=n?e.startContainer:e.endContainer,s=n?e.startOffset:e.endOffset;return et.from(r).map(rn.fromDom).map(function(t){return i&&e.collapsed?t:oi(t,o(t,s)).getOr(t)}).bind(function(t){return hn(t)?et.some(t):Qn(t)}).map(function(t){return t.dom()}).getOr(t)},yC=function(t,e,n){return bC(t,e,!0,n,function(t,e){return Math.min(ai(t),e)})},wC=function(t,e,n){return bC(t,e,!1,n,function(t,e){return 0<e?e-1:e})},_C=function(t,e){for(var n=t;t&&le.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},xC=function(t,e){var n,i,o,r,s;return e?(i=e.startContainer,o=e.endContainer,r=e.startOffset,s=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(i===o&&s-r<2&&i.hasChildNodes()&&(n=i.childNodes[r]),3===i.nodeType&&3===o.nodeType&&(i=i.length===r?_C(i.nextSibling,!0):i.parentNode,o=0===s?_C(o.previousSibling,!1):o.parentNode,i&&i===o))?i:n&&3===n.nodeType?n.parentNode:n):t},CC=function(t,e,n,i){var o,r,s=[];if(r=t.getRoot(),n=t.getParent(n||yC(r,e,e.collapsed),t.isBlock),i=t.getParent(i||wC(r,e,e.collapsed),t.isBlock),n&&n!==r&&s.push(n),n&&i&&n!==i)for(var a=new oa(o=n,r);(o=a.next())&&o!==i;)t.isBlock(o)&&s.push(o);return i&&n!==i&&i!==r&&s.push(i),s},kC=function(i,t,o){return et.from(t).map(function(t){var e=i.nodeIndex(t),n=i.createRng();return n.setStart(t.parentNode,e),n.setEnd(t.parentNode,e+1),o&&(km(i,n,t,!0),km(i,n,t,!1)),n})},TC=function(t,e,n){if(t&&t.hasOwnProperty(e)){var i=St(t[e],function(t){return t!==n});0===i.length?delete t[e]:t[e]=i}},SC=function(t){return!!t.select},EC=function(t){return!(!t||!t.ownerDocument)&&Yn(rn.fromDom(t.ownerDocument),rn.fromDom(t))},NC=function(t){return!!t&&(!!SC(t)||EC(t.startContainer)&&EC(t.endContainer))},DC=function(a,l,t,u){var n,e,c,d,i=I(a,u).selectorChangedWithUnbind,o=function(t,e){var n=a.createRng();t?(n.setStart(t,e),n.setEnd(t,e),b(n),g(!1)):(km(a,n,u.getBody(),!0),b(n))},r=function(t,e){return vC.setContent(u,t,e)},s=function(t){return yC(u.getBody(),v(),t)},h=function(t){return wC(u.getBody(),v(),t)},f=function(t,e){return kC(a,t,e).each(b),t},p=function(){var t=v(),e=m();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},g=function(t){var e=v();e.collapse(!!t),b(e)},m=function(){return l.getSelection?l.getSelection():l.document.selection},v=function(){var t,e,n,i,o=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(i){return-1}};if(!l)return null;if(null==(i=l.document))return null;if(u.bookmark!==undefined&&!1===Mp.hasFocus(u)){var r=op.getRng(u);if(r.isSome())return r.map(function(t){return vx.processRanges(u,[t])[0]}).getOr(i.createRange())}try{(t=m())&&!le.isRestrictedNode(t.anchorNode)&&(e=0<t.rangeCount?t.getRangeAt(0):t.createRange?t.createRange():i.createRange())}catch(s){}return(e=vx.processRanges(u,[e])[0])||(e=i.createRange?i.createRange():i.body.createTextRange()),e.setStart&&9===e.startContainer.nodeType&&e.collapsed&&(n=a.getRoot(),e.setStart(n,0),e.setEnd(n,0)),c&&d&&(0===o(e.START_TO_START,e,c)&&0===o(e.END_TO_END,e,c)?e=d:d=c=null),e},b=function(t,e){var n,i;if(NC(t)){var o=SC(t)?t:null;if(o){d=null;try{o.select()}catch(r){}}else{if(n=m(),t=u.fire("SetSelectionRange",{range:t,forward:e}).range,n){d=t;try{n.removeAllRanges(),n.addRange(t)}catch(r){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),c=0<n.rangeCount?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||Yi.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(i=t.startContainer.childNodes[t.startOffset])&&"IMG"===i.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(i,0,i,1)),u.fire("AfterSetSelectionRange",{range:t,forward:e})}}},y=function(t){return r(a.getOuterHTML(t)),t},w=function(){return xC(u.getBody(),v())},_=function(t,e){return CC(a,v(),t,e)},x=function(){var t,e,n=m();return!(n&&n.anchorNode&&n.focusNode)||((t=a.createRng()).setStart(n.anchorNode,n.anchorOffset),t.collapse(!0),(e=a.createRng()).setStart(n.focusNode,n.focusOffset),e.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,e)<=0)},C=function(){var t=v(),e=m();if(Rx.hasMultipleRanges(e)||!Tm(u))return t;var n=hC.normalize(a,t);return n.each(function(t){b(t,x())}),n.getOr(t)},k=function(){for(var t,e=a.getRoot();e&&"BODY"!==e.nodeName;){if(e.scrollHeight>e.clientHeight){t=e;break}e=e.parentNode}return t},T=function(t,e){return b(mx.fromPoint(t,e,u.getDoc()))},S=function(){var t=v();return t.collapsed?nc.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},E=function(){l=c=d=null,e.destroy()},N={bookmarkManager:null,controlSelection:null,dom:a,win:l,serializer:t,editor:u,collapse:g,setCursorLocation:o,getContent:function(t){return tC.getContent(u,t)},setContent:r,getBookmark:function(t,e){return n.getBookmark(t,e)},moveToBookmark:function(t){return n.moveToBookmark(t)},select:f,isCollapsed:p,isForward:x,setNode:y,getNode:w,getSel:m,setRng:b,getRng:v,getStart:s,getEnd:h,getSelectedBlocks:_,normalize:C,selectorChanged:function(t,e){return i(t,e),N},selectorChangedWithUnbind:i,getScrollContainer:k,scrollIntoView:function(t,e){return dx.scrollElementIntoView(u,t,e)},placeCaretAt:T,getBoundingClientRect:S,destroy:E};return n=P_(N),e=L_(N,u),N.bookmarkManager=n,N.controlSelection=e,N},AC=le.isText,zC=function(t){return AC(t)&&t.data[0]===Fl.ZWSP},MC=function(t){return AC(t)&&t.data[t.data.length-1]===Fl.ZWSP},IC=function(t){return t.ownerDocument.createTextNode(Fl.ZWSP)},PC=function(t){if(AC(t.previousSibling))return MC(t.previousSibling)||t.previousSibling.appendData(Fl.ZWSP),t.previousSibling;if(AC(t))return zC(t)||t.insertData(0,Fl.ZWSP),t;var e=IC(t);return t.parentNode.insertBefore(e,t),e},RC=function(t){if(AC(t.nextSibling))return zC(t.nextSibling)||t.nextSibling.insertData(0,Fl.ZWSP),t.nextSibling;if(AC(t))return MC(t)||t.appendData(Fl.ZWSP),t;var e=IC(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},HC=function(t,e){return t?PC(e):RC(e)},OC=h(HC,!0),LC=h(HC,!1),FC=function(t,e){return le.isText(t.container())?HC(e,t.container()):HC(e,t.getNode())},BC=function(t,e){var n=e.get();return n&&t.container()===n&&Vl(n)},$C={renderCaret:function(n,t){return t.fold(function(t){Qc.remove(n.get());var e=OC(t);return n.set(e),et.some(nc(e,e.length-1))},function(t){return ih.firstPositionIn(t).map(function(t){if(BC(t,n))return nc(n.get(),1);Qc.remove(n.get());var e=FC(t,!0);return n.set(e),nc(e,1)})},function(t){return ih.lastPositionIn(t).map(function(t){if(BC(t,n))return nc(n.get(),n.get().length-1);Qc.remove(n.get());var e=FC(t,!1);return n.set(e),nc(e,e.length-1)})},function(t){Qc.remove(n.get());var e=LC(t);return n.set(e),et.some(nc(e,1))})}},jC=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,VC=function(t){return jC.test(t)},UC=function(t,e,n){return St(Ha.DOM.getParents(n.container(),"*",e),t)},qC=function(t,e,n){var i=md(e,t),o=md(n,t);return i&&i===o},WC=function(t,e){if(!e)return e;var n=e.container(),i=e.offset();return t?Vl(n)?le.isText(n.nextSibling)?nc(n.nextSibling,0):nc.after(n):Yl(e)?nc(n,i+1):e:Vl(n)?le.isText(n.previousSibling)?nc(n.previousSibling,n.previousSibling.data.length):nc.before(n):Kl(e)?nc(n,i-1):e},YC={isInlineTarget:function(t,e){return Bn(rn.fromDom(e),xf.getInlineBoundarySelector(t))},findRootInline:function(t,e,n){var i=UC(t,e,n);return et.from(i[i.length-1])},isRtl:function(t){return"rtl"===Ha.DOM.getStyle(t,"direction",!0)||VC(t.textContent)},isAtZwsp:function(t){return Yl(t)||Kl(t)},normalizePosition:WC,normalizeForwards:h(WC,!0),normalizeBackwards:h(WC,!1),hasSameParentBlock:qC},KC={evaluateUntil:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].apply(null,e);if(i.isSome())return i}return et.none()}},GC=Hf.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),XC=function(t,e){var n=md(e,t);return n||t},QC=function(t,e,n){var i=YC.normalizeForwards(n),o=XC(e,i.container());return YC.findRootInline(t,o,i).fold(function(){return ih.nextPosition(o,i).bind(h(YC.findRootInline,t,o)).map(function(t){return GC.before(t)})},et.none)},JC=function(t,e){return null===Lc(t,e)},ZC=function(t,e,n){return YC.findRootInline(t,e,n).filter(h(JC,e))},tk=function(t,e,n){var i=YC.normalizeBackwards(n);return ZC(t,e,i).bind(function(t){return ih.prevPosition(t,i).isNone()?et.some(GC.start(t)):et.none()})},ek=function(t,e,n){var i=YC.normalizeForwards(n);return ZC(t,e,i).bind(function(t){return ih.nextPosition(t,i).isNone()?et.some(GC.end(t)):et.none()})},nk=function(t,e,n){var i=YC.normalizeBackwards(n),o=XC(e,i.container());return YC.findRootInline(t,o,i).fold(function(){return ih.prevPosition(o,i).bind(h(YC.findRootInline,t,o)).map(function(t){return GC.after(t)})},et.none)},ik=function(t){return!1===YC.isRtl(rk(t))},ok=function(t,e,n){return KC.evaluateUntil([QC,tk,ek,nk],[t,e,n]).filter(ik)},rk=function(t){return t.fold(W,W,W,W)},sk=function(t){return t.fold(q("before"),q("start"),q("end"),q("after"))},ak=function(t){return t.fold(GC.before,GC.before,GC.after,GC.after)},lk=function(t){return t.fold(GC.start,GC.start,GC.end,GC.end)},uk=function(t,e){return sk(t)===sk(e)&&rk(t)===rk(e)},ck=function(n,t,i,e,o,r){return Du(YC.findRootInline(t,i,e),YC.findRootInline(t,i,o),function(t,e){return t!==e&&YC.hasSameParentBlock(i,t,e)?GC.after(n?t:e):r}).getOr(r)},dk=function(t,e){return t.fold(q(!0),function(t){return!uk(t,e)})},hk=function(e,n,i,o,t){var r=YC.normalizePosition(e,t);return ih.fromPosition(e,i,r).map(h(YC.normalizePosition,e)).fold(function(){return o.map(ak)},function(t){return ok(n,i,t).map(h(ck,e,n,i,r,t)).filter(h(dk,o))}).filter(ik)},fk=function(t,e){return t?e.fold(U(et.some,GC.start),et.none,U(et.some,GC.after),et.none):e.fold(et.none,U(et.some,GC.before),et.none,U(et.some,GC.end))},pk=function(t,e,n,i){var o=YC.normalizePosition(t,i),r=ok(e,n,o);return ok(e,n,o).bind(h(fk,t)).orThunk(function(){return hk(t,e,n,r,i)})},gk={readLocation:ok,findLocation:pk,prevLocation:h(pk,!1),nextLocation:h(pk,!0),getElement:rk,outside:ak,inside:lk},mk=function(t){return lt(t.selection.getSel().modify)},vk=function(t,e,n){var i=t?1:-1;return e.setRng(nc(n.container(),n.offset()+i).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},bk=function(t,e){var n=e.selection.getRng(),i=t?nc.fromRangeEnd(n):nc.fromRangeStart(n);return!!mk(e)&&(t&&Yl(i)?vk(!0,e.selection,i):!(t||!Kl(i))&&vk(!1,e.selection,i))},yk={hasSelectionModifyApi:mk,moveByWord:bk},wk=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},_k=function(t){return!1!==t.settings.inline_boundaries},xk=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},Ck=function(e,t,n){return $C.renderCaret(t,n).map(function(t){return wk(e,t),n})},kk=function(e,n,t){var i=e.getBody(),o=nc.fromRangeStart(e.selection.getRng()),r=h(YC.isInlineTarget,e);return gk.findLocation(t,r,i,o).bind(function(t){return Ck(e,n,t)})},Tk=function(t,e,n){var i=St(e.select('*[data-mce-selected="inline-boundary"]'),t),o=St(n,t);bt(Rt(i,o),h(xk,!1)),bt(Rt(o,i),h(xk,!0))},Sk=function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=nc.fromRangeStart(t.selection.getRng());nc.isTextPosition(n)&&!1===YC.isAtZwsp(n)&&(wk(t,Qc.removeAndReposition(e.get(),n)),e.set(null))}},Ek=function(e,n,i,t){if(n.selection.isCollapsed()){var o=St(t,e);bt(o,function(){var t=nc.fromRangeStart(n.selection.getRng());gk.readLocation(e,n.getBody(),t).bind(function(t){return Ck(n,i,t)})})}},Nk=function(t,e){return function(){return!!_k(e)&&yk.moveByWord(t,e)}},Dk=function(e){var n=ue(null),i=h(YC.isInlineTarget,e);return e.on("NodeChange",function(t){_k(e)&&(Tk(i,e.dom,t.parents),Sk(e,n),Ek(i,e,n,t.parents))}),n},Ak={move:function(t,e,n){return function(){return!!_k(t)&&kk(t,e,n).isSome()}},moveNextWord:h(Nk,!0),movePrevWord:h(Nk,!1),setupSelectedState:Dk,setCaretPosition:wk};(I_=M_||(M_={}))[I_.Br=0]="Br",I_[I_.Block=1]="Block",I_[I_.Wrap=2]="Wrap",I_[I_.Eol=3]="Eol";var zk,Mk,Ik,Pk=function(t,e){return t===tc.Backwards?e.reverse():e},Rk=function(t,e,n){return t===tc.Forwards?e.next(n):e.prev(n)},Hk=function(t,e,n,i){return le.isBr(i.getNode(e===tc.Forwards))?M_.Br:!1===vd(n,i)?M_.Block:M_.Wrap},Ok=function(t,e,n,i){for(var o,r=Vd(n),s=i,a=[
];s&&(o=Rk(e,r,s));){if(le.isBr(o.getNode(!1)))return e===tc.Forwards?{positions:Pk(e,a).concat([o]),breakType:M_.Br,breakAt:et.some(o)}:{positions:Pk(e,a),breakType:M_.Br,breakAt:et.some(o)};if(o.isVisible()){if(t(s,o)){var l=Hk(n,e,s,o);return{positions:Pk(e,a),breakType:l,breakAt:et.some(o)}}a.push(o),s=o}else s=o}return{positions:Pk(e,a),breakType:M_.Eol,breakAt:et.none()}},Lk=function(n,i,o,t){return i(o,t).breakAt.map(function(t){var e=i(o,t).positions;return n===tc.Backwards?e.concat(t):[t].concat(e)}).getOr([])},Fk=function(t,r){return Nt(t,function(t,o){return t.fold(function(){return et.some(o)},function(i){return Du(Lt(i.getClientRects()),Lt(o.getClientRects()),function(t,e){var n=Math.abs(r-t.left);return Math.abs(r-e.left)<=n?o:i}).or(t)})},et.none())},Bk=function(e,t){return Lt(t.getClientRects()).bind(function(t){return Fk(e,t.left)})},$k=h(Ok,C.isAbove,-1),jk=h(Ok,C.isBelow,1),Vk=function(t,e){return $k(t,e).breakAt.isNone()},Uk=function(t,e){return jk(t,e).breakAt.isNone()},qk=h(Lk,-1,$k),Wk=h(Lk,1,jk),Yk=function(e){return ih.firstPositionIn(e).map(function(t){return[t].concat(jk(e,t).positions)}).getOr([])},Kk=function(e){return ih.lastPositionIn(e).map(function(t){return $k(e,t).positions.concat(t)}).getOr([])},Gk=le.isContentEditableFalse,Xk=Tu,Qk=function(t,e,n,i){var o=t===tc.Forwards,r=o?jm:Vm;if(!i.collapsed){var s=Xk(i);if(Gk(s))return Vv(t,e,s,t===tc.Backwards,!0)}var a=eu(i),l=Sd(t,e.getBody(),i);if(r(l))return qv(e,l.getNode(!o));var u=YC.normalizePosition(o,n(l));if(!u)return a?i:null;if(r(u))return Vv(t,e,u.getNode(!o),o,!0);var c=n(u);return c&&r(c)&&Ad(u,c)?Vv(t,e,c.getNode(!o),o,!0):a?Yv(e,u.toRange(),!0):null},Jk=function(t,e,n,i){var o,r,s,a,l,u,c,d,h;if(h=Xk(i),o=Sd(t,e.getBody(),i),r=n(e.getBody(),Zm(1),o),s=St(r,tv(1)),l=eo.last(o.getClientRects()),(jm(o)||Bm(o))&&(h=o.getNode()),(Vm(o)||$m(o))&&(h=o.getNode(!0)),!l)return null;if(u=l.left,(a=sv(s,u))&&Gk(a.node))return c=Math.abs(u-a.left),d=Math.abs(u-a.right),Vv(t,e,a.node,c<d,!0);if(h){var f=Jm(t,e.getBody(),Zm(1),h);if(a=sv(St(f,tv(1)),u))return Yv(e,a.position.toRange(),!0);if(a=eo.last(St(f,tv(0))))return Yv(e,a.position.toRange(),!0)}},Zk=function(t){var e=t.dom.create(xf.getForcedRootBlock(t));return(!Yi.ie||11<=Yi.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e},tT=function(t,e,n){var i,o,r=Vd(t.getBody()),s=h(Dd,r.next),a=h(Dd,r.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(i=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?s(nc.fromRangeStart(n)):a(nc.fromRangeStart(n)))||(o=Zk(t),1===e?t.$(i).after(o):t.$(i).before(o),t.selection.select(o,!0),t.selection.collapse())}},eT=function(t,e){var n,i=Vd(t.getBody()),o=h(Dd,i.next),r=h(Dd,i.prev),s=e?tc.Forwards:tc.Backwards,a=e?o:r,l=t.selection.getRng();return(n=Qk(s,t,a,l))?n:(n=tT(t,s,l))||null},nT=function(t,e){var n,i=e?1:-1,o=e?Qm:Xm,r=t.selection.getRng();return(n=Jk(i,t,o,r))?n:(n=tT(t,i,r))||null},iT=function(e,n){return function(){var t=eT(e,n);return!!t&&(e.selection.setRng(t),!0)}},oT=function(e,n){return function(){var t=nT(e,n);return!!t&&(e.selection.setRng(t),!0)}},rT=function(e){return function(t){return e?Vm(t):jm(t)}},sT=function(n,i){return function(){var t=i?nc.fromRangeEnd(n.selection.getRng()):nc.fromRangeStart(n.selection.getRng()),e=i?jk(n.getBody(),t):$k(n.getBody(),t);return(i?Ft(e.positions):Lt(e.positions)).filter(rT(i)).fold(q(!1),function(t){return n.selection.setRng(t.toRange()),!0})}},aT=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}},lT=function(n,t){return Mt(t,function(t){var e=aT(bu(t.getBoundingClientRect()),-1);return[{x:e.left,y:n(e),cell:t},{x:e.right,y:n(e),cell:t}]})},uT=function(t,o,r){return Nt(t,function(t,i){return t.fold(function(){return et.some(i)},function(t){var e=Math.sqrt(Math.abs(t.x-o)+Math.abs(t.y-r)),n=Math.sqrt(Math.abs(i.x-o)+Math.abs(i.y-r));return et.some(n<e?i:t)})},et.none())},cT=function(t,e,n,i,o){var r=fl(rn.fromDom(n),"td,th,caption").map(function(t){return t.dom()}),s=St(lT(t,r),function(t){return e(t,o)});return uT(s,i,o).map(function(t){return t.cell})},dT=function(t){return t.top},hT=function(t,e){return t.y>e},fT=h(cT,function(t){return t.bottom},function(t,e){return t.y<e}),pT=h(cT,dT,hT),gT=function(e,n){return Lt(n.getClientRects()).bind(function(t){return fT(e,t.left,t.top)}).bind(function(t){return Bk(Kk(t),n)})},mT=function(e,n){return Ft(n.getClientRects()).bind(function(t){return pT(e,t.left,t.top)}).bind(function(t){return Bk(Yk(t),n)})},vT=function(t,e){t.selection.setRng(e),dx.scrollRangeIntoView(t,e)},bT=function(e,n,t){return t.breakAt.map(function(t){return e(n,t).breakAt.isSome()}).getOr(!1)},yT=function(t){return t.breakType===M_.Wrap&&0===t.positions.length},wT=function(t){return t.breakType===M_.Br&&1===t.positions.length},_T=function(t,e,n){var i=t(e,n);return yT(i)||!le.isBr(n.getNode())&&wT(i)?!bT(t,e,i):i.breakAt.isNone()},xT=h(_T,$k),CT=h(_T,jk),kT=function(t,e,n){var i=nc.fromRangeStart(e);return ih.positionIn(!t,n).map(function(t){return t.isEqual(i)}).getOr(!1)},TT=function(t,e,n){var i=t.selection.getRng(),o=e?1:-1;if(od()&&kT(e,i,n)){var r=Vv(o,t,n,!e,!0);return vT(t,r),!0}return!1},ST=function(e,n,t){return gT(n,t).orThunk(function(){return Lt(t.getClientRects()).bind(function(t){return Fk(qk(e,nc.before(n)),t.left)})}).getOr(nc.before(n))},ET=function(e,n,t){return mT(n,t).orThunk(function(){return Lt(t.getClientRects()).bind(function(t){return Fk(Wk(e,nc.after(n)),t.left)})}).getOr(nc.after(n))},NT=function(t,e){var n=e.getNode(t);return le.isElement(n)&&"TABLE"===n.nodeName?et.some(n):et.none()},DT=function(n,i,o,t){var r=xf.getForcedRootBlock(i);r?i.undoManager.transact(function(){var t=rn.fromTag(r);Sn(t,xf.getForcedRootBlockAttrs(i)),la(t,rn.fromTag("br")),n?sa(rn.fromDom(o),t):ra(rn.fromDom(o),t);var e=i.dom.createRng();e.setStart(t.dom(),0),e.setEnd(t.dom(),0),vT(i,e)}):vT(i,t.toRange())},AT=function(e,n,i){var t=NT(!!n,i),o=!1===n;t.fold(function(){return vT(e,i.toRange())},function(t){return ih.positionIn(o,e.getBody()).filter(function(t){return t.isEqual(i)}).fold(function(){return vT(e,i.toRange())},function(){return DT(n,e,t,i)})})},zT=function(t,e,n,i){var o=t.selection.getRng(),r=nc.fromRangeStart(o),s=t.getBody();if(!e&&xT(i,r)){var a=ST(s,n,r);return AT(t,e,a),!0}if(e&&CT(i,r)){a=ET(s,n,r);return AT(t,e,a),!0}return!1},MT=function(e,n){return function(){return et.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(t){return et.from(e.dom.getParent(t,"table")).map(function(t){return TT(e,n,t)})}).getOr(!1)}},IT=function(n,i){return function(){return et.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(e){return et.from(n.dom.getParent(e,"table")).map(function(t){return zT(n,i,t,e)})}).getOr(!1)}},PT=function(t){return gt(["figcaption"],un(t))},RT=function(t){var e=wt.document.createRange();return e.setStartBefore(t.dom()),e.setEndBefore(t.dom()),e},HT=function(t,e,n){n?la(t,e):aa(t,e)},OT=function(t,e){var n=rn.fromTag("br");return HT(t,n,e),RT(n)},LT=function(t,e,n,i){var o=rn.fromTag(n),r=rn.fromTag("br");return Sn(o,i),la(o,r),HT(t,o,e),RT(r)},FT=function(t,e,n,i){return""===e?OT(t,i):LT(t,i,e,n)},BT=function(t,e){var n=h(Un,e);return gl(rn.fromDom(t.container()),So,n).filter(PT)},$T=function(t,e,n){return e?Uk(t.dom(),n):Vk(t.dom(),n)},jT=function(e,n){var i=rn.fromDom(e.getBody()),o=nc.fromRangeStart(e.selection.getRng()),r=xf.getForcedRootBlock(e),s=xf.getForcedRootBlockAttrs(e);return BT(o,i).exists(function(){if($T(i,n,o)){var t=FT(i,r,s,n);return e.selection.setRng(t),!0}return!1})},VT=function(t,e){return function(){return!!t.selection.isCollapsed()&&jT(t,e)}},UT=function(t){return vt(t,function(t){return Jp({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:V},t)})},qT=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},WT=function(t,e){return Mt(UT(t),function(t){return qT(t,e)?[t]:[]})},YT=function(t,e){return Dt(WT(t,e),function(t){return t.action()})},KT={match:WT,action:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,i)}},execute:YT},GT=function(t,e,n){var i=Ze().os;KT.execute([{keyCode:Em.RIGHT,action:iT(t,!0)},{keyCode:Em.LEFT,action:iT(t,!1)},{keyCode:Em.UP,action:oT(t,!1)},{keyCode:Em.DOWN,action:oT(t,!0)},{keyCode:Em.RIGHT,action:MT(t,!0)},{keyCode:Em.LEFT,action:MT(t,!1)},{keyCode:Em.UP,action:IT(t,!1)},{keyCode:Em.DOWN,action:IT(t,!0)},{keyCode:Em.RIGHT,action:Ak.move(t,e,!0)},{keyCode:Em.LEFT,action:Ak.move(t,e,!1)},{keyCode:Em.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Ak.moveNextWord(t,e)},{keyCode:Em.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Ak.movePrevWord(t,e)},{keyCode:Em.UP,action:VT(t,!1)},{keyCode:Em.DOWN,action:VT(t,!0)}],n).each(function(){n.preventDefault()})},XT={setup:function(e,n){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&GT(e,n,t)})}},QT=function(e){return function(t){return Un(e,rn.fromDom(t.dom().parentNode))}},JT=function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)},ZT={getParentBlock:function(t,e){return Yn(t,e)?gl(e,function(t){return Ao(t)||Mo(t)},QT(t)):et.none()},paddEmptyBody:function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),JT(t))},willDeleteLastPositionInElement:function(r,s,a){return Du(ih.firstPositionIn(a),ih.lastPositionIn(a),function(t,e){var n=YC.normalizePosition(!0,t),i=YC.normalizePosition(!1,e),o=YC.normalizePosition(!1,s);return r?ih.nextPosition(a,o).map(function(t){return t.isEqual(i)&&s.isEqual(n)}).getOr(!1):ih.prevPosition(a,o).map(function(t){return t.isEqual(n)&&s.isEqual(i)}).getOr(!1)}).getOr(!0)}},tS=function(t,e){return{block:q(t),position:q(e)}},eS=function(t,e){return{from:q(t),to:q(e)}},nS=function(t,e){var n=rn.fromDom(t),i=rn.fromDom(e.container());return ZT.getParentBlock(n,i).map(function(t){return tS(t,e)})},iS=function(t){return!1===Un(t.from().block(),t.to().block())},oS=function(t){return Qn(t.from().block()).bind(function(e){return Qn(t.to().block()).filter(function(t){return Un(e,t)})}).isSome()},rS=function(t){return!1===le.isContentEditableFalse(t.from().block().dom())&&!1===le.isContentEditableFalse(t.to().block().dom())},sS=function(e,n,i){return le.isBr(i.position().getNode())&&!1===hy.isEmpty(i.block())?ih.positionIn(!1,i.block().dom()).bind(function(t){return t.isEqual(i.position())?ih.fromPosition(n,e,t).bind(function(t){return nS(e,t)}):et.some(i)}).getOr(i):i},aS=function(e,n,t){var i=nS(e,nc.fromRangeStart(t)),o=i.bind(function(t){return ih.fromPosition(n,e,t.position()).bind(function(t){return nS(e,t).map(function(t){return sS(e,n,t)})})});return Du(i,o,eS).filter(function(t){return iS(t)&&oS(t)&&rS(t)})},lS={read:function(t,e,n){return n.collapsed?aS(t,e,n):et.none()}},uS=function(t){var e=ii(t);return At(e,So).fold(function(){return e},function(t){return e.slice(0,t)})},cS=function(t){var e=uS(t);return bt(e,fa),e},dS=function(t,e){var n=dm.parentsAndSelf(e,t);return Dt(n.reverse(),hy.isEmpty).each(fa)},hS=function(t){return 0===St(ei(t),function(t){return!hy.isEmpty(t)}).length},fS=function(t,e,n,i){if(hy.isEmpty(n))return Bb.fillWithPaddingBr(n),ih.firstPositionIn(n.dom());hS(i)&&hy.isEmpty(e)&&ra(i,rn.fromTag("br"));var o=ih.prevPosition(n.dom(),nc.before(i.dom()));return bt(cS(e),function(t){ra(i,t)}),dS(t,e),o},pS=function(t,e,n){if(hy.isEmpty(n))return fa(n),hy.isEmpty(e)&&Bb.fillWithPaddingBr(e),ih.firstPositionIn(e.dom());var i=ih.lastPositionIn(n.dom());return bt(cS(e),function(t){la(n,t)}),dS(t,e),i},gS=function(t,e){var n=dm.parentsAndSelf(e,t);return et.from(n[n.length-1])},mS=function(t,e){return Yn(e,t)?gS(e,t):et.none()},vS=function(t,e){ih.positionIn(t,e.dom()).map(function(t){return t.getNode()}).map(rn.fromDom).filter(Do).each(fa)},bS=function(t,e,n){return vS(!0,e),vS(!1,n),mS(e,n).fold(h(pS,t,e,n),h(fS,t,e,n))},yS={mergeBlocks:function(t,e,n,i){return e?bS(t,i,n):bS(t,n,i)}},wS={backspaceDelete:function(e,n){var i=rn.fromDom(e.getBody()),t=lS.read(i.dom(),n,e.selection.getRng()).bind(function(t){return yS.mergeBlocks(i,n,t.from().block(),t.to().block())});return t.each(function(t){e.selection.setRng(t.toRange())}),t.isSome()}},_S=function(n,i){var o=i.getRng();return Du(ZT.getParentBlock(n,rn.fromDom(o.startContainer)),ZT.getParentBlock(n,rn.fromDom(o.endContainer)),function(t,e){return!1===Un(t,e)&&(o.deleteContents(),yS.mergeBlocks(n,!0,t,e).each(function(t){i.setRng(t.toRange())}),!0)}).getOr(!1)},xS=function(t,e){var n=rn.fromDom(e),i=h(Un,t);return pl(n,Ro,i).isSome()},CS=function(t,e){return xS(t,e.startContainer)||xS(t,e.endContainer)},kS=function(t,e){var n=ih.prevPosition(t.dom(),nc.fromRangeStart(e)).isNone(),i=ih.nextPosition(t.dom(),nc.fromRangeEnd(e)).isNone();return!CS(t,e)&&n&&i},TS=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},SS=function(t){var e=rn.fromDom(t.getBody()),n=t.selection.getRng();return kS(e,n)?TS(t):_S(e,t.selection)},ES={backspaceDelete:function(t){return!t.selection.isCollapsed()&&SS(t)}},NS=function(t){return Ed(t).exists(Do)},DS=function(t,e,n){var i=St(dm.parentsAndSelf(rn.fromDom(n.container()),e),So),o=Lt(i).getOr(e);return ih.fromPosition(t,o.dom(),n).filter(NS)},AS=function(t,e){return Ed(e).exists(Do)||DS(!0,t,e).isSome()},zS=function(t,e){return Nd(e).exists(Do)||DS(!1,t,e).isSome()},MS=h(DS,!1),IS=h(DS,!0),PS=function(t){return Ro(rn.fromDom(t))||Mo(rn.fromDom(t))},RS=Hf.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),HS=function(t,e){var n=e.getNode(!1===t),i=t?"after":"before";return le.isElement(n)&&n.getAttribute("data-mce-caret")===i},OS=function(e,t,n,i){var o=function(t){return No(rn.fromDom(t))&&!vd(n,i,e)};return Td(!t,n).fold(function(){return Td(t,i).fold(q(!1),o)},o)},LS=function(t,e,n,i){var o=i.getNode(!1===e);return ZT.getParentBlock(rn.fromDom(t),rn.fromDom(n.getNode())).map(function(t){return hy.isEmpty(t)?RS.remove(t.dom()):RS.moveToElement(o)}).orThunk(function(){return et.some(RS.moveToElement(o))})},FS=function(e,n,i){return ih.fromPosition(n,e,i).bind(function(t){return PS(t.getNode())?et.none():OS(e,n,i,t)?et.none():n&&le.isContentEditableFalse(t.getNode())?LS(e,n,i,t):!1===n&&le.isContentEditableFalse(t.getNode(!0))?LS(e,n,i,t):n&&Vm(i)?et.some(RS.moveToPosition(t)):!1===n&&jm(i)?et.some(RS.moveToPosition(t)):et.none()})},BS=function(t,e){return t&&le.isContentEditableFalse(e.nextSibling)?et.some(RS.moveToElement(e.nextSibling)):!1===t&&le.isContentEditableFalse(e.previousSibling)?et.some(RS.moveToElement(e.previousSibling)):et.none()},$S=function(e,n,t){return t.fold(function(t){return et.some(RS.remove(t))},function(t){return et.some(RS.moveToElement(t))},function(t){return vd(n,t,e)?et.none():et.some(RS.moveToPosition(t))})},jS=function(e,t,n){return HS(t,n)?BS(t,n.getNode(!1===t)).fold(function(){return FS(e,t,n)},et.some):FS(e,t,n).bind(function(t){return $S(e,n,t)})},VS=function(t,e,n){var i=kd(e?1:-1,t,n),o=nc.fromRangeStart(i),r=rn.fromDom(t);return!1===e&&Vm(o)?et.some(RS.remove(o.getNode(!0))):e&&jm(o)?et.some(RS.remove(o.getNode())):!1===e&&jm(o)&&zS(r,o)?MS(r,o).map(function(t){return RS.remove(t.getNode())}):e&&Vm(o)&&AS(r,o)?IS(r,o).map(function(t){return RS.remove(t.getNode())}):jS(t,e,o)},US=function(e,n){return function(t){return e._selectionOverrides.hideFakeCaret(),zy.deleteElement(e,n,rn.fromDom(t)),!0}},qS=function(n,i){return function(t){var e=i?nc.before(t):nc.after(t);return n.selection.setRng(e.toRange()),!0}},WS=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},YS=function(t,e){return et.from(QS(t.getBody(),e))},KS=function(e,n){var t=e.selection.getNode();return YS(e,t).filter(le.isContentEditableFalse).fold(function(){return VS(e.getBody(),n,e.selection.getRng()).map(function(t){return t.fold(US(e,n),qS(e,n),WS(e))}).getOr(!1)},function(){return!0})},GS=function(t){bt(fl(t,".mce-offscreen-selection"),fa)},XS=function(t,e){var n=t.selection.getNode();return!!le.isContentEditableFalse(n)&&YS(t,n.parentNode).filter(le.isContentEditableFalse).fold(function(){return GS(rn.fromDom(t.getBody())),zy.deleteElement(t,e,rn.fromDom(t.selection.getNode())),ZT.paddEmptyBody(t),!0},function(){return!0})},QS=function(t,e){for(;e&&e!==t;){if(le.isContentEditableTrue(e)||le.isContentEditableFalse(e))return e;e=e.parentNode}return null},JS={backspaceDelete:function(t,e){return t.selection.isCollapsed()?KS(t,e):XS(t,e)},paddEmptyElement:function(t){var e,n=QS(t.getBody(),t.selection.getNode());return le.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(nc.before(e).toRange())),!0}},ZS=function(t,e){le.isText(e)&&0===e.data.length&&t.remove(e)},tE=function(t,e,n,i,o,r){var s=Vv(i,t,r.getNode(!o),o,!0);if(e.collapsed){var a=e.cloneRange();o?a.setEnd(s.startContainer,s.startOffset):a.setStart(s.endContainer,s.endOffset),a.deleteContents()}else e.deleteContents();return t.selection.setRng(s),ZS(t.dom,n),!0},eE=function(t,e){var n=t.selection.getRng();if(!le.isText(n.commonAncestorContainer))return!1;var i=e?tc.Forwards:tc.Backwards,o=Vd(t.getBody()),r=h(Dd,o.next),s=h(Dd,o.prev),a=e?r:s,l=e?jm:Vm,u=Sd(i,t.getBody(),n),c=YC.normalizePosition(e,a(u));if(!c||!Ad(u,c))return!1;if(l(c))return tE(t,n,u.getNode(),i,e,c);var d=a(c);return!!(d&&l(d)&&Ad(c,d))&&tE(t,n,u.getNode(),i,e,d)},nE={backspaceDelete:function(t,e){return eE(t,e)}},iE=function(t){return!1!==t.settings.inline_boundaries},oE=function(t,e){var n=wt.document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n},rE=function(o){return Du(ih.firstPositionIn(o),ih.lastPositionIn(o),function(t,e){var n=YC.normalizePosition(!0,t),i=YC.normalizePosition(!1,e);return ih.nextPosition(o,n).map(function(t){return t.isEqual(i)}).getOr(!0)}).getOr(!0)},sE=function(e,n){return function(t){return $C.renderCaret(n,t).map(function(t){return Ak.setCaretPosition(e,t),!0}).getOr(!1)}},aE=function(t,e,n,i){var o=t.getBody(),r=h(YC.isInlineTarget,t);t.undoManager.ignore(function(){t.selection.setRng(oE(n,i)),t.execCommand("Delete"),gk.readLocation(r,o,nc.fromRangeStart(t.selection.getRng())).map(gk.inside).map(sE(t,e))}),t.nodeChanged()},lE=function(t,e){var n=md(e,t);return n||t},uE=function(n,i,o,r){var s=lE(n.getBody(),r.container()),a=h(YC.isInlineTarget,n),l=gk.readLocation(a,s,r);return l.bind(function(t){return o?t.fold(q(et.some(gk.inside(t))),et.none,q(et.some(gk.outside(t))),et.none):t.fold(et.none,q(et.some(gk.outside(t))),et.none,q(et.some(gk.inside(t))))}).map(sE(n,i)).getOrThunk(function(){var t=ih.navigate(o,s,r),e=t.bind(function(t){return gk.readLocation(a,s,t)});return l.isSome()&&e.isSome()?YC.findRootInline(a,s,r).map(function(t){return!!rE(t)&&(zy.deleteElement(n,o,rn.fromDom(t)),!0)}).getOr(!1):e.bind(function(){return t.map(function(t){return o?aE(n,i,r,t):aE(n,i,t,r),!0})}).getOr(!1)})},cE={backspaceDelete:function(t,e,n){if(t.selection.isCollapsed()&&iE(t)){var i=nc.fromRangeStart(t.selection.getRng());return uE(t,e,n,i)}return!1}},dE=function(t,e){var n=dm.parentsAndSelf(e,t);return At(n,So).fold(q(n),function(t){return n.slice(0,t)})},hE=function(t){return 1===ii(t).length},fE=function(t,e,n,i){var o=h(Xy,e),r=vt(St(i,o),function(t){return t.dom()});if(0===r.length)zy.deleteElement(e,t,n);else{var s=Gy(n.dom(),r);e.selection.setRng(s.toRange())}},pE=function(n,i){var t=rn.fromDom(n.getBody()),e=rn.fromDom(n.selection.getStart()),o=St(dE(t,e),hE);return Ft(o).map(function(t){var e=nc.fromRangeStart(n.selection.getRng());return!(!ZT.willDeleteLastPositionInElement(i,e,t.dom())||Qy(t))&&(fE(i,n,t,o),!0)}).getOr(!1)},gE={backspaceDelete:function(t,e){return!!t.selection.isCollapsed()&&pE(t,e)}},mE=function(t,e){return{start:q(t),end:q(e)}},vE=function(t,e,n){return{rng:q(t),table:q(e),cells:q(n)}},bE=Hf.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),yE=function(e){return function(t){return Un(e,t)}},wE=function(t,e){return bl(rn.fromDom(t),"td,th",e)},_E=function(t,e){return ml(t,"table",e)},xE=function(t){return!1===Un(t.start(),t.end())},CE=function(t,n){return _E(t.start(),n).bind(function(e){return _E(t.end(),n).bind(function(t){return zu(Un(e,t),e)})})},kE=function(t){return fl(t,"td,th")},TE=function(e,t){return _E(e.start(),t).bind(function(t){return Ft(kE(t)).map(function(t){return mE(e.start(),t)})})},SE=function(n,t){var e=wE(t.startContainer,n),i=wE(t.endContainer,n);return t.collapsed?et.none():Du(e,i,mE).fold(function(){return e.fold(function(){return i.bind(function(e){return _E(e,n).bind(function(t){return Lt(kE(t)).map(function(t){return mE(t,e)})})})},function(e){return _E(e,n).bind(function(t){return Ft(kE(t)).map(function(t){return mE(e,t)})})})},function(t){return EE(n,t)?et.none():TE(t,n)})},EE=function(t,e){return CE(e,t).isSome()},NE=function(t,e){var n=wE(t.startContainer,e),i=wE(t.endContainer,e);return Du(n,i,mE).filter(xE).filter(function(t){return EE(e,t)}).orThunk(function(){return SE(e,t)})},DE=function(e,t){return CE(e,t).map(function(t){return vE(e,t,kE(t))})},AE=function(t,e){var n=yE(t);return NE(e,n).bind(function(t){return DE(t,n)})},zE=function(t,e){return At(t,function(t){return Un(t,e)})},ME=function(n){return Du(zE(n.cells(),n.rng().start()),zE(n.cells(),n.rng().end()),function(t,e){return n.cells().slice(t,e+1)})},IE=function(n){return ME(n).map(function(t){var e=n.cells();return t.length===e.length?bE.removeTable(n.table()):bE.emptyCells(t)})},PE=function(t,e){return AE(t,e).bind(IE)},RE=function(t,e){return bt(e,Bb.fillWithPaddingBr),t.selection.setCursorLocation(e[0].dom(),0),!0},HE=function(t,e){return zy.deleteElement(t,!1,e),!0},OE=function(e,t,n){return PE(t,n).map(function(t){return t.fold(h(HE,e),h(RE,e))})},LE=function(t,e){return UE(t,e)},FE=function(e,t,n,i){return jE(t,i).fold(function(){return OE(e,t,n)},function(t){return LE(e,t)}).getOr(!1)},BE=function(t,e){var n=rn.fromDom(t.getBody()),i=t.selection.getRng(),o=Bx.getCellsFromEditor(t);return 0!==o.length?RE(t,o):FE(t,n,i,e)},$E=function(t,e){return Dt(dm.parentsAndSelf(e,t),Ro)},jE=function(t,e){return Dt(dm.parentsAndSelf(e,t),function(t){return"caption"===un(t)})},VE=function(t,e,n,i,o){return ih.navigate(n,t.getBody(),o).bind(function(t){return $E(e,rn.fromDom(t.getNode())).map(function(t){return!1===Un(t,i)})})},UE=function(t,e){return Bb.fillWithPaddingBr(e),t.selection.setCursorLocation(e.dom(),0),et.some(!0)},qE=function(t,n,i,o){return ih.firstPositionIn(t.dom()).bind(function(e){return ih.lastPositionIn(t.dom()).map(function(t){return n?i.isEqual(e)&&o.isEqual(t):i.isEqual(t)&&o.isEqual(e)})}).getOr(!0)},WE=function(t,e){return UE(t,e)},YE=function(t,e,n){return jE(t,rn.fromDom(n.getNode())).map(function(t){return!1===Un(t,e)})},KE=function(e,n,i,o,r){return ih.navigate(i,e.getBody(),r).bind(function(t){return qE(o,i,r,t)?WE(e,o):YE(n,o,t)}).or(et.some(!0))},GE=function(e,n,i,t){var o=nc.fromRangeStart(e.selection.getRng());return $E(i,t).bind(function(t){return hy.isEmpty(t)?UE(e,t):VE(e,i,n,t,o)}).getOr(!1)},XE=function(t,e,n,i){var o=nc.fromRangeStart(t.selection.getRng());return hy.isEmpty(i)?UE(t,i):KE(t,n,e,i,o)},QE=function(t,e){return t?Bm(e):$m(e)},JE=function(t,e){var n=nc.fromRangeStart(t.selection.getRng());return QE(e,n)||ih.fromPosition(e,t.getBody(),n).map(function(t){return QE(e,t)}).getOr(!1)},ZE=function(e,n,t){var i=rn.fromDom(e.getBody());return jE(i,t).fold(function(){return GE(e,n,i,t)||JE(e,n)},function(t){return XE(e,n,i,t).getOr(!1)})},tN={backspaceDelete:function(t,e){var n=rn.fromDom(t.selection.getStart(!0)),i=Bx.getCellsFromEditor(t);return t.selection.isCollapsed()&&0===i.length?ZE(t,e,n):BE(t,n)}},eN=function(e,n){var t=nc.fromRangeStart(e.selection.getRng());return ih.fromPosition(n,e.getBody(),t).filter(function(t){return n?Lm(t):Fm(t)}).bind(function(t){return et.from(bd(n?0:-1,t))}).map(function(t){return e.selection.select(t),!0}).getOr(!1)},nN={backspaceDelete:function(t,e){return!!t.selection.isCollapsed()&&eN(t,e)}},iN=function(t){return gl(t,function(t){return le.isContentEditableTrue(t.dom())||le.isContentEditableFalse(t.dom())}).exists(function(t){return le.isContentEditableTrue(t.dom())})},oN=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},rN=function(t,e){return(t||Eo(e)?"margin":"padding")+("rtl"===An(e,"direction")?"-right":"-left")},sN=function(t,e,n,i,o,r){var s=rN(n,rn.fromDom(r));if("outdent"===e){var a=Math.max(0,oN(r.style[s])-i);t.setStyle(r,s,a?a+o:"")}else{a=oN(r.style[s])+i+o;t.setStyle(r,s,a)}},aN=function(i,t){return It(t,function(t){var e=rN(xf.shouldIndentUseMargin(i),t),n=Mn(t,e).map(oN).getOr(0);return"false"!==i.dom.getContentEditable(t.dom())&&0<n})},lN=function(t){var e=dN(t);return!0!==t.readonly&&(1<e.length||aN(t,e))},uN=function(t){return zo(t)||Mo(t)},cN=function(t){return Qn(t).map(uN).getOr(!1)},dN=function(t){return St(vt(t.selection.getSelectedBlocks(),rn.fromDom),function(t){return!uN(t)&&!cN(t)&&iN(t)})},hN=function(t,e){var n=t.dom,i=t.selection,o=t.formatter,r=xf.getIndentation(t),s=/[a-z%]+$/i.exec(r)[0],a=parseInt(r,10),l=xf.shouldIndentUseMargin(t),u=xf.getForcedRootBlock(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==u||n.getParent(i.getNode(),n.isBlock)||o.apply("div"),bt(dN(t),function(t){sN(n,e,l,a,s,t.dom())})},fN=function(t,e,n){return ih.navigateIgnore(t,e,n,Pm)},pN=function(t,e){return Dt(dm.parentsAndSelf(rn.fromDom(e.container()),t),So)},gN=function(t,n,i){return fN(t,n.dom(),i).forall(function(e){return pN(n,i).fold(function(){return!1===vd(e,i,n.dom())},function(t){return!1===vd(e,i,n.dom())&&Yn(t,rn.fromDom(e.container()))})})},mN=function(e,n,i){return pN(n,i).fold(function(){return fN(e,n.dom(),i).forall(function(t){return!1===vd(t,i,n.dom())})},function(t){return fN(e,t.dom(),i).isNone()})},vN=h(mN,!1),bN=h(mN,!0),yN=h(gN,!1),wN=h(gN,!0),_N={backspaceDelete:function(t){if(t.selection.isCollapsed()&&lN(t)){var e=t.dom,n=t.selection.getRng(),i=nc.fromRangeStart(n),o=e.getParent(n.startContainer,e.isBlock);if(null!==o&&vN(rn.fromDom(o),i))return hN(t,"outdent"),!0}return!1}},xN=function(t,e,n){KT.execute([{keyCode:Em.BACKSPACE,action:KT.action(_N.backspaceDelete,t,!1)},{keyCode:Em.BACKSPACE,action:KT.action(JS.backspaceDelete,t,!1)},{keyCode:Em.DELETE,action:KT.action(JS.backspaceDelete,t,!0)},{keyCode:Em.BACKSPACE,action:KT.action(nE.backspaceDelete,t,!1)},{keyCode:Em.DELETE,action:KT.action(nE.backspaceDelete,t,!0)},{keyCode:Em.BACKSPACE,action:KT.action(cE.backspaceDelete,t,e,!1)},{keyCode:Em.DELETE,action:KT.action(cE.backspaceDelete,t,e,!0)},{keyCode:Em.BACKSPACE,action:KT.action(tN.backspaceDelete,t,!1)},{keyCode:Em.DELETE,action:KT.action(tN.backspaceDelete,t,!0)},{keyCode:Em.BACKSPACE,action:KT.action(nN.backspaceDelete,t,!1)},{keyCode:Em.DELETE,action:KT.action(nN.backspaceDelete,t,!0)},{keyCode:Em.BACKSPACE,action:KT.action(ES.backspaceDelete,t,!1)},{keyCode:Em.DELETE,action:KT.action(ES.backspaceDelete,t,!0)},{keyCode:Em.BACKSPACE,action:KT.action(wS.backspaceDelete,t,!1)},{keyCode:Em.DELETE,action:KT.action(wS.backspaceDelete,t,!0)},{keyCode:Em.BACKSPACE,action:KT.action(gE.backspaceDelete,t,!1)},{keyCode:Em.DELETE,action:KT.action(gE.backspaceDelete,t,!0)}],n).each(function(){n.preventDefault()})},CN=function(t,e){KT.execute([{keyCode:Em.BACKSPACE,action:KT.action(JS.paddEmptyElement,t)},{keyCode:Em.DELETE,action:KT.action(JS.paddEmptyElement,t)}],e)},kN={setup:function(e,n){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&xN(e,n,t)}),e.on("keyup",function(t){!1===t.isDefaultPrevented()&&CN(e,t)})}},TN=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},SN=function(t){return et.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},EN=function(t){return SN(t).fold(q(""),function(t){return t.nodeName.toUpperCase()})},NN=function(t){return SN(t).filter(function(t){return Mo(rn.fromDom(t))}).isSome()},DN={moveToCaretPosition:function(t,e){var n,i,o=e,r=t.dom,s=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var a=TN(e.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&e.insertBefore(r.doc.createTextNode("\xa0"),e.firstChild)}if(i=r.createRng(),e.normalize(),e.hasChildNodes()){for(var l=new oa(e,e);n=l.current();){if(le.isText(n)){i.setStart(n,0),i.setEnd(n,0);break}if(s[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}o=n,n=l.next()}n||(i.setStart(o,0),i.setEnd(o,0))}else le.isBr(e)?e.nextSibling&&r.isBlock(e.nextSibling)?(i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)):(i.setStart(e,0),i.setEnd(e,0));t.selection.setRng(i),t.selection.scrollIntoView(e)}},getEditableRoot:function(t,e){var n,i,o=t.getRoot();for(n=e;n!==o&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==o?i:o},getParentBlock:SN,getParentBlockName:EN,isListItemParentBlock:NN},AN=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},zN=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},MN=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},IN=function(t){return MN(t)&&MN(t.parentNode)},PN=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},RN=function(t,e,n){for(var i=t[n?"firstChild":"lastChild"];i&&!le.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===e},HN={insert:function(t,e,n,i,o){var r=t.dom,s=t.selection.getRng();if(n!==t.getBody()){IN(n)&&(o="LI");var a=o?e(o):r.create("BR");if(RN(n,i,!0)&&RN(n,i,!1))zN(n,"LI")?r.insertAfter(a,PN(n)):r.replace(a,n);else if(RN(n,i,!0))zN(n,"LI")?(r.insertAfter(a,PN(n)),a.appendChild(r.doc.createTextNode(" ")),a.appendChild(n)):n.parentNode.insertBefore(a,n);else if(RN(n,i,!1))r.insertAfter(a,PN(n));else{n=PN(n);var l=s.cloneRange();l.setStartAfter(i),l.setEndAfter(n);var u=l.extractContents();"LI"===o&&AN(u,"LI")?(a=u.firstChild,r.insertAfter(u,n)):(r.insertAfter(u,n),r.insertAfter(a,n))}r.remove(i),DN.moveToCaretPosition(t,a)}}},ON=function(t){bt(hl(rn.fromDom(t),fn),function(t){var e=t.dom();e.nodeValue=Fl.trim(e.nodeValue)})},LN=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},FN=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},BN=function(t){t.innerHTML='<br data-mce-bogus="1">'},$N=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},jN=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},VN=function(t,e,n){var i,o=n,r=[];if(o){for(;o=o.firstChild;){if(t.isBlock(o))return;le.isElement(o)&&!e[o.nodeName.toLowerCase()]&&r.push(o)}for(i=r.length;i--;)!(o=r[i]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?t.remove(o):LN(t,o)&&t.remove(o)}},UN=function(t,e,n){return!1===le.isText(e)?n:t?1===n&&e.data.charAt(n-1)===Fl.ZWSP?0:n:n===e.data.length-1&&e.data.charAt(n)===Fl.ZWSP?e.data.length:n},qN=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,UN(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,UN(!1,t.endContainer,t.endOffset)),e},WN=function(t){for(;le.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;);},YN=function(t,e){var n,i,o=t.getRoot();for(n=e;n!==o&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==o?i:o},KN=function(t,e){var n=xf.getForcedRootBlock(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,xf.getForcedRootBlockAttrs(t))},GN=function(t,e,n,i,o){var r,s,a,l,u,c,d=e||"P",h=t.dom,f=YN(h,i);if(!(s=h.getParent(i,h.isBlock))||!jN(h,s)){if(c=(s=s||f)===t.getBody()||FN(s)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return r=h.create(d),KN(t,r),s.appendChild(r),n.setStart(r,0),n.setEnd(r,0),r;for(l=i;l.parentNode!==s;)l=l.parentNode;for(;l&&!h.isBlock(l);)l=(a=l).previousSibling;if(a&&t.schema.isValidChild(c,d.toLowerCase())){for(r=h.create(d),KN(t,r),a.parentNode.insertBefore(r,a),l=a;l&&!h.isBlock(l);)u=l.nextSibling,r.appendChild(l),l=u;n.setStart(i,o),n.setEnd(i,o)}}return i},XN=function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")},QN={insert:function(s,t){var e,a,l,r,u,n,i,o,c,d,h,f,p,g=s.dom,m=s.schema,v=m.getNonEmptyElements(),b=s.selection.getRng(),y=function(t){var e,n,i,o=l,r=m.getTextInlineElements();if(t||"TABLE"===d||"HR"===d?(e=g.create(t||f),KN(s,e)):e=u.cloneNode(!1),i=e
,!1===xf.shouldKeepStyles(s))g.setAttrib(e,"style",null),g.setAttrib(e,"class",null);else do{if(r[o.nodeName]){if(Oc(o)||xh.isBookmarkNode(o))continue;n=o.cloneNode(!1),g.setAttrib(n,"id",""),e.hasChildNodes()?n.appendChild(e.firstChild):i=n,e.appendChild(n)}}while((o=o.parentNode)&&o!==a);return BN(i),e},w=function(t){var e,n,i=UN(t,l,r);if(le.isText(l)&&(t?0<i:i<l.nodeValue.length))return!1;if(l.parentNode===u&&p&&!t)return!0;if(t&&le.isElement(l)&&l===u.firstChild)return!0;if($N(l,"TABLE")||$N(l,"HR"))return p&&!t||!p&&t;var o=new oa(l,u);for(le.isText(l)&&(t&&0===i?o.prev():t||i!==l.nodeValue.length||o.next());e=o.current();){if(le.isElement(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),v[n]&&"br"!==n))return!1}else if(le.isText(e)&&!/^[ \t\r\n]*$/.test(e.nodeValue))return!1;t?o.prev():o.next()}return!0},_=function(){i=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==h?y(f):y(),xf.shouldEndContainerOnEmptyBlock(s)&&jN(g,c)&&g.isEmpty(u)?i=g.split(c,u):g.insertAfter(i,u),DN.moveToCaretPosition(s,i)};hC.normalize(g,b).each(function(t){b.setStart(t.startContainer,t.startOffset),b.setEnd(t.endContainer,t.endOffset)}),l=b.startContainer,r=b.startOffset,f=xf.getForcedRootBlock(s),n=!(!t||!t.shiftKey);var x=!(!t||!t.ctrlKey);le.isElement(l)&&l.hasChildNodes()&&(p=r>l.childNodes.length-1,l=l.childNodes[Math.min(r,l.childNodes.length-1)]||l,r=p&&le.isText(l)?l.nodeValue.length:0),(a=YN(g,l))&&((f&&!n||!f&&n)&&(l=GN(s,f,b,l,r)),u=g.getParent(l,g.isBlock),c=u?g.getParent(u.parentNode,g.isBlock):null,d=u?u.nodeName.toUpperCase():"","LI"!==(h=c?c.nodeName.toUpperCase():"")||x||(c=(u=c).parentNode,d=h),/^(LI|DT|DD)$/.test(d)&&g.isEmpty(u)?HN.insert(s,y,c,u,f):f&&u===s.getBody()||(f=f||"P",jl(u)?(i=tu(u),g.isEmpty(u)&&BN(u),DN.moveToCaretPosition(s,i)):w()?_():w(!0)?(i=u.parentNode.insertBefore(y(),u),DN.moveToCaretPosition(s,$N(u,"HR")?i:u)):((e=qN(b).cloneRange()).setEndAfter(u),o=e.extractContents(),ON(o),WN(o),i=o.firstChild,g.insertAfter(o,u),VN(g,v,i),XN(g,u),g.isEmpty(u)&&BN(u),i.normalize(),g.isEmpty(i)?(g.remove(i),_()):DN.moveToCaretPosition(s,i)),g.setAttrib(i,"id",""),s.fire("NewBlock",{newBlock:i})))}},JN=function(t,e,n){for(var i,o=new oa(e,n),r=t.getNonEmptyElements();i=o.next();)if(r[i.nodeName.toLowerCase()]||0<i.length)return!0},ZN=function(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)},tD=function(t,e,n,i){var o=t.createRng();i?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),e.setRng(o)},eD=function(t,e){var n,i,o=t.selection,r=t.dom,s=o.getRng();hC.normalize(r,s).each(function(t){s.setStart(t.startContainer,t.startOffset),s.setEnd(t.endContainer,t.endOffset)});var a=s.startOffset,l=s.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=u&&3===l.nodeType?l.nodeValue.length:0}var c=r.getParent(l,r.isBlock),d=c?r.getParent(c.parentNode,r.isBlock):null,h=d?d.nodeName.toUpperCase():"",f=!(!e||!e.ctrlKey);"LI"!==h||f||(c=d),l&&3===l.nodeType&&a>=l.nodeValue.length&&(JN(t.schema,l,c)||(n=r.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),i=!0)),n=r.create("br"),wc(r,s,n),ZN(r,o,n),tD(r,o,n,i),t.undoManager.add()},nD=function(t,e){var n=rn.fromTag("br");ra(rn.fromDom(e),n),t.undoManager.add()},iD=function(t,e){rD(t.getBody(),e)||sa(rn.fromDom(e),rn.fromTag("br"));var n=rn.fromTag("br");sa(rn.fromDom(e),n),ZN(t.dom,t.selection,n.dom()),tD(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},oD=function(t){return le.isBr(t.getNode())},rD=function(t,e){return!!oD(nc.after(e))||ih.nextPosition(t,nc.after(e)).map(function(t){return le.isBr(t.getNode())}).getOr(!1)},sD=function(t){return t&&"A"===t.nodeName&&"href"in t},aD=function(t){return t.fold(q(!1),sD,sD,q(!1))},lD=function(t){var e=h(YC.isInlineTarget,t),n=nc.fromRangeStart(t.selection.getRng());return gk.readLocation(e,t.getBody(),n).filter(aD)},uD=function(t,e){e.fold(V,h(nD,t),h(iD,t),V)},cD={insert:function(t,e){var n=lD(t);n.isSome()?n.each(h(uD,t)):eD(t,e)}},dD=function(t,e){return DN.getParentBlock(t).filter(function(t){return 0<e.length&&Bn(rn.fromDom(t),e)}).isSome()},hD={shouldInsertBr:function(t){return dD(t,xf.getBrNewLineSelector(t))},shouldBlockNewLine:function(t){return dD(t,xf.getNoNewLineSelector(t))}},fD=Hf.generate([{br:[]},{block:[]},{none:[]}]),pD=function(t){return hD.shouldBlockNewLine(t)},gD=function(e){return function(t){return""===xf.getForcedRootBlock(t)===e}},mD=function(e){return function(t){return DN.isListItemParentBlock(t)===e}},vD=function(e,n){return function(t){return DN.getParentBlockName(t)===e.toUpperCase()===n}},bD=function(t){return vD("pre",t)},yD=function(){return vD("summary",!0)},wD=function(e){return function(t){return xf.shouldPutBrInPre(t)===e}},_D=function(t){return hD.shouldInsertBr(t)},xD=function(t,e){return e},CD=function(t){var e=xf.getForcedRootBlock(t),n=DN.getEditableRoot(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},kD=function(t,e){return function(n,i){return Nt(t,function(t,e){return t&&e(n,i)},!0)?et.some(e):et.none()}},TD={getAction:function(t,e){return KC.evaluateUntil([kD([pD],fD.none()),kD([yD()],fD.br()),kD([bD(!0),wD(!1),xD],fD.br()),kD([bD(!0),wD(!1)],fD.block()),kD([bD(!0),wD(!0),xD],fD.block()),kD([bD(!0),wD(!0)],fD.br()),kD([mD(!0),xD],fD.br()),kD([mD(!0)],fD.block()),kD([gD(!0),xD,CD],fD.block()),kD([gD(!0)],fD.br()),kD([_D],fD.br()),kD([gD(!1),xD],fD.br()),kD([CD],fD.block())],[t,!(!e||!e.shiftKey)]).getOr(fD.none())}},SD={insert:function(t,e){TD.getAction(t,e).fold(function(){cD.insert(t,e)},function(){QN.insert(t,e)},V)}},ED=function(t,e){e.isDefaultPrevented()||(e.preventDefault(),Cb(t.undoManager),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),SD.insert(t,e)}))},ND={setup:function(e){e.on("keydown",function(t){t.keyCode===Em.ENTER&&ED(e,t)})}},DD=function(n,i){var t=i.container(),e=i.offset();return le.isText(t)?(t.insertData(e,n),et.some(C(t,e+n.length))):Ed(i).map(function(t){var e=rn.fromText(n);return i.isAtEnd()?sa(t,e):ra(t,e),C(e.dom(),n.length)})},AD=h(DD,"\xa0"),zD=h(DD," "),MD="\xa0",ID=function(t){return C.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},PD=function(t,e){var n=St(dm.parentsAndSelf(rn.fromDom(e.container()),t),So);return Lt(n).getOr(t)},RD=function(t,e){return ID(e)?Im(e):Im(e)||ih.prevPosition(PD(t,e).dom(),e).exists(Im)},HD=function(t,e){return ID(e)?Mm(e):Mm(e)||ih.nextPosition(PD(t,e).dom(),e).exists(Mm)},OD=function(t){return gt(["pre","pre-wrap"],t)},LD=function(t){return Ed(t).bind(function(t){return gl(t,hn)}).exists(function(t){return OD(An(t,"white-space"))})},FD=function(t,e){return ih.prevPosition(t.dom(),e).isNone()},BD=function(t,e){return ih.nextPosition(t.dom(),e).isNone()},$D=function(t,e){return FD(t,e)||BD(t,e)||vN(t,e)||bN(t,e)||zS(t,e)||AS(t,e)},jD=function(t,e){return!LD(e)&&($D(t,e)||RD(t,e)||HD(t,e))},VD=function(t,e){return!LD(e)&&(vN(t,e)||yN(t,e)||zS(t,e)||RD(t,e))},UD=function(t){var e=t.container(),n=t.offset();return le.isText(e)&&n<e.data.length?C(e,n+1):t},qD=function(t,e){var n=UD(e);return!LD(n)&&(bN(t,n)||wN(t,n)||AS(t,n)||HD(t,n))},WD=function(t,e){return VD(t,e)||qD(t,e)},YD=function(t,e){return Nm(t.charAt(e))},KD=function(t){var e=t.container();return le.isText(e)&&$e(e.data,MD)},GD=function(t){var n=t.split("");return vt(n,function(t,e){return Nm(t)&&0<e&&e<n.length-1&&Am(n[e-1])&&Am(n[e+1])?" ":t}).join("")},XD=function(t,e){var n=e.data,i=C(e,0);return!(!YD(n,0)||WD(t,i))&&(e.data=" "+n.slice(1),!0)},QD=function(t){var e=t.data,n=GD(e);return n!==e&&(t.data=n,!0)},JD=function(t,e){var n=e.data,i=C(e,n.length-1);return!(!YD(n,n.length-1)||WD(t,i))&&(e.data=n.slice(0,-1)+" ",!0)},ZD=function(n,t){return et.some(t).filter(KD).bind(function(t){var e=t.container();return XD(n,e)||QD(e)||JD(n,e)?et.some(t):et.none()})},tA=function(e){var t=rn.fromDom(e.getBody());e.selection.isCollapsed()&&ZD(t,C.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},eA=function(e){return function(t){return t.fold(function(t){return ih.prevPosition(e.dom(),nc.before(t))},function(t){return ih.firstPositionIn(t)},function(t){return ih.lastPositionIn(t)},function(t){return ih.nextPosition(e.dom(),nc.after(t))})}},nA=function(e,n){return function(t){return jD(e,t)?AD(n):zD(n)}},iA=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},oA=function(t){var e=nc.fromRangeStart(t.selection.getRng()),n=rn.fromDom(t.getBody());if(t.selection.isCollapsed()){var i=h(YC.isInlineTarget,t),o=nc.fromRangeStart(t.selection.getRng());return gk.readLocation(i,t.getBody(),o).bind(eA(n)).bind(nA(n,e)).exists(iA(t))}return!1},rA=function(t,e){KT.execute([{keyCode:Em.SPACEBAR,action:KT.action(oA,t)}],e).each(function(){e.preventDefault()})},sA={setup:function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&rA(e,t)})}},aA=function(t){return vl(rn.fromDom(t.getBody()),"*[data-mce-caret]").fold(q(null),function(t){return t.dom()})},lA=function(t){t.selection.setRng(t.selection.getRng())},uA=function(t,e){e.hasAttribute("data-mce-caret")&&(tu(e),lA(t),t.selection.scrollIntoView(e))},cA=function(t,e){var n=aA(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void uA(t,n)):void(ql(n)&&(uA(t,n),t.undoManager.add()))},dA={setup:function(t){t.on("keyup compositionstart",h(cA,t))}},hA=Ze().browser,fA=function(t){var e=Za(function(){t.composing||tA(t)},0);hA.isIE()&&(t.on("keypress",function(){e.throttle()}),t.on("remove",function(){e.cancel()}))},pA=function(e){fA(e),e.on("input",function(t){!1===t.isComposing&&tA(e)})},gA=function(t,e){KT.execute([{keyCode:Em.END,action:sT(t,!0)},{keyCode:Em.HOME,action:sT(t,!1)}],e).each(function(){e.preventDefault()})},mA={setup:function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&gA(e,t)})}},vA={setup:function(t){var e=Ak.setupSelectedState(t);dA.setup(t),XT.setup(t,e),kN.setup(t,e),ND.setup(t),sA.setup(t),pA(t),mA.setup(t)}},bA=function(s){var o=go.each,r=Em.BACKSPACE,a=Em.DELETE,l=s.dom,u=s.selection,e=s.settings,t=s.parser,n=Yi.gecko,i=Yi.ie,c=Yi.webkit,d="data:text/mce-internal,",h=i?"Text":"URL",f=function(t,e){try{s.getDoc().execCommand(t,!1,e)}catch(n){}},p=function(t){return t.isDefaultPrevented()},g=function(t){var e,n;t.dataTransfer&&(s.selection.isCollapsed()&&"IMG"===t.target.tagName&&u.select(t.target),0<(e=s.selection.getContent()).length&&(n=d+escape(s.id)+","+escape(e),t.dataTransfer.setData(h,n)))},m=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(h))&&0<=e.indexOf(d)?(e=e.substr(d.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},v=function(t,e){s.queryCommandSupported("mceInsertClipboardContent")?s.execCommand("mceInsertClipboardContent",!1,{content:t,internal:e}):s.execCommand("mceInsertContent",!1,t)},b=function(){var i=function(t){var e=l.create("body"),n=t.cloneContents();return e.appendChild(n),u.serializer.serialize(e,{format:"html"})},o=function(t){var e=i(t),n=l.createRng();return n.selectNode(s.getBody()),e===i(n)};s.on("keydown",function(t){var e,n,i=t.keyCode;if(!p(t)&&(i===a||i===r)){if(e=s.selection.isCollapsed(),n=s.getBody(),e&&!l.isEmpty(n))return;if(!e&&!o(s.selection.getRng()))return;t.preventDefault(),s.setContent(""),n.firstChild&&l.isBlock(n.firstChild)?s.selection.setCursorLocation(n.firstChild,0):s.selection.setCursorLocation(n,0),s.nodeChanged()}})},y=function(){s.shortcuts.add("meta+a",null,"SelectAll")},w=function(){s.inline||l.bind(s.getDoc(),"mousedown mouseup",function(t){var e;if(t.target===s.getDoc().documentElement)if(e=u.getRng(),s.getBody().focus(),"mousedown"===t.type){if(Ul(e.startContainer))return;u.placeCaretAt(t.clientX,t.clientY)}else u.setRng(e)})},_=function(){s.on("keydown",function(t){if(!p(t)&&t.keyCode===r){if(!s.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&0===u.getRng().startOffset){var e=u.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return l.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(l.remove(n),t.preventDefault())}}})},x=function(){wt.Range.prototype.getClientRects||s.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var e=s.getBody();e.blur(),Li.setEditorTimeout(s,function(){e.focus()})}})},C=function(){s.on("click",function(t){var e=t.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==l.getContentEditableParent(e)&&(t.preventDefault(),s.selection.select(e),s.nodeChanged()),"A"===e.nodeName&&l.hasClass(e,"mce-item-anchor")&&(t.preventDefault(),u.select(e))})},k=function(){var n=function(){var t=l.getAttribs(u.getStart().cloneNode(!1));return function(){var e=u.getStart();e!==s.getBody()&&(l.setAttrib(e,"style",null),o(t,function(t){e.setAttributeNode(t.cloneNode(!0))}))}},i=function(){return!u.isCollapsed()&&l.getParent(u.getStart(),l.isBlock)!==l.getParent(u.getEnd(),l.isBlock)};s.on("keypress",function(t){var e;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&i())return e=n(),s.getDoc().execCommand("delete",!1,null),e(),t.preventDefault(),!1}),l.bind(s.getDoc(),"cut",function(t){var e;!p(t)&&i()&&(e=n(),Li.setEditorTimeout(s,function(){e()}))})},T=function(){s.on("keydown",function(t){if(!p(t)&&t.keyCode===r&&u.isCollapsed()&&0===u.getRng().startOffset){var e=u.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})},S=function(){var t=function(){f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),e.object_resizing||f("enableObjectResizing",!1)};e.readonly||s.on("BeforeExecCommand mousedown",t)},E=function(){var e=function(){o(l.select("a"),function(t){var e=t.parentNode,n=l.getRoot();if(e.lastChild===t){for(;e&&!l.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}l.add(e,"br",{"data-mce-bogus":1})}})};s.on("SetContent ExecCommand",function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||e()})},N=function(){e.forced_root_block&&s.on("init",function(){f("DefaultParagraphSeparator",xf.getForcedRootBlock(s))})},D=function(){s.on("keyup focusin mouseup",function(t){Em.modifierPressed(t)||u.normalize()},!0)},A=function(){s.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},z=function(){s.inline||s.on("keydown",function(){wt.document.activeElement===wt.document.body&&s.getWin().focus()})},M=function(){s.inline||(s.contentStyles.push("body {min-height: 150px}"),s.on("click",function(t){var e;if("HTML"===t.target.nodeName){if(11<Yi.ie)return void s.getBody().focus();e=s.selection.getRng(),s.getBody().focus(),s.selection.setRng(e),s.selection.normalize(),s.nodeChanged()}}))},I=function(){Yi.mac&&s.on("keydown",function(t){!Em.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),s.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},P=function(){f("AutoUrlDetect",!1)},R=function(){s.on("click",function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)}),s.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},H=function(){s.on("init",function(){s.dom.bind(s.getBody(),"submit",function(t){t.preventDefault()})})},O=function(){t.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})},L=function(){s.on("dragstart",function(t){g(t)}),s.on("drop",function(t){if(!p(t)){var e=m(t);if(e&&e.id!==s.id){t.preventDefault();var n=mx.fromPoint(t.x,t.y,s.getDoc());u.setRng(n),v(e.html,!0)}}})},F=function(){},B=function(){var t;return!(!n||s.removed)&&(!(t=s.selection.getSel())||!t.rangeCount||0===t.rangeCount)};return function(){s.on("keydown",function(t){var e,n,i,o,r;if(!p(t)&&t.keyCode===Em.BACKSPACE&&(n=(e=u.getRng()).startContainer,i=e.startOffset,o=l.getRoot(),r=n,e.collapsed&&0===i)){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==o;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(s.formatter.toggle("blockquote",null,r),(e=l.createRng()).setStart(n,0),e.setEnd(n,0),u.setRng(e))}})}(),b(),Yi.windowsPhone||D(),c&&(w(),C(),N(),H(),T(),O(),Yi.iOS?(z(),M(),R()):y()),11<=Yi.ie&&(M(),T()),Yi.ie&&(y(),P(),L()),n&&(_(),x(),k(),S(),E(),A(),I(),T()),{refreshContentEditable:F,isHidden:B}},yA=function(t){return le.isElement(t)&&Ao(rn.fromDom(t))},wA=function(t){var e=t.selection.getRng(),n=C.fromRangeStart(e),i=C.fromRangeEnd(e);if(C.isElementPosition(n)){var o=n.container();yA(o)&&ih.firstPositionIn(o).each(function(t){return e.setStart(t.container(),t.offset())})}if(C.isElementPosition(i)){o=n.container();yA(o)&&ih.lastPositionIn(o).each(function(t){return e.setEnd(t.container(),t.offset())})}t.selection.setRng(Rw.normalize(e))},_A=function(e){e.on("click",function(t){3<=t.detail&&wA(e)})},xA=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},CA=function(t){t.parser.addNodeFilter("details",function(t){bt(t,function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")})}),t.serializer.addNodeFilter("details",function(t){bt(t,function(t){var e=t.attr("data-mce-open");t.attr("open",kt(e)?e:null),t.attr("data-mce-open",null)})})},kA=function(t){xA(t),CA(t)},TA=Ha.DOM,SA=function(t,e){var n=rn.fromDom(t.getDoc().head),i=rn.fromTag("style");Tn(i,"type","text/css"),la(i,rn.fromText(e)),la(n,i)},EA=function(a){var t=C_(a.settings,a.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,e){for(var n,i,o,r=t.length,s=a.dom;r--;)if(i=(n=t[r]).attr(e),o="data-mce-"+e,!n.attr(o)){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===e?((i=s.serializeStyle(s.parseStyle(i),n.name)).length||(i=null),n.attr(o,i),n.attr(e,i)):"tabindex"===e?(n.attr(o,i),n.attr(e,null)):n.attr(o,a.convertURL(i,e,n.name))}}),t.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)0!==(n=(e=t[i]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var e,n=t.length,i=a.schema.getNonEmptyElements();n--;)(e=t[n]).isEmpty(i)&&0===e.getAll("br").length&&(e.append(new lf("br",1)).shortEnded=!0)}),t},NA=function(e){e.settings.auto_focus&&Li.setEditorTimeout(e,function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()},100)},DA=function(t){t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),NA(t)},AA=function(t){return t.inline?TA.styleSheetLoader:t.dom.styleSheetLoader},zA={initContentBody:function(e,t){var n,i,o=e.settings,r=e.getElement(),s=e.getDoc();o.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(s.open(),s.write(e.iframeHTML),s.close()),e.inline&&(e.on("remove",function(){var t=this.getBody();TA.removeClass(t,"mce-content-body"),TA.removeClass(t,"mce-edit-focus"),TA.setAttrib(t,"contentEditable",null)}),TA.addClass(r,"mce-content-body"),e.contentDocument=s=wt.document,e.contentWindow=wt.window,e.bodyElement=r,e.contentAreaContainer=r,o.root_name=r.nodeName.toLowerCase()),(n=e.getBody()).disabled=!0,e.readonly=o.readonly,e.readonly||(e.inline&&"static"===TA.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=e.getParam("content_editable_state",!0)),n.disabled=!1,e.editorUpload=sm(e),e.schema=xt(o),e.dom=Ha(s,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:o.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:xf.shouldUseContentCssCors(e),referrerPolicy:xf.getReferrerPolicy(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=EA(e),e.serializer=z_(o,e),e.selection=DC(e.dom,e.getWin(),e.serializer,e),e.annotator=of(e),e.formatter=n_(e),e.undoManager=Ob(e),e._nodeChangeDispatcher=new Sm(e),e._selectionOverrides=Jv(e),kA(e),_A(e),vA.setup(e),vm.setup(e),e.fire("PreInit"),o.browser_spellcheck||o.gecko_spellcheck||(s.body.spellcheck=!1,TA.setAttrib(n,"spellcheck","false")),e.quirks=bA(e),e.fire("PostRender");var a=xf.getDirectionality(e);a!==undefined&&(n.dir=a),o.protect&&e.on("BeforeSetContent",function(e){go.each(o.protect,function(t){e.content=e.content.replace(t,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),0<e.contentStyles.length&&(i="",go.each(e.contentStyles,function(t){i+=t+"\r\n"}),e.dom.addStyle(i)),AA(e).loadAll(e.contentCSS,function(){DA(e)},function(){DA(e)}),o.content_style&&SA(e,o.content_style)}},MA=Ha.DOM,IA=function(t,e){if(wt.document.domain!==wt.window.location.hostname&&Yi.browser.isIE()){var n=om.uuid("mce");t[n]=function(){zA.initContentBody(t)};var i='javascript:(function(){document.open();document.domain="'+wt.document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return MA.setAttrib(e,"src",i),!0}return!1},PA=function(t,e,n,i){var o=rn.fromTag("iframe");return Sn(o,i),Sn(o,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),ll(o,"tox-edit-area__iframe"),o},RA=function(t){var e,n,i;return i=xf.getDocType(t)+"<html><head>",xf.getDocumentBaseUrl(t)!==t.documentBaseUrl&&(i+='<base href="'+t.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=xf.getBodyId(t),n=xf.getBodyClass(t),xf.getContentSecurityPolicy(t)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+xf.getContentSecurityPolicy(t)+'" />'),i+='</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'},HA=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),i=PA(t.id,n,e.height,xf.getIframeAttrs(t)).dom();i.onload=function(){i.onload=null,t.fire("load")};var o=IA(t,i);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=i,t.iframeHTML=RA(t),MA.add(e.iframeContainer,i),o},OA={init:function(t,e){var n=HA(t,e);e.editorContainer&&(MA.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=MA.isHidden(e.editorContainer)),t.getElement().style.display="none",MA.setAttrib(t.id,"aria-hidden","true"),n||zA.initContentBody(t)}},LA=function(t){return/^[a-z0-9\-]+$/i.test(t)},FA=function(e){var t=xf.getContentCss(e),n=e.editorManager.baseURL+"/skins/content",i="content"+e.editorManager.suffix+".css",o=!0===e.inline;return vt(t,function(t){return LA(t)&&!o?n+"/"+t+"/"+i:e.documentBaseURI.toAbsolute(t)})},BA=function(t){t.contentCSS=t.contentCSS.concat(FA(t))},$A=Ha.DOM,jA=function(e,n,t){var i=Wg.get(t),o=Wg.urls[t]||e.documentBaseUrl.replace(/\/$/,"");if(t=go.trim(t),i&&-1===go.inArray(n,t)){if(go.each(Wg.dependencies(t),function(t){jA(e,n,t)}),e.plugins[t])return;try{var r=new i(e,o,e.$);(e.plugins[t]=r).init&&(r.init(e,o),n.push(t))}catch(eP){Vg.pluginInitError(e,t,eP)}}},VA=function(t){return t.replace(/^\-/,"")},UA=function(e){var n=[];go.each(e.settings.plugins.split(/[ ,]/),function(t){jA(e,n,VA(t))})},qA=function(n){var t=go.trim(n.settings.icons),i=n.ui.registry.getAll().icons,e=Ug(),o=$t($t({},e),qg.get(t).icons);mn(o,function(t,e){_n(i,e)||n.ui.registry.addIcon(e,t)})},WA=function(t){var e=t.settings.theme;if(kt(e)){t.settings.theme=VA(e);var n=Yg.get(e);t.theme=new n(t,Yg.urls[e]),t.theme.init&&t.theme.init(t,Yg.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}},YA=function(t){return t.theme.renderUI()},KA=function(t){var e=t.getElement(),n=(0,t.settings.theme)(t,e);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:e.offsetHeight,n},GA=function(t){return{editorContainer:t,iframeContainer:t}},XA=function(t){var e=$A.create("div");return $A.insertAfter(e,t),GA(e)},QA=function(t){var e=t.getElement();return t.inline?GA(null):XA(e)},JA=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,kt(t.settings.theme)?YA(t):lt(t.settings.theme)?KA(t):QA(t)},ZA={init:function(t){t.fire("ScriptsLoaded"),qA(t),WA(t),UA(t);var e=JA(t);return t.editorContainer=e.editorContainer?e.editorContainer:null,BA(t),t.inline?zA.initContentBody(t):OA.init(t,e)}},tz=Ha.DOM,ez=function(t){return"-"===t.charAt(0)},nz=function(t,e){var n=xf.getLanguageCode(e),i=xf.getLanguageUrl(e);if(!1===Ga.hasCode(n)&&"en"!==n){var o=""!==i?i:e.editorManager.baseURL+"/langs/"+n+".js";t.add(o,V,undefined,function(){Vg.languageLoadError(o,n)})}},iz=function(t,e,n,i){var o=e.settings,r=o.theme;if(kt(r)){if(!ez(r)&&!Yg.urls.hasOwnProperty(r)){var s=o.theme_url;s?Yg.load(r,e.documentBaseURI.toAbsolute(s)):Yg.load(r,"themes/"+r+"/theme"+n+".js")}t.loadQueue(function(){Yg.waitFor(r,i)})}else i()},oz=function(t){return et.from(xf.getIconsUrl(t)).filter(function(t){return 0<t.length}).map(function(t){return{url:t,name:et.none()}})},rz=function(e){return et.from(xf.getIconPackName(e)).filter(function(t){return 0<t.length&&!qg.has(t)}).map(function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons.js",name:et.some(t)}})},sz=function(e,t){oz(t).orThunk(function(){return rz(t)}).each(function(t){e.add(t.url,V,undefined,function(){Vg.iconsLoadError(t.url,t.name.getOrUndefined())})})},az=function(n,i){rt(n.plugins)&&(n.plugins=n.plugins.join(" ")),go.each(n.external_plugins,function(t,e){Wg.load(e,t,V,undefined,function(){Vg.pluginLoadError(e,t)}),n.plugins+=" "+e}),go.each(n.plugins.split(/[ ,]/),function(t){if((t=go.trim(t))&&!Wg.urls[t])if(ez(t)){t=t.substr(1,t.length);var e=Wg.dependencies(t);go.each(e,function(t){var e={prefix:"plugins/",resource:t,suffix:"/plugin"+i+".js"};t=Wg.createUrl(e,t),Wg.load(t.resource,t,V,undefined,function(){Vg.pluginLoadError(t.prefix+t.resource+t.suffix,t.resource)})})}else{var n={prefix:"plugins/",resource:t,suffix:"/plugin"+i+".js"};Wg.load(t,n,V,undefined,function(){Vg.pluginLoadError(n.prefix+n.resource+n.suffix,t)})}})},lz=function(t,e){var n=Ua.ScriptLoader;iz(n,t,e,function(){nz(n,t),sz(n,t),az(t.settings,e),n.loadQueue(function(){t.removed||ZA.init(t)},t,function(){t.removed||ZA.init(t)})})},uz={render:function(e){var t=e.settings,n=e.id;Ga.setCode(xf.getLanguageCode(e));var i=function(){tz.unbind(wt.window,"ready",i),e.render()};if(jr.Event.domLoaded){if(e.getElement()&&Yi.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var o=e.getElement().form||tz.getParent(n,"form");o&&(e.formElement=o,t.hidden_input&&!le.isTextareaOrInput(e.getElement())&&(tz.insertAfter(tz.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},tz.bind(o,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),!t.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)})),e.windowManager=Hg(e),e.notificationManager=T(e),"xml"===t.encoding&&e.on("GetContent",function(t){t.save&&(t.content=tz.encode(t.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),lz(e,e.suffix)}}else tz.bind(wt.window,"ready",i)}},cz="data-mce-contenteditable",dz=function(t,e,n){dl(t,e)&&!1===n?cl(t,e):n&&ll(t,e)},hz=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}},fz=function(t,e){t.dom().contentEditable=e?"true":"false"},pz=function(t){bt(fl(t,'*[contenteditable="true"]'),function(t){Tn(t,cz,"true"),fz(t,!1)})},gz=function(t){bt(fl(t,"*["+cz+'="true"]'),function(t){Dn(t,cz),fz(t,!0)})},mz=function(t){et.from(t.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},vz=function(t){t.selection.setRng(t.selection.getRng())},bz=function(t,e){var n=rn.fromDom(t.getBody());dz(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),mz(t),t.readonly=!0,fz(n,!1),pz(n)):(t.readonly=!1,fz(n,!0),gz(n),hz(t,"StyleWithCSS",!1),hz(t,"enableInlineTableEditing",!1),hz(t,"enableObjectResizing",!1),Mp.hasEditorOrUiFocus(t)&&t.focus(),vz(t),t.nodeChanged())},yz=function(t){return!0===t.readonly},wz=function(e){e.parser.addAttributeFilter("contenteditable",function(t){yz(e)&&bt(t,function(t){t.attr(cz,t.attr("contenteditable")),t.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(cz,function(t){yz(e)&&bt(t,function(t){t.attr("contenteditable",t.attr(cz))})}),e.serializer.addTempAttr(cz)},_z=function(t){t.serializer?wz(t):t.on("PreInit",function(){wz(t)})},xz=function(t){return"click"===t.type},Cz=function(t){var e=t.target;xz(t)&&"A"===e.tagName&&!Em.metaKeyPressed(t)&&t.preventDefault()},kz=function(e){e.on("ShowCaret",function(t){yz(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){yz(e)&&t.preventDefault()})},Tz=["design","readonly"],Sz=function(t,e,n,i){var o=n[e.get()],r=n[i];try{r.activate()}catch(eP){return void wt.console.error("problem while activating editor mode "+i+":",eP)}o.deactivate(),o.editorReadOnly!==r.editorReadOnly&&bz(t,r.editorReadOnly),e.set(i),Bp.fireSwitchMode(t,i)},Ez=function(t,e,n,i){if(i!==n.get()){if(!_n(e,i))throw new Error("Editor mode '"+i+"' is invalid");t.initialized?Sz(t,n,e,i):t.on("init",function(){return Sz(t,n,e,i)})}},Nz=function(t,e,n){var i;if(gt(Tz,e))throw new Error("Cannot override default mode "+e);return $t($t({},t),((i={})[e]=$t($t({},n),{deactivate:function(){try{n.deactivate()}catch(eP){wt.console.error("problem while deactivating editor mode "+e+":",eP)}}}),i))},Dz=function(e){var n=ue("design"),i=ue({design:{activate:V,deactivate:V,editorReadOnly:!1},readonly:{activate:V,deactivate:V,editorReadOnly:!0}});return _z(e),kz(e),{isReadOnly:function(){return yz(e)},set:function(t){return Ez(e,i.get(),n,t)},get:function(){return n.get()},register:function(t,e){i.set(Nz(i.get(),t,e))}}},Az=function(t){return t.firstChild&&t.firstChild===t.lastChild},zz=function(t){return"br"===t.name||"\xa0"===t.value},Mz=function(t,e){return t.getBlockElements()[e.name]&&Az(e)&&zz(e.firstChild)},Iz=function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||Mz(t,e))},Pz=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},Rz=function(t,e,n){var i=e.serialize(n),o=t.createFragment(i);return Pz(o)},Hz=function(t){return go.grep(t.childNodes,function(t){return"LI"===t.nodeName})},Oz=function(t){return"\xa0"===t.data||le.isBr(t)},Lz=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&Oz(t.firstChild)},Fz=function(t){return!t.firstChild||Lz(t)},Bz=function(t){return 0<t.length&&Fz(t[t.length-1])?t.slice(0,-1):t},$z=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},jz=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]},Vz=function(t,e){var n=nc.before(t),i=Vd(e).next(n);return i?i.toRange():null},Uz=function(t,e){var n=nc.after(t),i=Vd(e).prev(n);return i?i.toRange():null},qz=function(e,t,n,i){var o=jz(e,i),r=e.parentNode;return r.insertBefore(o[0],e),go.each(t,function(t){r.insertBefore(t,e)}),r.insertBefore(o[1],e),r.removeChild(e),Uz(t[t.length-1],n)},Wz=function(e,t,n){var i=e.parentNode;return go.each(t,function(t){i.insertBefore(t,e)}),Vz(e,n)},Yz=function(t,e,n,i){return i.insertAfter(e.reverse(),t),Uz(e[0],n)},Kz={isListFragment:function(t,e){var n=e.firstChild,i=e.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),Iz(t,i)&&(i=i.prev),!(!n||n!==i)&&("ul"===n.name||"ol"===n.name)},insertAtCaret:function(t,o,r,e){var n=Rz(o,t,e),s=$z(o,r.startContainer),i=Bz(Hz(n.firstChild)),a=1,l=2,u=o.getRoot(),c=function(t){var e=nc.fromRangeStart(r),n=Vd(o.getRoot()),i=t===a?n.prev(e):n.next(e);return!i||$z(o,i.getNode())!==s};return c(a)?Wz(s,i,u):c(l)?Yz(s,i,u,o):qz(s,i,u,r)},isParentBlockLi:function(t,e){return!!$z(t,e)},trimListItems:Bz,
listItems:Hz},Gz=function(t,e){return le.isText(t)&&"\xa0"===t.nodeValue[e-1]},Xz=function(t,e){var n,i;n=t.startContainer,i=t.startOffset;var o=function(t){return n[t]&&3===n[t].nodeType};return 3===n.nodeType&&(0<i?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e},Qz=function(t,e){var n,i;return n=t.startContainer,i=t.startOffset,3===n.nodeType&&t.collapsed&&("\xa0"===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"\xa0"===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))),e},Jz=le.matchNodeNames(["td","th"]),Zz=function(t,e){var n=t.selection.getRng(),i=n.startContainer,o=n.startOffset;n.collapsed&&Gz(i,o)&&le.isText(i)&&(i.insertData(o-1," "),i.deleteData(o,1),n.setStart(i,o),n.setEnd(i,o),t.selection.setRng(n)),t.selection.setContent(e)},tM=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,o=n.lastChild;!i||i===o&&"BR"===i.nodeName?t.dom.setHTML(n,e):Zz(t,e)}},eM=function(t,e){et.from(t.getParent(e,"td,th")).map(rn.fromDom).each(Bb.trimBlockTrailingBr)},nM=function(t,e){var n=t.schema.getTextInlineElements(),i=t.dom;if(e){var o=t.getBody(),r=new ow(i);go.each(i.select("*[data-mce-fragment]"),function(t){for(var e=t.parentNode;e&&e!==o;e=e.parentNode)n[t.nodeName.toLowerCase()]&&r.compare(e,t)&&i.remove(t,!0)})}},iM=function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")},oM=function(t){go.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},rM=function(t){return!!t.getAttribute("data-mce-fragment")},sM=function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},aM=function(n,t){var e,i,o,r,s,a=n.dom,l=n.selection,u=function(t){for(var e=n.getBody();t&&t!==e;t=t.parentNode)if("false"===n.dom.getContentEditable(t))return t;return null};if(t){if(n.selection.scrollIntoView(t),e=u(t))return a.remove(t),void l.select(e);var c=a.createRng();(r=t.previousSibling)&&3===r.nodeType?(c.setStart(r,r.nodeValue.length),Yi.ie||(s=t.nextSibling)&&3===s.nodeType&&(r.appendData(s.data),s.parentNode.removeChild(s))):(c.setStartBefore(t),c.setEndBefore(t));var d=function(t){var e=nc.fromRangeStart(t);if(e=Vd(n.getBody()).next(e))return e.toRange()};i=a.getParent(t,a.isBlock),a.remove(t),i&&a.isEmpty(i)&&(n.$(i).empty(),c.setStart(i,0),c.setEnd(i,0),Jz(i)||rM(i)||!(o=d(c))?a.add(i,a.create("br",{"data-mce-bogus":"1"})):(c=o,a.remove(i))),l.setRng(c)}},lM=function(t,e,n){var i,o,r,s,a,l,u,c,d,h,f,p=t.selection,g=t.dom;if(/^ | $/.test(e)&&(e=Xz(p.getRng(),e)),i=t.parser,f=n.merge,o=Df({validate:t.settings.validate},t.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:e,format:"html",selection:!0,paste:n.paste},(l=t.fire("BeforeSetContent",l)).isDefaultPrevented())t.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=l.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,h);var m=(c=p.getRng()).startContainer||(c.parentElement?c.parentElement():null),v=t.getBody();m===v&&p.isCollapsed()&&g.isBlock(v.firstChild)&&sM(t,v.firstChild)&&g.isEmpty(v.firstChild)&&((c=g.createRng()).setStart(v.firstChild,0),c.setEnd(v.firstChild,0),p.setRng(c)),p.isCollapsed()||(t.selection.setRng(Rw.normalize(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),e=Qz(t.selection.getRng(),e));var b={context:(r=p.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(a=i.parse(e,b),!0===n.paste&&Kz.isListFragment(t.schema,a)&&Kz.isParentBlockLi(g,r))return c=Kz.insertAtCaret(o,g,t.selection.getRng(),a),t.selection.setRng(c),void t.fire("SetContent",l);if(iM(a),"mce_marker"===(d=a.lastChild).attr("id"))for(d=(u=d).prev;d;d=d.walk(!0))if(3===d.type||!g.isBlock(d.name)){t.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(u,d,"br"===d.name);break}if(t._selectionOverrides.showBlockCaretContainer(r),b.invalid){for(Zz(t,h),r=p.getNode(),s=t.getBody(),9===r.nodeType?r=d=s:d=r;d!==s;)d=(r=d).parentNode;e=r===s?s.innerHTML:g.getOuterHTML(r),e=o.serialize(i.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return o.serialize(a)}))),r===s?g.setHTML(s,e):g.setOuterHTML(r,e)}else e=o.serialize(a),tM(t,e,r);nM(t,f),aM(t,g.get("mce_marker")),oM(t.getBody()),eM(t.dom,t.selection.getStart()),t.fire("SetContent",l),t.addVisual()}},uM=function(t){var e;return"string"!=typeof t?(e=go.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}},cM={insertAtCaret:function(t,e){var n=uM(e);lM(t,n.content,n.details)}},dM=function(t,e){t.getDoc().execCommand(e,!1,null)},hM={deleteCommand:function(t){_N.backspaceDelete(t,!1)||JS.backspaceDelete(t,!1)||nE.backspaceDelete(t,!1)||cE.backspaceDelete(t,!1)||wS.backspaceDelete(t,!1)||tN.backspaceDelete(t)||ES.backspaceDelete(t,!1)||gE.backspaceDelete(t,!1)||(dM(t,"Delete"),ZT.paddEmptyBody(t))},forwardDeleteCommand:function(t){JS.backspaceDelete(t,!0)||nE.backspaceDelete(t,!0)||cE.backspaceDelete(t,!0)||wS.backspaceDelete(t,!0)||tN.backspaceDelete(t)||ES.backspaceDelete(t,!0)||gE.backspaceDelete(t,!0)||dM(t,"ForwardDelete")}},fM=function(e,n,t){var i=function(t){return Mn(t,e)},o=function(t){return Un(rn.fromDom(n),t)};return gl(rn.fromDom(t),function(t){return i(t).isSome()},o).bind(i)},pM=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},gM=function(t,e){return/[0-9.]+px$/.test(t)?pM(72*parseInt(t,10)/96,e||0)+"pt":t},mM=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},vM=function(t,e){return et.from(Ha.DOM.getStyle(e,t,!0))},bM=function(n){return function(e,t){return et.from(t).map(rn.fromDom).filter(hn).bind(function(t){return fM(n,e,t.dom()).or(vM(n,t.dom()))}).getOr("")}},yM={getFontSize:bM("font-size"),getFontFamily:U(mM,bM("font-family")),toPt:gM},wM=function(t){return ih.firstPositionIn(t.getBody()).map(function(t){var e=t.container();return le.isText(e)?e.parentNode:e})},_M=function(t,e){return t.startContainer===e&&0===t.startOffset},xM=function(n){return et.from(n.selection.getRng()).bind(function(t){var e=n.getBody();return _M(t,e)?et.none():et.from(n.selection.getStart(!0))})},CM=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(1<=n&&n<=7){var i=xf.getFontStyleValues(t),o=xf.getFontSizeClasses(t);return o?o[n-1]||e:i[n-1]||e}return e}return e},kM=function(t){var e=t.split(/\s*,\s*/);return vt(e,function(t){return-1===t.indexOf(" ")||je(t,'"')||je(t,"'")?t:"'"+t+"'"}).join(",")},TM=function(t,e){var n=CM(t,e);t.formatter.toggle("fontname",{value:kM(n)}),t.nodeChanged()},SM=function(e){return xM(e).fold(function(){return wM(e).map(function(t){return yM.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return yM.getFontFamily(e.getBody(),t)})},EM=function(t,e){t.formatter.toggle("fontsize",{value:CM(t,e)}),t.nodeChanged()},NM=function(e){return xM(e).fold(function(){return wM(e).map(function(t){return yM.getFontSize(e.getBody(),t)}).getOr("")},function(t){return yM.getFontSize(e.getBody(),t)})},DM=go.each,AM=go.map,zM=go.inArray,MM=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(e,n,i,t){var o,r,s=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||t&&t.skip_focus?op.restore(a.editor):a.editor.focus(),(t=a.editor.fire("BeforeExecCommand",{command:e,ui:n,value:i})).isDefaultPrevented())return!1;if(r=e.toLowerCase(),o=a.commands.exec[r])return o(r,n,i),a.editor.fire("ExecCommand",{command:e,ui:n,value:i}),!0;if(DM(this.editor.plugins,function(t){if(t.execCommand&&t.execCommand(e,n,i))return a.editor.fire("ExecCommand",{command:e,ui:n,value:i}),!(s=!0)}),s)return s;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,n,i))return a.editor.fire("ExecCommand",{command:e,ui:n,value:i}),!0;try{s=a.editor.getDoc().execCommand(e,n,i)}catch(l){}return!!s&&(a.editor.fire("ExecCommand",{command:e,ui:n,value:i}),!0)}},t.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(n){}return!1}},t.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(n){}}},t.prototype.addCommands=function(t,n){var i=this;n=n||"exec",DM(t,function(e,t){DM(t.toLowerCase().split(","),function(t){i.commands[n][t]=e})})},t.prototype.addCommand=function(t,o,r){var s=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,e,n,i){return o.call(r||s.editor,e,n,i)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(e){}return!1},t.prototype.addQueryStateHandler=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||i.editor)}},t.prototype.addQueryValueHandler=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||i.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,e,n){return e===undefined&&(e=!1),n===undefined&&(n=null),this.editor.getDoc().execCommand(t,e,n)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:undefined),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(r){var s=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},"Cut,Copy,Paste":function(t){var e,n=r.getDoc();try{s.execNativeCommand(t)}catch(o){e=!0}if("paste"!==t||n.queryCommandEnabled(t)||(e=!0),e||!n.queryCommandSupported(t)){var i=r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Yi.mac&&(i=i.replace(/Ctrl\+/g,"\u2318+")),r.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(r.selection.isCollapsed()){var t=r.dom.getParent(r.selection.getStart(),"a");t&&r.dom.remove(t,!0)}else r.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"===e&&(e="justify"),DM("left,center,right,justify".split(","),function(t){e!==t&&r.formatter.remove("align"+t)}),"none"!==e&&s.toggleFormat("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var e,n;s.execNativeCommand(t),(e=r.dom.getParent(r.selection.getNode(),"ol,ul"))&&(n=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(s.storeSelection(),r.dom.split(n,e),s.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){s.toggleFormat(t)},"ForeColor,HiliteColor":function(t,e,n){s.toggleFormat(t,n)},FontName:function(t,e,n){TM(r,n)},FontSize:function(t,e,n){EM(r,n)},RemoveFormat:function(t){r.formatter.remove(t)},mceBlockQuote:function(){s.toggleFormat("blockquote")},FormatBlock:function(t,e,n){return s.toggleFormat(n||"p")},mceCleanup:function(){var t=r.selection.getBookmark();r.setContent(r.getContent()),r.selection.moveToBookmark(t)},mceRemoveNode:function(t,e,n){var i=n||r.selection.getNode();i!==r.getBody()&&(s.storeSelection(),r.dom.remove(i,!0),s.restoreSelection())},mceSelectNodeDepth:function(t,e,n){var i=0;r.dom.getParent(r.selection.getNode(),function(t){if(1===t.nodeType&&i++===n)return r.selection.select(t),!1},r.getBody())},mceSelectNode:function(t,e,n){r.selection.select(n)},mceInsertContent:function(t,e,n){cM.insertAtCaret(r,n)},mceInsertRawHTML:function(t,e,n){r.selection.setContent("tiny_mce_marker");var i=r.getContent();r.setContent(i.replace(/tiny_mce_marker/g,function(){return n}))},mceInsertNewLine:function(t,e,n){SD.insert(r,n)},mceToggleFormat:function(t,e,n){s.toggleFormat(n)},mceSetContent:function(t,e,n){r.setContent(n)},"Indent,Outdent":function(t){hN(r,t)},mceRepaint:function(){},InsertHorizontalRule:function(){r.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual,r.addVisual()},mceReplaceContent:function(t,e,n){r.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,r.selection.getContent({format:"text"})))},mceInsertLink:function(t,e,n){var i;"string"==typeof n&&(n={href:n}),i=r.dom.getParent(r.selection.getNode(),"a"),n.href=n.href.replace(/ /g,"%20"),i&&n.href||r.formatter.remove("link"),n.href&&r.formatter.apply("link",n,i)},selectAll:function(){var t=r.dom.getParent(r.selection.getStart(),le.isContentEditableTrue);if(t){var e=r.dom.createRng();e.selectNodeContents(t),r.selection.setRng(e)}},"delete":function(){hM.deleteCommand(r)},forwardDelete:function(){hM.forwardDeleteCommand(r)},mceNewDocument:function(){r.setContent("")},InsertLineBreak:function(t,e,n){return cD.insert(r,n),!0}});var t=function(n){return function(){var t=r.selection.isCollapsed()?[r.dom.getParent(r.selection.getNode(),r.dom.isBlock)]:r.selection.getSelectedBlocks(),e=AM(t,function(t){return!!r.formatter.matchNode(t,n)});return-1!==zM(e,!0)}};s.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return s.isFormatMatch(t)},mceBlockQuote:function(){return s.isFormatMatch("blockquote")},Outdent:function(){return lN(r)},"InsertUnorderedList,InsertOrderedList":function(t){var e=r.dom.getParent(r.selection.getNode(),"ul,ol");return e&&("insertunorderedlist"===t&&"UL"===e.tagName||"insertorderedlist"===t&&"OL"===e.tagName)}},"state"),s.addCommands({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}}),s.addQueryValueHandler("FontName",function(){return SM(r)},this),s.addQueryValueHandler("FontSize",function(){return NM(r)},this)},t}(),IM=go.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),PM=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||G}return t.isNative=function(t){return!!IM[t.toLowerCase()]},t.prototype.fire=function(t,e){var n,i,o,r;if(t=t.toLowerCase(),(e=e||{}).type=t,e.target||(e.target=this.scope),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=X},e.stopPropagation=function(){e.isPropagationStopped=X},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=X},e.isDefaultPrevented=G,e.isPropagationStopped=G,e.isImmediatePropagationStopped=G),this.settings.beforeFire&&this.settings.beforeFire(e),n=this.bindings[t])for(i=0,o=n.length;i<o;i++){if((r=n[i]).once&&this.off(t,r.func),e.isImmediatePropagationStopped())return e.stopPropagation(),e;if(!1===r.func.call(this.scope,e))return e.preventDefault(),e}return e},t.prototype.on=function(t,e,n,i){var o,r,s;if(!1===e&&(e=G),e){var a={func:e};for(i&&go.extend(a,i),s=(r=t.toLowerCase().split(" ")).length;s--;)t=r[s],(o=this.bindings[t])||(o=this.bindings[t]=[],this.toggleEvent(t,!0)),n?o.unshift(a):o.push(a)}return this},t.prototype.off=function(t,e){var n,i,o,r,s;if(t)for(n=(r=t.toLowerCase().split(" ")).length;n--;){if(t=r[n],i=this.bindings[t],!t){for(o in this.bindings)this.toggleEvent(o,!1),delete this.bindings[o];return this}if(i){if(e)for(s=i.length;s--;)i[s].func===e&&(i=i.slice(0,s).concat(i.slice(s+1)),this.bindings[t]=i);else i.length=0;i.length||(this.toggleEvent(t,!1),delete this.bindings[t])}}else{for(t in this.bindings)this.toggleEvent(t,!1);this.bindings={}}return this},t.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),RM=function(n){return n._eventDispatcher||(n._eventDispatcher=new PM({scope:n,toggleEvent:function(t,e){PM.isNative(t)&&n.toggleNativeEvent&&n.toggleNativeEvent(t,e)}})),n._eventDispatcher},HM={fire:function(t,e,n){var i=this;if(i.removed&&"remove"!==t&&"detach"!==t)return e;var o=RM(i).fire(t,e);if(!1!==n&&i.parent)for(var r=i.parent();r&&!o.isPropagationStopped();)r.fire(t,o,!1),r=r.parent();return o},on:function(t,e,n){return RM(this).on(t,e,n)},off:function(t,e){return RM(this).off(t,e)},once:function(t,e){return RM(this).once(t,e)},hasEventListeners:function(t){return RM(this).has(t)}},OM=Ha.DOM,LM=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=OM.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},FM=function(t){return!t.hidden&&!yz(t)},BM=function(t,e,n){FM(t)?t.fire(e,n):yz(t)&&Cz(n)},$M=function(r,s){var t,e;if(r.delegates||(r.delegates={}),!r.delegates[s]&&!r.removed)if(t=LM(r,s),r.settings.event_root){if(zk||(zk={},r.editorManager.on("removeEditor",function(){var t;if(!r.editorManager.activeEditor&&zk){for(t in zk)r.dom.unbind(LM(r,t));zk=null}})),zk[s])return;e=function(t){for(var e=t.target,n=r.editorManager.get(),i=n.length;i--;){var o=n[i].getBody();(o===e||OM.isChildOf(e,o))&&BM(n[i],s,t)}},zk[s]=e,OM.bind(t,s,e)}else e=function(t){BM(r,s,t)},OM.bind(t,s,e),r.delegates[s]=e},jM=$t($t({},HM),{bindPendingEventDelegates:function(){var e=this;go.each(e._pendingNativeEvents,function(t){$M(e,t)})},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?$M(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(LM(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this,n=e.getBody(),i=e.dom;if(e.delegates){for(t in e.delegates)e.dom.unbind(LM(e,t),t,e.delegates[t]);delete e.delegates}!e.inline&&n&&i&&(n.onload=null,i.unbind(e.getWin()),i.unbind(e.getDoc())),i&&(i.unbind(n),i.unbind(e.getContainer()))}}),VM=go.each,UM=go.explode,qM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},WM=go.makeMap("alt,ctrl,shift,meta,access"),YM=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var n=this;t.on("keyup keypress keydown",function(e){!n.hasModifier(e)&&!n.isFunctionKey(e)||e.isDefaultPrevented()||(VM(n.shortcuts,function(t){if(n.matchShortcut(e,t))return n.pendingPatterns=t.subpatterns.slice(0),"keydown"===e.type&&n.executeShortcutAction(t),!0}),n.matchShortcut(e,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===e.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}return t.prototype.add=function(t,n,i,o){var e,r=this;return"string"==typeof(e=i)?i=function(){r.editor.execCommand(e,!1,null)}:go.isArray(e)&&(i=function(){r.editor.execCommand(e[0],e[1],e[2])}),VM(UM(go.trim(t)),function(t){var e=r.createShortcut(t,n,i,o);r.shortcuts[e.id]=e}),!0},t.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},t.prototype.parseShortcut=function(t){var e,n,i={};for(n in VM(UM(t.toLowerCase(),"+"),function(t){t in WM?i[t]=!0:/^[0-9]{2,}$/.test(t)?i.keyCode=parseInt(t,10):(i.charCode=t.charCodeAt(0),i.keyCode=qM[t]||t.toUpperCase().charCodeAt(0))}),e=[i.keyCode],WM)i[n]?e.push(n):i[n]=!1;return i.id=e.join(","),i.access&&(i.alt=!0,Yi.mac?i.ctrl=!0:i.shift=!0),i.meta&&(Yi.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},t.prototype.createShortcut=function(t,e,n,i){var o;return(o=go.map(UM(t,">"),this.parseShortcut))[o.length-1]=go.extend(o[o.length-1],{func:n,scope:i||this.editor}),go.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&112<=t.keyCode&&t.keyCode<=123},t.prototype.matchShortcut=function(t,e){return!!e&&(e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&(e.alt===t.altKey&&e.shift===t.shiftKey&&(!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0))))},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),KM=go.each,GM=go.trim,XM="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),QM={ftp:21,http:80,https:443,mailto:25},JM=function(){function l(t,e){t=GM(t),this.settings=e||{};var n=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))i.source=t;else{var o=0===t.indexOf("//");if(0!==t.indexOf("/")||o||(t=(n&&n.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var r=this.settings.base_uri?this.settings.base_uri.path:new l(wt.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+i.toAbsPath(r,t);else{var s=/([^#?]*)([#?]?.*)/.exec(t);t=(n&&n.protocol||"http")+"://mce_host"+i.toAbsPath(r,s[1])+s[2]}}t=t.replace(/@@/g,"(mce_at)");var a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);KM(XM,function(t,e){var n=a[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[t]=n}),n&&(i.protocol||(i.protocol=n.protocol),i.userInfo||(i.userInfo=n.userInfo),i.port||"mce_host"!==i.host||(i.port=n.port),i.host&&"mce_host"!==i.host||(i.host=n.host),i.source=""),o&&(i.protocol="")}}return l.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(e=i[1]),{type:e,data:n[1]}},l.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},l.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},l.prototype.toRelative=function(t){var e;if("./"===t)return t;var n=new l(t,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var i=this.getURI(),o=n.getURI();return i===o||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===o?i:(e=this.toRelPath(this.path,n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),e)},l.prototype.toAbsolute=function(t,e){var n=new l(t,{base_uri:this});return n.getURI(e&&this.isSameOrigin(n))},l.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=QM[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},l.prototype.toRelPath=function(t,e){var n,i,o,r=0,s="",a=t.substring(0,t.lastIndexOf("/")).split("/");if(n=e.split("/"),a.length>=n.length)for(i=0,o=a.length;i<o;i++)if(i>=n.length||a[i]!==n[i]){r=i+1;break}if(a.length<n.length)for(i=0,o=n.length;i<o;i++)if(i>=a.length||a[i]!==n[i]){r=i+1;break}if(1===r)return e;for(i=0,o=a.length-(r-1);i<o;i++)s+="../";for(i=r-1,o=n.length;i<o;i++)s+=i!==r-1?"/"+n[i]:n[i];return s},l.prototype.toAbsPath=function(t,e){var n,i,o,r=0,s=[];i=/\/$/.test(e)?"/":"";var a=t.split("/"),l=e.split("/");for(KM(a,function(t){t&&s.push(t)}),a=s,n=l.length-1,s=[];0<=n;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?0<r?r--:s.push(l[n]):r++);return 0!==(o=(n=a.length-r)<=0?s.reverse().join("/"):a.slice(0,n).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(o="/"+o),i&&o.lastIndexOf("/")!==o.length-1&&(o+=i),o},l.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},l}(),ZM=function(){var t={},e={},n={},i={},o={},r={},s={},a=function(n,i){return function(t,e){return n[t.toLowerCase()]=$t($t({},e),{type:i})}},l=function(t,e){return i[t.toLowerCase()]=e};return{addButton:a(t,"button"),addToggleButton:a(t,"togglebutton"),addMenuButton:a(t,"menubutton"),addSplitButton:a(t,"splitbutton"),addMenuItem:a(e,"menuitem"),addNestedMenuItem:a(e,"nestedmenuitem"),addToggleMenuItem:a(e,"togglemenuitem"),addAutocompleter:a(n,"autocompleter"),addContextMenu:a(o,"contextmenu"),addContextToolbar:a(r,"contexttoolbar"),addContextForm:a(r,"contextform"),addSidebar:a(s,"sidebar"),addIcon:l,getAll:function(){return{buttons:t,menuItems:e,icons:i,popups:n,contextMenus:o,contextToolbars:r,sidebars:s}}}},tI=function(){var t=ZM();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},eI=Ha.DOM,nI=go.extend,iI=go.each,oI=go.resolve,rI=Yi.ie,sI=function(){function t(t,e,n){var i=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,nI(this,jM),this.settings=wg(this,t,this.documentBaseUrl,n.defaultSettings,e),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Ua.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ha.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ja.languageLoad=this.settings.language_load,Ja.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new JM(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new YM(this),this.editorCommands=new MM(this),this.settings.cache_suffix&&(Yi.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:tI()};var o=Dz(this);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ia.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})}return t.prototype.render=function(){uz.render(this)},t.prototype.focus=function(t){Mp.focus(this,t)},t.prototype.hasFocus=function(){return Mp.hasFocus(this)},t.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,o=this,r=o.settings[t];if(r)return o.callbackLookup&&(i=o.callbackLookup[t])&&(r=i.func,i=i.scope),"string"==typeof r&&(i=(i=r.replace(/\.\w+$/,""))?oI(i):0,r=oI(r),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[t]={func:r,scope:i}),r.apply(i||o,Array.prototype.slice.call(arguments,1))},t.prototype.translate=function(t){return Ga.translate(t)},t.prototype.getParam=function(t,e,n){return kg(this,t,e,n)},t.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},t.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},t.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},t.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},t.prototype.addShortcut=function(t,e,n,i){this.shortcuts.add(t,e,n,i)},t.prototype.execCommand=function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},t.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},t.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},t.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},t.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(eI.show(t.getContainer()),eI.hide(t.id)),t.load(),t.fire("show"))},t.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(rI&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(eI.hide(t.getContainer()),eI.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},t.prototype.load=function(t){var e,n=this,i=n.getElement();if(n.removed)return"";if(i){(t=t||{}).load=!0;var o=le.isTextareaOrInput(i)?i.value:i.innerHTML;return e=n.setContent(o,t),t.element=i,t.no_events||n.fire("LoadContent",t),t.element=i=null,e}},t.prototype.save=function(t){var e,n,i=this,o=i.getElement();if(o&&i.initialized&&!i.removed)return(t=t||{}).save=!0,t.element=o,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"===t.format&&i.fire("RawSaveContent",t),e=t.content,le.isTextareaOrInput(o)?o.value=e:(!t.is_removing&&i.inline||(o.innerHTML=e),(n=eI.getParent(i.id,"form"))&&iI(n.elements,function(t){if(t.name===i.id)return t.value=e,!1})),t.element=o=null,!1!==t.set_dirty&&i.setDirty(!1),e},t.prototype.setContent=function(t,e){return Fp(this,t,e)},t.prototype.getContent=function(t){return Sf(this,t)},t.prototype.insertContent=function(t,e){e&&(t=nI({content:t},e)),this.execCommand("mceInsertContent",!1,t)},t.prototype.resetContent=function(t){t===undefined?Fp(this,this.startContent,{format:"raw"}):Fp(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},t.prototype.getContainer=function(){var t=this;return t.container||(t.container=eI.get(t.editorContainer||t.id+"_parent")),t.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=eI.get(this.id)),this.targetElm},t.prototype.getWin=function(){var t,e=this;return e.contentWindow||(t=e.iframeElement)&&(e.contentWindow=t.contentWindow),e.contentWindow},t.prototype.getDoc=function(){var t,e=this;return e.contentDocument||(t=e.getWin())&&(e.contentDocument=t.document),e.contentDocument},t.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},t.prototype.convertURL=function(t,e,n){var i=this,o=i.settings;return o.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!o.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:o.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,o.remove_script_host)},t.prototype.addVisual=function(t){var n,i=this,o=i.settings,r=i.dom;t=t||i.getBody(),i.hasVisual===undefined&&(i.hasVisual=o.visual),iI(r.select("table,a",t),function(t){var e;switch(t.nodeName){case"TABLE":return n=o.visual_table_class||"mce-item-table",void((e=r.getAttrib(t,"border"))&&"0"!==e||!i.hasVisual?r.removeClass(t,n):r.addClass(t,n));case"A":return void(r.getAttrib(t,"href")||(e=r.getAttrib(t,"name")||t.id,n=o.visual_anchor_class||"mce-item-anchor",e&&i.hasVisual?r.addClass(t,n):r.removeClass(t,n)))}}),i.fire("VisualAid",{element:t,hasVisual:i.hasVisual})},t.prototype.remove=function(){Wp(this)},t.prototype.destroy=function(t){Yp(this,t)},t.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error(
"editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),aI=Ha.DOM,lI=go.explode,uI=go.each,cI=go.extend,dI=0,hI=!1,fI=[],pI=[],gI=function(t){return"length"!==t},mI=function(e){var n=e.type;uI(_I.get(),function(t){switch(n){case"scroll":t.fire("ScrollWindow",e);break;case"resize":t.fire("ResizeWindow",e)}})},vI=function(t){t!==hI&&(t?ia(window).on("resize scroll",mI):ia(window).off("resize scroll",mI),hI=t)},bI=function(e){var t=pI;delete fI[e.id];for(var n=0;n<fI.length;n++)if(fI[n]===e){fI.splice(n,1);break}return pI=St(pI,function(t){return e!==t}),_I.activeEditor===e&&(_I.activeEditor=0<pI.length?pI[0]:null),_I.focusedEditor===e&&(_I.focusedEditor=null),t.length!==pI.length},yI=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(bI(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t},wI="CSS1Compat"!==wt.document.compatMode,_I=$t($t({},HM),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ia,majorVersion:"5",minorVersion:"1.4",releaseDate:"2019-12-11",editors:fI,i18n:Ga,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,e,n=this,i="";e=JM.getDocumentBaseUrl(wt.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/"));var o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,i=o.suffix;else{for(var r=wt.document.getElementsByTagName("script"),s=0;s<r.length;s++){var a;if(""!==(a=r[s].src||"")){var l=a.substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){-1!==l.indexOf(".min")&&(i=".min"),t=a.substring(0,a.lastIndexOf("/"));break}}}if(!t&&wt.document.currentScript)-1!==(a=wt.document.currentScript.src).indexOf(".min")&&(i=".min"),t=a.substring(0,a.lastIndexOf("/"))}n.baseURL=new JM(e).toAbsolute(t),n.documentBaseURL=e,n.baseURI=new JM(n.baseURL),n.suffix=i,bp.setup(n)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&this._setBaseUrl(e),n=t.suffix,t.suffix&&(this.suffix=n);var i=(this.defaultSettings=t).plugin_base_urls;for(var o in i)Ja.PluginManager.urls[o]=i[o]},init:function(i){var n,o,a=this;o=go.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var e=function(t,e){return t.inline&&e.tagName.toLowerCase()in o},l=function(t){var e=t.id;return e||(e=(e=t.name)&&!aI.get(e)?t.name:aI.uniqueId(),t.setAttribute("id",e)),e},t=function(t){var e=i[t];if(e)return e.apply(a,Array.prototype.slice.call(arguments,2))},r=function(t,e){return e.constructor===RegExp?e.test(t.className):aI.hasClass(t,e)},u=function(e){var t,n=[];if(Yi.browser.isIE()&&Yi.browser.version.major<11)return Vg.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(wI)return Vg.initError("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return uI(e.types,function(t){n=n.concat(aI.select(t.selector))}),n;if(e.selector)return aI.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":0<(t=e.elements||"").length&&uI(lI(t),function(e){var t;(t=aI.get(e))?n.push(t):uI(wt.document.forms,function(t){uI(t.elements,function(t){t.name===e&&(e="mce_editor_"+dI++,aI.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":uI(aI.select("textarea"),function(t){e.editor_deselector&&r(t,e.editor_deselector)||e.editor_selector&&!r(t,e.editor_selector)||n.push(t)})}return n},c=function(t){n=t},d=function(){var o,r=0,s=[],n=function(t,e,n){var i=new sI(t,e,a);s.push(i),i.on("init",function(){++r===o.length&&c(s)}),i.targetElm=i.targetElm||n,i.render()};aI.unbind(window,"ready",d),t("onpageload"),o=ia.unique(u(i)),i.types?uI(i.types,function(e){go.each(o,function(t){return!aI.is(t,e.selector)||(n(l(t),cI({},i,e),t),!1)})}):(go.each(o,function(t){yI(a.get(t.id))}),0===(o=go.grep(o,function(t){return!a.get(t.id)})).length?c([]):uI(o,function(t){e(i,t)?Vg.initError("Could not initialize inline editor on invalid inline target element",t):n(l(t),i,t)}))};return a.settings=i,aI.bind(window,"ready",d),new Ii(function(e){n?e(n):c=function(t){e(t)}})},get:function(e){return 0===arguments.length?pI.slice(0):kt(e)?Dt(pI,function(t){return t.id===e}).getOr(null):ut(e)&&pI[e]?pI[e]:null},add:function(t){var n=this;return fI[t.id]===t||(null===n.get(t.id)&&(gI(t.id)&&(fI[t.id]=t),fI.push(t),pI.push(t)),vI(!0),n.activeEditor=t,n.fire("AddEditor",{editor:t}),Mk||(Mk=function(t){var e=n.fire("BeforeUnload");if(e.returnValue)return t.preventDefault(),t.returnValue=e.returnValue,e.returnValue},window.addEventListener("beforeunload",Mk))),t},createEditor:function(t,e){return this.add(new sI(t,e,this))},remove:function(t){var e,n,i=this;if(t){if(!kt(t))return n=t,st(i.get(n.id))?null:(bI(n)&&i.fire("RemoveEditor",{editor:n}),0===pI.length&&window.removeEventListener("beforeunload",Mk),n.remove(),vI(0<pI.length),n);uI(aI.select(t),function(t){(n=i.get(t.id))&&i.remove(n)})}else for(e=pI.length-1;0<=e;e--)i.remove(pI[e])},execCommand:function(t,e,n){var i=this,o=i.get(n);switch(t){case"mceAddEditor":return i.get(n)||new sI(n,i.settings,i).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?o.isHidden()?o.show():o.hide():i.execCommand("mceAddEditor",0,n),!0}return!!i.activeEditor&&i.activeEditor.execCommand(t,e,n)},triggerSave:function(){uI(pI,function(t){t.save()})},addI18n:function(t,e){Ga.add(t,e)},translate:function(t){return Ga.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new JM(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new JM(this.baseURL)}});_I.setup(),(Ik=P||(P={})).compareRanges=bm.isEq,Ik.getCaretRangeFromPoint=mx.fromPoint,Ik.getSelectedNode=Tu,Ik.getNode=Su;var xI,CI,kI=P,TI=function(t,e,n){void 0===n&&(n=1e3);var i=!1,o=null,r=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i||(i=!0,null!==o&&(wt.clearTimeout(o),o=null),n.apply(null,t))}},s=r(t),a=r(e);return{start:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i||null!==o||(o=wt.setTimeout(function(){return a.apply(null,t)},n))},resolve:s,reject:a}},SI=function(){var n={},a={};return{load:function(i,o){var r='Script at URL "'+o+'" failed to load',s='Script at URL "'+o+"\" did not call `tinymce.Resource.add('"+i+"', data)` within 1 second";if(n[i]!==undefined)return n[i];var t=new Ii(function(t,e){var n=TI(t,e);a[i]=n.resolve,Ua.ScriptLoader.loadScript(o,function(){return n.start(s)},function(){return n.reject(r)})});return n[i]=t},add:function(t,e){a[t]!==undefined&&(a[t](e),delete a[t]),n[t]=Ii.resolve(e)}}}(),EI=Math.min,NI=Math.max,DI=Math.round,AI=function(t,e,n){var i,o,r,s,a,l;return i=e.x,o=e.y,r=t.w,s=t.h,a=e.w,l=e.h,"b"===(n=(n||"").split(""))[0]&&(o+=l),"r"===n[1]&&(i+=a),"c"===n[0]&&(o+=DI(l/2)),"c"===n[1]&&(i+=DI(a/2)),"b"===n[3]&&(o-=s),"r"===n[4]&&(i-=r),"c"===n[3]&&(o-=DI(s/2)),"c"===n[4]&&(i-=DI(r/2)),RI(i,o,r,s)},zI=function(t,e,n,i){var o,r;for(r=0;r<i.length;r++)if((o=AI(t,e,i[r])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return i[r];return null},MI=function(t,e,n){return RI(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},II=function(t,e){var n,i,o,r;return n=NI(t.x,e.x),i=NI(t.y,e.y),o=EI(t.x+t.w,e.x+e.w),r=EI(t.y+t.h,e.y+e.h),o-n<0||r-i<0?null:RI(n,i,o-n,r-i)},PI=function(t,e,n){var i,o,r,s,a,l,u,c,d,h;return a=t.x,l=t.y,u=t.x+t.w,c=t.y+t.h,d=e.x+e.w,h=e.y+e.h,i=NI(0,e.x-a),o=NI(0,e.y-l),r=NI(0,u-d),s=NI(0,c-h),a+=i,l+=o,n&&(u+=i,c+=o,a-=r,l-=s),RI(a,l,(u-=r)-a,(c-=s)-l)},RI=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},HI=function(t){return RI(t.left,t.top,t.width,t.height)},OI={inflate:MI,relativePosition:AI,findBestRelativePosition:zI,intersect:II,clamp:PI,create:RI,fromClientRect:HI},LI=go.each,FI=go.extend,BI=function(){};BI.extend=xI=function(i){var t,e,n,o=this,r=o.prototype,s=function(){var t,e,n,i=this;if(!CI&&(i.init&&i.init.apply(i,arguments),e=i.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(i,arguments)},a=function(){return this},l=function(i,o){return function(){var t,e=this,n=e._super;return e._super=r[i],t=o.apply(e,arguments),e._super=n,t}};for(e in CI=!0,t=new o,CI=!1,i.Mixins&&(LI(i.Mixins,function(t){for(var e in t)"init"!==e&&(i[e]=t[e])}),r.Mixins&&(i.Mixins=r.Mixins.concat(i.Mixins))),i.Methods&&LI(i.Methods.split(","),function(t){i[t]=a}),i.Properties&&LI(i.Properties.split(","),function(t){var n="_"+t;i[t]=function(t){var e=this;return t!==undefined?(e[n]=t,e):e[n]}}),i.Statics&&LI(i.Statics,function(t,e){s[e]=t}),i.Defaults&&r.Defaults&&(i.Defaults=FI({},r.Defaults,i.Defaults)),i)"function"==typeof(n=i[e])&&r[e]?t[e]=l(e,n):t[e]=n;return s.prototype=t,(s.constructor=s).extend=xI,s};var $I,jI=Math.min,VI=Math.max,UI=Math.round,qI=function(t){var n={},a=0,l=0,u=0,e=function(t,e,n){var i,o,r,s;return o=i=0,(r=jI(t/=255,jI(e/=255,n/=255)))===(s=VI(t,VI(e,n)))?{h:0,s:0,v:100*(o=r)}:(i=(s-r)/s,{h:UI(60*((t===r?3:n===r?1:5)-(t===r?e-n:n===r?t-e:n-t)/((o=s)-r))),s:UI(100*i),v:UI(100*o)})},i=function(t,e,n){var i,o,r,s;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,n=parseInt(n,10)/100,e=VI(0,jI(e,1)),n=VI(0,jI(n,1)),0!==e){switch(i=t/60,r=(o=n*e)*(1-Math.abs(i%2-1)),s=n-o,Math.floor(i)){case 0:a=o,l=r,u=0;break;case 1:a=r,l=o,u=0;break;case 2:a=0,l=o,u=r;break;case 3:a=0,l=r,u=o;break;case 4:a=r,l=0,u=o;break;case 5:a=o,l=0,u=r;break;default:a=l=u=0}a=UI(255*(a+s)),l=UI(255*(l+s)),u=UI(255*(u+s))}else a=l=u=UI(255*n)},o=function(){var t=function(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t};return"#"+t(a)+t(l)+t(u)},r=function(){return{r:a,g:l,b:u}},s=function(){return e(a,l,u)},c=function(t){var e;return"object"==typeof t?"r"in t?(a=t.r,l=t.g,u=t.b):"v"in t&&i(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(a=parseInt(e[1],10),l=parseInt(e[2],10),u=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(a=parseInt(e[1],16),l=parseInt(e[2],16),u=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(a=parseInt(e[1]+e[1],16),l=parseInt(e[2]+e[2],16),u=parseInt(e[3]+e[3],16)),a=a<0?0:255<a?255:a,l=l<0?0:255<l?255:l,u=u<0?0:255<u?255:u,n};return t&&c(t),n.toRgb=r,n.toHsv=s,n.toHex=o,n.parse=c,n},WI={serialize:function(t){var e=JSON.stringify(t);return kt(e)?e.replace(/[\u0080-\uFFFF]/g,function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e}):e},parse:function(t){try{return JSON.parse(t)}catch(e){}}},YI={callbacks:{},count:0,send:function(e){var n=this,i=Ha.DOM,o=e.count!==undefined?e.count:n.count,r="tinymce_jsonp_"+o;n.callbacks[o]=function(t){i.remove(r),delete n.callbacks[o],e.callback(t)},i.add(i.doc.body,"script",{id:r,src:e.url,type:"text/javascript"}),n.count++}},KI=$t($t({},HM),{send:function(t){var e,n=0,i=function(){!t.async||4===e.readyState||1e4<n++?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,1e4<n?"TIMED_OUT":"GENERAL",e,t),e=null):Li.setTimeout(i,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",KI.fire("beforeInitialize",{settings:t}),e=new wt.XMLHttpRequest){if(e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&go.each(t.requestheaders,function(t){e.setRequestHeader(t.key,t.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=KI.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return i();Li.setTimeout(i,10)}}}),GI=go.extend,XI=function(){function e(t){this.settings=GI({},t),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(t){var n=t.error,i=t.success,o=GI(this.settings,t);o.success=function(t,e){void 0===(t=WI.parse(t))&&(t={error:"JSON Parse error."}),t.error?n.call(o.error_scope||o.scope,t.error,e):i.call(o.success_scope||o.scope,t.result)},o.error=function(t,e){n&&n.call(o.error_scope||o.scope,t,e)},o.data=WI.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),o.content_type="application/json",KI.send(o)},e}(),QI=function(){return n={},i=[],t={getItem:function(t){var e=n[t];return e||null},setItem:function(t,e){i.push(t),n[t]=String(e)},key:function(t){return i[t]},removeItem:function(e){i=i.filter(function(t){return t===e}),delete n[e]},clear:function(){i=[],n={}},length:0},Object.defineProperty(t,"length",{get:function(){return i.length},configurable:!1,enumerable:!1}),t;var n,i,t};try{$I=wt.window.localStorage}catch(eP){$I=QI()}var JI={geom:{Rect:OI},util:{Promise:Ii,Delay:Li,Tools:go,VK:Em,URI:JM,Class:BI,EventDispatcher:PM,Observable:HM,I18n:Ga,XHR:KI,JSON:WI,JSONRequest:XI,JSONP:YI,LocalStorage:$I,Color:qI},dom:{EventUtils:jr,Sizzle:Ss,DomQuery:ia,TreeWalker:oa,DOMUtils:Ha,ScriptLoader:Ua,RangeUtils:kI,Serializer:z_,ControlSelection:L_,BookmarkManager:P_,Selection:DC,Event:jr.Event},html:{Styles:Ar,Entities:br,Node:lf,Schema:xt,SaxParser:vf,DomParser:C_,Writer:Nf,Serializer:Df},Env:Yi,AddOnManager:Ja,Annotator:of,Formatter:n_,UndoManager:Ob,EditorCommands:MM,WindowManager:Hg,NotificationManager:T,EditorObservable:jM,Shortcuts:YM,Editor:sI,FocusManager:rp,EditorManager:_I,DOM:Ha.DOM,ScriptLoader:Ua.ScriptLoader,PluginManager:Ja.PluginManager,ThemeManager:Ja.ThemeManager,IconManager:qg,Resource:SI,trim:go.trim,isArray:go.isArray,is:go.is,toArray:go.toArray,makeMap:go.makeMap,each:go.each,map:go.map,grep:go.grep,inArray:go.inArray,extend:go.extend,create:go.create,walk:go.walk,createNS:go.createNS,resolve:go.resolve,explode:go.explode,_addCacheSuffix:go._addCacheSuffix,isOpera:Yi.opera,isWebKit:Yi.webkit,isIE:Yi.ie,isGecko:Yi.gecko,isMac:Yi.mac},ZI=go.extend(_I,JI),tP=function(t){if("object"==typeof module)try{module.exports=t}catch(_){}};(function(t){window.tinymce=t,window.tinyMCE=t})(ZI),tP(ZI)}(window),function(t,e){if("object"==typeof exports&&exports)e(exports);else{var n={};e(n),"function"==typeof define&&define.amd?define(n):t.Mustache=n}}(this,function(b){function e(t,e){return r.call(t,e)}function y(t){return!e(o,t)}function w(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function t(t){return String(t).replace(/[&<>"'\/]/g,function(t){return l[t]})}function _(t){this.string=t,this.tail=t,this.pos=0}function s(t,e){this.view=t||{},this.parent=e,this._cache={}}function n(){this.clearCache()}function f(t,e,n,i){for(var o,r,s,a="",l=0,u=t.length;l<u;++l)switch(r=(o=t[l])[1],o[0]){case"#":if("object"==typeof(s=n.lookup(r)))if(p(s))for(var c=0,d=s.length;c<d;++c)a+=f(o[4],e,n.push(s[c]),i);else s&&(a+=f(o[4],e,n.push(s),i));else if("function"==typeof s){var h=null==i?null:i.slice(o[3],o[5]);null!=(s=s.call(n.view,h,function(t){return e.render(t,n)}))&&(a+=s)}else s&&(a+=f(o[4],e,n,i));break;case"^":(!(s=n.lookup(r))||p(s)&&0===s.length)&&(a+=f(o[4],e,n,i));break;case">":"function"==typeof(s=e.getPartial(r))&&(a+=s(n));break;case"&":null!=(s=n.lookup(r))&&(a+=s);break;case"name":null!=(s=n.lookup(r))&&(a+=b.escape(s));break;case"text":a+=r}return a}function x(t){for(var e,n=[],i=n,o=[],r=0,s=t.length;r<s;++r)switch((e=t[r])[0]){case"#":case"^":o.push(e),i.push(e),i=e[4]=[];break;case"/":o.pop()[5]=e[2],i=0<o.length?o[o.length-1][4]:n;break;default:i.push(e)}return n}function C(t){for(var e,n,i=[],o=0,r=t.length;o<r;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(n=e,i.push(e)));return i}function k(t){return[new RegExp(w(t[0])+"\\s*"),new RegExp("\\s*"+w(t[1]))]}function i(t,e){function n(){if(f&&!p)for(;h.length;)delete d[h.pop()];else h=[];p=f=!1}if(t=t||"","string"==typeof(e=e||b.tags)&&(e=e.split(S)),2!==e.length)throw new Error("Invalid tags: "+e.join(", "));for(var i,o,r,s,a,l=k(e),u=new _(t),c=[],d=[],h=[],f=!1,p=!1;!u.eos();){if(i=u.pos,r=u.scanUntil(l[0]))for(var g=0,m=r.length;g<m;++g)y(s=r.charAt(g))?h.push(d.length):p=!0,d.push(["text",s,i,i+1]),i+=1,"\n"==s&&n();if(!u.scan(l[0]))break;if(f=!0,o=u.scan(D)||"name",u.scan(T),"="===o?(r=u.scanUntil(E),u.scan(E),u.scanUntil(l[1])):"{"===o?(r=u.scanUntil(new RegExp("\\s*"+w("}"+e[1]))),u.scan(N),u.scanUntil(l[1]),o="&"):r=u.scanUntil(l[1]),!u.scan(l[1]))throw new Error("Unclosed tag at "+u.pos);if(a=[o,r,i,u.pos],d.push(a),"#"===o||"^"===o)c.push(a);else if("/"===o){if(0===c.length)throw new Error('Unopened section "'+r+'" at '+i);if((v=c.pop())[1]!==r)throw new Error('Unclosed section "'+v[1]+'" at '+i)}else if("name"===o||"{"===o||"&"===o)p=!0;else if("="===o){if(2!==(e=r.split(S)).length)throw new Error("Invalid tags at "+i+": "+e.join(", "));l=k(e)}}var v;if(v=c.pop())throw new Error('Unclosed section "'+v[1]+'" at '+u.pos);return x(d=C(d))}var T=/\s*/,S=/\s+/,o=/\S/,E=/\s*=/,N=/\s*\}/,D=/#|\^|\/|>|\{|&|=|!/,r=RegExp.prototype.test,a=Object.prototype.toString,p=Array.isArray||function(t){return"[object Array]"===a.call(t)},l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};_.prototype.eos=function(){return""===this.tail},_.prototype.scan=function(t){var e=this.tail.match(t);return e&&0===e.index?(this.tail=this.tail.substring(e[0].length),this.pos+=e[0].length,e[0]):""},_.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return e},s.make=function(t){return t instanceof s?t:new s(t)},s.prototype.push=function(t){return new s(t,this)},s.prototype.lookup=function(t){var e=this._cache[t];if(!e){if("."==t)e=this.view;else for(var n=this;n;){if(0<t.indexOf(".")){e=n.view;for(var i=t.split("."),o=0;e&&o<i.length;)e=e[i[o++]]}else e=n.view[t];if(null!=e)break;n=n.parent}this._cache[t]=e}return"function"==typeof e&&(e=e.call(this.view)),e},n.prototype.clearCache=function(){this._cache={},this._partialCache={}},n.prototype.compile=function(t,e){var n=this._cache[t];if(!n){var i=b.parse(t,e);n=this._cache[t]=this.compileTokens(i,t)}return n},n.prototype.compilePartial=function(t,e,n){var i=this.compile(e,n);return this._partialCache[t]=i},n.prototype.getPartial=function(t){return t in this._partialCache||!this._loadPartial||this.compilePartial(t,this._loadPartial(t)),this._partialCache[t]},n.prototype.compileTokens=function(i,o){var r=this;return function(t,e){if(e)if("function"==typeof e)r._loadPartial=e;else for(var n in e)r.compilePartial(n,e[n]);return f(i,r,s.make(t),o)}},n.prototype.render=function(t,e,n){return this.compile(t)(e,n)},b.name="mustache.js",b.version="0.7.2",b.tags=["{{","}}"],b.Scanner=_,b.Context=s,b.Writer=n,b.parse=i,b.escape=t;var u=new n;b.clearCache=function(){return u.clearCache()},b.compile=function(t,e){return u.compile(t,e)},b.compilePartial=function(t,e,n){return u.compilePartial(t,e,n)},b.compileTokens=function(t,e){return u.compileTokens(t,e)},b.render=function(t,e,n){return u.render(t,e,n)},b.to_html=function(t,e,n,i){var o=b.render(t,e,n);if("function"!=typeof i)return o;i(o)}}),function(t,a,o){function n(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}}function i(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b","i").test(t.className)}function r(t,e){t.classList?t.classList.add(e):i(t,e)||(t.className+=" "+e)}function e(t,e){if(t.classList)t.classList.remove(e);else if(i(t,e)){var n=new RegExp("\\b"+e+"\\b","i");t.className=t.className.split(n).join("")}}function s(t){for(var e in this)0===e.indexOf("_on")&&"function"==typeof this[e]&&(this[e]=n(this[e],this));this.options=t=t||{},this.root=t.root||o.documentElement,this.prefix=(t.prefix||"highlighter")+"-",this.throttle=t.throttle||1e3/60,this.selected=null,!(this.handles={start:this.createHandle("start"),end:this.createHandle("end")})!==t.enable&&this.enable()}s.prototype={constructor:s,get:function(){return a.getSelection()},enable:function(){return this.enabled||(this.bind(this.root,{click:"_onClick"}),this.bind(o,{tapstart:"_onDocumentDown",mousedown:"_onDocumentDown"}),this.options.highlightStyles&&(this.style=this.createStyle(),o.getElementsByTagName("head")[0].appendChild(this.style)),o.body.appendChild(this.handles.start),o.body.appendChild(this.handles.end),this.hideHandles(),this.enabled=!0),this},disable:function(){this.enabled&&(this.unbind(this.root,{click:"_onClick"}),this.unbind(o,{tapstart:"_onDocumentDown",mousedown:"_onDocumentDown"}),this.style&&this.style.parentNode.removeChild(this.style),o.body.removeChild(this.handles.start),o.body.removeChild(this.handles.end),this.get().removeAllRanges(),this.showHandles(),this.enabled=!1)},isEnabled:function(){return this.enabled},select:function(t){var e=this.get(),n=a.scrollY,i=a.scrollX,o=t.getClientRects(),r=o[0],s=o[o.length-1];return e.removeAllRanges(),e.addRange(t),this.positionHandles({x:r.left+i,y:r.top+n+r.height/2},{x:s.left+s.width+i,y:s.top+n+s.height/2}),this.selected=t,this.showHandles()},deselect:function(){var t=this.get();return t&&(this.selected=null,t.removeAllRanges()),this.hideHandles()},selectWord:function(t){var e=this.createRange(t);return e&&(e.expand("word"),e.toString().trim()&&this.select(e)),this},selectRange:function(t,e){var n=o.createRange();return n.setStart(t.startContainer,t.startOffset),n.setEnd(e.endContainer,e.endOffset),this.select(n)},expandStart:function(t){var e=this.selected;return e&&(e.startContainer!==t.startContainer||e.startOffset!==t.startOffset)&&this.selectRange(t,e),this},expandEnd:function(t){var e=this.selected;return e&&(t.expand("character"),(e.endContainer!==t.endContainer||e.endOffset!==t.endOffset)&&this.selectRange(e,t)),this},createRange:function(t){return o.caretRangeFromPoint(t.x,t.y)},showHandles:function(){return e(o.documentElement,this.prefix+"hide"),this},hideHandles:function(){return r(o.documentElement,this.prefix+"hide"),this},getFirstPosition:function(t){var e=t.touches?t.touches[0]:t;return e?{x:e.clientX,y:e.clientY}:null},bind:function(t,e){var n,i;for(n in e)e.hasOwnProperty(n)&&("string"==typeof(i=e[n])&&(i=this[i]),t.addEventListener(n,i,!1));return this},unbind:function(t,e){var n,i;for(n in e)e.hasOwnProperty(n)&&("string"==typeof(i=e[n])&&(i=this[i]),t.removeEventListener(n,i,!1));return this},updatePositionByHandle:function(t){var e,n,i,o;return this.hideHandles(),n=this.createRange(t),this.showHandles(),n&&(e=this.selected,i=!this._isStartHandle&&1===e.compareBoundaryPoints(Range.START_TO_START,n),o=this._isStartHandle&&-1===e.compareBoundaryPoints(Range.END_TO_END,n),i||o?(this._isStartHandle=!this._isStartHandle,e.collapse(i),i?this.selectRange(n,e):this.selectRange(e,n)):this[this._isStartHandle?"expandStart":"expandEnd"](n)),this},isHandle:function(t){return t===this.handles.start||t===this.handles.end},positionHandles:function(t,e){return e=e||{},(t=t||{}).y&&(this.handles.start.style.top=t.y+"px"),t.x&&(this.handles.start.style.left=t.x+"px"),e.y&&(this.handles.end.style.top=e.y+"px"),e.x&&(this.handles.end.style.left=e.x+"px"),this},createHandle:function(t){var e=o.createElement("span");return r(e,this.prefix+"handle"),r(e,this.prefix+t),this.bind(e,{touchstart:"_onHandleDown",mousedown:"_onHandleDown"}),e},createStyle:function(){var t="::selection {$} ::-moz-selection {$} ::-webkit-selection {$}",e=o.createElement("style"),n="string"==typeof this.options.highlightStyles,i=this.options.highlightStyles;return i=n?i:"background-color: rgb(180, 213, 254)",t=t.replace(/\$/g,i),e.appendChild(o.createTextNode(t)),e},_onClick:function(t){if(!this.selected&&!this._cleared){var e=this.getFirstPosition(t);e&&this.selectWord(e),t.preventDefault()}},_onDocumentDown:function(t){var e,n,i,o=this.getFirstPosition(t),r=this.selected;delete this._cleared,this.selected&&o&&!this.isHandle(t.target)&&(n=-1===(e=this.createRange(o)).compareBoundaryPoints(Range.START_TO_END,r),i=1===e.compareBoundaryPoints(Range.END_TO_START,r),(n||i)&&(this._cleared=!0,this.deselect())),this.isEnabled()&&t.preventDefault()},_onHandleDown:function(t){var e=this.getFirstPosition(t);e&&this.selected&&(this._offset={y:e.y-parseFloat(t.target.style.top)+a.scrollY,x:e.x-parseFloat(t.target.style.left)+a.scrollX},this._startPosition=this._endPosition=e,this._isStartHandle=t.target===this.handles.start,this.bind(o,{mousemove:"_onHandleMove",mouseup:"_onHandleUp",touchmove:"_onHandleMove",touchend:"_onHandleUp"})),t.stopPropagation(),t.preventDefault()},_onHandleMove:function(t){var e,n=this;t.stopPropagation(),t.preventDefault(),this._throttled||(this._throttled=setTimeout(function(){n._throttled=null},this.throttle),this._startPosition&&(e=this.getFirstPosition(t))&&(e={y:e.y-this._offset.y,x:e.x-this._offset.x},this.updatePositionByHandle(e,this._isStartHandle)))},_onHandleUp:function(){clearTimeout(this._throttled),delete this._isStartHandle,delete this._startPosition,delete this._endPosition,delete this._throttled,delete this._offset,this.unbind(o,{mousemove:"_onHandleMove",mouseup:"_onHandleUp",touchmove:"_onHandleMove",touchend:"_onHandleUp"})}},t.exports?t.exports=s:t.Highlighter=s}("undefined"!=typeof module?module:this,this,this.document),function(){var b,c,i,y,g,m,o,r,s,u,t,e,n,l,a,d,h,f,p,v,w,_,x,C,k,T,S,E,N,D,A,z=[].slice,M={}.hasOwnProperty,I=function(t,e){function n(){this.constructor=t}for(var i in e)M.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},P=function(t,e){return function(){return t.apply(e,arguments)}},R=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};if(f=function(o){return this.map(function(){var t,e,n,i;for(n="",t=this;(null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&t!==o;)i=t.tagName.replace(":","\\:"),e="["+(e=b(t.parentNode).children(i).index(t)+1)+"]",n="/"+t.tagName.toLowerCase()+e+n,t=t.parentNode;return n}).get()},p=function(t){var n,e,i;return n=function(t){return l(t)+"["+a(t)+"]"},i=t,e=function(t){var e;for(e="";t!==i;){if(null==t)throw new Error("Called getPathTo on a node which was not a descendant of @rootNode. "+i);e=n(t)+"/"+e,t=t.parentNode}return(e="/"+e).replace(/\/$/,"")},this.map(function(){return e(this)}).get()},u=function(t,e,n){var i,o,r,s,a;if(!t.hasChildNodes())throw new Error("XPath error: node has no children!");for(s=r=0,a=(o=t.childNodes).length;s<a;s++)if(i=o[s],l(i)===e&&(r+=1)===n)return i;throw new Error("XPath error: wanted child not found.")},l=function(t){var e;switch(e=t.nodeName.toLowerCase()){case"#text":return"text()";case"#comment":return"comment()";case"#cdata-section":return"cdata-section()";default:return e}},a=function(t){var e,n;for(e=0,n=t;n;)n.nodeName===t.nodeName&&e++,n=n.previousSibling;return e},d=null,"undefined"!=typeof Gettext&&null!==Gettext?(w=new Gettext({domain:"annotator"}),d=function(t){return w.gettext(t)}):d=function(t){return t},E=function(t){return d(t)},("undefined"!=typeof jQuery&&null!==jQuery&&null!=(T=jQuery.fn)?T.jquery:void 0)||console.error(E("Annotator requires jQuery: have you included lib/vendor/jquery.js?")),JSON&&JSON.parse&&JSON.stringify||console.error(E("Annotator requires a JSON implementation: have you included lib/vendor/json2.js?")),b=jQuery,(m={}).flatten=function(t){var r;return(r=function(t){var e,n,i,o;for(n=[],i=0,o=t.length;i<o;i++)e=t[i],n=n.concat(e&&b.isArray(e)?r(e):e);return n})(t)},m.contains=function(t,e){var n;for(n=e;null!=n;){if(n===t)return!0;n=n.parentNode}return!1},m.getTextNodes=function(t){var n;return n=function(t){var e;if(t&&t.nodeType!==Node.TEXT_NODE){if(e=[],t.nodeType!==Node.COMMENT_NODE)for(t=t.lastChild;t;)e.push(n(t)),t=t.previousSibling;return e.reverse()}return t},t.map(function(){return m.flatten(n(this))})},m.getLastTextNodeUpTo=function(t){var e;switch(t.nodeType){case Node.TEXT_NODE:return t;case Node.ELEMENT_NODE:if(null!=t.lastChild&&null!=(e=m.getLastTextNodeUpTo(t.lastChild)))return e}return null!=(t=t.previousSibling)?m.getLastTextNodeUpTo(t):null},m.getFirstTextNodeNotBefore=function(t){var e;switch(t.nodeType){case Node.TEXT_NODE:return t;case Node.ELEMENT_NODE:if(null!=t.firstChild&&null!=(e=m.getFirstTextNodeNotBefore(t.firstChild)))return e}return null!=(t=t.nextSibling)?m.getFirstTextNodeNotBefore(t):null},m.readRangeViaSelection=function(t){var e;return(e=m.getGlobal().getSelection()).removeAllRanges(),e.addRange(t.toRange()),e.toString()},m.xpathFromNode=function(t,e){var n;try{n=f.call(t,e)}catch(y){console.log("jQuery-based XPath construction failed! Falling back to manual."),n=p.call(t,e)}return n},m.nodeFromXPath=function(t,e){var n,i,o,r,s,a,l;for(o=e,s=0,a=(r=t.substring(1).split("/")).length;s<a;s++)i=(l=r[s].split("["))[0],n=null!=(n=l[1])?parseInt((null!=n?n.split("]"):void 0)[0]):1,o=u(o,i.toLowerCase(),n);return o},m.escape=function(t){return t.replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},m.uuid=(N=0,function(){return N++}),m.getGlobal=function(){return function(){return this}()},m.maxZIndex=function(i){var t,o;return t=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)o=i[t],"static"===b(o).css("position")?n.push(-1):n.push(parseInt(b(o).css("z-index"),10)||-1);return n}(),Math.max.apply(Math,t)},m.mousePosition=function(t,e){var n,i;return"absolute"!==(i=b(e).css("position"))&&"fixed"!==i&&"relative"!==i&&(e=b(e).offsetParent()[0]),n=b(e).offset(),{top:t.pageY-n.top,left:t.pageX-n.left}},m.preventEventDefault=function(t){return null!=t&&"function"==typeof t.preventDefault?t.preventDefault():void 0},e=["log","debug","info","warn","exception","assert","dir","dirxml","trace","group","groupEnd","groupCollapsed","time","timeEnd","profile","profileEnd","count","clear","table","error","notifyFirebug","firebug","userObjects"],"undefined"!=typeof console&&null!==console)for(null==console.group&&(console.group=function(t){return console.log("GROUP: ",t)}),null==console.groupCollapsed&&(console.groupCollapsed=console.group),_=0,C=e.length;_<C;_++)t=e[_],null==console[t]&&(console[t]=function(){return console.log(E("Not implemented:")+" console."+name)});else{for(this.console={},x=0,k=e.length;x<k;x++)t=e[x],this.console[t]=function(){};this.console.error=function(){var t;return t=1<=arguments.length?z.call(arguments,0):[],alert("ERROR: "+t.join(", "))},this.console.warn=function(){var t;return t=1<=arguments.length?z.call(arguments,0):[],alert("WARNING: "+t.join(", "))}}(i=function(){function r(t,e){this.options=b.extend(!0,{},this.options,e),this.element=b(t),this._closures={},this.on=this.subscribe,this.addEvents()}return r.prototype.events={},r.prototype.options={},r.prototype.element=null,r.prototype.addEvents=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=r._parseEvents(this.events)).length;e<n;e++)t=i[e],o.push(this._addEvent(t.selector,t.event,t.functionName));return o},r.prototype.removeEvents=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=r._parseEvents(this.events)).length;e<n;e++)t=i[e],o.push(this._removeEvent(t.selector,t.event,t.functionName));return o},r.prototype._addEvent=function(t,e,n){var i,o;return o=this,i=function(){return o[n].apply(o,arguments)},""===t&&r._isCustomEvent(e)?this.subscribe(e,i):this.element.delegate(t,e,i),this._closures[t+"/"+e+"/"+n]=i,this},r.prototype._removeEvent=function(t,e,n){var i;return i=this._closures[t+"/"+e+"/"+n],""===t&&r._isCustomEvent(e)?this.unsubscribe(e,i):this.element.undelegate(t,e,i),delete this._closures[t+"/"+e+"/"+n],this},r.prototype.publish=function(){return this.element.triggerHandler.apply(this.element,arguments),this},r.prototype.subscribe=function(t,e){var n;return(n=function(){return e.apply(this,[].slice.call(arguments,1))}).guid=e.guid=b.guid+=1,this.element.bind(t,n),this},r.prototype.unsubscribe=function(){return this.element.unbind.apply(this.element,arguments),this},r}())._parseEvents=function(t){var e,n,i,o,r,s,a;for(o in n=[],t)i=t[o],r=2<=(a=o.split(" ")).length?z.call(a,0,s=a.length-1):(s=0,[]),e=a[s++],n.push({selector:r.join(" "),event:e,
functionName:i});return n},i.natives=(A=function(){var t,e;for(D in e=[],t=jQuery.event.special)M.call(t,D)&&(t[D],e.push(D));return e}(),"blur focus focusin focusout load resize scroll unload click dblclick\nmousedown mouseup mousemove mouseover mouseout mouseenter mouseleave\nchange select submit keydown keypress keyup error".split(/[^a-z]+/).concat(A)),i._isCustomEvent=function(t){return t=t.split(".")[0],-1===b.inArray(t,i.natives)},(g={}).sniff=function(t){return null!=t.commonAncestorContainer?new g.BrowserRange(t):"string"==typeof t.start?new g.SerializedRange(t):t.start&&"object"==typeof t.start?new g.NormalizedRange(t):(console.error(E("Could not sniff range type")),!1)},g.nodeFromXPath=function(o,n){var t,e,i,r,s;return null==n&&(n=document),e=function(t,e){null==e&&(e=null);try{return document.evaluate("."+t,n,e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(e){return console.log("XPath evaluation failed."),console.log("Trying fallback..."),m.nodeFromXPath(t,n)}},b.isXMLDoc(document.documentElement)?(t=document.createNSResolver(null===document.ownerDocument?document.documentElement:document.ownerDocument.documentElement),(r=e(o,t))||(o=function(){var t,e,n,i;for(i=[],t=0,e=(n=o.split("/")).length;t<e;t++)(s=n[t])&&-1===s.indexOf(":")?i.push(s.replace(/^([a-z]+)/,"xhtml:$1")):i.push(s);return i}().join("/"),i=document.lookupNamespaceURI(null),r=e(o,t=function(t){return"xhtml"===t?i:document.documentElement.getAttribute("xmlns:"+t)})),r):e(o)},g.RangeError=function(t){function i(t,e,n){this.type=t,this.message=e,this.parent=null!=n?n:null,i.__super__.constructor.call(this,this.message)}return I(i,t),i}(Error),g.BrowserRange=function(){function t(t){this.commonAncestorContainer=t.commonAncestorContainer,this.startContainer=t.startContainer,this.startOffset=t.startOffset,this.endContainer=t.endContainer,this.endOffset=t.endOffset}return t.prototype.normalize=function(){var t,e,n,i;if(this.tainted)return console.error(E("You may only call normalize() once on a BrowserRange!")),!1;if(this.tainted=!0,i={},this.startContainer.nodeType===Node.ELEMENT_NODE?(i.start=m.getFirstTextNodeNotBefore(this.startContainer.childNodes[this.startOffset]),i.startOffset=0):(i.start=this.startContainer,i.startOffset=this.startOffset),this.endContainer.nodeType===Node.ELEMENT_NODE){if(null!=(e=this.endContainer.childNodes[this.endOffset])){for(t=e;null!=t&&t.nodeType!==Node.TEXT_NODE;)t=t.firstChild;null!=t&&(i.end=t,i.endOffset=0)}null==i.end&&(e=this.endContainer.childNodes[this.endOffset-1],i.end=m.getLastTextNodeUpTo(e),i.endOffset=i.end.nodeValue.length)}else i.end=this.endContainer,i.endOffset=this.endOffset;for(n={},0<i.startOffset?i.start.nodeValue.length>i.startOffset?n.start=i.start.splitText(i.startOffset):n.start=i.start.nextSibling:n.start=i.start,i.start===i.end?(n.start.nodeValue.length>i.endOffset-i.startOffset&&n.start.splitText(i.endOffset-i.startOffset),n.end=n.start):(i.end.nodeValue.length>i.endOffset&&i.end.splitText(i.endOffset),n.end=i.end),n.commonAncestor=this.commonAncestorContainer;n.commonAncestor.nodeType!==Node.ELEMENT_NODE;)n.commonAncestor=n.commonAncestor.parentNode;return new g.NormalizedRange(n)},t.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},t}(),g.NormalizedRange=function(){function t(t){this.commonAncestor=t.commonAncestor,this.start=t.start,this.end=t.end}return t.prototype.normalize=function(){return this},t.prototype.limit=function(e){var t,n,i,o,r,s;if(!(t=b.grep(this.textNodes(),function(t){return t.parentNode===e||b.contains(e,t.parentNode)})).length)return null;for(this.start=t[0],this.end=t[t.length-1],i=b(this.start).parents(),o=0,r=(s=b(this.end).parents()).length;o<r;o++)if(n=s[o],-1!==i.index(n)){this.commonAncestor=n;break}return this},t.prototype.serialize=function(u,c){var t,e,n;return n=(e=function(t,e){var n,i,o,r,s,a,l;for(o=c?b(t).parents(":not("+c+")").eq(0):b(t).parent(),s=m.xpathFromNode(o,u)[0],a=i=0,l=(n=(r=m.getTextNodes(o)).slice(0,r.index(t))).length;a<l;a++)i+=n[a].nodeValue.length;return e?[s,i+t.nodeValue.length]:[s,i]})(this.start),t=e(this.end,!0),new g.SerializedRange({start:n[0],end:t[0],startOffset:n[1],endOffset:t[1]})},t.prototype.text=function(){var o;return function(){var t,e,n,i;for(i=[],t=0,e=(n=this.textNodes()).length;t<e;t++)o=n[t],i.push(o.nodeValue);return i}.call(this).join("")},t.prototype.textNodes=function(){var t,e,n,i;return e=(i=[(n=m.getTextNodes(b(this.commonAncestor))).index(this.start),n.index(this.end)])[0],t=i[1],b.makeArray(n.slice(e,+t+1||9e9))},t.prototype.toRange=function(){var t;return(t=document.createRange()).setStartBefore(this.start),t.setEndAfter(this.end),t},t}(),g.SerializedRange=function(){function t(t){this.start=t.start,this.startOffset=t.startOffset,this.end=t.end,this.endOffset=t.endOffset}return t.prototype.normalize=function(t){var e,n,i,o,r,s,a,l,u,c,d,h,f,p;for(s={},u=0,d=(f=["start","end"]).length;u<d;u++){r=f[u];try{o=g.nodeFromXPath(this[r],t)}catch(b){throw n=b,new g.RangeError(r,"Error while finding "+r+" node: "+this[r]+": "+n,n)}if(!o)throw new g.RangeError(r,"Couldn't find "+r+" node: "+this[r]);for(i=0,a=this[r+"Offset"],"end"===r&&a--,c=0,h=(p=m.getTextNodes(b(o))).length;c<h;c++){if(i+(l=p[c]).nodeValue.length>a){s[r+"Container"]=l,s[r+"Offset"]=this[r+"Offset"]-i;break}i+=l.nodeValue.length}if(null==s[r+"Offset"])throw new g.RangeError(r+"offset","Couldn't find offset "+this[r+"Offset"]+" in element "+this[r])}return e=null==document.compareDocumentPosition?function(t,e){return t.contains(e)}:function(t,e){return 16&t.compareDocumentPosition(e)},b(s.startContainer).parents().each(function(){if(e(this,s.endContainer))return s.commonAncestorContainer=this,!1}),new g.BrowserRange(s).normalize(t)},t.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},t.prototype.toObject=function(){return{start:this.start,startOffset:this.startOffset,end:this.end,endOffset:this.endOffset}},t}(),v=this.Annotator,(c=function(){function o(t,e){if(this.onDeleteAnnotation=P(this.onDeleteAnnotation,this),this.onEditAnnotation=P(this.onEditAnnotation,this),this.onAdderClick=P(this.onAdderClick,this),this.onAdderMousedown=P(this.onAdderMousedown,this),this.onHighlightMouseover=P(this.onHighlightMouseover,this),this.checkForEndSelection=P(this.checkForEndSelection,this),this.checkForStartSelection=P(this.checkForStartSelection,this),this.clearViewerHideTimer=P(this.clearViewerHideTimer,this),this.startViewerHideTimer=P(this.startViewerHideTimer,this),this.showViewer=P(this.showViewer,this),this.onEditorSubmit=P(this.onEditorSubmit,this),this.onEditorHide=P(this.onEditorHide,this),this.showEditor=P(this.showEditor,this),o.__super__.constructor.apply(this,arguments),this.plugins={},!o.supported())return this;this.options.readOnly||this._setupDocumentEvents(),this._setupWrapper()._setupViewer()._setupEditor(),this._setupDynamicStyle(),this.adder=b(this.html.adder).appendTo(this.wrapper).hide(),o._instances.push(this)}return I(o,i),o.prototype.events={".annotator-adder button click":"onAdderClick",".annotator-adder button mousedown":"onAdderMousedown",".annotator-hl mouseover":"onHighlightMouseover",".annotator-hl mouseout":"startViewerHideTimer"},o.prototype.html={adder:'<div class="annotator-adder"><button>'+E("Annotate")+"</button></div>",wrapper:'<div class="annotator-wrapper"></div>'},o.prototype.options={readOnly:!1},o.prototype.plugins={},o.prototype.editor=null,o.prototype.viewer=null,o.prototype.selectedRanges=null,o.prototype.mouseIsDown=!1,o.prototype.ignoreMouseup=!1,o.prototype.viewerHideTimer=null,o.prototype._setupWrapper=function(){return this.wrapper=b(this.html.wrapper),this.element.find("script").remove(),this.element.wrapInner(this.wrapper),this.wrapper=this.element.find(".annotator-wrapper"),this},o.prototype._setupViewer=function(){var n;return this.viewer=new o.Viewer({readOnly:this.options.readOnly}),this.viewer.hide().on("edit",this.onEditAnnotation).on("delete",this.onDeleteAnnotation).addField({load:(n=this,function(t,e){return e.text?b(t).html(m.escape(e.text)):b(t).html("<i>"+E("No Comment")+"</i>"),n.publish("annotationViewerTextField",[t,e])})}).element.appendTo(this.wrapper).bind({mouseover:this.clearViewerHideTimer,mouseout:this.startViewerHideTimer}),this},o.prototype._setupEditor=function(){return this.editor=new o.Editor,this.editor.hide().on("hide",this.onEditorHide).on("save",this.onEditorSubmit).addField({type:"textarea",label:E("Comments")+"\u2026",load:function(t,e){return b(t).find("textarea").val(e.text||"")},submit:function(t,e){return e.text=b(t).find("textarea").val()}}),this.editor.element.appendTo(this.wrapper),this},o.prototype._setupDocumentEvents=function(){return b(document).bind({mouseup:this.checkForEndSelection,mousedown:this.checkForStartSelection}),this},o.prototype._setupDynamicStyle=function(){var t,e,n,o;return(n=b("#annotator-dynamic-style")).length||(n=b('<style id="annotator-dynamic-style"></style>').appendTo(document.head)),e="*"+function(){var t,e,n,i;for(i=[],t=0,e=(n=["adder","outer","notice","filter"]).length;t<e;t++)o=n[t],i.push(":not(.annotator-"+o+")");return i}().join(""),t=m.maxZIndex(b(document.body).find(e)),t=Math.max(t,1e3),n.text([".annotator-adder, .annotator-outer, .annotator-notice {","  z-index: "+(t+20)+";","}",".annotator-filter {","  z-index: "+(t+10)+";","}"].join("\n")),this},o.prototype.destroy=function(){var t,e,n;for(e in b(document).unbind({mouseup:this.checkForEndSelection,mousedown:this.checkForStartSelection}),b("#annotator-dynamic-style").remove(),this.adder.remove(),this.viewer.destroy(),this.editor.destroy(),this.wrapper.find(".annotator-hl").each(function(){return b(this).contents().insertBefore(this),b(this).remove()}),this.wrapper.contents().insertBefore(this.wrapper),this.wrapper.remove(),this.element.data("annotator",null),n=this.plugins)n[e],this.plugins[e].destroy();if(this.removeEvents(),-1!==(t=o._instances.indexOf(this)))return o._instances.splice(t,1)},o.prototype.getSelectedRanges=function(){var i,o,r,s,t,a,l,e,n;for(l=m.getGlobal().getSelection(),t=[],a=[],l.isCollapsed||(t=function(){var t,e,n;for(n=[],o=t=0,e=l.rangeCount;0<=e?t<e:e<t;o=0<=e?++t:--t)s=l.getRangeAt(o),i=new g.BrowserRange(s),null===(r=i.normalize().limit(this.wrapper[0]))&&a.push(s),n.push(r);return n}.call(this),l.removeAllRanges()),e=0,n=a.length;e<n;e++)s=a[e],l.addRange(s);return b.grep(t,function(t){return t&&l.addRange(t.toRange()),t})},o.prototype.createAnnotation=function(){var t;return t={},this.publish("beforeAnnotationCreated",[t]),t},o.prototype.setupAnnotation=function(t){var e,n,i,o,r,s,a,l,u,c;for(r=this.wrapper[0],t.ranges||(t.ranges=this.selectedRanges),i=[],s=0,l=(c=t.ranges).length;s<l;s++){o=c[s];try{i.push(g.sniff(o).normalize(r))}catch(b){if(!((e=b)instanceof g.RangeError))throw e;this.publish("rangeNormalizeFail",[t,o,e])}}for(t.quote=[],t.ranges=[],t.highlights=[],a=0,u=i.length;a<u;a++)n=i[a],t.quote.push(b.trim(n.text())),t.ranges.push(n.serialize(this.wrapper[0],".annotator-hl")),b.merge(t.highlights,this.highlightRange(n));return t.quote=t.quote.join(" / "),b(t.highlights).data("annotation",t),t},o.prototype.updateAnnotation=function(t){return this.publish("beforeAnnotationUpdated",[t]),this.publish("annotationUpdated",[t]),t},o.prototype.deleteAnnotation=function(t){var e,n,i,o;if(null!=t.highlights)for(n=0,i=(o=t.highlights).length;n<i;n++)null!=(e=o[n]).parentNode&&(e.childNodes[0],b(e).replaceWith(e.childNodes));return this.publish("annotationDeleted",[t]),t},o.prototype.loadAnnotations=function(t){var r,s,a;return null==t&&(t=[]),a=this,s=function(t){var e,n,i,o;for(null==t&&(t=[]),i=0,o=(n=t.splice(0,10)).length;i<o;i++)e=n[i],a.setupAnnotation(e);return 0<t.length?setTimeout(function(){return s(t)},10):a.publish("annotationsLoaded",[r])},r=t.slice(),s(t),this},o.prototype.dumpAnnotations=function(){return this.plugins.Store?this.plugins.Store.dumpAnnotations():(console.warn(E("Can't dump annotations without Store plugin.")),!1)},o.prototype.highlightRange=function(t,e){var n,i,o,r,s,a,l;for(null==e&&(e="annotator-hl"),o=/^\s*$/,n=b("<span class='"+e+"'></span>"),l=[],r=0,s=(a=t.textNodes()).length;r<s;r++)i=a[r],o.test(i.nodeValue)||l.push(b(i).wrapAll(n).parent().show()[0]);return l},o.prototype.highlightRanges=function(t,e){var n,i,o,r;for(null==e&&(e="annotator-hl"),n=[],o=0,r=t.length;o<r;o++)i=t[o],b.merge(n,this.highlightRange(i,e));return n},o.prototype.addPlugin=function(t,e){var n,i;return this.plugins[t]?console.error(E("You cannot have more than one instance of any plugin.")):"function"==typeof(n=o.Plugin[t])?(this.plugins[t]=new n(this.element[0],e),"function"==typeof(i=(this.plugins[t].annotator=this).plugins[t]).pluginInit&&i.pluginInit()):console.error(E("Could not load ")+t+E(" plugin. Have you included the appropriate <script> tag?")),this},o.prototype.showEditor=function(t,e){return this.editor.element.css(e),this.editor.load(t),this.publish("annotationEditorShown",[this.editor,t]),this},o.prototype.onEditorHide=function(){return this.publish("annotationEditorHidden",[this.editor]),this.ignoreMouseup=!1},o.prototype.onEditorSubmit=function(t){return this.publish("annotationEditorSubmit",[this.editor,t])},o.prototype.showViewer=function(t,e){return this.viewer.element.css(e),this.viewer.load(t),this.publish("annotationViewerShown",[this.viewer,t])},o.prototype.startViewerHideTimer=function(){if(!this.viewerHideTimer)return this.viewerHideTimer=setTimeout(this.viewer.hide,250)},o.prototype.clearViewerHideTimer=function(){return clearTimeout(this.viewerHideTimer),this.viewerHideTimer=!1},o.prototype.checkForStartSelection=function(t){return t&&this.isAnnotator(t.target)||this.startViewerHideTimer(),this.mouseIsDown=!0},o.prototype.checkForEndSelection=function(t){var e,n,i,o;if(this.mouseIsDown=!1,!this.ignoreMouseup){for(this.selectedRanges=this.getSelectedRanges(),n=0,i=(o=this.selectedRanges).length;n<i;n++)if(e=o[n].commonAncestor,b(e).hasClass("annotator-hl")&&(e=b(e).parents("[class!=annotator-hl]")[0]),this.isAnnotator(e))return;return t&&this.selectedRanges.length?this.adder.css(m.mousePosition(t,this.wrapper[0])).show():this.adder.hide()}},o.prototype.isAnnotator=function(t){return!!b(t).parents().addBack().filter("[class^=annotator-]").not(this.wrapper).length},o.prototype.onHighlightMouseover=function(t){var e;return this.clearViewerHideTimer(),!this.mouseIsDown&&!this.viewer.isShown()&&(e=b(t.target).parents(".annotator-hl").addBack().map(function(){return b(this).data("annotation")}),this.showViewer(b.makeArray(e),m.mousePosition(t,this.wrapper[0])))},o.prototype.onAdderMousedown=function(t){return null!=t&&t.preventDefault(),this.ignoreMouseup=!0},o.prototype.onAdderClick=function(t){var e,n,i,o,r,s,a,l;return null!=t&&t.preventDefault(),o=this.adder.position(),this.adder.hide(),e=this.setupAnnotation(this.createAnnotation()),b(e.highlights).addClass("annotator-hl-temporary"),r=function(){return i(),b(e.highlights).removeClass("annotator-hl-temporary"),s.publish("annotationCreated",[e])},n=function(){return i(),l.deleteAnnotation(e)},i=function(){return a.unsubscribe("annotationEditorHidden",n),a.unsubscribe("annotationEditorSubmit",r)},(a=l=s=this).subscribe("annotationEditorHidden",n),this.subscribe("annotationEditorSubmit",r),this.showEditor(e,o)},o.prototype.onEditAnnotation=function(t){var e,n,i,o,r;return n=this.viewer.element.position(),i=function(){return e(),o.updateAnnotation(t)},e=function(){return r.unsubscribe("annotationEditorHidden",e),r.unsubscribe("annotationEditorSubmit",i)},(r=o=this).subscribe("annotationEditorHidden",e),this.subscribe("annotationEditorSubmit",i),this.viewer.hide(),this.showEditor(t,n)},o.prototype.onDeleteAnnotation=function(t){return this.viewer.hide(),this.deleteAnnotation(t)},o}()).Plugin=function(){function n(t,e){n.__super__.constructor.apply(this,arguments)}return I(n,i),n.prototype.pluginInit=function(){},n.prototype.destroy=function(){return this.removeEvents()},n}(),null==(null!=(S=(n=m.getGlobal()).document)?S.evaluate:void 0)&&b.getScript("http://assets.annotateit.org/vendor/xpath.min.js"),null==n.getSelection&&b.getScript("http://assets.annotateit.org/vendor/ierange.min.js"),null==n.JSON&&b.getScript("http://assets.annotateit.org/vendor/json2.min.js"),null==n.Node&&(n.Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}),c.$=b,c.Delegator=i,c.Range=g,c.Util=m,c._instances=[],c._t=E,c.supported=function(){return function(){return!!this.getSelection}()},c.noConflict=function(){return m.getGlobal().Annotator=v,this},b.fn.annotator=function(e){var n;return n=Array.prototype.slice.call(arguments,1),this.each(function(){var t;return(t=b.data(this,"annotator"))?e&&t[e].apply(t,n):(t=new c(this,e),b.data(this,"annotator",t))})},(this.Annotator=c).Widget=function(){function n(t,e){n.__super__.constructor.apply(this,arguments),this.classes=b.extend({},c.Widget.prototype.classes,this.classes)}return I(n,i),n.prototype.classes={hide:"annotator-hide",invert:{x:"annotator-invert-x",y:"annotator-invert-y"}},n.prototype.destroy=function(){return this.removeEvents(),this.element.remove()},n.prototype.checkOrientation=function(){var t,e,n,i,o;return this.resetOrientation(),o=b(c.Util.getGlobal()),e=(i=this.element.children(":first")).offset(),n={top:o.scrollTop(),right:o.width()+o.scrollLeft()},(t={top:e.top,right:e.left+i.width()}).top-n.top<0&&this.invertY(),0<t.right-n.right&&this.invertX(),this},n.prototype.resetOrientation=function(){return this.element.removeClass(this.classes.invert.x).removeClass(this.classes.invert.y),this},n.prototype.invertX=function(){return this.element.addClass(this.classes.invert.x),this},n.prototype.invertY=function(){return this.element.addClass(this.classes.invert.y),this},n.prototype.isInvertedY=function(){return this.element.hasClass(this.classes.invert.y)},n.prototype.isInvertedX=function(){return this.element.hasClass(this.classes.invert.x)},n}(),c.Editor=function(t){function n(t){this.onCancelButtonMouseover=P(this.onCancelButtonMouseover,this),this.processKeypress=P(this.processKeypress,this),this.submit=P(this.submit,this),this.load=P(this.load,this),this.hide=P(this.hide,this),this.show=P(this.show,this),n.__super__.constructor.call(this,b(this.html)[0],t),this.fields=[],this.annotation={}}return I(n,t),n.prototype.events={"form submit":"submit",".annotator-save click":"submit",".annotator-cancel click":"hide",".annotator-cancel mouseover":"onCancelButtonMouseover","textarea keydown":"processKeypress"},n.prototype.classes={hide:"annotator-hide",focus:"annotator-focus"},n.prototype.html='<div class="annotator-outer annotator-editor">\n  <form class="annotator-widget">\n    <ul class="annotator-listing"></ul>\n    <div class="annotator-controls">\n      <a href="#cancel" class="annotator-cancel">'+E("Cancel")+'</a>\n<a href="#save" class="annotator-save annotator-focus">'+E("Save")+"</a>\n    </div>\n  </form>\n</div>",n.prototype.options={},n.prototype.show=function(t){return c.Util.preventEventDefault(t),this.element.removeClass(this.classes.hide),this.element.find(".annotator-save").addClass(this.classes.focus),this.checkOrientation(),this.element.find(":input:first").focus(),this.setupDraggables(),this.publish("show")},n.prototype.hide=function(t){return c.Util.preventEventDefault(t),this.element.addClass(this.classes.hide),this.publish("hide")},n.prototype.load=function(t){var e,n,i,o;for(this.annotation=t,this.publish("load",[this.annotation]),n=0,i=(o=this.fields).length;n<i;n++)(e=o[n]).load(e.element,this.annotation);return this.show()},n.prototype.submit=function(t){var e,n,i,o;for(c.Util.preventEventDefault(t),n=0,i=(o=this.fields).length;n<i;n++)(e=o[n]).submit(e.element,this.annotation);return this.publish("save",[this.annotation]),this.hide()},n.prototype.addField=function(t){var e,n,i;switch(n=b.extend({id:"annotator-field-"+c.Util.uuid(),type:"input",label:"",load:function(){},submit:function(){}},t),i=null,e=b('<li class="annotator-item" />'),n.element=e[0],n.type){case"textarea":i=b("<textarea />");break;case"input":case"checkbox":i=b("<input />");break;case"select":i=b("<select />")}return e.append(i),i.attr({id:n.id,placeholder:n.label}),"checkbox"===n.type&&(i[0].type="checkbox",e.addClass("annotator-checkbox"),e.append(b("<label />",{"for":n.id,html:n.label}))),this.element.find("ul:first").append(e),this.fields.push(n),n.element},n.prototype.checkOrientation=function(){var t,e;return n.__super__.checkOrientation.apply(this,arguments),e=this.element.find("ul"),t=this.element.find(".annotator-controls"),this.element.hasClass(this.classes.invert.y)?t.insertBefore(e):t.is(":first-child")&&t.insertAfter(e),this},n.prototype.processKeypress=function(t){return 27===t.keyCode?this.hide():13!==t.keyCode||t.shiftKey?void 0:this.submit()},n.prototype.onCancelButtonMouseover=function(){return this.element.find("."+this.classes.focus).removeClass(this.classes.focus)},n.prototype.setupDraggables=function(){var s,a,t,l,u,e,n,i,c,d,h;return this.element.find(".annotator-resize").remove(),(t=this.element.hasClass(this.classes.invert.y)?this.element.find(".annotator-item:last"):this.element.find(".annotator-item:first"))&&b('<span class="annotator-resize"></span>').appendTo(t),u=null,s=this.classes,l=this.element,d=null,c=l.find(".annotator-resize"),a=l.find(".annotator-controls"),h=!1,e=function(t){if(t.target===this)return u={element:this,top:t.pageY,left:t.pageX},d=l.find("textarea:first"),b(window).bind({"mouseup.annotator-editor-resize":i,"mousemove.annotator-editor-resize":n}),t.preventDefault()},i=function(){return u=null,b(window).unbind(".annotator-editor-resize")},n=function(t){var e,n,i,o,r;if(u&&!1===h)return e={top:t.pageY-u.top,left:t.pageX-u.left},u.element===c[0]?(o=d.outerHeight(),r=d.outerWidth(),n=l.hasClass(s.invert.x)?-1:1,i=l.hasClass(s.invert.y)?1:-1,d.height(o+e.top*i),d.width(r+e.left*n),d.outerHeight()!==o&&(u.top=t.pageY),d.outerWidth()!==r&&(u.left=t.pageX)):u.element===a[0]&&(l.css({top:parseInt(l.css("top"),10)+e.top,left:parseInt(l.css("left"),10)+e.left}),u.top=t.pageY,u.left=t.pageX),h=!0,setTimeout(function(){return h=!1},1e3/60)},c.bind("mousedown",e),a.bind("mousedown",e)},n}(c.Widget),c.Viewer=function(t){function e(t){this.onDeleteClick=P(this.onDeleteClick,this),this.onEditClick=P(this.onEditClick,this),this.load=P(this.load,this),this.hide=P(this.hide,this),this.show=P(this.show,this),e.__super__.constructor.call(this,b(this.html.element)[0],t),this.item=b(this.html.item)[0],this.fields=[],this.annotations=[]}return I(e,t),e.prototype.events={".annotator-edit click":"onEditClick",".annotator-delete click":"onDeleteClick"},e.prototype.classes={hide:"annotator-hide",showControls:"annotator-visible"},e.prototype.html={element:'<div class="annotator-outer annotator-viewer">\n  <ul class="annotator-widget annotator-listing"></ul>\n</div>',item:'<li class="annotator-annotation annotator-item">\n  <span class="annotator-controls">\n    <a href="#" title="View as webpage" class="annotator-link">View as webpage</a>\n    <button title="Edit" class="annotator-edit">Edit</button>\n    <button title="Delete" class="annotator-delete">Delete</button>\n  </span>\n</li>'},e.prototype.options={readOnly:!1},e.prototype.show=function(t){var e,n;return c.Util.preventEventDefault(t),e=this.element.find(".annotator-controls").addClass(this.classes.showControls),setTimeout((n=this,function(){return e.removeClass(n.classes.showControls)}),500),this.element.removeClass(this.classes.hide),this.checkOrientation().publish("show")},e.prototype.isShown=function(){return!this.element.hasClass(this.classes.hide)},e.prototype.hide=function(t){return c.Util.preventEventDefault(t),this.element.addClass(this.classes.hide),this.publish("hide")},e.prototype.load=function(t){var e,n,i,o,r,s,a,l,u,c,d,h,f,p,g,m,v;for(this.annotations=t||[],d=this.element.find("ul:first").empty(),h=0,p=(m=this.annotations).length;h<p;h++)for(e=m[h],u=(i=(l=b(this.item).clone().appendTo(d).data("annotation",e)).find(".annotator-controls")).find(".annotator-link"),r=i.find(".annotator-edit"),o=i.find(".annotator-delete"),0===(c=new y(e.links||[]).get("alternate",{type:"text/html"})).length||null==c[0].href?u.remove():u.attr("href",c[0].href),this.options.readOnly?(r.remove(),o.remove()):n={showEdit:function(){return r.removeAttr("disabled")},hideEdit:function(){return r.attr("disabled","disabled")},showDelete:function(){return o.removeAttr("disabled")},hideDelete:function(){return o.attr("disabled","disabled")}},f=0,g=(v=this.fields).length;f<g;f++)a=v[f],s=b(a.element).clone().appendTo(l)[0],a.load(s,e,n);return this.publish("load",[this.annotations]),this.show()},e.prototype.addField=function(t){var e;return(e=b.extend({load:function(){}},t)).element=b("<div />")[0],this.fields.push(e),e.element,this},e.prototype.onEditClick=function(t){return this.onButtonClick(t,"edit")},e.prototype.onDeleteClick=function(t){if(1==confirm("Are you sure you want to delete this annotation?"))return this.onButtonClick(t,"delete")},e.prototype.onButtonClick=function(t,e){var n;return n=b(t.target).parents(".annotator-annotation"),this.publish(e,[n.data("annotation")])},e}(c.Widget),y=function(){function t(t){this.data=t}return t.prototype.get=function(t,n){var i,e,o,r,s,a,l;for(null==n&&(n={}),n=b.extend({},n,{rel:t}),o=function(){var t;for(e in t=[],n)M.call(n,e)&&(n[e],t.push(e));return t}(),l=[],r=0,s=(a=this.data).length;r<s;r++)i=a[r],o.reduce(function(t,e){return t&&i[e]===n[e]},!0)&&l.push(i);return l},t}(),(c=c||{}).Notification=function(){function e(t){this.hide=P(this.hide,this),this.show=P(this.show,this),e.__super__.constructor.call(this,b(this.options.html).appendTo(document.body)[0],t)}return I(e,i),e.prototype.events={click:"hide"},e.prototype.options={html:"<div class='annotator-notice'></div>",classes:{show:"annotator-notice-show",info:"annotator-notice-info",success:"annotator-notice-success",error:"annotator-notice-error"}},e.prototype.show=function(t,e){return null==e&&(e=c.Notification.INFO),this.currentStatus=e,b(this.element).addClass(this.options.classes.show).addClass(this.options.classes[this.currentStatus]).html(m.escape(t||"")),setTimeout(this.hide,5e3),this},e.prototype.hide=function(){return null==this.currentStatus&&(this.currentStatus=c.Notification.INFO),b(this.element).removeClass(this.options.classes.show).removeClass(this.options.classes[this.currentStatus]),this},e}(),c.Notification.INFO="info",c.Notification.SUCCESS="success",c.Notification.ERROR="error",b(function(){var t;return t=new c.Notification,c.showNotification=t.show,c.hideNotification=t.hide}),c.Plugin.Unsupported=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return I(e,t),e.prototype.options={message:c._t("Sorry your current browser does not support the Annotator")},e.prototype.pluginInit=function(){if(!c.supported())return b((t=this,function(){if(c.showNotification(t.options.message),void 0===window.XMLHttpRequest&&void 0!==ActiveXObject)return b("html").addClass("ie6")}));var t},e}(c.Plugin),s=function(t){var e,n,i,o,r;return e=t.match(new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),i=0,n=new Date(e[1],0,1),e[3]&&n.setMonth(e[3]-1),e[5]&&n.setDate(e[5]),e[7]&&n.setHours(e[7]),e[8]&&n.setMinutes(e[8]),e[10]&&n.setSeconds(e[10]),e[12]&&n.setMilliseconds(1e3*Number("0."+e[12])),e[14]&&(i=60*Number(e[16])+Number(e[17]),i*=null!=(r="-"===e[15])?r:{1:-1}),i-=n.getTimezoneOffset(),o=Number(n)+60*i*1e3,n.setTime(Number(o)),n},o=function(t){var e,n,i,o,r,s,a,l,u,c;if("undefined"!=typeof atob&&null!==atob)return atob(t);if(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=s=0,c=[],!t)return t;for(t+="";s<t.length;)a=(i=n.indexOf(t.charAt(s++))<<18|n.indexOf(t.charAt(s++))<<12|(o=n.indexOf(t.charAt(s++)))<<6|(r=n.indexOf(t.charAt(s++))))>>16&255,l=i>>8&255,u=255&i,c[e++]=64===o?String.fromCharCode(a):64===r?String.fromCharCode(a,l):String.fromCharCode(a,l,u);return c.join("")},r=function(t){var e,n,i;if(0!=(e=t.length%4))for(n=0,i=4-e;0<=i?n<i:i<n;0<=i?++n:--n)t+="=";return t=(t=t.replace(/-/g,"+")).replace(/_/g,"/"),o(t)},h=function(t){var e,n;return(n=t.split("."))[0],e=n[1],n[2],JSON.parse(r(e))},c.Plugin.Auth=function(t){function n(t,e){n.__super__.constructor.apply(this,arguments),this.waitingForToken=[],this.options.token?this.setToken(this.options.token):this.requestToken()}return I(n,t),n.prototype.options={token:null,tokenUrl:"/auth/token",autoFetch:!0},n.prototype.requestToken=function(){return this.requestInProgress=!0,b.ajax({url:this.options.tokenUrl,dataType:"text",xhrFields:{withCredentials:!0}}).done((e=this,function(t){return e.setToken(t)})).fail(function(t,e,n){var i;return i=c._t("Your session has expired; please log in again."),console.error(i+" "+n,t),c.showNotification(i,c.Notification.ERROR)}).always((t=this,function(){return t.requestInProgress=!1}));var t,e},n.prototype.setToken=function(t){var e,n,i;if(this.token=t,this._unsafeToken=h(t),this.haveValidToken()){for(this.options.autoFetch&&(this.refreshTimeout=setTimeout((n=this,function(){return n.requestToken()}),1e3*(this.timeToExpiry()-2))),this.updateHeaders(),e=[];0<this.waitingForToken.length;)e.push(this.waitingForToken.pop()(this._unsafeToken));return e}if(console.warn(c._t("Didn't get a valid token.")),this.options.autoFetch)return console.warn(c._t("Getting a new token in 10s.")),setTimeout((i=this,function(){return i.requestToken()}),1e4)},n.prototype.haveValidToken=function(){return!!(this._unsafeToken&&this._unsafeToken.issuedAt&&this._unsafeToken.ttl&&this._unsafeToken.consumerKey&&0<this.timeToExpiry())},n.prototype.timeToExpiry=function(){var t,e;return t=(new Date).getTime()/1e3,0<(e=s(this._unsafeToken.issuedAt).getTime()/1e3+this._unsafeToken.ttl-t)?e:0},n.prototype.updateHeaders=function(){var t;return t=this.element.data("annotator:headers"),this.element.data("annotator:headers",b.extend(t,{"x-annotator-auth-token":this.token}))},n.prototype.withToken=function(t){if(null!=t)return this.haveValidToken()?t(this._unsafeToken):(this.waitingForToken.push(t),this.requestInProgress?void 0:this.requestToken())},n}(c.Plugin),c.Plugin.Store=function(t){function n(t,e){this._onError=P(this._onError,this),this._onLoadAnnotationsFromSearch=P(this._onLoadAnnotationsFromSearch,this),this._onLoadAnnotations=P(this._onLoadAnnotations,this),this._getAnnotations=P(this._getAnnotations,this),n.__super__.constructor.apply(this,arguments),this.annotations=[]}return I(n,t),n.prototype.events={annotationCreated:"annotationCreated",annotationDeleted:"annotationDeleted",annotationUpdated:"annotationUpdated"},n.prototype.options={annotationData:{},emulateHTTP:!1,loadFromSearch:!1,prefix:"/store",urls:{create:"/annotations",read:"/annotations/:id",update:"/annotations/:id",destroy:"/annotations/:id",search:"/search"}},n.prototype.pluginInit=function(){if(c.supported())return this.annotator.plugins.Auth?this.annotator.plugins.Auth.withToken(this._getAnnotations):this._getAnnotations()},n.prototype._getAnnotations=function(){return this.options.loadFromSearch?this.loadAnnotationsFromSearch(this.options.loadFromSearch):this.loadAnnotations()},n.prototype.annotationCreated=function(e){return R.call(this.annotations,e)<0?(this.registerAnnotation(e),this._apiRequest("create",e,(n=this,function(t){return null==t.id&&console.warn(c._t("Warning: No ID returned from server for annotation "),e),n.updateAnnotation(e,t)}))):this.updateAnnotation(e,{});var n},n.prototype.annotationUpdated=function(e){if(0<=R.call(this.annotations,e))return this._apiRequest("update",e,(n=this,function(t){return n.updateAnnotation(e,t)}));var n},n.prototype.annotationDeleted=function(t){if(0<=R.call(this.annotations,t))return this._apiRequest("destroy",t,(e=this,function(){return e.unregisterAnnotation(t)}));var e},n.prototype.registerAnnotation=function(t){return this.annotations.push(t)},n.prototype.unregisterAnnotation=function(t){return this.annotations.splice(this.annotations.indexOf(t),1)},n.prototype.updateAnnotation=function(t,e){return R.call(this.annotations,t)<0?console.error(c._t("Trying to update unregistered annotation!")):b.extend(t,e),b(t.highlights).data("annotation",t)},n.prototype.loadAnnotations=function(){return this._apiRequest("read",null,this._onLoadAnnotations)},n.prototype._onLoadAnnotations=function(t){var e,n,i,o,r,s,a,l,u;for(null==t&&(t=[]),i={},r=0,a=(u=this.annotations).length;r<a;r++)i[(e=u[r]).id]=e;for(o=[],s=0,
l=t.length;s<l;s++)i[(e=t[s]).id]?(n=i[e.id],this.updateAnnotation(n,e)):o.push(e);return this.annotations=this.annotations.concat(o),this.annotator.loadAnnotations(o.slice())},n.prototype.loadAnnotationsFromSearch=function(t){return this._apiRequest("search",t,this._onLoadAnnotationsFromSearch)},n.prototype._onLoadAnnotationsFromSearch=function(t){return null==t&&(t={}),this._onLoadAnnotations(t.rows||[])},n.prototype.dumpAnnotations=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.annotations).length;e<n;e++)t=i[e],o.push(JSON.parse(this._dataFor(t)));return o},n.prototype._apiRequest=function(t,e,n){var i,o,r,s;return i=e&&e.id,s=this._urlFor(t,i),o=this._apiRequestOptions(t,e,n),(r=b.ajax(s,o))._id=i,r._action=t,r},n.prototype._apiRequestOptions=function(t,e,n){var i,o,r;return r={type:o=this._methodFor(t),headers:this.element.data("annotator:headers"),dataType:"json",success:n||function(){},error:this._onError},!this.options.emulateHTTP||"PUT"!==o&&"DELETE"!==o||(r.headers=b.extend(r.headers,{"X-HTTP-Method-Override":o}),r.type="POST"),"search"===t?r=b.extend(r,{data:e}):(i=e&&this._dataFor(e),this.options.emulateJSON?(r.data={json:i},this.options.emulateHTTP&&(r.data._method=o),r):r=b.extend(r,{data:i,contentType:"application/json; charset=utf-8"}))},n.prototype._urlFor=function(t,e){var n;return n=null!=this.options.prefix?this.options.prefix:"",(n=(n+=this.options.urls[t]).replace(/\/:id/,null!=e?"/"+e:"")).replace(/:id/,null!=e?e:"")},n.prototype._methodFor=function(t){return{create:"POST",read:"GET",update:"PUT",destroy:"DELETE",search:"GET"}[t]},n.prototype._dataFor=function(t){var e,n;return n=t.highlights,delete t.highlights,b.extend(t,this.options.annotationData),e=JSON.stringify(t),n&&(t.highlights=n),e},n.prototype._onError=function(t){var e,n;switch(e=t._action,n=c._t("Sorry we could not ")+e+c._t(" this annotation"),"search"===t._action?n=c._t("Sorry we could not search the store for annotations"):"read"!==t._action||t._id||(n=c._t("Sorry we could not ")+e+c._t(" the annotations from the store")),t.status){case 401:n=c._t("Sorry you are not allowed to ")+e+c._t(" this annotation");break;case 404:n=c._t("Sorry we could not connect to the annotations store");break;case 500:n=c._t("Sorry something went wrong with the annotation store")}return c.showNotification(n,c.Notification.ERROR),console.error(c._t("API request failed:")+" '"+t.status+"'")},n}(c.Plugin),c.Plugin.Permissions=function(t){function n(t,e){this._setAuthFromToken=P(this._setAuthFromToken,this),this.updateViewer=P(this.updateViewer,this),this.updateAnnotationPermissions=P(this.updateAnnotationPermissions,this),this.updatePermissionsField=P(this.updatePermissionsField,this),this.addFieldsToAnnotation=P(this.addFieldsToAnnotation,this),n.__super__.constructor.apply(this,arguments),this.options.user&&(this.setUser(this.options.user),delete this.options.user)}return I(n,t),n.prototype.events={beforeAnnotationCreated:"addFieldsToAnnotation"},n.prototype.options={showViewPermissionsCheckbox:!0,showEditPermissionsCheckbox:!0,userId:function(t){return t},userString:function(t){return t},userAuthorize:function(t,e,n){var i,o,r,s;if(e.permissions){if(0===(o=e.permissions[t]||[]).length)return!0;for(r=0,s=o.length;r<s;r++)if(i=o[r],this.userId(n)===i)return!0;return!1}return!e.user||!!n&&this.userId(n)===this.userId(e.user)},user:"",permissions:{read:[],update:[],"delete":[],admin:[]}},n.prototype.pluginInit=function(){var t,o,s;if(c.supported())return t=function(n,i){return function(t,e){return o[n].call(o,i,t,e)}},!(o=this).user&&this.annotator.plugins.Auth&&this.annotator.plugins.Auth.withToken(this._setAuthFromToken),!0===this.options.showViewPermissionsCheckbox&&this.annotator.editor.addField({type:"checkbox",label:c._t("Allow anyone to <strong>view</strong> this annotation"),load:t("updatePermissionsField","read"),submit:t("updateAnnotationPermissions","read")}),!0===this.options.showEditPermissionsCheckbox&&this.annotator.editor.addField({type:"checkbox",label:c._t("Allow anyone to <strong>edit</strong> this annotation"),load:t("updatePermissionsField","update"),submit:t("updateAnnotationPermissions","update")}),this.annotator.viewer.addField({load:this.updateViewer}),this.annotator.plugins.Filter?this.annotator.plugins.Filter.addFilter({label:c._t("User"),property:"user",isFiltered:(s=this,function(t,e){var n,i,o,r;if(e=s.options.userString(e),!t||!e)return!1;for(i=0,o=(r=t.split(/\s*/)).length;i<o;i++)if(n=r[i],-1===e.indexOf(n))return!1;return!0})}):void 0},n.prototype.setUser=function(t){return this.user=t},n.prototype.addFieldsToAnnotation=function(t){if(t&&(t.permissions=this.options.permissions,this.user))return t.user=this.user},n.prototype.authorize=function(t,e,n){return void 0===n&&(n=this.user),!this.options.userAuthorize||this.options.userAuthorize.call(this.options,t,e,n)},n.prototype.updatePermissionsField=function(t,e,n){var i;return i=(e=b(e).show()).find("input").removeAttr("disabled"),this.authorize("admin",n)||e.hide(),this.authorize(t,n||{},null)?i.attr("checked","checked"):i.removeAttr("checked")},n.prototype.updateAnnotationPermissions=function(t,e,n){return n.permissions||(n.permissions=this.options.permissions),b(e).find("input").is(":checked")?n.permissions[t]=[]:n.permissions[t]=[this.options.userId(this.user)]},n.prototype.updateViewer=function(t,e,n){var i,o;if(t=b(t),o=this.options.userString(e.user),e.user&&o&&"string"==typeof o?(i=c.Util.escape(this.options.userString(e.user)),t.html(i).addClass("annotator-user")):t.remove(),n&&(this.authorize("update",e)||n.hideEdit(),!this.authorize("delete",e)))return n.hideDelete()},n.prototype._setAuthFromToken=function(t){return this.setUser(t.userId)},n}(c.Plugin),c.Plugin.AnnotateItPermissions=function(t){function e(){return this._setAuthFromToken=P(this._setAuthFromToken,this),this.updateAnnotationPermissions=P(this.updateAnnotationPermissions,this),this.updatePermissionsField=P(this.updatePermissionsField,this),this.addFieldsToAnnotation=P(this.addFieldsToAnnotation,this),e.__super__.constructor.apply(this,arguments)}return I(e,t),e.prototype.options={showViewPermissionsCheckbox:!0,showEditPermissionsCheckbox:!0,groups:{world:"group:__world__",authenticated:"group:__authenticated__",consumer:"group:__consumer__"},userId:function(t){return t.userId},userString:function(t){return t.userId},userAuthorize:function(t,e,n){var i,o,r,s,a;return i=(e.permissions||{})[t]||[],o=this.groups.world,0<=R.call(i,o)||null!=n&&null!=n.userId&&null!=n.consumerKey&&(n.userId===e.user&&n.consumerKey===e.consumer||(r=this.groups.authenticated,0<=R.call(i,r)||n.consumerKey===e.consumer&&(s=this.groups.consumer,0<=R.call(i,s))||n.consumerKey===e.consumer&&(a=n.userId,0<=R.call(i,a))||!(n.consumerKey!==e.consumer||!n.admin)))},permissions:{read:["group:__world__"],update:[],"delete":[],admin:[]}},e.prototype.addFieldsToAnnotation=function(t){if(t&&(t.permissions=this.options.permissions,this.user))return t.user=this.user.userId,t.consumer=this.user.consumerKey},e.prototype.updatePermissionsField=function(t,e,n){var i;return i=(e=b(e).show()).find("input").removeAttr("disabled"),this.authorize("admin",n)||e.hide(),this.user&&this.authorize(t,n||{},{userId:"__nonexistentuser__",consumerKey:this.user.consumerKey})?i.attr("checked","checked"):i.removeAttr("checked")},e.prototype.updateAnnotationPermissions=function(t,e,n){return n.permissions||(n.permissions=this.options.permissions),b(e).find("input").is(":checked")?n.permissions[t]=["read"===t?this.options.groups.world:this.options.groups.consumer]:n.permissions[t]=[]},e.prototype._setAuthFromToken=function(t){return this.setUser(t)},e}(c.Plugin.Permissions),c.Plugin.Filter=function(t){function i(t,e){var n;this._onPreviousClick=P(this._onPreviousClick,this),this._onNextClick=P(this._onNextClick,this),this._onFilterKeyup=P(this._onFilterKeyup,this),this._onFilterBlur=P(this._onFilterBlur,this),this._onFilterFocus=P(this._onFilterFocus,this),this.updateHighlights=P(this.updateHighlights,this),t=b(this.html.element).appendTo((null!=e?e.appendTo:void 0)||this.options.appendTo),i.__super__.constructor.call(this,t,e),(n=this.options).filters||(n.filters=[]),this.filter=b(this.html.filter),this.filters=[],this.current=0}return I(i,t),i.prototype.events={".annotator-filter-property input focus":"_onFilterFocus",".annotator-filter-property input blur":"_onFilterBlur",".annotator-filter-property input keyup":"_onFilterKeyup",".annotator-filter-previous click":"_onPreviousClick",".annotator-filter-next click":"_onNextClick",".annotator-filter-clear click":"_onClearClick"},i.prototype.classes={active:"annotator-filter-active",hl:{hide:"annotator-hl-filtered",active:"annotator-hl-active"}},i.prototype.html={element:'<div class="annotator-filter">\n  <strong>'+c._t("Navigate:")+'</strong>\n<span class="annotator-filter-navigation">\n  <button class="annotator-filter-previous">'+c._t("Previous")+'</button>\n<button class="annotator-filter-next">'+c._t("Next")+"</button>\n</span>\n<strong>"+c._t("Filter by:")+"</strong>\n</div>",filter:'<span class="annotator-filter-property">\n  <label></label>\n  <input/>\n  <button class="annotator-filter-clear">'+c._t("Clear")+"</button>\n</span>"},i.prototype.options={appendTo:"body",filters:[],addAnnotationFilter:!0,isFiltered:function(t,e){var n,i,o,r;if(!t||!e)return!1;for(i=0,o=(r=t.split(/\s+/)).length;i<o;i++)if(n=r[i],-1===e.indexOf(n))return!1;return!0}},i.prototype.pluginInit=function(){var t,e,n,i;for(e=0,n=(i=this.options.filters).length;e<n;e++)t=i[e],this.addFilter(t);if(this.updateHighlights(),this._setupListeners()._insertSpacer(),!0===this.options.addAnnotationFilter)return this.addFilter({label:c._t("Annotation"),property:"text"})},i.prototype.destroy=function(){var t,e;return i.__super__.destroy.apply(this,arguments),e=b("html"),t=parseInt(e.css("padding-top"),10)||0,e.css("padding-top",t-this.element.outerHeight()),this.element.remove()},i.prototype._insertSpacer=function(){var t,e;return e=b("html"),t=parseInt(e.css("padding-top"),10)||0,e.css("padding-top",t+this.element.outerHeight()),this},i.prototype._setupListeners=function(){var t,e,n,i;for(n=0,i=(e=["annotationsLoaded","annotationCreated","annotationUpdated","annotationDeleted"]).length;n<i;n++)t=e[n],this.annotator.subscribe(t,this.updateHighlights);return this},i.prototype.addFilter=function(t){var o,r;return r=b.extend({label:"",property:"",isFiltered:this.options.isFiltered},t),function(){var t,e,n,i;for(i=[],t=0,e=(n=this.filters).length;t<e;t++)(o=n[t]).property===r.property&&i.push(o);return i}.call(this).length||(r.id="annotator-filter-"+r.property,r.annotations=[],r.element=this.filter.clone().appendTo(this.element),r.element.find("label").html(r.label).attr("for",r.id),r.element.find("input").attr({id:r.id,placeholder:c._t("Filter by ")+r.label+"\u2026"}),r.element.find("button").hide(),r.element.data("filter",r),this.filters.push(r)),this},i.prototype.updateFilter=function(t){var e,n,i,o,r,s,a;if(t.annotations=[],this.updateHighlights(),this.resetHighlights(),i=b.trim(t.element.find("input").val())){for(n=this.highlights.map(function(){return b(this).data("annotation")}),r=0,s=(a=b.makeArray(n)).length;r<s;r++)o=(e=a[r])[t.property],t.isFiltered(i,o)&&t.annotations.push(e);return this.filterHighlights()}},i.prototype.updateHighlights=function(){return this.highlights=this.annotator.element.find(".annotator-hl:visible"),this.filtered=this.highlights.not(this.classes.hl.hide)},i.prototype.filterHighlights=function(){var t,e,n,i,o,r,s,a,l,u;for(t=b.grep(this.filters,function(t){return!!t.annotations.length}),i=(null!=(u=t[0])?u.annotations:void 0)||[],1<t.length&&(n=[],b.each(t,function(){return b.merge(n,this.annotations)}),s=[],i=[],b.each(n,function(){return-1===b.inArray(this,s)?s.push(this):i.push(this)})),o=this.highlights,r=a=0,l=i.length;a<l;r=++a)e=i[r],o=o.not(e.highlights);return o.addClass(this.classes.hl.hide),this.filtered=this.highlights.not(this.classes.hl.hide),this},i.prototype.resetHighlights=function(){return this.highlights.removeClass(this.classes.hl.hide),this.filtered=this.highlights,this},i.prototype._onFilterFocus=function(t){var e;return(e=b(t.target)).parent().addClass(this.classes.active),e.next("button").show()},i.prototype._onFilterBlur=function(t){var e;if(!t.target.value)return(e=b(t.target)).parent().removeClass(this.classes.active),e.next("button").hide()},i.prototype._onFilterKeyup=function(t){var e;if(e=b(t.target).parent().data("filter"))return this.updateFilter(e)},i.prototype._findNextHighlight=function(t){var e,n,i,o,r,s,a,l;return this.highlights.length?(s=t?0:-1,l=t?-1:0,a=t?"lt":"gt",(i=(e=this.highlights.not("."+this.classes.hl.hide)).filter("."+this.classes.hl.active)).length||(i=e.eq(s)),n=i.data("annotation"),o=e.index(i[0]),(r=e.filter(":"+a+"("+o+")").not(n.highlights).eq(l)).length||(r=e.eq(l)),this._scrollToHighlight(r.data("annotation").highlights)):this},i.prototype._onNextClick=function(){return this._findNextHighlight()},i.prototype._onPreviousClick=function(){return this._findNextHighlight(!0)},i.prototype._scrollToHighlight=function(t){return t=b(t),this.highlights.removeClass(this.classes.hl.active),t.addClass(this.classes.hl.active),b("html, body").animate({scrollTop:t.offset().top-(this.element.height()+20)},150)},i.prototype._onClearClick=function(t){return b(t.target).prev("input").val("").keyup().blur()},i}(c.Plugin),c.Plugin.Markdown=function(t){function n(t,e){this.updateTextField=P(this.updateTextField,this),null!=(null!=Showdown?Showdown.converter:void 0)?(n.__super__.constructor.apply(this,arguments),this.converter=new Showdown.converter):console.error(c._t("To use the Markdown plugin, you must include Showdown into the page first."))}return I(n,t),n.prototype.events={annotationViewerTextField:"updateTextField"},n.prototype.updateTextField=function(t,e){var n;return n=c.Util.escape(e.text||""),b(t).html(this.convert(n))},n.prototype.convert=function(t){return this.converter.makeHtml(t)},n}(c.Plugin),c.Plugin.Tags=function(t){function e(){return this.setAnnotationTags=P(this.setAnnotationTags,this),this.updateField=P(this.updateField,this),e.__super__.constructor.apply(this,arguments)}return I(e,t),e.prototype.options={parseTags:function(t){var e;return e=[],(t=b.trim(t))&&(e=t.split(/\s+/)),e},stringifyTags:function(t){return t.join(" ")}},e.prototype.field=null,e.prototype.input=null,e.prototype.pluginInit=function(){if(c.supported())return this.field=this.annotator.editor.addField({label:c._t("Add some tags here")+"\u2026",load:this.updateField,submit:this.setAnnotationTags}),this.annotator.viewer.addField({load:this.updateViewer}),this.annotator.plugins.Filter&&this.annotator.plugins.Filter.addFilter({label:c._t("Tag"),property:"tags",isFiltered:c.Plugin.Tags.filterCallback}),this.input=b(this.field).find(":input")},e.prototype.parseTags=function(t){return this.options.parseTags(t)},e.prototype.stringifyTags=function(t){return this.options.stringifyTags(t)},e.prototype.updateField=function(t,e){var n;return n="",e.tags&&(n=this.stringifyTags(e.tags)),this.input.val(n)},e.prototype.setAnnotationTags=function(t,e){return e.tags=this.parseTags(this.input.val())},e.prototype.updateViewer=function(t,e){return t=b(t),e.tags&&b.isArray(e.tags)&&e.tags.length?t.addClass("annotator-tags").html(function(){return b.map(e.tags,function(t){return'<span class="annotator-tag">'+c.Util.escape(t)+"</span>"}).join(" ")}):t.remove()},e}(c.Plugin),c.Plugin.Tags.filterCallback=function(t,e){var n,i,o,r,s,a,l;if(null==e&&(e=[]),o=0,i=[],t)for(r=0,a=(i=t.split(/\s+/g)).length;r<a;r++)if(n=i[r],e.length)for(s=0,l=e.length;s<l;s++)-1!==e[s].indexOf(n)&&(o+=1);return o===i.length},c.prototype.setupPlugins=function(t,e){var n,i,o,r,s,a,l,u;for(n in null==t&&(t={}),null==e&&(e={}),o=["Unsupported","Auth","Tags","Filter","Store","AnnotateItPermissions"],(s=c.Util.getGlobal()).Showdown&&o.push("Markdown"),r=s.location.href.split(/#|\?/).shift()||"",i={Tags:{},Filter:{filters:[{label:c._t("User"),property:"user"},{label:c._t("Tags"),property:"tags"}]},Auth:{tokenUrl:t.tokenUrl||"http://annotateit.org/api/token"},Store:{prefix:t.storeUrl||"http://annotateit.org/api",annotationData:{uri:r},loadFromSearch:{uri:r}}},e)M.call(e,n)&&(e[n],R.call(o,n)<0&&o.push(n));for(b.extend(!0,i,e),u=[],a=0,l=o.length;a<l;a++)(n=o[a])in i&&!i[n]?u.push(void 0):u.push(this.addPlugin(n,i[n]));return u}}.call(this),function(){var s=function(t,e){return function(){return t.apply(e,arguments)}},o=Object.prototype.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Annotator.Plugin.Touch=function(t){function r(t,e){this._onDocumentTap=s(this._onDocumentTap,this),this._onHighlightTap=s(this._onHighlightTap,this),this._onAdderTap=s(this._onAdderTap,this),this._onToggleTap=s(this._onToggleTap,this),this._onSelection=s(this._onSelection,this),this._watchForSelection=s(this._watchForSelection,this),r.__super__.constructor.apply(this,arguments),this.utils=Annotator.Plugin.Touch.utils,this.selection=null,this.document=o(document)}var o,e;return a(r,t),e=Annotator._t,o=Annotator.$,r.states={ON:"on",OFF:"off"},r.prototype.template='<div class="annotator-touch-widget annotator-touch-controls annotator-touch-hide">\n  <div class="annotator-touch-widget-inner">\n    <a class="annotator-button annotator-add annotator-focus">'+e("Annotate")+'</a>\n<a class="annotator-button annotator-touch-toggle" data-state="off">'+e("Start Annotating")+"</a>\n  </div>\n</div>",r.prototype.classes={hide:"annotator-touch-hide"},r.prototype.options={force:!1,useHighlighter:!1},r.prototype.pluginInit=function(){if(Annotator.supported()&&(this.options.force||r.isTouchDevice()))return this._setupControls(),this.options.useHighlighter&&(this.showControls(),this.highlighter=new Highlighter({root:this.element[0],prefix:"annotator-selection",enable:!1,highlightStyles:!0})),this.document.delegate(".annotator-hl","tap",{preventDefault:!1},this._onHighlightTap),this.subscribe("selection",this._onSelection),this._unbindAnnotatorEvents(),this._setupAnnotatorEvents(),this._watchForSelection()},r.prototype.pluginDestroy=function(){if(this.controls&&this.controls.remove(),this.highlighter&&this.highlighter.disable(),this.annotator)return this.annotator.editor.unsubscribe("hide",this._watchForSelection)},r.prototype.startAnnotating=function(){return this.highlighter&&this.highlighter.enable(),this.toggle.attr("data-state",r.states.ON),this.toggle.html("Stop Annotating"),this},r.prototype.stopAnnotating=function(){return this.highlighter&&this.highlighter.disable(),this.toggle.attr("data-state",r.states.OFF),this.toggle.html("Start Annotating"),this},r.prototype.isAnnotating=function(){return!this.options.useHighlighter||this.toggle.attr("data-state")===r.states.ON},r.prototype.showEditor=function(t){return this.annotator.showEditor(t,{}),this.hideControls(),this},r.prototype.showControls=function(){return this.controls.removeClass(this.classes.hide),this},r.prototype.hideControls=function(){return this.options.useHighlighter||this.controls.addClass(this.classes.hide),this},r.prototype._setupControls=function(){if(this.annotator.adder.remove(),this.controls=o(this.template).appendTo("body"),this.adder=this.controls.find(".annotator-add"),this.adder.bind("tap",{onTapDown:function(t){return t.stopPropagation()}},this._onAdderTap),this.toggle=this.controls.find(".annotator-touch-toggle"),this.toggle.bind({tap:this._onToggleTap}),!this.options.useHighlighter)return this.toggle.hide()},r.prototype._setupAnnotatorEvents=function(){var t=this;return this.editor=new r.Editor(this.annotator.editor),this.viewer=new r.Viewer(this.annotator.viewer),this.annotator.editor.on("show",function(){if(t._clearWatchForSelection(),t.annotator.onAdderMousedown(),t.highlighter)return t.highlighter.disable()}),this.annotator.viewer.on("show",function(){if(t.highlighter)return t.highlighter.disable()}),this.annotator.editor.on("hide",function(){return t.utils.nextTick(function(){return t.highlighter&&t.highlighter.enable().deselect(),t._watchForSelection()})}),this.annotator.viewer.on("hide",function(){return t.utils.nextTick(function(){if(t.highlighter)return t.highlighter.enable().deselect()})})},r.prototype._unbindAnnotatorEvents=function(){return this.document.unbind({mouseup:this.annotator.checkForEndSelection,mousedown:this.annotator.checkForStartSelection}),this.element.unbind("click mousedown mouseover mouseout")},r.prototype._watchForSelection=function(){var e,n,i,o=this;if(!this.timer)return e=r.isAndroid()?300:1e3/60,n=(new Date).getTime(),(i=function(){var t;return t=(new Date).getTime()-n,e<t&&(n=(new Date).getTime(),o._checkSelection()),o.timer=o.utils.requestAnimationFrame.call(window,i)})()},r.prototype._clearWatchForSelection=function(){return this.utils.cancelAnimationFrame.call(window,this.timer),this.timer=null},r.prototype._checkSelection=function(){var t,e,n;if(e=window.getSelection(),t=this.selectionString,n=o.trim(e+""),e.rangeCount&&n!==this.selectionString&&(this.range=e.getRangeAt(0),this.selectionString=n),(0===e.rangeCount||this.range&&this.range.collapsed)&&(this.range=null,this.selectionString=""),this.selectionString!==t)return this.publish("selection",[this.range,this])},r.prototype._onSelection=function(){return this.isAnnotating()&&this.range&&this._isValidSelection(this.range)?(this.adder.removeAttr("disabled"),this.showControls()):(this.adder.attr("disabled",""),this.hideControls())},r.prototype._isValidSelection=function(t){var e,n,i;return e=function(t){return o(t).parents(".annotator-wrapper").length},i=t.startOffset<t.startContainer.length&&e(t.startContainer),n=0<t.endOffset&&e(t.endContainer),i||n},r.prototype._onToggleTap=function(t){return t.preventDefault(),this.isAnnotating()?this.stopAnnotating():this.startAnnotating()},r.prototype._onAdderTap=function(t){var e,n,i,o=this;if(t.preventDefault(),this.range&&(e=new Annotator.Range.BrowserRange(this.range),(i=e.normalize().limit(this.element[0]))&&!this.annotator.isAnnotator(i.commonAncestor)))return n=function(t){return o.annotator.unsubscribe("beforeAnnotationCreated",n),t.quote=i.toString(),t.ranges=[i]},this.annotator.subscribe("beforeAnnotationCreated",n),this.annotator.onAdderClick(t)},r.prototype._onHighlightTap=function(t){var e;if(!o(t.currentTarget).parents().filter(function(){return o(this).is("a, [data-annotator-clickable]")}).length)return o.contains(this.element[0],t.currentTarget)?((e=t.originalEvent)&&e.touches&&(t.pageX=e.touches[0].pageX,t.pageY=e.touches[0].pageY),this.annotator.viewer.isShown()&&this.annotator.viewer.hide(),this.annotator.onHighlightMouseover(t),this.document.unbind("tap",this._onDocumentTap),this.document.bind("tap",{preventDefault:!1},this._onDocumentTap)):void 0},r.prototype._onDocumentTap=function(t){if(this.annotator.isAnnotator(t.target)||this.annotator.viewer.hide(),!this.annotator.viewer.isShown())return this.document.unbind("tap",this._onDocumentTap)},r.isTouchDevice=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},r.isAndroid=function(){return/Android/i.test(window.navigator.userAgent)},r}(Annotator.Plugin),Annotator.Plugin.Touch.Editor=function(t){function i(t,e){var n=this;this.editor=t,this._onOverlayTap=s(this._onOverlayTap,this),this._onCancel=s(this._onCancel,this),this._onSubmit=s(this._onSubmit,this),this._onExpandTap=s(this._onExpandTap,this),this._triggerAndroidRedraw=s(this._triggerAndroidRedraw,this),i.__super__.constructor.call(this,this.editor.element[0],e),this.element.addClass("annotator-touch-editor"),this.element.wrapInner('<div class="annotator-touch-widget" />'),this.element.find("form").addClass("annotator-touch-widget-inner"),this.element.find(".annotator-controls a").addClass("annotator-button"),this.element.undelegate("textarea","keydown"),this.on("hide",function(){return n.element.find(":focus").blur()}),this._setupQuoteField(),this._setupAndroidRedrawHack()}var o,r,e;return a(i,t),e=Annotator._t,r=Annotator.$,o=Annotator.Plugin.Touch,i.prototype.events={click:"_onOverlayTap",".annotator-save tap":"_onSubmit",".annotator-cancel tap":"_onCancel",".annotator-quote-toggle tap":"_onExpandTap"},i.prototype.classes={expand:"annotator-touch-expand"},i.prototype.templates={quote:'<button class="annotator-quote-toggle">'+e("expand")+'</button>\n<span class="quote"></span>'},i.prototype.showQuote=function(){return this.quote.addClass(this.classes.expand),this.quote.find("button").text(e("Collapse")),this},i.prototype.hideQuote=function(){return this.quote.removeClass(this.classes.expand),this.quote.find("button").text(e("Expand")),this},i.prototype.isQuoteHidden=function(){return!this.quote.hasClass(this.classes.expand)},i.prototype._setupQuoteField=function(){var n=this;return this.quote=r(this.editor.addField({id:"quote",load:function(t,e){return n.hideQuote(),n.quote.find("span").html(Annotator.Util.escape(e.quote||"")),n.quote.find("button").toggle(n._isTruncated())}})),this.quote.empty().addClass("annotator-item-quote"),this.quote.append(this.templates.quote)},i.prototype._setupAndroidRedrawHack=function(){var t,e,n=this;if(o.isAndroid())return e=null,t=function(){return e=null,n._triggerAndroidRedraw()},r(window).bind("scroll",function(){if(!e)return e=setTimeout(t,100)})},i.prototype._triggerAndroidRedraw=function(){return this._input||(this._input=this.element.find(":input:first")),this._default||(this._default=parseFloat(this._input.css("padding-top"))),this._multiplier=-1*(this._multiplier||1),this._input[0].style.paddingTop=this._default+this._multiplier+"px",this._input[0].style.paddingTop=this._default-this._multiplier+"px"},i.prototype._isTruncated=function(){var t,e,n;return(e=this.isQuoteHidden())||this.hideQuote(),n=this.quote.height(),this.showQuote(),t=this.quote.height(),e?this.hideQuote():this.showQuote(),n<t},i.prototype._onExpandTap=function(t){return t.preventDefault(),t.stopPropagation(),this.isQuoteHidden()?this.showQuote():this.hideQuote()},i.prototype._onSubmit=function(t){return t.preventDefault(),this.editor.submit()},i.prototype._onCancel=function(t){return t.preventDefault(),this.editor.hide()},i.prototype._onOverlayTap=function(t){if(t.target===this.element[0])return this.editor.hide()},i}(Annotator.Delegator),jQuery.event.special.tap={add:function(e){var n,i,o,t;return i=e.data=e.data||{},n=this,t=function(t){return!1!==i.preventDefault&&t.preventDefault(),i.onTapDown&&i.onTapDown.apply(this,arguments),i.event=t,i.touched=setTimeout(function(){return i.touched=null},i.timeout||300),jQuery(document).bind({touchend:o,mouseup:o})},o=function(t){return null!=i.touched&&(clearTimeout(i.touched),(t.target===n||jQuery.contains(n,t.target))&&(e.origHandler||e.handler).call(this,i.event),i.touched=null),i.onTapUp&&i.onTapUp.apply(this,arguments),jQuery(document).unbind({touchstart:o,mousedown:o})},i.tapHandlers={touchstart:t,mousedown:t},e.selector?jQuery(n).delegate(e.selector,i.tapHandlers):jQuery(n).bind(i.tapHandlers)},remove:function(t){return jQuery(this).unbind(t.data.tapHandlers)}},Annotator.Delegator.natives.push("touchstart","touchmove","touchend","tap"),Annotator.Plugin.Touch.utils=function(){var t,i,e,n,o,r,s;for(o=["ms","moz","webkit","o"],n=window.requestAnimationFrame,t=window.cancelAnimationFrame,r=0,s=o.length;r<s;r++)e=o[r],n||(n=window[e+"RequestAnimationFrame"],t=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]);return n||(i=0,n=function(t){var e,n;return e=(new Date).getTime(),n=Math.max(0,16-(e-i)),i=e+n,window.setTimeout(function(){return t(e+n)},n)}),t||(t=function(t){return clearTimeout(t)}),{requestAnimationFrame:n,cancelAnimationFrame:t,nextTick:function(t){return setTimeout(t,0)}}}(),Annotator.Plugin.Touch.Viewer=function(t){function n(t,e){this.viewer=t,this._onLoad=s(this._onLoad,this),n.__super__.constructor.call(this,this.viewer.element[0],e),this.element.unbind("click"),this.element.addClass("annotator-touch-widget annotator-touch-viewer"),this.on("load",this._onLoad)}var i;return a(n,t),i=Annotator.$,n.prototype.events={".annotator-item tap":"_onTap",".annotator-edit tap":"_onEdit",".annotator-delete tap":"_onDelete"},n.prototype.hideAllControls=function(){return this.element.find(".annotator-item").removeClass(this.viewer.classes.showControls),this},n.prototype._onLoad=function(){var t;return(t=this.element.find(".annotator-controls")).toggleClass("annotator-controls annotator-touch-controls"),t.find("button").addClass("annotator-button")},n.prototype._onTap=function(t){var e,n;if(e=(n=i(t.currentTarget)).hasClass(this.viewer.classes.showControls),this.hideAllControls(),!e)return n.addClass(this.viewer.classes.showControls)},n.prototype._onEdit=function(t){return t.preventDefault(),this.viewer.onEditClick(t)},n.prototype._onDelete=function(t){return t.preventDefault(),this.viewer.onDeleteClick(t)},n}(Annotator.Delegator)}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;Annotator.Plugin.RichText=function(t){function e(){return this.mdConvert=n(this.mdConvert,this),this.updateViewer=n(this.updateViewer,this),this.updateEditor=n(this.updateEditor,this),e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.options={editor_enabled:!0,tinymce:{selector:"li.annotator-item textarea",plugins:"media image link code melcatalog paste",link_list:!1,target_list:!1,rel_list:!1,paste_as_text:!0,menubar:!1,statusbar:!1,toolbar_items_size:"small",extended_valid_elements:"iframe[src|frameborder|style|scrolling|class|width|height|name|align|id]",toolbar:"undo redo | styleselect | bold italic | link image media | code"}},e.prototype.mdconverter=null!=Showdown?new Showdown.converter:null,e.prototype.pluginInit=function(){var t,e;if(t=this.annotator,e=this.annotator.editor,Annotator.supported()&&(t.viewer.addField({load:this.updateViewer}),this.options.editor_enabled))return t.editor.addField({type:"input",load:this.updateEditor}),t.subscribe("annotationEditorShown",function(){return $(t.editor.element).find(".mce-container").css("z-index",3e9),t.editor.checkOrientation()}),t.subscribe("annotationEditorHidden",function(){}),this.options.tinymce.setup=function(t){return t.on("change",function(){return $(e.element).find("textarea")[0].value=tinymce.activeEditor.getContent()}),t.on("Init",function(){return $(".mce-container").css("z-index","3090000000000000000")})},tinymce.init(this.options.tinymce)},e.prototype.updateEditor=function(t,e){var n;return n=null!=e.text?e.text:"",tinymce.activeEditor.setContent(this.mdConvert(n)),$(t).remove()},e.prototype.updateViewer=function(t,e){var n;return(n=$(t.parentNode).find("div:first-of-type")[0]).innerHTML=this.mdConvert(e.text),$(n).addClass("richText-annotation"),$(t).remove()},e.prototype.mdConvert=function(t){return null!=this.mdconverter&&""!==t?this.mdconverter.makeHtml(t):t},e}(Annotator.Plugin)}.call(this),tinymce.PluginManager.add("melcatalog",function(r){function t(t,e){var n="catalog?term="+encodeURI(e)+"&onlyimages="+("image"==t?"true":"false");r.windowManager.open({width:650,height:650,url:n,title:"Search Melville Electronic Library",resizable:!0,buttons:[{text:"Close",onclick:"submit"}],onClose:function(){i(t)}})}function i(t){var e=a();if(e!==undefined&&0!=e.length){var n=e.split("|");"image"==t?s(n[0],n[1],n[2]):o(n[0],n[1])}}function o(t,e){var n="/documents/catalog/reference/"+t,i='<a class="catalog-popup" data-parent data-gallery="remoteload" data-title="'+r.dom.encode(e)+'" href="'+n+'">'+r.dom.encode(e)+"</a>";r.insertContent(i)}function s(t,e,n){var i="/documents/catalog/image/"+t,o='<a class="catalog-popup" data-parent data-gallery="remoteload" data-title="'+r.dom.encode(e)+'"href="'+i+'"><img src="'+n+'"/></a>';r.insertContent(o)}function n(){var t=$("div")[0];return jQuery.data(t,"annotation")}function a(){var t=$("div")[0],e=jQuery.data(t,"catalog");return jQuery.data(t,"catalog",""),e}function l(){return tinymce.activeEditor.selection.getContent({format:"text"})}function e(){var t=n(),e=l();return 0<e.length&&(t=e),t}r.ui.registry.addButton("mellink",{image:icons.external_link,tooltip:"Insert/edit link to MEL Catalog object",onclick:function(){t("reference",e())}}),r.ui.registry.addButton("melimage",{image:icons.file_image,tooltip:"Insert/edit image from MEL Catalog",onclick:function(){t("image",e())}})});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__extends=function(t,e){function n(){
this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__hasProp={}.hasOwnProperty,Sidebar,sidebar,subscriber,studio;Annotator.Plugin.Categories=function(t){function e(t,e){this.loadCategories=__bind(this.loadCategories,this),this.updateField=__bind(this.updateField,this),this.updateViewer=__bind(this.updateViewer,this),this.addHighlightMarkup=__bind(this.addHighlightMarkup,this),this.updateHighlightMarkup=__bind(this.updateHighlightMarkup,this),this.updateHighlightRules=__bind(this.updateHighlightRules,this),this.options.categories=e}return __extends(e,t),e.prototype.field=null,e.prototype.input=null,e.prototype.options={categories:{}},e.prototype.pluginInit=function(){if(Annotator.supported()){var t,e;if(this.annotator.subscribe("annotationEditorSubmit",this.setAnnotationCat),this.annotator.subscribe("annotationCreated",this.addHighlightMarkup),this.annotator.subscribe("annotationUpdated",this.updateHighlightMarkup),this.annotator.subscribe("annotationsLoaded",this.loadCategories),0,e=this.options.categories,0<Object.keys(e).length){this.annotator.editor.addField({id:"annotation-category",label:"category",type:"input",load:this.updateField}),$("head").append($("<style/>",{id:"annotator-category-styles",html:""}));var n=$("#annotation-category").parent();for(t in n.attr("id","annotation-category-selection"),e){var i=e[t],o=$("<button>").attr("class","btn btn-default").attr("value",t).text(i.name);o.data("active-color",$.xcolor.opacity("#FFFFFF",i.hex,.4).getHex()),o.click(function(t){t.preventDefault(),$(this).toggleClass("active").removeAttr("style"),$(this).hasClass("active")&&$(this).css("background-color",$(this).data("active-color"))}),n.append(o)}$("#annotation-category").hide()}return this.viewer=this.annotator.viewer.addField({load:this.updateViewer}),this.annotator.plugins.Filter&&this.annotator.plugins.Filter.addFilter({label:"Categories",property:"category",isFiltered:Annotator.Plugin.Categories.filterCallback}),this.input=$(this.field).find(":input")}},e.prototype.loadCategories=function(t){var i=this.options.categories;$.each(t,function(t,e){if(e.annotation_categories!==undefined){var n="";$.each(e.annotation_categories,function(t,e){n+=" annotation_category-"+e,i[e].css_classes!==undefined&&""!=i[e].css_classes&&(n+=" "+i[e].css_classes)}),$(e.highlights).addClass(n)}}),this.updateHighlightRules()},e.prototype.setViewer=function(t){return t},e.prototype.updateField=function(t,e){$("#annotation-category-selection button").removeClass("active").removeAttr("style"),e.annotation_categories!==undefined&&$.each(e.annotation_categories,function(t,e){var n=$('#annotation-category-selection button[value="'+e+'"]');n.addClass("active").removeAttr("style").css("background-color",n.data("active-color"))})},e.prototype.addHighlightMarkup=function(t){var e,n,i,o,r,s=this.options.categories;if(n=t.highlights,t.annotation_categories!==undefined)for(r=[],i=0,o=n.length;i<o;i++){e=n[i];var a="";$.each(t.annotation_categories,function(t,e){a+=" annotation_category-"+e,s[e].css_classes!==undefined&&""!=s[e].css_classes&&(a+=" "+s[e].css_classes)}),r.push(e.className=e.className+a)}this.updateHighlightRules()},e.prototype.updateHighlightMarkup=function(t){$(t.highlights).attr("class","annotator-hl"),this.addHighlightMarkup(t)},e.prototype.updateHighlightRules=function(){_ref=this.options.categories;var s=new Array;$.each($(".annotator-wrapper .annotator-hl"),function(t,e){for(var o="",n="",i=$(e).attr("class").split(" "),r=0;r<i.length;r++)i[r].match(/^annotation_category-/)&&(n+="."+i[r]);""!=n&&(o=n),$.each($(e).parentsUntil(".annotator-wrapper"),function(t,e){if($(e).is("span.annotator-hl")){var n="",i=$(e).attr("class").split(" ");for(t=0;t<i.length;t++)i[t].match(/^annotation_category-/)&&(n+="."+i[t]);""!=n&&(o=n+" "+o)}}),""!=o&&s.push(o.replace(/ $/,""))});for(var n={},t=0;t<s.length;t++)n[s[t]]=0;var i="";for(t=0;t<s.length;t++){var e=s[t];if(0==n[e]){for(var o={},r=e.split(" "),a=0;a<r.length;a++)for(var l=r[a].split("."),u=0;u<l.length;u++){var c=l[u].replace(/^annotation_category-/,"");""!=c&&(o[c]=1)}var d="#FFFFFF",h=0;$.each(o,function(){h++});var f=.4/h;$.each(o,function(t){hex=_ref[t].hex;var e=$.xcolor.opacity(d,hex,f);d=e.getHex()}),i+=e+" { background-color: "+d+"; } ",n[e]=1}}$.each(_ref,function(t,e){n["annotation_category-"+t]===undefined&&(i+=".annotation_category-"+t+" { background-color: "+$.xcolor.opacity("#FFFFFF",e.hex,.4).getHex()+"; } ")}),$("style#annotator-category-styles").html(i);var p=new Array;$.each(n,function(t){p.push(t)})},e.prototype.setAnnotationCat=function(n){n.annotation.annotation_categories=[],$.each($("#annotation-category-selection button"),function(t,e){$(e).hasClass("active")&&n.annotation.annotation_categories.push(parseInt($(e).val()))})},e.prototype.updateViewer=function(t,e){t=$(t);var i=this.options.categories;return t.addClass("annotator-category"),e.annotation_categories!==undefined&&0<e.annotation_categories.length?t.addClass("annotator-category").html(function(){var n="";return $.each(e.annotation_categories,function(t,e){n+='<span class="annotation_category_viewer-'+e+'">'+i[e].name+'</span><span class="viewer_indicator annotation_category-'+e+'"></span>'}),n}):t.remove()},e}(Annotator.Plugin),function(){"use strict";var r,n;r=jQuery,(n=function(t,e){var n,i,o=this;return this.options=r.extend({title:null,footer:null,remote:null},r.fn.ekkoLightbox.defaults,e||{}),this.$element=r(t),"",this.modal_id=this.options.modal_id?this.options.modal_id:"ekkoLightbox-"+Math.floor(1e3*Math.random()+1),i='<div class="modal-header"'+(this.options.title||this.options.always_show_close?"":' style="display:none"')+'><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">'+(this.options.title||"&nbsp;")+"</h4></div>",n='<div class="modal-footer"'+(this.options.footer?"":' style="display:none"')+">"+this.options.footer+"</div>",r(document.body).append('<div id="'+this.modal_id+'" class="ekko-lightbox modal fade" tabindex="-1"><div class="modal-dialog"><div class="modal-content">'+i+'<div class="modal-body"><div class="ekko-lightbox-container"><div></div></div></div>'+n+"</div></div></div>"),this.modal=r("#"+this.modal_id),this.modal_dialog=this.modal.find(".modal-dialog").first(),this.modal_content=this.modal.find(".modal-content").first(),this.modal_body=this.modal.find(".modal-body").first(),this.lightbox_container=this.modal_body.find(".ekko-lightbox-container").first(),this.lightbox_body=this.lightbox_container.find("> div:first-child").first(),this.showLoading(),this.modal_arrows=null,this.border={top:parseFloat(this.modal_dialog.css("border-top-width"))+parseFloat(this.modal_content.css("border-top-width"))+parseFloat(this.modal_body.css("border-top-width")),right:parseFloat(this.modal_dialog.css("border-right-width"))+parseFloat(this.modal_content.css("border-right-width"))+parseFloat(this.modal_body.css("border-right-width")),bottom:parseFloat(this.modal_dialog.css("border-bottom-width"))+parseFloat(this.modal_content.css("border-bottom-width"))+parseFloat(this.modal_body.css("border-bottom-width")),left:parseFloat(this.modal_dialog.css("border-left-width"))+parseFloat(this.modal_content.css("border-left-width"))+parseFloat(this.modal_body.css("border-left-width"))},this.padding={top:parseFloat(this.modal_dialog.css("padding-top"))+parseFloat(this.modal_content.css("padding-top"))+parseFloat(this.modal_body.css("padding-top")),right:parseFloat(this.modal_dialog.css("padding-right"))+parseFloat(this.modal_content.css("padding-right"))+parseFloat(this.modal_body.css("padding-right")),bottom:parseFloat(this.modal_dialog.css("padding-bottom"))+parseFloat(this.modal_content.css("padding-bottom"))+parseFloat(this.modal_body.css("padding-bottom")),left:parseFloat(this.modal_dialog.css("padding-left"))+parseFloat(this.modal_content.css("padding-left"))+parseFloat(this.modal_body.css("padding-left"))},this.modal.on("show.bs.modal",this.options.onShow.bind(this)).on("shown.bs.modal",function(){return o.modal_shown(),o.options.onShown.call(o)}).on("hide.bs.modal",this.options.onHide.bind(this)).on("hidden.bs.modal",function(){return o.gallery&&r(document).off("keydown.ekkoLightbox"),o.modal.remove(),o.options.onHidden.call(o)}).modal("show",e),this.modal}).prototype={modal_shown:function(){var t,e=this;return this.options.remote?(this.gallery=this.$element.data("gallery"),this.gallery&&(this.gallery_items="document.body"===this.options.gallery_parent_selector||""===this.options.gallery_parent_selector?r(document.body).find('*[data-toggle="lightbox"][data-gallery="'+this.gallery+'"]'):this.$element.parents(this.options.gallery_parent_selector).first().find('*[data-toggle="lightbox"][data-gallery="'+this.gallery+'"]'),this.gallery_index=this.gallery_items.index(this.$element),r(document).on("keydown.ekkoLightbox",this.navigate.bind(this)),this.options.directional_arrows&&1<this.gallery_items.length&&(this.lightbox_container.prepend('<div class="ekko-lightbox-nav-overlay"><a href="#" class="'+this.strip_stops(this.options.left_arrow_class)+'"></a><a href="#" class="'+this.strip_stops(this.options.right_arrow_class)+'"></a></div>'),this.modal_arrows=this.lightbox_container.find("div.ekko-lightbox-nav-overlay").first(),this.lightbox_container.find("a"+this.strip_spaces(this.options.left_arrow_class)).on("click",function(t){return t.preventDefault(),e.navigate_left()}),this.lightbox_container.find("a"+this.strip_spaces(this.options.right_arrow_class)).on("click",function(t){return t.preventDefault(),e.navigate_right()}))),this.options.type?"image"===this.options.type?this.preloadImage(this.options.remote,!0):"youtube"===this.options.type&&(t=this.getYoutubeId(this.options.remote))?this.showYoutubeVideo(t):"vimeo"===this.options.type?this.showVimeoVideo(this.options.remote):"instagram"===this.options.type?this.showInstagramVideo(this.options.remote):"url"===this.options.type?this.showInstagramVideo(this.options.remote):this.error('Could not detect remote target type. Force the type using data-type="image|youtube|vimeo|url"'):this.detectRemoteType(this.options.remote)):this.error("No remote target given")},strip_stops:function(t){return t.replace(/\./g,"")},strip_spaces:function(t){return t.replace(/\s/g,"")},isImage:function(t){return t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSwf:function(t){return t.match(/\.(swf)((\?|#).*)?$/i)},getYoutubeId:function(t){var e;return!(!(e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))||11!==e[2].length)&&e[2]},getVimeoId:function(t){return 0<t.indexOf("vimeo")&&t},getInstagramId:function(t){return 0<t.indexOf("instagram")&&t},navigate:function(t){if(39===(t=t||window.event).keyCode||37===t.keyCode){if(39===t.keyCode)return this.navigate_right();if(37===t.keyCode)return this.navigate_left()}},navigate_left:function(){var t;if(1!==this.gallery_items.length)return this.showLoading(),0===this.gallery_index?this.gallery_index=this.gallery_items.length-1:this.gallery_index--,this.options.onNavigate("left",this.gallery_index),this.$element=r(this.gallery_items.get(this.gallery_index)),this.updateTitleAndFooter(),t=this.$element.attr("data-remote")||this.$element.attr("href"),this.detectRemoteType(t,this.$element.attr("data-type"))},navigate_right:function(){var t,e;if(1!==this.gallery_items.length)return this.showLoading(),this.gallery_index===this.gallery_items.length-1?this.gallery_index=0:this.gallery_index++,this.options.onNavigate("right",this.gallery_index),this.$element=r(this.gallery_items.get(this.gallery_index)),e=this.$element.attr("data-remote")||this.$element.attr("href"),this.updateTitleAndFooter(),this.detectRemoteType(e,this.$element.attr("data-type")),this.gallery_index+1<this.gallery_items.length&&(e=(t=r(this.gallery_items.get(this.gallery_index+1),!1)).attr("data-remote")||t.attr("href"),"image"===t.attr("data-type")||this.isImage(e))?this.preloadImage(e,!1):void 0},detectRemoteType:function(t,e){var n;return"image"===e||this.isImage(t)?(this.options.type="image",this.preloadImage(t,!0)):"youtube"===e||(n=this.getYoutubeId(t))?(this.options.type="youtube",this.showYoutubeVideo(n)):"vimeo"===e||(n=this.getVimeoId(t))?(this.options.type="vimeo",this.showVimeoVideo(n)):"instagram"===e||(n=this.getInstagramId(t))?(this.options.type="instagram",this.showInstagramVideo(n)):"url"===e||(n=this.getInstagramId(t))?(this.options.type="instagram",this.showInstagramVideo(n)):(this.options.type="url",this.loadRemoteContent(t))},updateTitleAndFooter:function(){var t,e,n,i;return n=this.modal_content.find(".modal-header"),e=this.modal_content.find(".modal-footer"),i=this.$element.data("title")||"",t=this.$element.data("footer")||"",i||this.options.always_show_close?n.css("display","").find(".modal-title").html(i||"&nbsp;"):n.css("display","none"),t?e.css("display","").html(t):e.css("display","none"),this},showLoading:function(){return this.lightbox_body.html('<div class="modal-loading">Loading..</div>'),this},showYoutubeVideo:function(t){var e,n,i;return e=560/315,i=this.$element.data("width")||560,n=(i=this.checkDimensions(i))/e,this.resize(i),this.lightbox_body.html('<iframe width="'+i+'" height="'+n+'" src="//www.youtube.com/embed/'+t+'?badge=0&autoplay=1&html5=1" frameborder="0" allowfullscreen></iframe>'),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},showVimeoVideo:function(t){var e,n,i;return e=500/281,i=this.$element.data("width")||560,n=(i=this.checkDimensions(i))/e,this.resize(i),this.lightbox_body.html('<iframe width="'+i+'" height="'+n+'" src="'+t+'?autoplay=1" frameborder="0" allowfullscreen></iframe>'),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},showInstagramVideo:function(t){var e;return e=this.$element.data("width")||612,e=this.checkDimensions(e),this.resize(e),this.lightbox_body.html('<iframe width="'+e+'" height="'+e+'" src="'+this.addTrailingSlash(t)+'embed/" frameborder="0" allowfullscreen></iframe>'),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},loadRemoteContent:function(t){var e,n,i=this;return n=this.$element.data("width")||560,this.resize(n),e=this.$element.data("disableExternalCheck")||!1,console.log(e,this.isExternal(t)),e||this.isExternal(t)?this.lightbox_body.html('<iframe width="'+n+'" height="'+n+'" src="'+t+'" frameborder="0" allowfullscreen></iframe>'):this.lightbox_body.load(t,r.proxy(function(){return i.$element.trigger("loaded.bs.modal")})),this.modal_arrows?this.modal_arrows.css("display","block"):void 0},isExternal:function(t){var e;return"string"==typeof(e=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/))[1]&&0<e[1].length&&e[1].toLowerCase()!==location.protocol||"string"==typeof e[2]&&0<e[2].length&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host},error:function(t){return this.lightbox_body.html(t),this},preloadImage:function(t,e){var n,i=this;return n=new Image,(null==e||!0===e)&&(n.onload=function(){var t;return(t=r("<img />")).attr("src",n.src),t.addClass("img-responsive"),i.lightbox_body.html(t),i.modal_arrows&&i.modal_arrows.css("display","block"),i.resize(n.width)},n.onerror=function(){return i.error("Failed to load image: "+t)}),n.src=t,n},resize:function(t){var e;return e=t+this.border.left+this.padding.left+this.padding.right+this.border.right,this.modal_dialog.css("width","auto").css("max-width",e),this.lightbox_container.find("a").css("padding-top",function(){return r(this).parent().height()/2}),this},checkDimensions:function(t){var e;return e=t+this.border.left+this.padding.left+this.padding.right+this.border.right,document.body.clientWidth<e&&(t=this.modal_body.width()),t},close:function(){return this.modal.modal("hide")},addTrailingSlash:function(t){return"/"!==t.substr(-1)&&(t+="/"),t}},r.fn.ekkoLightbox=function(e){return this.each(function(){var t;return t=r(this),e=r.extend({remote:t.attr("data-remote")||t.attr("href"),gallery_parent_selector:t.attr("data-parent"),type:t.attr("data-type")},e,t.data()),new n(this,e),this})},r.fn.ekkoLightbox.defaults={gallery_parent_selector:"*:not(.row)",left_arrow_class:".glyphicon .glyphicon-chevron-left",right_arrow_class:".glyphicon .glyphicon-chevron-right",directional_arrows:!0,type:null,always_show_close:!0,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){}}}.call(this),jQuery(function(n){function e(t){var e=n("div")[0];jQuery.data(e,"annotation",t)}Annotator.Plugin.MelCatalogue=function(){return{pluginInit:function(){this.annotator.subscribe("annotationEditorShown",function(t){e(t.annotation.quote)}).subscribe("annotationViewerShown",function(){n(".catalog-popup").off().attr("target","_blank"),n(".catalog-popup").on("click",function(t){t.preventDefault(),n(".ekko-lightbox").remove(),n(this).ekkoLightbox(),n(".ekko-lightbox .modal-dialog").draggable().resizable()})})}}}});var annotation_studio={initialize_annotator:function(){(sidebar=new Sidebar.App).token=token;var t=$("#textcontent").annotator(annotatorOptions).annotator("setupPlugins",{},plugin_options()),e={editor_enabled:annotationStudioConfig.enableRichTextEditor,tinymce:{toolbar:annotationStudioConfig.tinyMCEToolbar,image_dimensions:!1}};t.annotator("addPlugin","MelCatalogue"),subscriber=$("#textcontent").annotator().data("annotator"),mobile_device?t.annotator("addPlugin","Touch"):t.annotator("addPlugin","RichText",e),subscriber.subscribe("annotationsLoaded",annotation_studio.loadSidebar),subscriber.subscribe("annotationsLoaded",annotation_studio.stopSpinner),subscriber.subscribe("annotationsLoaded",annotation_studio.handleHash),subscriber.subscribe("annotationEditorShown",annotation_studio.parentIndex),subscriber.subscribe("annotationsLoaded",__bind(function(t){t.map(inlineData)},this)),subscriber.subscribe("beforeAnnotationCreated",annotation_studio.createUuid),subscriber.subscribe("beforeAnnotationCreated",annotation_studio.addUserName),subscriber.subscribe("annotationCreated",annotation_studio.loadSidebar),subscriber.subscribe("annotationCreated",inlineData),subscriber.subscribe("annotationUpdated",annotation_studio.loadSidebar),subscriber.subscribe("annotationDeleted",annotation_studio.deleteFromSidebar),$(".annotator-checkbox label").text("My groups can view this annotation"),sidebar.filtered=$("#visibleannotations").hasClass("active"),sidebar.sort_editable=sidebar_sort_editable,sidebar.subscriber=subscriber},selectedTags:[],loadOptions:function(t,e){var n=[];if($.each($("#category-chooser button.active"),function(t,e){n.push($(e).data("annotation_category_id"))}),e)var i={limit:admin_filter_user?null:1e3,groups:groups,subgroups:subgroups,user:e,currentUser:filter_user,adminUser:admin_filter_user,mode:"user",context:search_context,uri:[location.protocol,"//",location.host,location.pathname].join(""),annotation_categories:n};else i={limit:admin_filter_user?null:1e3,groups:groups,subgroups:subgroups,user:filter_user,adminUser:admin_filter_user,mode:annotation_studio.getMode(),context:search_context,uri:[location.protocol,"//",location.host,location.pathname].join(""),annotation_categories:n};return $("#tagsearchbox").length&&""!=$("#tagsearchbox").val()&&(i.tags=$("#tagsearchbox").val()),$.each(t,function(t,e){i[t]=e}),i},refreshAnnotations:function(){subscriber.loadAnnotations(subscriber.plugins.Store.annotations),$("#spinnermodal").modal("show")},filterAnnotations:function(t,e){console.log("*** the user select is"),console.log(e);var n=annotation_studio.loadOptions(t,e),i=annotation_studio.reloadAnnotations(n),o=annotation_studio.cleanupDocument();$.when(i).then(o).done(annotation_studio.refreshAnnotations(),annotation_studio.loadSidebar())},modeFilter:function(t){console.log("*** went into mode filter");var e={mode:t.target.id};annotation_studio.filterAnnotations(e)},resetByUser:function(){$(".by-user").val("")},userFilter:function(t){console.log("*** went into user filter"),"All Users"===$("#users option:selected").text()?$("label.who-made:nth-child(3)").addClass("active"):$("label.who-made").removeClass("active");var e={};console.log("*** event is"),console.log(t),console.log("*** target is"),console.log(t.target),console.log("*** value is"),console.log(t.target.value),annotation_studio.filterAnnotations(e,t.target.value)},tagFilter:function(){$('*[data-role="remove"]').hide();var t={};annotation_studio.filterAnnotations(t)},tagFilterCheck:function(){for(var t=$("#annotation-tag-list").find("input:checkbox:checked"),e=[],n=0;n<t.length;n++)e.push(t[n].value);annotation_studio.selectedTags=e;var i={};annotation_studio.filterAnnotations(i)},categoryFilter:function(t){$(t.currentTarget).toggleClass("active").removeAttr("style"),$(t.currentTarget).hasClass("active")&&$(t.currentTarget).css("background-color",$(t.currentTarget).data("active-color"));var e={};annotation_studio.filterAnnotations(e)},sortUpdate:function(){sidebar.listAnnotations(subscriber.dumpAnnotations())},stopSpinner:function(){$("#spinnermodal").modal("hide")},startSpinner:function(){$("#spinnermodal").modal("show")},loadSidebar:function(){setTimeout(function(){sidebar.listAnnotations(subscriber.dumpAnnotations())},100)},deleteFromSidebar:function(){$(".glyphicon-comment").remove(),setTimeout(function(){sidebar.listAnnotations(subscriber.dumpAnnotations())},100)},removeHilites:function(){$(".glyphicon-comment").remove();var t=$(".annotator-hl");return 0<t.length&&(t.children().unwrap(),t.contents().unwrap()),!0},handleHash:function(){var t=window.location.hash;0<t.length&&0<$(t).length&&(console.info(t),setTimeout(function(){$("html,body").animate({scrollTop:$(t).offset().top-150},500)},1e3))},createUuid:function(t){null==t.uuid?(t.uuid=Math.uuid(8,16),console.info("New uuid for annotation: '"+t.quote+"': "+t.uuid)):console.info("Existing uuid for annotation: '"+t.quote+"': "+t.uuid)},cleanupDocument:function(){var t=new $.Deferred;return annotation_studio.removeHilites()?t.resolve("Cleanup complete."):t.reject("Cleanup failed."),t.promise()},reloadAnnotations:function(t){var e=new $.Deferred;return subscriber.plugins.Store.annotations=[],subscriber.plugins.Store.loadAnnotationsFromSearch(t)?setTimeout(function(){e.resolve("Reload complete.")},100):e.reject("Reload failed."),e.promise()},getMode:function(){return $("label.viewchoice.active").attr("id")||"user"},addUserName:function(t){null==t.username&&(t.username=annotation_username,console.info("New username for annotation: "+annotation_username))},parentIndex:function(t,e){if(0<!e.parentIndex){var n=$(".annotator-hl-temporary").parent()[0],i=$("#textcontent").find("*").index(n);e.parentIndex=i}},set_document_state:function(t){$.each(t,function(t,e){var n=$("#"+e);0<n.length&&!n.hasClass("active")&&(n.parent().hasClass("btn-group")&&n.siblings().removeClass("active"),n.addClass("active"),n.attr("id").match(/^annotation_category/)&&n.css("background-color",$.xcolor.opacity("#FFFFFF",n.data("hex"),.4).getHex()))})},retrieve_document_state:function(){var n=[];return $.each($("#toolsmenu .btn.active"),function(t,e){n.push($(e).attr("id"))}),n},initialize_default_state_behavior:function(){annotation_studio.set_document_state(default_state),$("#default_state").on("click",function(t){t.preventDefault();var e=annotation_studio.retrieve_document_state();$.ajax({url:"/documents/"+document_slug+"/set_default_state",type:"POST",data:{default_state:JSON.stringify(e)}}).done(function(){$("#default_state").removeClass("active")})})}};jQuery(function(n){if("documents"==n("body").attr("id")&&"show annotable"==n("body").attr("class")){annotation_studio.startSpinner(),annotation_studio.initialize_default_state_behavior(),annotation_studio.initialize_annotator(),snapshot.initialize(),n(".annotator-button").on("tap",function(){console.log("button tapped"),n(".annotator-item").removeClass("hide")}),n(".annotator-adder").on("click",function(){n(".annotator-item").removeClass("hide")}),n(".annotator-edit").on("tap",function(){n(".annotator-item").removeClass("hide")}),n(".viewchoice").on("click",annotation_studio.modeFilter),n(".who-made").on("click",annotation_studio.resetByUser),n("#users").on("change",annotation_studio.userFilter);n("#annotation-tag-list");n("body").on("click","#annotation-tag-list input",annotation_studio.tagFilterCheck),n("#tagsearchbox").tagsinput(),n("#tagsearchbox").on("itemAdded",annotation_studio.tagFilter),n("#tagsearchbox").on("itemRemoved",annotation_studio.tagFilter),n(window).scroll(lazyShowAndHideAnnotations),n("#visibleannotations").on("click",function(){sidebar.filtered=!0,sidebar.showAndHideAnnotations()}),n("#allannotations").on("click",function(){sidebar.filtered=!1,sidebar.showAllAnnotations()}),n.each(n("#category-chooser button"),function(t,e){n(e).data("active-color",n.xcolor.opacity("#FFFFFF",n(e).data("hex"),.4).getHex()),n(e).on("click",annotation_studio.categoryFilter)}),n("#textpositionsort").on("click",{},annotation_studio.sortUpdate),n("#customsort").on("click",{},annotation_studio.sortUpdate)}});var lazyShowAndHideAnnotations=_.debounce(function(){sidebar.showAndHideAnnotations()},30),__bind=function(t,e){return function(){return t.apply(e,arguments)}},inlineData=__bind(function(t){if(null!=t.highlights[0]){highlightCount=t.highlights.length;for(var e=0;e<highlightCount;e++)t.highlights[e].dataset.uuid=t.uuid;t.highlights[0].id="hl"+t.uuid,t.highlights[0].title=t.user,t.highlights[0].dataset.tags=t.tags.join(","),t.highlights[0].dataset.annotation_categories=t.annotation_categories.join(","),t.highlights[0].dataset.groups=t.groups.join(","),t.highlights[0].dataset.subgroups=t.subgroups.join(","),t.highlights[0].dataset.username=t.username,t.highlights[0].dataset.user=t.user}else console.info("Annotation: "+t.uuid+"has no highlights.")},this),snapshot={save:function(t){var e=$.ajax({url:"/documents/"+document_slug+"/snapshot",type:"POST",data:{snapshot:t.html()}}).done(function(){console.log("Saved snapshot"),$("#snapshot-progress").modal("hide"),console.log("Removed spinner")}).fail(function(){console.log("Failed to save snapshot")});return Promise.resolve(e)},addHTML:function(){return new Promise(function(t,e){var n=$("#snapshot").html();n.length?t(n):e("Failed to add HTML.")})},addJSON:function(){var n='<script type="text/javascript" id="json-archive">var annotations = '+JSON.stringify(subscriber.dumpAnnotations())+"</script>";return new Promise(function(t,e){n.length?t(n):e("Failed to add JSON.")})},addCSS:function(){var t=$("#annotator-category-styles")[0].textContent,n='<style type="text/css">';return n+=".annotator-hl { background: rgba(255, 255, 10, 0.3) } .annotator-hl-active { background: rgba(255, 255, 10, 0.8) }.annotator-hl-filtered { background-color: transparent }",n+=t,n+="</style>",new Promise(function(t,e){n.length?t(n):e("Failed to add CSS.")})},addFilters:function(){var t=["tags","annotation_categories","user"];return _.map(t,function(t){var e=doc_uri+"/annotations/field/"+t+".json";return Promise.resolve($.get(e))})},initialize:function(){$("#snapshot_trigger").click(function(t){t.preventDefault(),$("#snapshot-progress").modal("show"),$(".glyphicon-comment").remove(),console.log("Started spinner");var i=$("#snapshot-staging");i.html("");var e=snapshot.addCSS(i),n=snapshot.addHTML(i),o=snapshot.addJSON(i),r=snapshot.addFilters(i),s=[e,n,o];Promise.all(s).then(function(t){t.forEach(function(t){i.append(t)})}).then(function(){return Promise.all(r)}).then(function(t){var e={},n="";t.forEach(function(t){$.extend(e,t)}),n='<script type="text/javascript" id="filter-lists">var filterLists = '+JSON.stringify(e)+"</script>",i.append(n)}).then(function(){snapshot.save(i)})["catch"](function(t){console.log("Argh, broken: "+t.message)})})}},Sidebar=Sidebar||{};Sidebar.Annotation=Backbone.Model.extend({initialize:function(){},defaults:{user:null,quote:null,text:null,id:null}});var Sidebar=Sidebar||{};Sidebar.AnnotationRows=Backbone.Model.extend({defaults:{rows:null}});var Sidebar=Sidebar||{};Sidebar.LocalAnnotationList=Backbone.Collection.extend({model:Sidebar.Annotation});var Sidebar=Sidebar||{};Sidebar.RemoteAnnotationList=Backbone.Collection.extend({model:Sidebar.Annotation,url:"http://localhost:3000/api/search",initialize:function(t){this.fetch({data:t,success:this.fetchSuccess,error:this.fetchError}),this.deferred=new $.Deferred},deferred:Function.constructor.prototype,fetchSuccess:function(t){t.deferred.resolve()},fetchError:function(){throw new Error("Fetch did not get annotations from the API")}});var Sidebar=Sidebar||{};Sidebar.AnnotationListView=Backbone.View.extend({el:$("div#annotation-well"),initialize:function(){this.template=$("#annotation-template").html();var t=this;sidebar.sort_editable&&$("ul#annotation-list").sortable({handle:".handle",containment:"parent",update:function(){t.listUpdate()}})},listUpdate:function(){var n={},i=0;$.each($("li.annotation-item"),function(t,e){n[$(e).find("span.highlightlink").attr("data-highlight").replace(/#hl/,"")]=i,i+=1});$.ajax({url:annotationStudioConfig.apiURL+"/annotations/positions",type:"POST",data:{sort_positions:n},headers:{"x-annotator-auth-token":sidebar.token}}).done(function(){$.each(sidebar.subscriber.plugins.Store.annotations,function(t,e){e.sort_position=n[e.uuid]})})},render:function(){var t=this.collection;$("ul#annotation-list").find(".annotation-item").remove(),$("#textpositionsort").hasClass("active")?(sorted_ids=$(".annotator-hl").map(function(t,e){return e.id.substring(2)}).toArray(),t.each(function(t){t.set("order",sorted_ids.indexOf(t.get("uuid")))}),t.comparator=function(t){return t.get("order")}):t.comparator=function(t){return t.get("sort_position")},t.sort(),t.each(function(t){var e=new Sidebar.AnnotationView({model:t});$("ul#annotation-list").append(e.render().el)}),$("li.annotation-item span").tooltip(),$("span.annotator-hl").click(function(){$("ul#annotation-list li").removeClass("hover"),$("span.highlightlink").tooltip("hide");var t="#sb"+this.id.toString().match(/(hl)(.+)/).slice(1)[1];$("div#annotation-well").animate({scrollTop:$(t).offset().top},100,function(){console.info("Scroll to: "+t),$(t).trigger("click")})}),$("li.annotation-item").click(function(){if(!$(this).hasClass("focuswhite")){var t=$(this).find("span.highlightlink").attr("data-highlight");$("ul#annotation-list li").removeClass("hover"),$("#annotation-well ul#annotation-list li").removeClass("focuswhite"),$("ul#annotation-list li .details").hide(),$("ul#annotation-list li .highlightlink.comment, ul#annotation-list li .highlightlink.highlight").show(),$(this).find(".comment, .highlight").hide(),$(this).find(".details").show(200),$(this).addClass("focuswhite"),$("span.highlightlink").tooltip("hide"),0<$(t).length&&($("html,body").animate({scrollTop:$(t).offset().top-150},500),$(".glyphicon-comment").remove(),$(t).prepend('<i class="glyphicon glyphicon-comment"></i>'))}}),annotationStudioConfig.melCatalogEnabled&&$("li.annotation-item a.catalog-popup").unbind("click").on("click",function(){$("li.annotation-item a.catalog-popup").unbind("click").attr("target","_blank")}),sidebar.sort_editable&&($("#customsort").hasClass("active")?$("ul#annotation-list").sortable("enable").addClass("sorting_on"):$("ul#annotation-list").sortable("disable").removeClass("sorting_on")),sidebar.showAndHideAnnotations()}});var Sidebar=Sidebar||{};Sidebar.AnnotationView=Backbone.View.extend({tagName:"li",className:"annotation-item",initialize:function(){this.commenttemplate=$("#comment-template").html(),this.highlighttemplate=$("#highlight-template").html(),this.mdconverter=new Showdown.converter,this.href="#full"+this.model.get("uuid")},render:function(){return $(this.el).find("highlight.comment img").addClass("thumbnail"),""!=this.model.get("text")?(this.mdConvert(),$(this.el).html(Mustache.to_html(this.commenttemplate,this.model.toJSON()))):$(this.el).html(Mustache.to_html(this.highlighttemplate,this.model.toJSON())),$(this.el).find(".details").hide(),$(this.el).addClass(this.displayCategories()),$(this.el).find("a").click(function(){return window.open(this.href,"_blank"),!1}),this},mdConvert:function(){var t=this.model.get("text");if(""!=t){var e=this.mdconverter.makeHtml(t);$(e).text();this.model.set("text",e)}return this},displayCategories:function(){var t=this.model.get("annotation_categories");return _.map(t,function(t){return"annotation_category-"+t}).join(" ")}});var Sidebar=Sidebar||{};Sidebar.App=Backbone.Router.extend({routes:{list:"listAnnotations",update:"updateAnnotations"},listAnnotations:function(t){Sidebar.annotations=new Sidebar.LocalAnnotationList(t),new Sidebar.AnnotationListView({container:$("#annotation-well"),
collection:Sidebar.annotations}).render()},updateAnnotations:function(t){Sidebar.annotations=new Sidebar.RemoteAnnotationList(t);var e=new Sidebar.AnnotationListView({container:$("#annotation-well"),collection:Sidebar.annotations});Sidebar.annotations.deferred.done(function(){e.render()})},showAndHideAnnotations:function(){this.filtered&&$("ul#annotation-list li").each(function(t,e){highlight_id=$(e).find("span.highlightlink").data("highlight"),isScrolledIntoView($(highlight_id))?$(e).show():$(e).hide()})},showAllAnnotations:function(){$("ul#annotation-list li").show()}}),$(function(){"use strict";setTimeout(function(){$(".self_removing").alert("close")},5e3)}),$(function(){"use strict";function t(){var t=localStorage.tabs?JSON.parse(localStorage.tabs):{};for(var e in t)if(t.hasOwnProperty(e)){var n=e.split(":"),i=$("body#"+n[0]+" #"+n[1]);if(0<i.length){var o=i.find("a[href="+t[e]+"]");0<o.length&&o.tab("show")}}}var s=$("body");t(),s.on("shown.bs.tab",'a[data-toggle="tab"]',function(t){var e=$(t.target),n=e.closest("ul").attr("id"),i=e.attr("href"),o=s.attr("id")+":"+n,r=localStorage.tabs?JSON.parse(localStorage.tabs):{};r[o]=i,localStorage.tabs=JSON.stringify(r)})}),$(function(){"use strict";var t=$("body");t.on("click",".show-password-fields",function(){var t='<label for="user_current_password">Current Password</label>\n<input class="form-control" id="user_current_password" name="user[current_password]" size="30" type="password">';return t+='<label for="user_password">New Password</label>\n<input class="form-control" id="user_password" name="user[password]" size="30" type="password">',t+='<label for="user_password_confirmation">Confirm Password</label>\n<input class="form-control" id="user_password_confirmation" name="user[password_confirmation]" size="30" type="password">',t+='<button class="cancel-password-fields btn btn-default">Cancel Change Password</button>',$(this).closest(".form-group").html(t),!1}),t.on("click",".cancel-password-fields",function(){var t='<button class="show-password-fields btn btn-default">Change Password</button>';return $(this).closest(".form-group").html(t),!1})}),window.formatDateTime=function(t){"use strict";function e(t){return t<10?"0"+t:""+t}var n=(t=new Date(Date.parse(t))).getDate(),i=t.getMonth()+1,o=t.getFullYear(),r=t.getHours()+1,s=t.getMinutes()+1;return e(i)+"/"+e(n)+"/"+o+" "+e(r)+":"+e(s)},$(function(){"use strict";$(".dont-overflow").on("shown.bs.dropdown",function(){var t=$(this).find(".dropdown-menu");t.css("height",""),t.css("overflow",""),t.css("width","");var e=t.height(),n=t.offset();n=n.top;var i=$(window).height();i<n+e&&(t.css("height",i-n+"px"),t.css("overflow","auto"),t.css("width","+=20"))})}),$(function(){"use strict";var i,t=$("body");t.on("change",".confirm-changes input,.confirm-changes select",function(){var t=$(this).closest("form").find("input[type=submit]").val();i='You have unsaved changes on this page. You will lose them unless you stay on this page and click "'+t+'".'}),t.on("submit",".confirm-changes",function(){var t=$(this).find(".bootstrap-tagsinput input");if(0<t.length)for(var e=0;e<t.length;e++){var n=$(t[e]).val();if(0<n.length)return alert("You haven't finished creating the class. Put the cursor after the word \""+n+'" and type the "enter" key to get it recognized.'),!1}i=undefined}),$(window).on("beforeunload",function(){return i})}),$(function(){$("#manual-login-toggle").click(function(t){return t.preventDefault(),$("#manual-login").slideToggle(),!1})});