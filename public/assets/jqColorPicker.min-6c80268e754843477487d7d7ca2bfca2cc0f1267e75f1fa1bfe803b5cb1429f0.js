!function(r,l){"use strict";function n(r,t,o,e,i){if("string"==typeof t)o=(t=z.txt2color(t)).type,E[o]=t[o],i=i!==l?i:t.alpha;else if(t)for(var n in t)r[o][n]=a(t[n]/R[o][n][1],0,1);return i!==l&&(r.alpha=+i),s(o,e?r:l)}function y(r,t,o){var e=H.options.grey,i={};return i.RGB={r:r.r,g:r.g,b:r.b},i.rgb={r:t.r,g:t.g,b:t.b},i.alpha=o,i.equivalentGrey=Math.round(e.r*r.r+e.g*r.g+e.b*r.b),i.rgbaMixBlack=B(t,{r:0,g:0,b:0},o,1),i.rgbaMixWhite=B(t,{r:1,g:1,b:1},o,1),i.rgbaMixBlack.luminance=k(i.rgbaMixBlack,!0),i.rgbaMixWhite.luminance=k(i.rgbaMixWhite,!0),H.options.customBG&&(i.rgbaMixCustom=B(t,H.options.customBG,o,1),i.rgbaMixCustom.luminance=k(i.rgbaMixCustom,!0),H.options.customBG.luminance=k(H.options.customBG,!0)),i}function s(r,t){var o,e,i,n=t||E,s=z,a=H.options,c=R,l=n.RND,h="",u="",g={hsl:"hsv",rgb:r},p=l.rgb;if("alpha"!==r){for(var d in c)if(!c[d][d])for(h in r!==d&&(u=g[d]||"rgb",n[d]=s[u+"2"+d](n[u])),l[d]||(l[d]={}),o=n[d])l[d][h]=Math.round(o[h]*c[d][h][1]);p=l.rgb,n.HEX=s.RGB2HEX(p),n.equivalentGrey=a.grey.r*n.rgb.r+a.grey.g*n.rgb.g+a.grey.b*n.rgb.b,n.webSave=e=M(p,51),n.webSmart=i=M(p,17),n.saveColor=p.r===e.r&&p.g===e.g&&p.b===e.b?"web save":p.r===i.r&&p.g===i.g&&p.b===i.b?"web smart":"",n.hueRGB=z.hue2RGB(n.hsv.h),t&&(n.background=y(p,n.rgb,n.alpha))}var b,f,v,x=n.rgb,m=n.alpha,w="luminance",_=n.background;return(b=B(x,{r:0,g:0,b:0},m,1))[w]=k(b,!0),n.rgbaMixBlack=b,(f=B(x,{r:1,g:1,b:1},m,1))[w]=k(f,!0),n.rgbaMixWhite=f,a.customBG&&((v=B(x,_.rgbaMixCustom,m,1))[w]=k(v,!0),v.WCAG2Ratio=G(v[w],_.rgbaMixCustom[w]),(n.rgbaMixBGMixCustom=v).luminanceDelta=Math.abs(v[w]-_.rgbaMixCustom[w]),v.hueDelta=C(_.rgbaMixCustom,v,!0)),n.RGBLuminance=k(p),n.HUELuminance=k(n.hueRGB),a.convertCallback&&a.convertCallback(n,r),n}function M(r,t){var o={},e=0,i=t/2;for(var n in r)e=r[n]%t,o[n]=r[n]+(i<e?t-e:-e);return o}function C(r,t,o){return(Math.max(r.r-t.r,t.r-r.r)+Math.max(r.g-t.g,t.g-r.g)+Math.max(r.b-t.b,t.b-r.b))*(o?255:1)/765}function k(r,t){for(var o=t?1:255,e=[r.r/o,r.g/o,r.b/o],i=H.options.luminance,n=e.length;n--;)e[n]=e[n]<=.03928?e[n]/12.92:Math.pow((e[n]+.055)/1.055,2.4);return i.r*e[0]+i.g*e[1]+i.b*e[2]}function B(r,t,o,e){var i={},n=o!==l?o:1,s=e!==l?e:1,a=n+s*(1-n);for(var c in r)i[c]=(r[c]*n+t[c]*s*(1-n))/a;return i.a=a,i}function G(r,t){var o=1;return o=t<=r?(r+.05)/(t+.05):(t+.05)/(r+.05),Math.round(100*o)/100}function a(r,t,o){return o<r?o:r<t?t:r}var R={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},H={},E={},t={r:.298954,g:.586434,b:.114612},o={r:.2126,g:.7152,b:.0722},e=r.Colors=function(r){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",grey:t,luminance:o,valueRanges:R},i(this,r||{})},i=function(r,t){var o,e=r.options;for(var i in c(r),t)t[i]!==l&&(e[i]=t[i]);o=e.customBG,e.customBG="string"==typeof o?z.txt2color(o).rgb:o,E=n(r.colors,e.color,l,!0)},c=function(r){H!==r&&(E=(H=r).colors)};e.prototype.setColor=function(r,t,o){return c(this),r?n(this.colors,r,t,l,o):(o!==l&&(this.colors.alpha=o),s(t))},e.prototype.setCustomBackground=function(r){return c(this),this.options.customBG="string"==typeof r?z.txt2color(r).rgb:r,n(this.colors,l,"rgb")},e.prototype.saveAsBackground=function(){return c(this),n(this.colors,l,"rgb",!0)};var z={txt2color:function(r){var t={},o=r.replace(/(?:#|\)|%)/g,"").split("("),e=(o[1]||"").split(/,\s*/),i=o[1]?o[0].substr(0,3):"rgb",n="";if(t.type=i,t[i]={},o[1])for(var s=3;s--;)n=i[s]||i.charAt(s),t[i][n]=+e[s]/R[i][n][1];else t.rgb=z.HEX2rgb(o[0]);return t.alpha=e[3]?+e[3]:1,t},RGB2HEX:function(r){return((r.r<16?"0":"")+r.r.toString(16)+(r.g<16?"0":"")+r.g.toString(16)+(r.b<16?"0":"")+r.b.toString(16)).toUpperCase()},HEX2rgb:function(r){return r=r.split(""),{r:parseInt(r[0]+r[r[3]?1:0],16)/255,g:parseInt(r[r[3]?2:1]+(r[3]||r[1]),16)/255,b:parseInt((r[4]||r[2])+(r[5]||r[2]),16)/255}},hue2RGB:function(r){var t=6*r,o=~~t%6,e=6===t?0:t-o;return{r:Math.round(255*[1,1-e,0,0,e,1][o]),g:Math.round(255*[e,1,1,1-e,0,0][o]),b:Math.round(255*[0,0,e,1,1,1-e][o])}},rgb2hsv:function(r){var t,o,e=r.r,i=r.g,n=r.b,s=0;return i<n&&(i=n+(n=i,0),s=-1),o=n,e<i&&(e=i+(i=e,0),s=-2/6-s,o=Math.min(i,n)),t=e-o,{h:(e?t/e:0)<1e-15?E&&E.hsl&&E.hsl.h||0:t?Math.abs(s+(i-n)/(6*t)):0,s:e?t/e:E&&E.hsv&&E.hsv.s||0,v:e}},hsv2rgb:function(r){var t=6*r.h,o=r.s,e=r.v,i=~~t,n=t-i,s=e*(1-o),a=e*(1-n*o),c=e*(1-(1-n)*o),l=i%6;return{r:[e,a,s,s,c,e][l],g:[c,e,e,a,s,s][l],b:[s,s,c,e,e,a][l]}},hsv2hsl:function(r){var t=(2-r.s)*r.v,o=r.s*r.v;return o=r.s?t<1?t?o/t:0:o/(2-t):0,{h:r.h,s:r.v||o?o:E&&E.hsl&&E.hsl.s||0,l:t/2}},rgb2hsl:function(r,t){var o=z.rgb2hsv(r);return z.hsv2hsl(t?o:E.hsv=o)},hsl2rgb:function(r){var t=6*r.h,o=r.s,e=r.l,i=e<.5?e*(1+o):e+o-o*e,n=e+e-i,s=~~t,a=i*(i?(i-n)/i:0)*(t-s),c=n+a,l=i-a,h=s%6;return{r:[i,l,n,n,c,i][h],g:[c,i,i,l,n,n][h],b:[n,n,c,i,i,l][h]}}}}(window),function(n,t,m){"use strict";function s(r){return r.value||r.getAttribute("value")||n(r).css("background-color")||"#fff"}function i(r){return r.originalEvent.touches?r.originalEvent.touches[0]:r}function a(r){return n(r.find(b.doRender)[0]||r[0])}function o(r){var t=n(this),o=t.offset(),e=n(window),i=b.gap;r?(y=a(t),d.$trigger=t,(f||c()).css({left:(f[0]._left=o.left)-(0<(f[0]._left=f[0]._left+f[0]._width-(e.scrollLeft()+e.width()))+i?f[0]._left+i:0),top:(f[0]._top=o.top+t.outerHeight())-(0<(f[0]._top=f[0]._top+f[0]._height-(e.scrollTop()+e.height()))+i?f[0]._top+i:0)}).show(b.animationSpeed,function(){!0!==r&&(B._width=B.width(),M._width=M.width(),M._height=M.height(),_.setColor(s(y[0])),g(!0))})):n(f).hide(b.animationSpeed,function(){y.blur(),d.$trigger=null,g(!1)})}function c(){return n("head").append('<style type="text/css">'+(b.css||A)+(b.cssAddon||"")+"</style>"),d.$UI=f=n(X).css({margin:b.margin}).appendTo("body").show(0,function(){E=b.GPU&&n(this).css("perspective")!==m,M=n(".cp-xy-slider",this),C=n(".cp-xy-cursor",this),k=n(".cp-z-cursor",this),B=n(".cp-alpha",this).toggle(!!b.opacity),G=n(".cp-alpha-cursor",this),b.buidCallback.call(d,n(this)),n(this).prepend("<div>").children().eq(0).css("width",n(this).children().eq(0).width()),this._width=this.offsetWidth,this._height=this.offsetHeight}).hide().on("touchstart mousedown pointerdown",".cp-xy-slider,.cp-z-slider,.cp-alpha",r)}function r(r){var t=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");r.preventDefault&&r.preventDefault(),r.returnValue=!1,y._offset=n(this).offset(),(t="xy_slider"===t?l:"z_slider"===t?h:u)(r),v.on(H,e).on(R,t)}function e(){v.off(R).off(H)}function l(r){var t=i(r),o=t.pageX-y._offset.left,e=t.pageY-y._offset.top;_.setColor({s:o/M._width*100,v:100-e/M._height*100},"hsv"),g()}function h(r){var t=i(r).pageY-y._offset.top;_.colors.hsv,_.setColor({h:360-t/M._height*360},"hsv"),g()}function u(r){var t=(i(r).pageX-y._offset.left)/B._width;_.setColor({},"rgb",1<t?1:t<0?0:t),g()}function g(r){var t=_.colors,o=t.hueRGB,e=t.RND.rgb,i=t.RND.hsl,n="#222",s="#ddd",a=y.data("colorMode"),c=1!==t.alpha,l=Math.round(100*t.alpha)/100,h=e.r+", "+e.g+", "+e.b,u="HEX"!==a||c?"rgb"===a||"HEX"===a&&c?c?"rgba("+h+", "+l+")":"rgb("+h+")":"hsl"+(c?"a(":"(")+i.h+", "+i.s+"%, "+i.l+"%"+(c?", "+l:"")+")":"#"+t.HEX,g=.22<t.HUELuminance?n:s,p=.22<t.rgbaMixBlack.luminance?n:s,d=(1-t.hsv.h)*M._height,b=t.hsv.s*M._width,f=(1-t.hsv.v)*M._height,v=l*B._width,x=E?"translate3d":"";M._css={backgroundColor:"rgb("+o.r+","+o.g+","+o.b+")"},C._css={transform:x+"("+b+"px, "+f+"px, 0)",left:E?"":b,top:E?"":f,borderColor:.22<t.RGBLuminance?n:s},k._css={transform:x+"(0, "+d+"px, 0)",top:E?"":d,borderColor:"transparent "+g},B._css={backgroundColor:"rgb("+h+")"},G._css={transform:x+"("+v+"px, 0, 0)",left:E?"":v,borderColor:p+" transparent"},y._css={backgroundColor:u,color:.22<t.rgbaMixBGMixCustom.luminance?n:s},y.text=y.val()!==u?u:"",r!==m?w(r):z(w)}function w(r){M.css(M._css),C.css(C._css),k.css(k._css),B.css(B._css),G.css(G._css),b.doRender&&y.css(y._css),y.text&&y.val(y.text),b.renderCallback.call(d,y,"boolean"==typeof r?r:m)}var p,d,_,b,y,f,M,C,k,B,G,v=n(document),x="",R="touchmove mousemove pointermove",H="touchend mouseup pointerup",E=!1,z=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(r){r()},X='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',A=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",F=function(r){_=this.color=new t(r),b=_.options};F.prototype={render:g,toggle:o},n.fn.colorPicker=function(e){var r=function(){};return e=n.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:r,buidCallback:r,body:document.body,scrollResize:!0,gap:4},e),!d&&e.scrollResize&&n(window).on("resize scroll",function(){d.$trigger&&d.toggle.call(d.$trigger[0],!0)}),(p=p?p.add(this):this).colorPicker=d||(d=new F(e)),x+=(x?", ":"")+this.selector,n(e.body).off(".a").on("touchstart.a mousedown.a pointerdown.a",function(r){var t=n(r.target);-1!==n.inArray(t.closest(x)[0],p)||t.closest(f).length||o()}).on("focus.a click.a",x,o).on("change.a",x,function(){_.setColor(this.value),p.colorPicker.render()}),this.each(function(){var r=s(this),t=r.split("("),o=a(n(this));o.data("colorMode",t[1]?t[0].substr(0,3):"HEX").attr("readonly",b.preventFocus),e.doRender&&o.css({"background-color":r,color:function(){return.22<_.setColor(r).rgbaMixBGMixCustom.luminance?"#222":"#ddd"}})})}}(window.jQuery,Colors);