function isScrolledIntoView(t){if(void 0!==t&&$(t).length>0){var e=$(window).scrollTop(),n=e+$(window).height(),i=$(t).offset().top;return i+$(t).height()<=n&&i>=e}return!1}if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ft.isFunction(e))return ft.grep(t,(function(t,i){return!!e.call(t,i,t)!==n}));if(e.nodeType)return ft.grep(t,(function(t){return t===e!==n}));if("string"==typeof e){if(Ct.test(e))return ft.filter(e,t,n);e=ft.filter(e,t)}return ft.grep(t,(function(t){return ft.inArray(t,e)>-1!==n}))}function o(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function r(t){var e={};return ft.each(t.match(At)||[],(function(t,n){e[n]=!0})),e}function s(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(it.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(it.addEventListener||"load"===t.event.type||"complete"===it.readyState)&&(s(),ft.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(It,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Mt.test(n)?ft.parseJSON(n):n)}catch(t){}ft.data(t,e,n)}else n=void 0}return n}function u(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(Pt(t)){var o,r,s=ft.expando,a=t.nodeType,l=a?ft.cache:t,u=a?t[s]:t[s]&&s;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof e)return u||(u=a?t[s]=nt.pop()||ft.guid++:s),l[u]||(l[u]=a?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[u]=ft.extend(l[u],e):l[u].data=ft.extend(l[u].data,e)),r=l[u],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[ft.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[ft.camelCase(e)]):o=r,o}}function d(t,e,n){if(Pt(t)){var i,o,r=t.nodeType,s=r?ft.cache:t,a=r?t[ft.expando]:ft.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){o=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in i||(e=ft.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!u(i):!ft.isEmptyObject(i))return}(n||(delete s[a].data,u(s[a])))&&(r?ft.cleanData([t],!0):dt.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function h(t,e,n,i){var o,r=1,s=20,a=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},l=a(),u=n&&n[3]||(ft.cssNumber[e]?"":"px"),c=(ft.cssNumber[e]||"px"!==u&&+l)&&Ft.exec(ft.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{c/=r=r||".5",ft.style(t,e,c+u)}while(r!==(r=a()/l)&&1!==r&&--s)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=o)),o}function f(t){var e=Yt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){var n,i,o=0,r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ft.nodeName(i,e)?r.push(i):ft.merge(r,p(i,e));return void 0===e||e&&ft.nodeName(t,e)?ft.merge([t],r):r}function g(t,e){for(var n,i=0;null!=(n=t[i]);i++)ft._data(n,"globalEval",!e||ft._data(e[i],"globalEval"))}function m(t){Vt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,i,o){for(var r,s,a,l,u,c,d,h=t.length,v=f(e),b=[],y=0;y<h;y++)if((s=t[y])||0===s)if("object"===ft.type(s))ft.merge(b,s.nodeType?[s]:s);else if(Gt.test(s)){for(l=l||v.appendChild(e.createElement("div")),u=(Ut.exec(s)||["",""])[1].toLowerCase(),d=Kt[u]||Kt._default,l.innerHTML=d[1]+ft.htmlPrefilter(s)+d[2],r=d[0];r--;)l=l.lastChild;if(!dt.leadingWhitespace&&Wt.test(s)&&b.push(e.createTextNode(Wt.exec(s)[0])),!dt.tbody)for(r=(s="table"!==u||Xt.test(s)?"<table>"!==d[1]||Xt.test(s)?0:l:l.firstChild)&&s.childNodes.length;r--;)ft.nodeName(c=s.childNodes[r],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ft.merge(b,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else b.push(e.createTextNode(s));for(l&&v.removeChild(l),dt.appendChecked||ft.grep(p(b,"input"),m),y=0;s=b[y++];)if(i&&ft.inArray(s,i)>-1)o&&o.push(s);else if(a=ft.contains(s.ownerDocument,s),l=p(v.appendChild(s),"script"),a&&g(l),n)for(r=0;s=l[r++];)qt.test(s.type||"")&&n.push(s);return l=null,v}function b(){return!0}function y(){return!1}function w(){try{return it.activeElement}catch(t){}}function _(t,e,n,i,o,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)_(t,a,n,i,e[a],r);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=y;else if(!o)return t;return 1===r&&(s=o,o=function(t){return ft().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=ft.guid++)),t.each((function(){ft.event.add(this,e,o,i,n)}))}function x(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function C(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function k(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,i,o,r=ft._data(t),s=ft._data(e,r),a=r.events;if(a)for(n in delete s.handle,s.events={},a)for(i=0,o=a[n].length;i<o;i++)ft.event.add(e,n,a[n][i]);s.data&&(s.data=ft.extend({},s.data))}}function S(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ft.expando]){for(i in(o=ft._data(e)).events)ft.removeEvent(e,i,o.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(C(e).text=t.text,k(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Vt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function E(t,e,n,i){e=rt.apply([],e);var o,r,s,a,l,u,c=0,d=t.length,h=d-1,f=e[0],g=ft.isFunction(f);if(g||d>1&&"string"==typeof f&&!dt.checkClone&&se.test(f))return t.each((function(o){var r=t.eq(o);g&&(e[0]=f.call(this,o,r.html())),E(r,e,n,i)}));if(d&&(o=(u=v(e,t[0].ownerDocument,!1,t,i)).firstChild,1===u.childNodes.length&&(u=o),o||i)){for(s=(a=ft.map(p(u,"script"),C)).length;c<d;c++)r=u,c!==h&&(r=ft.clone(r,!0,!0),s&&ft.merge(a,p(r,"script"))),n.call(t[c],r,c);if(s)for(l=a[a.length-1].ownerDocument,ft.map(a,k),c=0;c<s;c++)r=a[c],qt.test(r.type||"")&&!ft._data(r,"globalEval")&&ft.contains(l,r)&&(r.src?ft._evalUrl&&ft._evalUrl(r.src):ft.globalEval((r.text||r.textContent||r.innerHTML||"").replace(le,"")));u=o=null}return t}function N(t,e,n){for(var i,o=e?ft.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ft.cleanData(p(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&g(p(i,"script")),i.parentNode.removeChild(i));return t}function D(t,e){var n=ft(e.createElement(t)).appendTo(e.body),i=ft.css(n[0],"display");return n.detach(),i}function A(t){var e=it,n=de[t];return n||("none"!==(n=D(t,e))&&n||((e=((ce=(ce||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ce[0].contentDocument).document).write(),e.close(),n=D(t,e),ce.detach()),de[t]=n),n}function z(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function P(t){if(t in Se)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Te.length;n--;)if((t=Te[n]+e)in Se)return t}function M(t,e){for(var n,i,o,r=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(r[s]=ft._data(i,"olddisplay"),n=i.style.display,e?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&$t(i)&&(r[s]=ft._data(i,"olddisplay",A(i.nodeName)))):(o=$t(i),(n&&"none"!==n||!o)&&ft._data(i,"olddisplay",o?n:ft.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function I(t,e,n){var i=xe.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function R(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,s=0;r<4;r+=2)"margin"===n&&(s+=ft.css(t,n+Bt[r],!0,o)),i?("content"===n&&(s-=ft.css(t,"padding"+Bt[r],!0,o)),"margin"!==n&&(s-=ft.css(t,"border"+Bt[r]+"Width",!0,o))):(s+=ft.css(t,"padding"+Bt[r],!0,o),"padding"!==n&&(s+=ft.css(t,"border"+Bt[r]+"Width",!0,o)));return s}function O(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=me(t),s=dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=ve(t,e,r))<0||null==o)&&(o=t.style[e]),fe.test(o))return o;i=s&&(dt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+R(t,e,n||(s?"border":"content"),i,r)+"px"}function H(t,e,n,i,o){return new H.prototype.init(t,e,n,i,o)}function L(){return t.setTimeout((function(){Ee=void 0})),Ee=ft.now()}function F(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=Bt[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function B(t,e,n){for(var i,o=(V.tweeners[e]||[]).concat(V.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,e,t))return i}function $(t,e,n){var i,o,r,s,a,l,u,c=this,d={},h=t.style,f=t.nodeType&&$t(t),p=ft._data(t,"fxshow");for(i in n.queue||(null==(a=ft._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always((function(){c.always((function(){a.unqueued--,ft.queue(t,"fx").length||a.empty.fire()}))}))),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(u=ft.css(t,"display"))?ft._data(t,"olddisplay")||A(t.nodeName):u)&&"none"===ft.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==A(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",dt.shrinkWrapBlocks()||c.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),e)if(o=e[i],De.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||ft.style(t,i)}else u=void 0;if(ft.isEmptyObject(d))"inline"===("none"===u?A(t.nodeName):u)&&(h.display=u);else for(i in p?"hidden"in p&&(f=p.hidden):p=ft._data(t,"fxshow",{}),r&&(p.hidden=!f),f?ft(t).show():c.done((function(){ft(t).hide()})),c.done((function(){var e;for(e in ft._removeData(t,"fxshow"),d)ft.style(t,e,d[e])})),d)s=B(f?p[i]:0,i,c),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}function j(t,e){var n,i,o,r,s;for(n in t)if(o=e[i=ft.camelCase(n)],r=t[n],ft.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(s=ft.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}function V(t,e,n){var i,o,r=0,s=V.prefilters.length,a=ft.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=Ee||L(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),r=0,s=u.tweens.length;r<s;r++)u.tweens[r].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},n),originalProperties:e,originalOptions:n,startTime:Ee||L(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ft.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(j(c,u.opts.specialEasing);r<s;r++)if(i=V.prefilters[r].call(u,t,c,u.opts))return ft.isFunction(i.stop)&&(ft._queueHooks(u.elem,u.opts.queue).stop=ft.proxy(i.stop,i)),i;return ft.map(c,B,u),ft.isFunction(u.opts.start)&&u.opts.start.call(t,u),ft.fx.timer(ft.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function U(t){return ft.attr(t,"class")||""}function q(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(At)||[];if(ft.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function W(t,e,n,i){function o(a){var l;return r[a]=!0,ft.each(t[a]||[],(function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)})),l}var r={},s=t===tn;return o(e.dataTypes[0])||!r["*"]&&o("*")}function Y(t,e){var n,i,o=ft.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function K(t,e,n){for(var i,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in n)r=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}i||(i=s)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}function G(t,e,n,i){var o,r,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function X(t){return t.style&&t.style.display||ft.css(t,"display")}function Q(t){if(!ft.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===X(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function J(t,e,n,i){var o;if(ft.isArray(e))ft.each(e,(function(e,o){n||sn.test(t)?i(t,o):J(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)}));else if(n||"object"!==ft.type(e))i(t,e);else for(o in e)J(t+"["+o+"]",e[o],n,i)}function Z(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=t.document,ot=nt.slice,rt=nt.concat,st=nt.push,at=nt.indexOf,lt={},ut=lt.toString,ct=lt.hasOwnProperty,dt={},ht="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(){var t,e,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(o=arguments[a]))for(i in o)t=s[i],s!==(n=o[i])&&(u&&n&&(ft.isPlainObject(n)||(e=ft.isArray(n)))?(e?(e=!1,r=t&&ft.isArray(t)?t:[]):r=t&&ft.isPlainObject(t)?t:{},s[i]=ft.extend(u,r,n)):void 0!==n&&(s[i]=n));return s},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!dt.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return void 0===e||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ut.call(t)]||"object":typeof t},globalEval:function(e){e&&ft.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,o=0;if(n(t))for(i=t.length;o<i&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ft.merge(i,"string"==typeof t?[t]:t):st.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(at)return at.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!=n)for(;void 0!==e[i];)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,s=!n;o<r;o++)!e(t[o],o)!==s&&i.push(t[o]);return i},map:function(t,e,i){var o,r,s=0,a=[];if(n(t))for(o=t.length;s<o;s++)null!=(r=e(t[s],s,i))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,i))&&a.push(r);return rt.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;if("string"==typeof e&&(o=t[e],e=t,t=o),ft.isFunction(t))return n=ot.call(arguments,2),i=function(){return t.apply(e||this,n.concat(ot.call(arguments)))},i.guid=t.guid=t.guid||ft.guid++,i},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){lt["[object "+e+"]"]=e.toLowerCase()}));var bt=function(t){function e(t,e,n,i){var o,r,s,a,l,u,d,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:B)!==P&&z(e),e=e||P,I)){if(11!==g&&(u=vt.exec(t)))if(o=u[1]){if(9===g){if(!(s=e.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(p&&(s=p.getElementById(o))&&L(e,s)&&s.id===o)return n.push(s),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((o=u[3])&&_.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(o)),n}if(_.qsa&&!q[t+" "]&&(!R||!R.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(yt,"\\$&"):e.setAttribute("id",a=F),r=(d=T(t)).length,l=ht.test(a)?"#"+a:"[id='"+a+"']";r--;)d[r]=l+" "+h(d[r]);f=d.join(","),p=bt.test(t)&&c(e.parentNode)||e}if(f)try{return J.apply(n,p.querySelectorAll(f)),n}catch(t){}finally{a===F&&e.removeAttribute("id")}}}return E(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function o(t){var e=P.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i((function(e){return e=+e,i((function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))}))}))}function c(t){return t&&void 0!==t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=j++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,s){var a,l,u,c=[$,r];if(s){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if((a=(l=(u=e[F]||(e[F]={}))[e.uniqueID]||(u[e.uniqueID]={}))[i])&&a[0]===$&&a[1]===r)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var o=0,r=n.length;o<r;o++)e(t,n[o],i);return i}function m(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(r=t[a])&&(n&&!n(r,i,o)||(s.push(r),u&&e.push(a)));return s}function v(t,e,n,o,r,s){return o&&!o[F]&&(o=v(o)),r&&!r[F]&&(r=v(r,s)),i((function(i,s,a,l){var u,c,d,h=[],f=[],p=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),b=!t||!i&&e?v:m(v,h,t,a,l),y=n?r||(i?t:p||o)?[]:s:b;if(n&&n(b,y,a,l),o)for(u=m(y,f),o(u,[],a,l),c=u.length;c--;)(d=u[c])&&(y[f[c]]=!(b[f[c]]=d));if(i){if(r||t){if(r){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(b[c]=d);r(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=r?tt(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else y=m(y===s?y.splice(p,y.length):y),r?r(null,s,y,l):J.apply(s,y)}))}function b(t){for(var e,n,i,o=t.length,r=x.relative[t[0].type],s=r||x.relative[" "],a=r?1:0,l=f((function(t){return t===e}),s,!0),u=f((function(t){return tt(e,t)>-1}),s,!0),c=[function(t,n,i){var o=!r&&(i||n!==N)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,o}];a<o;a++)if(n=x.relative[t[a].type])c=[f(p(c),n)];else{if((n=x.filter[t[a].type].apply(null,t[a].matches))[F]){for(i=++a;i<o&&!x.relative[t[i].type];i++);return v(a>1&&p(c),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&b(t.slice(a,i)),i<o&&b(t=t.slice(i)),i<o&&h(t))}c.push(n)}return p(c)}function y(t,n){var o=n.length>0,r=t.length>0,s=function(i,s,a,l,u){var c,d,h,f=0,p="0",g=i&&[],v=[],b=N,y=i||r&&x.find.TAG("*",u),w=$+=null==b?1:Math.random()||.1,_=y.length;for(u&&(N=s===P||s||u);p!==_&&null!=(c=y[p]);p++){if(r&&c){for(d=0,s||c.ownerDocument===P||(z(c),a=!I);h=t[d++];)if(h(c,s||P,a)){l.push(c);break}u&&($=w)}o&&((c=!h&&c)&&f--,i&&g.push(c))}if(f+=p,o&&p!==f){for(d=0;h=n[d++];)h(g,v,s,a);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(l));v=m(v)}J.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&($=w,N=b),g};return o?i(s):s}var w,_,x,C,k,T,S,E,N,D,A,z,P,M,I,R,O,H,L,F="sizzle"+1*new Date,B=t.document,$=0,j=0,V=n(),U=n(),q=n(),W=function(t,e){return t===e&&(A=!0),0},Y=1<<31,K={}.hasOwnProperty,G=[],X=G.pop,Q=G.push,J=G.push,Z=G.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(rt),ht=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,yt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){z()};try{J.apply(G=Z.call(B.childNodes),B.childNodes),G[B.childNodes.length].nodeType}catch(t){J={apply:G.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(w in _=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},z=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:B;return i!==P&&9===i.nodeType&&i.documentElement?(M=(P=i).documentElement,I=!k(P),(n=P.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),_.attributes=o((function(t){return t.className="i",!t.getAttribute("className")})),_.getElementsByTagName=o((function(t){return t.appendChild(P.createComment("")),!t.getElementsByTagName("*").length})),_.getElementsByClassName=mt.test(P.getElementsByClassName),_.getById=o((function(t){return M.appendChild(t).id=F,!P.getElementsByName||!P.getElementsByName(F).length})),_.getById?(x.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=_.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=_.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&I)return e.getElementsByClassName(t)},O=[],R=[],(_.qsa=mt.test(P.querySelectorAll))&&(o((function(t){M.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||R.push(".#.+[+~]")})),o((function(t){var e=P.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")}))),(_.matchesSelector=mt.test(H=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o((function(t){_.disconnectedMatch=H.call(t,"div"),H.call(t,"[s!='']:x"),O.push("!=",rt)})),R=R.length&&new RegExp(R.join("|")),O=O.length&&new RegExp(O.join("|")),e=mt.test(M.compareDocumentPosition),L=e||mt.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===P||t.ownerDocument===B&&L(B,t)?-1:e===P||e.ownerDocument===B&&L(B,e)?1:D?tt(D,t)-tt(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],l=[e];if(!o||!r)return t===P?-1:e===P?1:o?-1:r?1:D?tt(D,t)-tt(D,e):0;if(o===r)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===B?-1:l[i]===B?1:0},P):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&z(t),n=n.replace(ct,"='$1']"),_.matchesSelector&&I&&!q[n+" "]&&(!O||!O.test(n))&&(!R||!R.test(n)))try{var i=H.call(t,n);if(i||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&z(t),L(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&z(t);var n=x.attrHandle[e.toLowerCase()],i=n&&K.call(x.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:_.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(A=!_.detectDuplicates,D=!_.sortStable&&t.slice(0),t.sort(W),A){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return D=null,t},C=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(r){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(y=(f=(u=(c=(d=(h=m)[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===$&&u[1])&&u[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(y=f=0)||p.pop();)if(1===h.nodeType&&++y&&h===e){c[t]=[$,f,y];break}}else if(b&&(y=f=(u=(c=(d=(h=e)[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===$&&u[1]),!1===y)for(;(h=++f&&h&&h[g]||(y=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&((c=(d=h[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[$,y]),h!==e)););return(y-=o)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,n){var o,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[F]?r(n):r.length>1?(o=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i((function(t,e){
for(var i,o=r(t,n),s=o.length;s--;)t[i=tt(t,o[s])]=!(e[i]=o[s])})):function(t){return r(t,0,o)}):r}},pseudos:{not:i((function(t){var e=[],n=[],o=S(t.replace(at,"$1"));return o[F]?i((function(t,e,n,i){for(var r,s=o(t,null,i,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))})):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}})),has:i((function(t){return function(n){return e(t,n).length>0}})),contains:i((function(t){return t=t.replace(wt,_t),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}})),lang:i((function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,_t).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u((function(){return[0]})),last:u((function(t,e){return[e-1]})),eq:u((function(t,e,n){return[n<0?n+e:n]})),even:u((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:u((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:u((function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t})),gt:u((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},x.pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,T=e.tokenize=function(t,n){var i,o,r,s,a,l,u,c=U[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=x.preFilter;a;){for(s in i&&!(o=lt.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ut.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(at," ")}),a=a.slice(i.length)),x.filter)!(o=ft[s].exec(a))||u[s]&&!(o=u[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):U(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],o=[],r=q[t+" "];if(!r){for(e||(e=T(t)),n=e.length;n--;)(r=b(e[n]))[F]?i.push(r):o.push(r);(r=q(t,y(o,i))).selector=t}return r},E=e.select=function(t,e,n,i){var o,r,s,a,l,u="function"==typeof t&&t,d=!i&&T(t=u.selector||t);if(n=n||[],1===d.length){if((r=d[0]=d[0].slice(0)).length>2&&"ID"===(s=r[0]).type&&_.getById&&9===e.nodeType&&I&&x.relative[r[1].type]){if(!(e=(x.find.ID(s.matches[0].replace(wt,_t),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(wt,_t),bt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&h(r)))return J.apply(n,i),n;break}}return(u||S(t,d))(i,e,!I,n,!e||bt.test(t)&&c(e.parentNode)||e),n},_.sortStable=F.split("").sort(W).join("")===F,_.detectDuplicates=!!A,z(),_.sortDetached=o((function(t){return 1&t.compareDocumentPosition(P.createElement("div"))})),o((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||r("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),_.attributes&&o((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||r("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),o((function(t){return null==t.getAttribute("disabled")}))||r(et,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),e}(t);ft.find=bt,ft.expr=bt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=bt.uniqueSort,ft.text=bt.getText,ft.isXMLDoc=bt.isXML,ft.contains=bt.contains;var yt=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ft(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},_t=ft.expr.match.needsContext,xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ct=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,(function(t){return 1===t.nodeType})))},ft.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ft(t).filter((function(){for(e=0;e<o;e++)if(ft.contains(i[e],this))return!0})));for(e=0;e<o;e++)ft.find(t,i[e],n);return(n=this.pushStack(o>1?ft.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&_t.test(t)?ft(t):t||[],!1).length}});var kt,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||kt,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Tt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),xt.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=it.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return kt.find(t);this.length=1,this[0]=o}return this.context=it,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?void 0!==n.ready?n.ready(t):t(ft):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this))}).prototype=ft.fn,kt=ft(it);var St=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),i=n.length;return this.filter((function(){for(e=0;e<i;e++)if(ft.contains(this,n[e]))return!0}))},closest:function(t,e){for(var n,i=0,o=this.length,r=[],s=_t.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ft.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?ft.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,n){return yt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,n){return yt(t,"nextSibling",n)},prevUntil:function(t,e,n){return yt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},(function(t,e){ft.fn[t]=function(n,i){var o=ft.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ft.filter(i,o)),this.length>1&&(Et[t]||(o=ft.uniqueSort(o)),St.test(t)&&(o=o.reverse())),this.pushStack(o)}}));var Nt,Dt,At=/\S+/g;for(Dt in ft.Callbacks=function(t){t="string"==typeof t?r(t):ft.extend({},t);var e,n,i,o,s=[],a=[],l=-1,u=function(){for(o=t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function e(n){ft.each(n,(function(n,i){ft.isFunction(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==ft.type(i)&&e(i)}))}(arguments),n&&!e&&u()),this},remove:function(){return ft.each(arguments,(function(t,e){for(var n;(n=ft.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--})),this},has:function(t){return t?ft.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=!0,n||c.disable(),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ft.extend({Deferred:function(t){var e=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ft.Deferred((function(n){ft.each(e,(function(e,r){var s=ft.isFunction(t[e])&&t[e];o[r[1]]((function(){var t=s&&s.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===i?n.promise():this,s?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?ft.extend(t,i):i}},o={};return i.pipe=i.then,ft.each(e,(function(t,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add((function(){n=a}),e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=ot.call(arguments),s=r.length,a=1!==s||t&&ft.isFunction(t.promise)?s:0,l=1===a?t:ft.Deferred(),u=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?ot.call(arguments):o,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)r[o]&&ft.isFunction(r[o].promise)?r[o].promise().progress(u(o,n,e)).done(u(o,i,r)).fail(l.reject):--a;return a||l.resolveWith(i,r),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0,!0!==t&&--ft.readyWait>0||(Nt.resolveWith(it,[ft]),ft.fn.triggerHandler&&(ft(it).triggerHandler("ready"),ft(it).off("ready"))))}}),ft.ready.promise=function(e){if(!Nt)if(Nt=ft.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)t.setTimeout(ft.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{it.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&it.documentElement}catch(t){}n&&n.doScroll&&function e(){if(!ft.isReady){try{n.doScroll("left")}catch(n){return t.setTimeout(e,50)}s(),ft.ready()}}()}return Nt.promise(e)},ft.ready.promise(),ft(dt))break;dt.ownFirst="0"===Dt,dt.inlineBlockNeedsLayout=!1,ft((function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))})),function(){var t=it.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(t){dt.deleteExpando=!1}t=null}();var zt,Pt=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=ft.data(r),1===r.nodeType&&!ft._data(r,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&l(r,i=ft.camelCase(i.slice(5)),o[i]);ft._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each((function(){ft.data(this,t)})):arguments.length>1?this.each((function(){ft.data(this,t,e)})):r?l(r,t,ft.data(r,t)):void 0},removeData:function(t){return this.each((function(){ft.removeData(this,t)}))}}),ft.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ft._data(t,e),n&&(!i||ft.isArray(n)?i=ft._data(t,e,ft.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,o=n.shift(),r=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add((function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)}))})}}),ft.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ft.queue(this[0],t):void 0===e?this:this.each((function(){var n=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ft.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){ft.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ft.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=ft._data(r[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}}),dt.shrinkWrapBlocks=function(){return null!=zt?zt:(zt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",zt=3!==t.offsetWidth),e.removeChild(n),zt):void 0);var t,e,n};var Rt,Ot,Ht,Lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ft=new RegExp("^(?:([+-])=|)("+Lt+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},jt=function(t,e,n,i,o,r,s){var a=0,l=t.length,u=null==n;if("object"===ft.type(n))for(a in o=!0,n)jt(t,e,a,n[a],!0,r,s);else if(void 0!==i&&(o=!0,ft.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ft(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:u?e.call(t):l?e(t[0],n):r},Vt=/^(?:checkbox|radio)$/i,Ut=/<([\w:-]+)/,qt=/^$|\/(?:java|ecma)script/i,Wt=/^\s+/,Yt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Rt=it.createElement("div"),Ot=it.createDocumentFragment(),Ht=it.createElement("input"),Rt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===Rt.firstChild.nodeType,dt.tbody=!Rt.getElementsByTagName("tbody").length,dt.htmlSerialize=!!Rt.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Ht.type="checkbox",Ht.checked=!0,Ot.appendChild(Ht),dt.appendChecked=Ht.checked,Rt.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!Rt.cloneNode(!0).lastChild.defaultValue,Ot.appendChild(Rt),(Ht=it.createElement("input")).setAttribute("type","radio"),Ht.setAttribute("checked","checked"),Ht.setAttribute("name","t"),Rt.appendChild(Ht),dt.checkClone=Rt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!Rt.addEventListener,Rt[ft.expando]=1,dt.attributes=!Rt.getAttribute(ft.expando);var Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td;var Gt=/<|&#?\w+;/,Xt=/<tbody/i;!function(){var e,n,i=it.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(dt[e]=n in t)||(i.setAttribute(n,"t"),dt[e]=!1===i.attributes[n].expando);i=null}();var Qt=/^(?:input|select|textarea)$/i,Jt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,u,c,d,h,f,p,g,m=ft._data(t);if(m){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=ft.guid++),(s=m.events)||(s=m.events={}),(c=m.handle)||(c=m.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?void 0:ft.event.dispatch.apply(c.elem,arguments)},c.elem=t),a=(e=(e||"").match(At)||[""]).length;a--;)f=g=(r=ee.exec(e[a])||[])[1],p=(r[2]||"").split(".").sort(),f&&(u=ft.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ft.event.special[f]||{},d=ft.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ft.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=s[f])||((h=s[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,s,a,l,u,c,d,h,f,p,g,m=ft.hasData(t)&&ft._data(t);if(m&&(c=m.events)){for(u=(e=(e||"").match(At)||[""]).length;u--;)if(f=g=(a=ee.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=ft.event.special[f]||{},h=c[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)s=h[r],!o&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(r,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||ft.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)ft.event.remove(t,f+e[u],n,i,!0);ft.isEmptyObject(c)&&(delete m.handle,ft._removeData(t,"events"))}},trigger:function(e,n,i,o){var r,s,a,l,u,c,d,h=[i||it],f=ct.call(e,"type")?e.type:e,p=ct.call(e,"namespace")?e.namespace.split("."):[];if(a=c=i=i||it,3!==i.nodeType&&8!==i.nodeType&&!te.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[ft.expando]?e:new ft.Event(f,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ft.makeArray(n,[e]),u=ft.event.special[f]||{},o||!u.trigger||!1!==u.trigger.apply(i,n))){if(!o&&!u.noBubble&&!ft.isWindow(i)){for(l=u.delegateType||f,te.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),c=a;c===(i.ownerDocument||it)&&h.push(c.defaultView||c.parentWindow||t)}for(d=0;(a=h[d++])&&!e.isPropagationStopped();)e.type=d>1?l:u.bindType||f,(r=(ft._data(a,"events")||{})[e.type]&&ft._data(a,"handle"))&&r.apply(a,n),(r=s&&a[s])&&r.apply&&Pt(a)&&(e.result=r.apply(a,n),!1===e.result&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(h.pop(),n))&&Pt(i)&&s&&i[f]&&!ft.isWindow(i)){(c=i[s])&&(i[s]=null),ft.event.triggered=f;try{i[f]()}catch(t){}ft.event.triggered=void 0,c&&(i[s]=c)}return e.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,i,o,r,s=[],a=ot.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],u=ft.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(s=ft.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,void 0!==(i=((ft.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<a;n++)void 0===i[o=(r=e[n]).selector+" "]&&(i[o]=r.needsContext?ft(o,this).index(l)>-1:ft.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ft.expando])return t;var e,n,i,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Zt.test(o)?this.mouseHooks:Jt.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ft.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=r.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&(void 0===t[i]&&(t[i]=null),t.detachEvent(i,n))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?b:y):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||ft.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}})),dt.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",(function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):void 0;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",(function(t){t._submitBubble=!0})),ft._data(n,"submit",!0))}))},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),dt.change||(ft.event.special.change={setup:function(){if(Qt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",(function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)})),ft.event.add(this,"click._change",(function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)}))),!1;ft.event.add(this,"beforeactivate._change",(function(t){var e=t.target;Qt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",(function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)})),ft._data(e,"change",!0))}))},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Qt.test(this.nodeName)}}),dt.focusin||ft.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=ft._data(i,e);o||i.addEventListener(t,n,!0),ft._data(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ft._data(i,e)-1;o?ft._data(i,e,o):(i.removeEventListener(t,n,!0),ft._removeData(i,e))}}})),ft.fn.extend({on:function(t,e,n,i){return _(this,t,e,n,i)},one:function(t,e,n,i){return _(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=y),this.each((function(){ft.event.remove(this,t,n,e)}))},trigger:function(t,e){return this.each((function(){ft.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Yt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,re=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue=f(it).appendChild(it.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,o,r,s,a,l=ft.contains(t.ownerDocument,t);if(dt.html5Clone||ft.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(ue.innerHTML=t.outerHTML,ue.removeChild(r=ue.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(i=p(r),a=p(t),s=0;null!=(o=a[s]);++s)i[s]&&S(o,i[s]);if(e)if(n)for(a=a||p(t),i=i||p(r),s=0;null!=(o=a[s]);s++)T(o,i[s]);else T(t,r);return(i=p(r,"script")).length>0&&g(i,!l&&p(t,"script")),i=a=o=null,r},cleanData:function(t,e){for(var n,i,o,r,s=0,a=ft.expando,l=ft.cache,u=dt.attributes,c=ft.event.special;null!=(n=t[s]);s++)if((e||Pt(n))&&(r=(o=n[a])&&l[o])){if(r.events)for(i in r.events)c[i]?ft.event.remove(n,i):ft.removeEvent(n,i,r.handle);l[o]&&(delete l[o],u||void 0===n.removeAttribute?n[a]=void 0:n.removeAttribute(a),nt.push(o))}}}),ft.fn.extend({domManip:E,detach:function(t){return N(this,t,!0)},remove:function(t){return N(this,t)},text:function(t){return jt(this,(function(t){return void 0===t?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))}),null,t,arguments.length)},append:function(){return E(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,t).appendChild(t)}))},prepend:function(){return E(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return E(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return E(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return ft.clone(this,t,e)}))},html:function(t){return jt(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(ne,""):void 0;if("string"==typeof t&&!re.test(t)&&(dt.htmlSerialize||!ie.test(t))&&(dt.leadingWhitespace||!Wt.test(t))&&!Kt[(Ut.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ft.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,(function(e){var n=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(p(this)),n&&n.replaceChild(e,this))}),t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){ft.fn[t]=function(t){for(var n,i=0,o=[],r=ft(t),s=r.length-1;i<=s;i++)n=i===s?this:this.clone(!0),ft(r[i])[e](n),st.apply(o,n.get());return this.pushStack(o)}}));var ce,de={HTML:"block",BODY:"block"},he=/^margin/,fe=new RegExp("^("+Lt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=s[r];return o},ge=it.documentElement;!function(){function e(){var e,c,d=it.documentElement;d.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=a=!1,i=s=!0,t.getComputedStyle&&(c=t.getComputedStyle(u),n="1%"!==(c||{}).top,a="2px"===(c||{}).marginLeft,o="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",i="4px"===(c||{marginRight:"4px"}).marginRight,(e=u.appendChild(it.createElement("div"))).style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",(r=0===u.getClientRects().length)&&(u.style.display="",
u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",(e=u.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),d.removeChild(l)}var n,i,o,r,s,a,l=it.createElement("div"),u=it.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===u.style.opacity,dt.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===u.style.backgroundClip,(l=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),dt.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,ft.extend(dt,{reliableHiddenOffsets:function(){return null==n&&e(),r},boxSizingReliable:function(){return null==n&&e(),o},pixelMarginRight:function(){return null==n&&e(),i},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),a}}))}();var me,ve,be=/^(top|right|bottom|left)$/;t.getComputedStyle?(me=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},ve=function(t,e,n){var i,o,r,s,a=t.style;return""!==(s=(n=n||me(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==s||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),n&&!dt.pixelMarginRight()&&fe.test(s)&&he.test(e)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r),void 0===s?s:s+""}):ge.currentStyle&&(me=function(t){return t.currentStyle},ve=function(t,e,n){var i,o,r,s,a=t.style;return null==(s=(n=n||me(t))?n[e]:void 0)&&a&&a[e]&&(s=a[e]),fe.test(s)&&!be.test(e)&&(i=a.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,r&&(o.left=r)),void 0===s?s:s+""||"auto"});var ye=/alpha\([^)]*\)/i,we=/opacity\s*=\s*([^)]*)/i,_e=/^(none|table(?!-c[ea]).+)/,xe=new RegExp("^("+Lt+")(.*)$","i"),Ce={position:"absolute",visibility:"hidden",display:"block"},ke={letterSpacing:"0",fontWeight:"400"},Te=["Webkit","O","Moz","ms"],Se=it.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=ft.camelCase(e),l=t.style;if(e=ft.cssProps[a]||(ft.cssProps[a]=P(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:l[e];if(!("string"===(r=typeof n)&&(o=Ft.exec(n))&&o[1]&&(n=h(t,e,o),r="number"),null==n||n!=n||("number"===r&&(n+=o&&o[3]||(ft.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var o,r,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=P(a)||a),(s=ft.cssHooks[e]||ft.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=ve(t,e,i)),"normal"===r&&e in ke&&(r=ke[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),ft.each(["height","width"],(function(t,e){ft.cssHooks[e]={get:function(t,n,i){if(n)return _e.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,Ce,(function(){return O(t,e,i)})):O(t,e,i)},set:function(t,n,i){var o=i&&me(t);return I(t,n,i?R(t,e,i,dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,o),o):0)}}})),dt.opacity||(ft.cssHooks.opacity={get:function(t,e){return we.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ft.trim(r.replace(ye,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ye.test(r)?r.replace(ye,o):r+" "+o)}}),ft.cssHooks.marginRight=z(dt.reliableMarginRight,(function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])})),ft.cssHooks.marginLeft=z(dt.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})):0))+"px"})),ft.each({margin:"",padding:"",border:"Width"},(function(t,e){ft.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+Bt[i]+e]=r[i]||r[i-2]||r[0];return o}},he.test(t)||(ft.cssHooks[t+e].set=I)})),ft.fn.extend({css:function(t,e){return jt(this,(function(t,e,n){var i,o,r={},s=0;if(ft.isArray(e)){for(i=me(t),o=e.length;s<o;s++)r[e[s]]=ft.css(t,e[s],!1,i);return r}return void 0!==n?ft.style(t,e,n):ft.css(t,e)}),t,e,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){$t(this)?ft(this).show():ft(this).hide()}))}}),ft.Tween=H,H.prototype={constructor:H,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ft.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=H.prototype.init,ft.fx.step={};var Ee,Ne,De=/^(?:toggle|show|hide)$/,Ae=/queueHooks$/;ft.Animation=ft.extend(V,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,Ft.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(At);for(var n,i=0,o=t.length;i<o;i++)n=t[i],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(e)},prefilters:[$],prefilter:function(t,e){e?V.prefilters.unshift(t):V.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return i.duration=ft.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=ft.isEmptyObject(t),r=ft.speed(e,n,i),s=function(){var e=V(this,ft.extend({},t),r);(o||ft._data(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",r=ft.timers,s=ft._data(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&Ae.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||ft.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=ft._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=ft.timers,s=i?i.length:0;for(n.finish=!0,ft.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),ft.each(["toggle","show","hide"],(function(t,e){var n=ft.fn[e];ft.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(F(e,!0),t,i,o)}})),ft.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){ft.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(Ee=ft.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),Ee=void 0},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Ne||(Ne=t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.clearInterval(Ne),Ne=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,n){return e=ft.fx&&ft.fx.speeds[e]||e,n=n||"fx",this.queue(n,(function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}}))},function(){var t,e=it.createElement("input"),n=it.createElement("div"),i=it.createElement("select"),o=i.appendChild(it.createElement("option"));(n=it.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),(t=n.getElementsByTagName("a")[0]).style.cssText="top:1px",dt.getSetAttribute="t"!==n.className,dt.style=/top/.test(t.getAttribute("style")),dt.hrefNormalized="/a"===t.getAttribute("href"),dt.checkOn=!!e.value,dt.optSelected=o.selected,dt.enctype=!!it.createElement("form").enctype,i.disabled=!0,dt.optDisabled=!o.disabled,(e=it.createElement("input")).setAttribute("value",""),dt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),dt.radioValue="t"===e.value}();var ze=/\r/g,Pe=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=ft.isFunction(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,ft(this).val()):t)?o="":"number"==typeof o?o+="":ft.isArray(o)&&(o=ft.map(o,(function(t){return null==t?"":t+""}))),(e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=ft.valHooks[o.type]||ft.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(ze,""):null==n?"":n:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(Pe," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,s=r?null:[],a=r?o+1:i.length,l=o<0?a:r?o:0;l<a;l++)if(((n=i[l]).selected||l===o)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=ft.makeArray(e),s=o.length;s--;)if(i=o[s],ft.inArray(ft.valHooks.option.get(i),r)>-1)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],(function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},dt.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var Me,Ie,Re=ft.expr.attrHandle,Oe=/^(?:checked|selected)$/i,He=dt.getSetAttribute,Le=dt.input;ft.fn.extend({attr:function(t,e){return jt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){ft.removeAttr(this,t)}))}}),ft.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?ft.prop(t,e,n):(1===r&&ft.isXMLDoc(t)||(e=e.toLowerCase(),o=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Ie:Me)),void 0!==n?null===n?void ft.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=ft.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(At);if(r&&1===t.nodeType)for(;n=r[o++];)i=ft.propFix[n]||n,ft.expr.match.bool.test(n)?Le&&He||!Oe.test(n)?t[i]=!1:t[ft.camelCase("default-"+n)]=t[i]=!1:ft.attr(t,n,""),t.removeAttribute(He?n:i)}}),Ie={set:function(t,e,n){return!1===e?ft.removeAttr(t,n):Le&&He||!Oe.test(n)?t.setAttribute(!He&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=Re[e]||ft.find.attr;Le&&He||!Oe.test(e)?Re[e]=function(t,e,i){var o,r;return i||(r=Re[e],Re[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,Re[e]=r),o}:Re[e]=function(t,e,n){if(!n)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}})),Le&&He||(ft.attrHooks.value={set:function(t,e,n){if(!ft.nodeName(t,"input"))return Me&&Me.set(t,e,n);t.defaultValue=e}}),He||(Me={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},Re.id=Re.name=Re.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Me.set},ft.attrHooks.contenteditable={set:function(t,e,n){Me.set(t,""!==e&&e,n)}},ft.each(["width","height"],(function(t,e){ft.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}}))),dt.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Fe=/^(?:input|select|textarea|button|object)$/i,Be=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return jt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ft.propFix[t]||t,this.each((function(){try{this[t]=void 0,delete this[t]}catch(t){}}))}}),ft.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,o=ft.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):Fe.test(t.nodeName)||Be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),dt.hrefNormalized||ft.each(["href","src"],(function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),dt.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){ft.propFix[this.toLowerCase()]=this})),dt.enctype||(ft.propFix.enctype="encoding");var $e=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,n,i,o,r,s,a,l=0;if(ft.isFunction(t))return this.each((function(e){ft(this).addClass(t.call(this,e,U(this)))}));if("string"==typeof t&&t)for(e=t.match(At)||[];n=this[l++];)if(o=U(n),i=1===n.nodeType&&(" "+o+" ").replace($e," ")){for(s=0;r=e[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},removeClass:function(t){var e,n,i,o,r,s,a,l=0;if(ft.isFunction(t))return this.each((function(e){ft(this).removeClass(t.call(this,e,U(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(At)||[];n=this[l++];)if(o=U(n),i=1===n.nodeType&&(" "+o+" ").replace($e," ")){for(s=0;r=e[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each((function(n){ft(this).toggleClass(t.call(this,n,U(this),e),e)})):this.each((function(){var e,i,o,r;if("string"===n)for(i=0,o=ft(this),r=t.match(At)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=U(this))&&ft._data(this,"__className__",e),ft.attr(this,"class",e||!1===t?"":ft._data(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+U(n)+" ").replace($e," ").indexOf(e)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(t,e){ft.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var je=t.location,Ve=ft.now(),Ue=/\?/,qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,o=ft.trim(e+"");return o&&!ft.trim(o.replace(qe,(function(t,e,o,r){return n&&e&&(i=0),0===i?t:(n=o||e,i+=!r-!o,"")})))?Function("return "+o)():ft.error("Invalid JSON: "+e)},ft.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?n=(new t.DOMParser).parseFromString(e,"text/xml"):((n=new t.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),n};var We=/#.*$/,Ye=/([?&])_=[^&]*/,Ke=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ge=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Xe=/^(?:GET|HEAD)$/,Qe=/^\/\//,Je=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ze={},tn={},en="*/".concat("*"),nn=je.href,on=Je.exec(nn.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:nn,type:"GET",isLocal:Ge.test(on[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":en,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,ft.ajaxSettings),e):Y(ft.ajaxSettings,t)},ajaxPrefilter:q(Ze),ajaxTransport:q(tn),ajax:function(e,n){function i(e,n,i,o){var r,d,b,y,_,C=n;2!==w&&(w=2,l&&t.clearTimeout(l),c=void 0,a=o||"",x.readyState=e>0?4:0,r=e>=200&&e<300||304===e,i&&(y=K(h,x,i)),y=G(h,y,x,r),r?(h.ifModified&&((_=x.getResponseHeader("Last-Modified"))&&(ft.lastModified[s]=_),(_=x.getResponseHeader("etag"))&&(ft.etag[s]=_)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=y.state,d=y.data,r=!(b=y.error))):(b=C,!e&&C||(C="error",e<0&&(e=0))),x.status=e,x.statusText=(n||C)+"",r?g.resolveWith(f,[d,C,x]):g.rejectWith(f,[x,C,b]),x.statusCode(v),v=void 0,u&&p.trigger(r?"ajaxSuccess":"ajaxError",[x,h,r?d:b]),m.fireWith(f,[x,C]),u&&(p.trigger("ajaxComplete",[x,h]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var o,r,s,a,l,u,c,d,h=ft.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?ft(f):ft.event,g=ft.Deferred(),m=ft.Callbacks("once memory"),v=h.statusCode||{},b={},y={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!d)for(d={};e=Ke.exec(a);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=y[n]=y[n]||t,b[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||_;return c&&c.abort(e),i(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||nn)+"").replace(We,"").replace(Qe,on[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ft.trim(h.dataType||"*").toLowerCase().match(At)||[""],null==h.crossDomain&&(o=Je.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===on[1]&&o[2]===on[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(on[3]||("http:"===on[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ft.param(h.data,h.traditional)),W(Ze,h,n,x),2===w)return x;for(r in(u=ft.event&&h.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Xe.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Ue.test(s)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Ye.test(s)?s.replace(Ye,"$1_="+Ve++):s+(Ue.test(s)?"&":"?")+"_="+Ve++)),h.ifModified&&(ft.lastModified[s]&&x.setRequestHeader("If-Modified-Since",ft.lastModified[s]),ft.etag[s]&&x.setRequestHeader("If-None-Match",ft.etag[s])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+en+"; q=0.01":""):h.accepts["*"]),h.headers)x.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(f,x,h)||2===w))return x.abort();for(r in _="abort",{success:1,error:1,complete:1})x[r](h[r]);if(c=W(tn,h,n,x)){if(x.readyState=1,u&&p.trigger("ajaxSend",[x,h]),2===w)return x;h.async&&h.timeout>0&&(l=t.setTimeout((function(){x.abort("timeout")}),h.timeout));try{w=1,c.send(b,i)}catch(t){if(!(w<2))throw t;i(-1,t)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,void 0,e,"script")}}),ft.each(["get","post"],(function(t,e){ft[e]=function(t,n,i,o){return ft.isFunction(n)&&(o=o||i,i=n,n=void 0),ft.ajax(ft.extend({url:t,type:e,dataType:o,data:n,success:i},ft.isPlainObject(t)&&t))}})),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ft.fn.extend({wrapAll:function(t){if(ft.isFunction(t))return this.each((function(e){ft(this).wrapAll(t.call(this,e))}));if(this[0]){var e=ft(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t})).append(this)}return this},wrapInner:function(t){return ft.isFunction(t)?this.each((function(e){ft(this).wrapInner(t.call(this,e))})):this.each((function(){var e=ft(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=ft.isFunction(t);return this.each((function(n){ft(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(){return this.parent().each((function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)})).end()}}),ft.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Q(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var rn=/%20/g,sn=/\[\]$/,an=/\r?\n/g,ln=/^(?:submit|button|image|reset|file)$/i,un=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],o=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,(function(){o(this.name,this.value)}));else for(n in t)J(n,t[n],e,o);return i.join("&").replace(rn,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&un.test(this.nodeName)&&!ln.test(t)&&(this.checked||!Vt.test(t))})).map((function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,(function(t){return{name:e.name,value:t.replace(an,"\r\n")}})):{name:e.name,value:n.replace(an,"\r\n")}})).get()}}),ft.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():it.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var cn=0,dn={},hn=ft.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",(function(){for(var t in dn)dn[t](void 0,!0)})),dt.cors=!!hn&&"withCredentials"in hn,(hn=dt.ajax=!!hn)&&ft.ajaxTransport((function(e){var n;if(!e.crossDomain||dt.cors)return{send:function(i,o){var r,s=e.xhr(),a=++cn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];for(r in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)void 0!==i[r]&&s.setRequestHeader(r,i[r]+"");s.send(e.hasContent&&e.data||null),n=function(t,i){var r,l,u;if(n&&(i||4===s.readyState))if(delete dn[a],n=void 0,s.onreadystatechange=ft.noop,i)4!==s.readyState&&s.abort();else{u={},r=s.status,"string"==typeof s.responseText&&(u.text=s.responseText);try{l=s.statusText}catch(t){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=u.text?200:404}u&&o(r,l,u,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(n):s.onreadystatechange=dn[a]=n:n()},abort:function(){n&&n(void 0,!0)}}})),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)})),ft.ajaxTransport("script",(function(t){if(t.crossDomain){var e,n=it.head||ft("head")[0]||it.documentElement;return{send:function(i,o){(e=it.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}}));var fn=[],pn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=fn.pop()||ft.expando+"_"+Ve++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",(function(e,n,i){var o,r,s,a=!1!==e.jsonp&&(pn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&pn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(pn,"$1"+o):!1!==e.jsonp&&(e.url+=(Ue.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ft.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},i.always((function(){void 0===r?ft(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,fn.push(o)),s&&ft.isFunction(r)&&r(s[0]),s=r=void 0})),"script"})),ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=xt.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=v([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],i.childNodes))};var gn=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&gn)return gn.apply(this,arguments);var i,o,r,s=this,a=t.indexOf(" ");return a>-1&&(i=ft.trim(t.slice(a,t.length)),t=t.slice(0,a)),ft.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&ft.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){r=arguments,s.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,r||[t.responseText,e,t])}))}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){ft.fn[e]=function(t){return this.on(e,t)}})),ft.expr.filters.animated=function(t){return ft.grep(ft.timers,(function(e){return t===e.elem})).length},ft.offset={setOffset:function(t,e,n){var i,o,r,s,a,l,u=ft.css(t,"position"),c=ft(t),d={};"static"===u&&(t.style.position="relative"),a=c.offset(),r=ft.css(t,"top"),l=ft.css(t,"left"),("absolute"===u||"fixed"===u)&&ft.inArray("auto",[r,l])>-1?(s=(i=c.position()).top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):c.css(d)}},ft.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){ft.offset.setOffset(this,t,e)}));var e,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(e=r.documentElement,ft.contains(e,o)?(void 0!==o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=et(r),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||ge}))}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n=/Y/.test(e);ft.fn[t]=function(i){return jt(this,(function(t,i,o){var r=et(t);if(void 0===o)return r?e in r?r[e]:r.document.documentElement[i]:t[i];r?r.scrollTo(n?ft(r).scrollLeft():o,n?o:ft(r).scrollTop()):t[i]=o}),t,i,arguments.length,null)}})),ft.each(["top","left"],(function(t,e){ft.cssHooks[e]=z(dt.pixelPosition,(function(t,n){if(n)return n=ve(t,e),fe.test(n)?ft(t).position()[e]+"px":n}))})),ft.each({Height:"height",Width:"width"},(function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){ft.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return jt(this,(function(e,n,i){var o;return ft.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?ft.css(e,n,s):ft.style(e,n,i,s)}),e,r?i:void 0,r,null)}}))})),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return ft}));var mn=t.jQuery,vn=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=vn),e&&t.jQuery===ft&&(t.jQuery=mn),ft},e||(t.jQuery=t.$=ft),ft})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(n){return!!t.data(n,e)}})):function(e,n,i){
return!!t.data(e,i[3])}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var e})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}return t.ui.focusable=function(n,i){var o,r,s,a,l,u=n.nodeName.toLowerCase();return"area"===u?(r=(o=n.parentNode).name,!(!n.href||!r||"map"!==o.nodeName.toLowerCase())&&((s=t("img[usemap='#"+r+"']")).length>0&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(u)?(a=!n.disabled)&&(l=t(n).closest("fieldset")[0])&&(a=!l.disabled):a="a"===u&&n.href||i,a&&t(n).is(":visible")&&e(t(n)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)}})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")});var e})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version","./escape-selector"],t):t(jQuery)}((function(t){return t.fn.labels=function(){var e,n,i,o,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),(i=this.attr("id"))&&(r=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",o=o.add(r.find(n).addBack(n))),this.pushStack(o))}})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],(function(e,n){function i(e,n,i,r){return t.each(o,(function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)})),n}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each((function(){t(this).css(r,i(this,e)+"px")}))},t.fn["outer"+n]=function(e,o){return"number"!=typeof e?s["outer"+n].call(this,e):this.each((function(){t(this).css(r,i(this,e,!0,o)+"px")}))}})),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.ui.plugin={add:function(e,n,i){var o,r=t.ui[e].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(t,e,n,i){var o,r=t.plugins[e];if(r&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,n)}}})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter((function(){var e=t(this);return(!i||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==n&&r.length?r:t(this[0].ownerDocument||document)}})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],t):t(jQuery)}((function(t){return t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.fn.extend({uniqueId:(e=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}});var e})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){var e,n="ui-effects-",i="ui-effects-style",o="ui-effects-animated",r=t;return t.effects={effect:{}},function(t,e){function n(t,e,n){var i=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=u(),i=n._rgba=[];return e=e.toLowerCase(),p(l,(function(t,o){var r,s=o.re.exec(e),a=s&&o.parse(s),l=o.space||"rgba";if(a)return r=n[l](a),n[c[l].cache]=r[c[l].cache],i=n._rgba=r._rgba,!1})),i.length?("0,0,0,0"===i.join()&&t.extend(i,r.transparent),n):r[e]}function o(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var r,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,n,i,o){return new t.Color.fn.parse(e,n,i,o)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},f=t("<p>")[0],p=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(c,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),u.fn=t.extend(u.prototype,{parse:function(o,s,a,l){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(s),s=e);var d=this,h=t.type(o),f=this._rgba=[];return s!==e&&(o=[o,s,a,l],h="array"),"string"===h?this.parse(i(o)||r._default):"array"===h?(p(c.rgba.props,(function(t,e){f[e.idx]=n(o[e.idx],e)})),this):"object"===h?(p(c,o instanceof u?function(t,e){o[e.cache]&&(d[e.cache]=o[e.cache].slice())}:function(e,i){var r=i.cache;p(i.props,(function(t,e){if(!d[r]&&i.to){if("alpha"===t||null==o[t])return;d[r]=i.to(d._rgba)}d[r][e.idx]=n(o[t],e,!0)})),d[r]&&t.inArray(null,d[r].slice(0,3))<0&&(d[r][3]=1,i.from&&(d._rgba=i.from(d[r])))}),this):void 0},is:function(t){var e=u(t),n=!0,i=this;return p(c,(function(t,o){var r,s=e[o.cache];return s&&(r=i[o.cache]||o.to&&o.to(i._rgba)||[],p(o.props,(function(t,e){if(null!=s[e.idx])return n=s[e.idx]===r[e.idx]}))),n})),n},_space:function(){var t=[],e=this;return p(c,(function(n,i){e[i.cache]&&t.push(n)})),t.pop()},transition:function(t,e){var i=u(t),o=i._space(),r=c[o],s=0===this.alpha()?u("transparent"):this,a=s[r.cache]||r.to(s._rgba),l=a.slice();return i=i[r.cache],p(r.props,(function(t,o){var r=o.idx,s=a[r],u=i[r],c=d[o.type]||{};null!==u&&(null===s?l[r]=u:(c.mod&&(u-s>c.mod/2?s+=c.mod:s-u>c.mod/2&&(s-=c.mod)),l[r]=n((u-s)*e+s,o)))})),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=u(e)._rgba;return u(t.map(n,(function(t,e){return(1-i)*o[e]+i*t})))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t}));return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,o=t[1]/255,r=t[2]/255,s=t[3],a=Math.max(i,o,r),l=Math.min(i,o,r),u=a-l,c=a+l,d=.5*c;return e=l===a?0:i===a?60*(o-r)/u+360:o===a?60*(r-i)/u+120:60*(i-o)/u+240,n=0===u?0:d<=.5?u/c:u/(2-c),[Math.round(e)%360,n,d,null==s?1:s]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*o(a,s,e+1/3)),Math.round(255*o(a,s,e)),Math.round(255*o(a,s,e-1/3)),r]},p(c,(function(i,o){var r=o.props,s=o.cache,l=o.to,c=o.from;u.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===e)return this[s].slice();var o,a=t.type(i),d="array"===a||"object"===a?i:arguments,h=this[s].slice();return p(r,(function(t,e){var i=d["object"===a?t:e.idx];null==i&&(i=h[e.idx]),h[e.idx]=n(i,e)})),c?((o=u(c(h)))[s]=h,o):u(h)},p(r,(function(e,n){u.fn[e]||(u.fn[e]=function(o){var r,s=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===s?c:("function"===s&&(o=o.call(this,c),s=t.type(o)),null==o&&n.empty?this:("string"===s&&(r=a.exec(o))&&(o=c+parseFloat(r[2])*("+"===r[1]?1:-1)),u[n.idx]=o,this[l](u)))})}))})),u.hook=function(e){var n=e.split(" ");p(n,(function(e,n){t.cssHooks[n]={set:function(e,o){var r,s,a="";if("transparent"!==o&&("string"!==t.type(o)||(r=i(o)))){if(o=u(r||o),!h.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{e.style[n]=o}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}))},u.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],(function(n,i){e["border"+i+"Color"]=t})),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(r),function(){function e(e){var n,i,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)"string"==typeof o[n=o[i]]&&(r[t.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(r[n]=o[n]);return r}function n(e,n){var i,o,r={};for(i in n)o=n[i],e[i]!==o&&(s[i]||!t.fx.step[i]&&isNaN(parseFloat(o))||(r[i]=o));return r}var i,o=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(r.style(t.elem,n,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(i,r,s,a){var l=t.speed(r,s,a);return this.queue((function(){var r,s=t(this),a=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map((function(){return{el:t(this),start:e(this)}})),(r=function(){t.each(o,(function(t,e){i[e]&&s[e+"Class"](i[e])}))})(),u=u.map((function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this})),s.attr("class",a),u=u.map((function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()})),t.when.apply(t,u.get()).done((function(){r(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),l.complete.call(s[0])}))}))},t.fn.extend({addClass:(i=t.fn.addClass,function(e,n,o,r){return n?t.effects.animateClass.call(this,{add:e},n,o,r):i.apply(this,arguments)}),removeClass:function(e){return function(n,i,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,o,r,s){return"boolean"==typeof i||void 0===i?o?t.effects.animateClass.call(this,i?{add:n}:{remove:n},o,r,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,o,r)}}(t.fn.toggleClass),switchClass:function(e,n,i,o,r){return t.effects.animateClass.call(this,{add:n,remove:e},i,o,r)}})}(),function(){function e(e,n,i,o){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(o=i,i=n,n={}),t.isFunction(i)&&(o=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=o||n.complete,e}function r(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function s(t,e){var n=e.outerWidth(),i=e.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}var a;t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=(a=t.expr.filters.animated,function(e){return!!t(e).data(o)||a(e)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var i=0,o=e.length;i<o;i++)null!==e[i]&&t.data(n+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,o=0,r=e.length;o<r;o++)null!==e[o]&&(i=t.data(n+e[o]),t.css(e[o],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return e.wrap(i),(e[0]===r||t.contains(e[0],r))&&t(r).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,o="vertical"!==n?(e||100)/100:1;return{height:t.height()*o,width:t.width()*i,outerHeight:t.outerHeight()*o,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(i,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(i)||"",t.removeData(i)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var i,o=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(o)&&(o="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(n+"placeholder",i)),e.css({position:o,left:r.left,top:r.top}),i},removePlaceholder:function(t){var e=n+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,o){return o=o||{},t.each(n,(function(t,n){var r=e.cssUnit(n);r[0]>0&&(o[n]=r[0]*i+r[1])})),o}}),t.fn.extend({effect:function(){function n(e){function n(){l.removeData(o),t.effects.cleanUp(l),"hide"===i.mode&&l.hide(),a()}function a(){t.isFunction(u)&&u.call(l[0]),t.isFunction(e)&&e()}var l=t(this);i.mode=d.shift(),!1===t.uiBackCompat||s?"none"===i.mode?(l[c](),a()):r.call(l[0],i,n):(l.is(":hidden")?"hide"===c:"show"===c)?(l[c](),a()):r.call(l[0],i,a)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],s=r.mode,a=i.queue,l=a||"fx",u=i.complete,c=i.mode,d=[],h=function(e){var n=t(this),i=t.effects.mode(n,c)||s;n.data(o,!0),d.push(i),s&&("show"===i||i===s&&"hide"===i)&&n.show(),s&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?c?this[c](i.duration,u):this.each((function(){u&&u.call(this)})):!1===a?this.each(h).each(n):this.queue(l,h).queue(l,n)},show:function(t){return function(n){if(r(n))return t.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(n){if(r(n))return t.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(n){if(r(n)||"boolean"==typeof n)return t.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],(function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])})),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,n){var i=t(this),o=t(e.to),r="fixed"===o.css("position"),s=t("body"),a=r?s.scrollTop():0,l=r?s.scrollLeft():0,u=o.offset(),c={top:u.top-a,left:u.left-l,height:o.innerHeight(),width:o.innerWidth()},d=i.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(c,e.duration,e.easing,(function(){h.remove(),t.isFunction(n)&&n()}))}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),e={},t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,n){e[n]=function(e){return Math.pow(e,t+2)}})),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,(function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}})),t.effects})),function(t){"function"==typeof define&&define.amd?define(["jquery","./form","./version"],t):t(jQuery)}((function(t){return t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout((function(){var n=e.data("ui-form-reset-instances");t.each(n,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return function(){function e(t,e,n){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var o,r=Math.max,s=Math.abs,a=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,h=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return t("body").append(i),e=r.offsetWidth,i.css("overflow","scroll"),e===(n=r.offsetWidth)&&(n=i[0].clientWidth),i.remove(),o=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:!i&&!o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return h.apply(this,arguments);o=t.extend({},o);var d,f,p,g,m,v,b=t(o.of),y=t.position.getWithinInfo(o.within),w=t.position.getScrollInfo(y),_=(o.collision||"flip").split(" "),x={};return v=i(b),b[0].preventDefault&&(o.at="left top"),f=v.width,p=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],(function(){var t,e,n=(o[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",t=u.exec(n[0]),e=u.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],o[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]})),1===_.length&&(_[1]=_[0]),"right"===o.at[0]?m.left+=f:"center"===o.at[0]&&(m.left+=f/2),"bottom"===o.at[1]?m.top+=p:"center"===o.at[1]&&(m.top+=p/2),d=e(x.at,f,p),m.left+=d[0],m.top+=d[1],this.each((function(){var i,a,l=t(this),u=l.outerWidth(),c=l.outerHeight(),h=n(this,"marginLeft"),v=n(this,"marginTop"),C=u+h+n(this,"marginRight")+w.width,k=c+v+n(this,"marginBottom")+w.height,T=t.extend({},m),S=e(x.my,l.outerWidth(),l.outerHeight());"right"===o.my[0]?T.left-=u:"center"===o.my[0]&&(T.left-=u/2),"bottom"===o.my[1]?T.top-=c:"center"===o.my[1]&&(T.top-=c/2),T.left+=S[0],T.top+=S[1],i={marginLeft:h,marginTop:v},t.each(["left","top"],(function(e,n){t.ui.position[_[e]]&&t.ui.position[_[e]][n](T,{targetWidth:f,targetHeight:p,elemWidth:u,elemHeight:c,collisionPosition:i,collisionWidth:C,collisionHeight:k,offset:[d[0]+S[0],d[1]+S[1]],my:o.my,at:o.at,within:y,elem:l})})),o.using&&(a=function(t){var e=g.left-T.left,n=e+f-u,i=g.top-T.top,a=i+p-c,d={target:{element:b,left:g.left,top:g.top,width:f,height:p},element:{element:l,left:T.left,top:T.top,width:u,height:c},horizontal:n<0?"left":e>0?"right":"center",vertical:a<0?"top":i>0?"bottom":"middle"};f<u&&s(e+n)<f&&(d.horizontal="center"),p<c&&s(i+a)<p&&(d.vertical="middle"),r(s(e),s(n))>r(s(i),s(a))?d.important="horizontal":d.important="vertical",o.using.call(this,t,d)}),l.offset(t.extend(T,{using:a}))}))},t.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,u=a+e.collisionWidth-s-o;e.collisionWidth>s?l>0&&u<=0?(n=t.left+l+e.collisionWidth-s-o,t.left+=l-n):t.left=u>0&&l<=0?o:l>u?o+s-e.collisionWidth:o:l>0?t.left+=l:u>0?t.left-=u:t.left=r(t.left-a,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,u=a+e.collisionHeight-s-o;e.collisionHeight>s?l>0&&u<=0?(n=t.top+l+e.collisionHeight-s-o,t.top+=l-n):t.top=u>0&&l<=0?o:l>u?o+s-e.collisionHeight:o:l>0?t.top+=l:u>0?t.top-=u:t.top=r(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,r=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,d=u+e.collisionWidth-a-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((n=t.left+h+f+p+e.collisionWidth-a-r)<0||n<s(c))&&(t.left+=h+f+p):d>0&&((i=t.left-e.collisionPosition.marginLeft+h+f+p-l)>0||s(i)<d)&&(t.left+=h+f+p)},top:function(t,e){var n,i,o=e.within,r=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,d=u+e.collisionHeight-a-l,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];c<0?((i=t.top+h+f+p+e.collisionHeight-a-r)<0||i<s(c))&&(t.top+=h+f+p):d>0&&((n=t.top-e.collisionPosition.marginTop+h+f+p-l)>0||s(n)<d)&&(t.top+=h+f+p)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{(i=t._data(o,"events"))&&i.remove&&t(o).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var o,r,s,a={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,(function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}():a[e]=i})),r.prototype=t.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||e},a,{constructor:r,namespace:l,widgetName:e,widgetFullName:u}),o?(t.each(o._childConstructors,(function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,r,n._proto)})),delete o._childConstructors):n._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,o,r=i.call(arguments,1),s=0,a=r.length;s<a;s++)for(n in r[s])o=r[s][n],r[s].hasOwnProperty(n)&&void 0!==o&&(t.isPlainObject(o)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],o):t.widget.extend({},o):e[n]=o);return e},t.widget.bridge=function(e,n){var o=n.prototype.widgetFullName||e;t.fn[e]=function(r){var s="string"==typeof r,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==r?this.each((function(){var n,i=t.data(this,o);return"instance"===r?(l=i,!1):i?t.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,a))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")})):l=void 0:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each((function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new n(r,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(o=s[e]=t.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{
if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,o;for(n in e)o=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&o&&o.length&&(i=t(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,r){var s,a;for(a=0;a<n.length;a++)s=o.classesElementLookup[n[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),o.classesElementLookup[n[a]]=s,i.push(n[a]),r&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],o=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(i,o){-1!==t.inArray(e.target,o)&&(n.classesElementLookup[i]=t(o.not(e.target).get()))}))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof t||null===t,r={extra:o?e:n,keys:o?t:e,element:o?this.element:t,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,(function(i,s){function a(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?o.on(u,c,a):n.on(u,a)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var o,r,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){var s;"string"==typeof o&&(o={effect:o});var a=o?!0===o||"number"==typeof o?n:o.effect||n:e;"number"==typeof(o=o||{})&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),s&&t.effects&&t.effects.effect[a]?i[e](o):a!==e&&i[a]?i[a](o.duration,o.easing,r):i.queue((function(n){t(this)[e](),r&&r.call(i[0]),n()}))}})),t.widget})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("blind","hide",(function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},o=t(this),r=e.direction||"up",s=o.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(o);a.clip[i[r][0]]=a.clip[i[r][1]],"show"===e.mode&&(o.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=s),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),o.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("bounce",(function(e,n){var i,o,r,s=t(this),a=e.mode,l="hide"===a,u="show"===a,c=e.direction||"up",d=e.distance,h=e.times||5,f=2*h+(u||l?1:0),p=e.duration/f,g=e.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,b=0,y=s.queue().length;for(t.effects.createPlaceholder(s),r=s.css(m),d||(d=s["top"===m?"outerHeight":"outerWidth"]()/3),u&&((o={opacity:1})[m]=r,s.css("opacity",0).css(m,v?2*-d:2*d).animate(o,p,g)),l&&(d/=Math.pow(2,h-1)),(o={})[m]=r;b<h;b++)(i={})[m]=(v?"-=":"+=")+d,s.animate(i,p,g).animate(o,p,g),d=l?2*d:d/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+d,s.animate(i,p,g)),s.queue(n),t.effects.unshift(s,y,f+1)}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("clip","hide",(function(e,n){var i,o={},r=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,u=a||"vertical"===s;i=r.cssClip(),o.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(r),"show"===e.mode&&(r.cssClip(o.clip),o.clip=i),r.animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("drop","hide",(function(e,n){var i,o=t(this),r="show"===e.mode,s=e.direction||"left",a="up"===s||"down"===s?"top":"left",l="up"===s||"left"===s?"-=":"+=",u="+="===l?"-=":"+=",c={opacity:0};t.effects.createPlaceholder(o),i=e.distance||o["top"===a?"outerHeight":"outerWidth"](!0)/2,c[a]=l+i,r&&(o.css(c),c[a]=u+i,c.opacity=1),o.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("explode","hide",(function(e,n){function i(){b.push(this),b.length===d*h&&o()}function o(){f.css({visibility:"visible"}),t(b).remove(),n()}var r,s,a,l,u,c,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=d,f=t(this),p="show"===e.mode,g=f.show().css("visibility","hidden").offset(),m=Math.ceil(f.outerWidth()/h),v=Math.ceil(f.outerHeight()/d),b=[];for(r=0;r<d;r++)for(l=g.top+r*v,c=r-(d-1)/2,s=0;s<h;s++)a=g.left+s*m,u=s-(h-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*m,top:-r*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:v,left:a+(p?u*m:0),top:l+(p?c*v:0),opacity:p?0:1}).animate({left:a+(p?0:u*m),top:l+(p?0:c*v),opacity:p?1:0},e.duration||500,e.easing,i)}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("fade","toggle",(function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("fold","hide",(function(e,n){var i=t(this),o=e.mode,r="show"===o,s="hide"===o,a=e.size||15,l=/([0-9]+)%/.exec(a),u=!!e.horizFirst?["right","bottom"]:["bottom","right"],c=e.duration/2,d=t.effects.createPlaceholder(i),h=i.cssClip(),f={clip:t.extend({},h)},p={clip:t.extend({},h)},g=[h[u[0]],h[u[1]]],m=i.queue().length;l&&(a=parseInt(l[1],10)/100*g[s?0:1]),f.clip[u[0]]=a,p.clip[u[0]]=a,p.clip[u[1]]=0,r&&(i.cssClip(p.clip),d&&d.css(t.effects.clipToBox(p)),p.clip=h),i.queue((function(n){d&&d.animate(t.effects.clipToBox(f),c,e.easing).animate(t.effects.clipToBox(p),c,e.easing),n()})).animate(f,c,e.easing).animate(p,c,e.easing).queue(n),t.effects.unshift(i,m,4)}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("highlight","show",(function(e,n){var i=t(this),o={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(o.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("size",(function(e,n){var i,o,r,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,d="effect"!==c,h=e.scale||"both",f=e.origin||["middle","center"],p=s.css("position"),g=s.position(),m=t.effects.scaledDimensions(s),v=e.from||m,b=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===c&&(r=v,v=b,b=r),o={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},"box"!==h&&"both"!==h||(o.from.y!==o.to.y&&(v=t.effects.setTransition(s,l,o.from.y,v),b=t.effects.setTransition(s,l,o.to.y,b)),o.from.x!==o.to.x&&(v=t.effects.setTransition(s,u,o.from.x,v),b=t.effects.setTransition(s,u,o.to.x,b))),"content"!==h&&"both"!==h||o.from.y!==o.to.y&&(v=t.effects.setTransition(s,a,o.from.y,v),b=t.effects.setTransition(s,a,o.to.y,b)),f&&(i=t.effects.getBaseline(f,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,b.top=(m.outerHeight-b.outerHeight)*i.y+g.top,b.left=(m.outerWidth-b.outerWidth)*i.x+g.left),s.css(v),"content"!==h&&"both"!==h||(l=l.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),s.find("*[width]").each((function(){var n=t(this),i=t.effects.scaledDimensions(n),r={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},s={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x};o.from.y!==o.to.y&&(r=t.effects.setTransition(n,l,o.from.y,r),s=t.effects.setTransition(n,l,o.to.y,s)),o.from.x!==o.to.x&&(r=t.effects.setTransition(n,u,o.from.x,r),s=t.effects.setTransition(n,u,o.to.x,s)),d&&t.effects.saveStyle(n),n.css(r),n.animate(s,e.duration,e.easing,(function(){d&&t.effects.restoreStyle(n)}))}))),s.animate(b,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===b.opacity&&s.css("opacity",v.opacity),d||(s.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(s)),n()}})}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect","./effect-size"],t):t(jQuery)}((function(t){return t.effects.define("scale",(function(e,n){var i=t(this),o=e.mode,r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==o?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,r,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,n)}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect","./effect-scale"],t):t(jQuery)}((function(t){return t.effects.define("puff","hide",(function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("pulsate","show",(function(e,n){var i=t(this),o=e.mode,r="show"===o,s=r||"hide"===o,a=2*(e.times||5)+(s?1:0),l=e.duration/a,u=0,c=1,d=i.queue().length;for(!r&&i.is(":visible")||(i.css("opacity",0).show(),u=1);c<a;c++)i.animate({opacity:u},l,e.easing),u=1-u;i.animate({opacity:u},l,e.easing),i.queue(n),t.effects.unshift(i,d,a+1)}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("shake",(function(e,n){var i=1,o=t(this),r=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,u=Math.round(e.duration/l),c="up"===r||"down"===r?"top":"left",d="up"===r||"left"===r,h={},f={},p={},g=o.queue().length;for(t.effects.createPlaceholder(o),h[c]=(d?"-=":"+=")+s,f[c]=(d?"+=":"-=")+2*s,p[c]=(d?"-=":"+=")+2*s,o.animate(h,u,e.easing);i<a;i++)o.animate(f,u,e.easing).animate(p,u,e.easing);o.animate(f,u,e.easing).animate(h,u/2,e.easing).queue(n),t.effects.unshift(o,g,l+1)}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){return t.effects.define("slide","show",(function(e,n){var i,o,r=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0),h={};t.effects.createPlaceholder(r),i=r.cssClip(),o=r.position()[u],h[u]=(c?-1:1)*d+o,h.clip=r.cssClip(),h.clip[s[l][1]]=h.clip[s[l][0]],"show"===a&&(r.cssClip(h.clip),r.css(u,h[u]),h.clip=i,h[u]=o),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}))})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}((function(t){var e;return!1!==t.uiBackCompat&&(e=t.effects.define("transfer",(function(e,n){t(this).transfer(e,n)}))),e})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode","../unique-id","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,o=this.headers.index(e.target),r=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:r=this.headers[(o+1)%i];break;case n.LEFT:case n.UP:r=this.headers[(o-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:r=this.headers[0];break;case n.END:r=this.headers[i-1]}r&&(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),t(r).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,o=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),o=i.uniqueId().attr("id");e.attr("aria-controls",o),i.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=o.height(),this.element.siblings(":visible").each((function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))})),this.headers.each((function(){e-=t(this).outerHeight(!0)})),this.headers.next().each((function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each((function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()})).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),(function(t,e){n[e]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,o=this.options,r=this.active,s=t(e.currentTarget),a=s[0]===r[0],l=a&&o.collapsible,u=l?t():s.next(),c=r.next(),d={oldHeader:r,oldPanel:c,newHeader:l?t():s,newPanel:u};e.preventDefault(),a&&!o.collapsible||!1===this._trigger("beforeActivate",e,d)||(o.active=!l&&this.headers.index(s),this.active=a?t():s,this._toggle(d),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),o.icons&&(n=r.children(".ui-accordion-header-icon"),this._removeClass(n,null,o.icons.activeHeader)._addClass(n,null,o.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),o.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,o.icons.header)._addClass(i,null,o.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter((function(){return 0===parseInt(t(this).attr("tabIndex"),10)})).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,o,r,s=this,a=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},d=u&&c.down||c,h=function(){s._toggleComplete(n)};return"number"==typeof d&&(r=d),"string"==typeof d&&(o=d),o=o||d.easing||c.easing,r=r||d.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:o,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,r,o,h):t.animate(this.showProps,r,o,h)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay((function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each((function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()}))},_keydown:function(e){var n,i,o,r,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",r=!1,o=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),o===i?r=!0:o=i+o,n=this._filterMenuItems(o),(n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(o=String.fromCharCode(e.keyCode),n=this._filterMenuItems(o)),n.length?(this.focus(e,n),this.previousFilter=o,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,o,r=this,s=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);r._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))})),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var e=t(this);r._isDivider(e)&&r._addClass(e,"ui-menu-divider","ui-widget-content")})),o=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,o;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,o,r,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-n-i,r=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),o<0?this.activeMenu.scrollTop(r+o):o+a>s&&this.activeMenu.scrollTop(r+o-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(t)}),this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay((function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i}),this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay((function(){this.focus(t,e)})))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,o;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=t(this)).offset().top-i-o<0})),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,o;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=t(this)).offset().top-i+o>0})),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))}))}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./menu","../keycode","../position","../safe-active-element","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){
var e,n,i,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,s="input"===o;this.isMultiLine=r||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[r||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var r=t.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case r.UP:e=!0,this._keyEvent("previous",o);break;case r.DOWN:e=!0,this._keyEvent("next",o);break;case r.ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var o=t.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(e,n){var i,o;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){t(e.target).trigger(e.originalEvent)}));o=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:o})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(o.value),(i=n.item.attr("aria-label")||o.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=o,this._delay((function(){this.previous=o,this.selectedItem=i}))),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,o){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay((function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))}),this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy((function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,(function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})}))},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,(function(t,n){i._renderItemData(e,n)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,(function(t){return i.test(t.label||t.value||t)}))}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete})),function(t){"function"==typeof define&&define.amd?define(["jquery","../widget"],t):t(jQuery)}((function(t){var e=/ui-corner-([a-z]){2,6}/g;return t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,(function(i,o){var r,s={};if(o)return"controlgroupLabel"===i?((r=e.element.find(o)).each((function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),e._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(r.get()))):void(t.fn[i]&&(s=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(o).each((function(){var o=t(this),r=o[i]("instance"),a=t.widget.extend({},s);if("button"!==i||!o.parent(".ui-spinner").length){r||(r=o[i]()[i]("instance")),r&&(a.classes=e._resolveClassesValues(a.classes,r)),o[i](a);var l=o[i]("widget");t.data(l[0],"ui-controlgroup-data",r||o[i]("instance")),n.push(l[0])}}))))})),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each((function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()}))},_updateCornerClass:function(t,e){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,n),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(n,i){var o={};return t.each(n,(function(r){var s=i.options.classes[r]||"";s=t.trim(s.replace(e,"")),o[r]=(s+" "+n[r]).replace(/\s+/g," ")})),o},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],(function(t,i){var o=e[i]().data("ui-controlgroup-data");if(o&&n["_"+o.widgetName+"Options"]){var r=n["_"+o.widgetName+"Options"](1===e.length?"only":i);r.classes=n._resolveClassesValues(r.classes,o),o.element[o.widgetName](r)}else n._updateCornerClass(e[i](),i)})),this._callChildMethod("refresh"))}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../form-reset-mixin","../labels","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,o=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each((function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML})),this.originalLabel&&(o.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(o.disabled=e),o},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter((function(){return 0===t(this).form().length}))).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each((function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio})),function(t){"function"==typeof define&&define.amd?define(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],t):t(jQuery)}((function(t){var e;return t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,o=i?this.options.iconPosition:n,r="top"===o||"bottom"===o;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(o),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=(e=t.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode"],t):t(jQuery)}((function(t){function e(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",n,o)}function o(){t.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}var s;return t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,o,r;o="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(t(e),o)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,r):o&&this._inlineDatepicker(e,r)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,o,r,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(o=this._get(n,"buttonText"),r=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:o,title:o}):o)),e[a?"before":"after"](n.trigger),n.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,o,r=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,o=0;o<t.length;o++)t[o].length>n&&(n=t[o].length,i=o);return i},r.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,o,s){var a,l,u,c,d,h=this._dialogInst;return h||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),r(h.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),o=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(o.append.remove(),o.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),s===o&&(s=null))},_enableDatepicker:function(e){var n,i,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,r.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var n,i,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,r.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var o,s,a,l,u=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null;o=n||{},"string"==typeof n&&((o={})[n]=i),u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),r(u.settings,o),null!==a&&void 0!==o.dateFormat&&void 0===o.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,o,r=t.datepicker._getInst(e.target),s=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv))[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,o[0]),(n=t.datepicker._get(r,"onSelect"))?(i=t.datepicker._formatDate(r),
n.apply(r.input?r.input[0]:null,[i,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,o=t.datepicker._getInst(e.target);if(t.datepicker._get(o,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(n){var i,o,s,a,l,u,c;("input"!==(n=n.target||n).nodeName.toLowerCase()&&(n=t("input",n.parentNode)[0]),t.datepicker._isDisabledDatepicker(n)||t.datepicker._lastInput===n)||(i=t.datepicker._getInst(n),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(s=(o=t.datepicker._get(i,"beforeShow"))?o.apply(n,[n,i]):{})&&(r(i.settings,s),i.lastVal=null,t.datepicker._lastInput=n,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(n.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(n),t.datepicker._pos[1]+=n.offsetHeight),a=!1,t(n).parents().each((function(){return!(a|="fixed"===t(this).css("position"))})),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(u=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",e(t(n))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?i.dpDiv.show(u,t.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i)))},_updateDatepicker:function(e){this.maxRows=4,s=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],a=17,l=e.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&o.apply(l.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout((function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null}),0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var o=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?o-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+o>l&&l>o?Math.abs(n.left+o-l):0),n.top-=Math.min(n.top,n.top+r>u&&u>r?Math.abs(r+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),o=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,o,r,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),o=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,o):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,o),n||o(),this._datepickerShowing=!1,(r=this._get(s,"onClose"))&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var o=t(e),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,n+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(e){var n,i=t(e),o=this._getInst(i[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(n=new Date,o.selectedDay=n.getDate(),o.drawMonth=o.selectedMonth=n.getMonth(),o.drawYear=o.selectedYear=n.getFullYear()),this._notifyChange(o),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var o=t(e),r=this._getInst(o[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(e,n,i,o){var r,s=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((r=this._getInst(s[0])).selectedDay=r.currentDay=t("a",o).html(),r.selectedMonth=r.currentMonth=n,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,o=t(e),r=this._getInst(o[0]);n=null!=n?n:this._formatDate(r),r.input&&r.input.val(n),this._updateAlternate(r),(i=this._get(r,"onSelect"))?i.apply(r.input?r.input[0]:null,[n,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,o,r=this._get(e,"altField");r&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),o=this.formatDate(n,i,this._getFormatConfig(e)),t(r).val(o))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var o,r,s,a,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,w=function(t){var n=o+1<e.length&&e.charAt(o+1)===t;return n&&o++,n},_=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),r=n.substring(l).match(o);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},x=function(e,i,o){var r=-1,s=t.map(w(e)?o:i,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(s,(function(t,e){var i=e[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return r=e[0],l+=i.length,!1})),-1!==r)return r+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(y)"'"!==e.charAt(o)||w("'")?C():y=!1;else switch(e.charAt(o)){case"d":v=_("d");break;case"D":x("D",d,h);break;case"o":b=_("o");break;case"m":m=_("m");break;case"M":m=x("M",f,p);break;case"y":g=_("y");break;case"@":g=(a=new Date(_("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date((_("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?C():y=!0;break;default:C()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),b>-1)for(m=1,v=b;;){if(v<=(r=this._getDaysInMonth(g,m-1)))break;m++,v-=r}if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||l("'")?d+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":d+=u("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),o,r);break;case"o":d+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),s,a);break;case"y":d+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(i)}return d},_possibleChars:function(t){var e,n="",i=!1,o=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||o("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":o("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,s=this._getFormatConfig(t);try{r=this.parseDate(n,i,s)||o}catch(t){i=e?"":i}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=i?r.getDate():0,t.currentMonth=i?r.getMonth():0,t.currentYear=i?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var o=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=i.getFullYear(),r=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,r))}l=a.exec(n)}return new Date(o,r,s)},s=null==n||""===n?i:"string"==typeof n?r(n):"number"==typeof n?isNaN(n)?i:o(n):new Date(n.getTime());return(s=s&&"Invalid Date"===s.toString()?i:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,o=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e,n,i,o,r,s,a,l,u,c,d,h,f,p,g,m,v,b,y,w,_,x,C,k,T,S,E,N,D,A,z,P,M,I,R,O,H,L,F,B=new Date,$=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),j=this._get(t,"isRTL"),V=this._get(t,"showButtonPanel"),U=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),W=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),K=this._get(t,"stepMonths"),G=1!==W[0]||1!==W[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-Y,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-W[0]*W[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,n=this._get(t,"prevText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z-K,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>",o=this._get(t,"nextText"),o=q?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Z+K,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+o+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+o+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?X:$,s=q?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(j?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),w="",x=0;x<W[0];x++){for(C="",this.maxRows=4,k=0;k<W[1];k++){if(T=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),S=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",W[1]>1)switch(k){case 0:E+=" ui-datepicker-group-first",S=" ui-corner-"+(j?"right":"left");break;case W[1]-1:E+=" ui-datepicker-group-last",S=" ui-corner-"+(j?"left":"right");break;default:E+=" ui-datepicker-group-middle",S=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===x?j?r:i:"")+(/all|right/.test(S)&&0===x?j?i:r:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,x>0||k>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",N=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;_<7;_++)N+="<th scope='col'"+((_+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[D=(_+c)%7]+"'>"+f[D]+"</span></th>";for(E+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),z=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,P=Math.ceil((z+A)/7),M=G&&this.maxRows>P?this.maxRows:P,this.maxRows=M,I=this._daylightSavingAdjust(new Date(tt,Z,1-z)),R=0;R<M;R++){for(E+="<tr>",O=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",_=0;_<7;_++)H=m?m.apply(t.input?t.input[0]:null,[I]):[!0,""],F=(L=I.getMonth()!==Z)&&!b||!H[0]||Q&&I<Q||J&&I>J,O+="<td class='"+((_+c+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(I.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===I.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+H[1]+(I.getTime()===X.getTime()?" "+this._currentClass:"")+(I.getTime()===$.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!H[2]?"":" title='"+H[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===$.getTime()?" ui-state-highlight":"")+(I.getTime()===X.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);E+=O+"</tr>"}++Z>11&&(Z=0,tt++),C+=E+="</tbody></table>"+(G?"</div>"+(W[0]>0&&k===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=C}return w+=u,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,o,r,s,a){var l,u,c,d,h,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(r||!m)w+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=o&&o.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=o.getMonth())&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");w+="</select>"}if(b||(y+=w+(!r&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},p=f(d[0]),g=Math.max(p,f(d[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=o?Math.min(g,o.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!r&&m&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),o=t.selectedMonth+("M"===n?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(i,o))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,o,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),o=n&&e<n?n:e;return i&&o>i?i:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(n,i+(e<0?e:o[0]*o[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var n,i,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker})),function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}((function(t){var e=!1;return t(document).on("mouseup",(function(){e=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,r=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(o&&!r&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",e)&&n._clear()
})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),o=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options,r=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(n=t(o.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=o.containment:this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var o=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each((function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,o))}))},stop:function(e,n,i){var o=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,(function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))}))},drag:function(e,n,i){t.each(i.sortables,(function(){var o=!1,r=this;r.positionAbs=i.positionAbs,r.helperProportions=i.helperProportions,r.offset.click=i.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,t.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(o=!1),o}))),o?(r.isOver||(r.isOver=1,i._parent=n.helper.parent(),r.currentItem=n.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return n.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=i.offset.click.top,r.offset.click.left=i.offset.click.left,r.offset.parent.left-=i.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=i.offset.parent.top-r.offset.parent.top,i._trigger("toSortable",e),i.dropped=r.element,t.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,r.fromOutside=i),r.currentItem&&(r._mouseDrag(e),n.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var o=t("body"),r=i.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(e,n,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var o=t(n.helper),r=i.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(e,n,i){var o=i.options;o._opacity&&t(n.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var o=i.options,r=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<o.scrollSensitivity?s.scrollTop=r=s.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(s.scrollTop=r=s.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<o.scrollSensitivity?s.scrollLeft=r=s.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(s.scrollLeft=r=s.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(a).scrollTop()<o.scrollSensitivity?r=t(a).scrollTop(t(a).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<o.scrollSensitivity&&(r=t(a).scrollTop(t(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(a).scrollLeft()<o.scrollSensitivity?r=t(a).scrollLeft(t(a).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<o.scrollSensitivity&&(r=t(a).scrollLeft(t(a).scrollLeft()+o.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})}))},drag:function(e,n,i){var o,r,s,a,l,u,c,d,h,f,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)u=(l=i.snapElements[h].left-i.margins.left)+i.snapElements[h].width,d=(c=i.snapElements[h].top-i.margins.top)+i.snapElements[h].height,v<l-g||m>u+g||y<c-g||b>d+g||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(o=Math.abs(c-y)<=g,r=Math.abs(d-b)<=g,s=Math.abs(l-v)<=g,a=Math.abs(u-m)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),f=o||r||s||a,"outer"!==p.snapMode&&(o=Math.abs(c-b)<=g,r=Math.abs(d-y)<=g,s=Math.abs(l-m)<=g,a=Math.abs(u-v)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(o||r||s||a||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=o||r||s||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var o,r=i.options,s=t.makeArray(t(r.stack)).sort((function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)}));s.length&&(o=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each((function(e){t(this).css("zIndex",o+e)})),this.css("zIndex",o+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var o=t(n.helper),r=i.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(e,n,i){var o=i.options;o._zIndex&&t(n.helper).css("zIndex",o._zIndex)}}),t.ui.draggable})),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return e[i]>0||(e[i]=1,o=e[i]>0,e[i]=0,o)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",(function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())})).on("mouseleave",(function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){if(this._super(t,e),"handles"===t)this._removeHandles(),this._setupHandles()},_setupHandles:function(){var e,n,i,o,r,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)o="ui-resizable-"+(e=t.trim(i[n])),r=t("<div>"),this._addClass(r,"ui-resizable-handle "+o),r.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(r);this._renderAxis=function(e){var n,i,o,r;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(o,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")})),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,o=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var n,i,o,r=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),r.containment&&(n+=t(r.containment).scrollLeft()||0,i+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,o=this.originalMousePosition,r=this.axis,s=e.pageX-o.left||0,a=e.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,o,r,s,a,l,u=this.options,c=this;return this._helper&&(o=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,r=i?0:c.sizeDiff.width,s={width:c.helper.width()-r,height:c.helper.height()-o},a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,i=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),i>r.minHeight&&(r.minHeight=i),n<r.maxWidth&&(r.maxWidth=n),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return r&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&u&&(t.left=a-e.minWidth),i&&u&&(t.left=a-e.maxWidth),s&&c&&(t.top=l-e.minHeight),o&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(o[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};o&&o.length&&t(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,o,r,s,a,l=t(this).resizable("instance"),u=l.options,c=l.element,d=u.containment,h=d instanceof t?d.get(0):/parent/.test(d)?c.parent().get(0):d;h&&(l.containerElement=t(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each((function(t,i){n[t]=l._num(e.css("padding"+i))})),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:r,a=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,o,r,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||e.shiftKey,d={top:0,left:0},h=s.containerElement,f=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),c&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-d.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-d.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,o=e.containerPosition,r=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,u=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-o.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-o.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each((function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})}))},resize:function(e,n){var i=t(this).resizable("instance"),o=i.options,r=i.originalSize,s=i.originalPosition,a={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(o.alsoResize).each((function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),o={},r=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,(function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(o[e]=n||null)})),e.css(o)}))},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,o=n.size,r=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,d=Math.round((o.width-r.width)/u)*u,h=Math.round((o.height-r.height)/c)*c,f=r.width+d,p=r.height+h,g=i.maxWidth&&i.maxWidth<f,m=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>f,b=i.minHeight&&i.minHeight>p;i.grid=l,v&&(f+=u),b&&(p+=c),g&&(f-=u),m&&(p-=c),/^(se|s|e)$/.test(a)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.top=s.top-h):/^(sw)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.left=s.left-d):((p-c<=0||f-u<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=s.top-h):(p=c-e.height,n.size.height=p,n.position.top=s.top+r.height-p),f-u>0?(n.size.width=f,n.position.left=s.left-d):(f=u-e.width,n.size.width=f,n.position.left=s.left+r.width-f))}}),t.ui.resizable})),function(t){
"function"==typeof define&&define.amd?define(["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){n._trigger("close",e)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,o=this.uiDialog.siblings(".ui-front:visible").map((function(){return+t(this).css("z-index")})).get(),r=Math.max.apply(null,o);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){e._focusTabbable(),e._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),o=n.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay((function(){o.trigger("focus")})),e.preventDefault()):(this._delay((function(){i.trigger("focus")})),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,(function(n,i){var o,r;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),o=i.click,r={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(r).appendTo(e.uiButtonSet).on("click",(function(){o.apply(e.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,o){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(o))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(o,r){var s=r.offset.left-n.document.scrollLeft(),a=r.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",o,e(r))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,o=i.resizable,r=this.uiDialog.css("position"),s="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,o){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(o))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(o,r){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),l=s.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",o,e(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,o={};t.each(e,(function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(o[t]=e)})),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,n){var i,o,r=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=r.is(":data(ui-draggable)"))&&!n&&r.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((o=r.is(":data(ui-resizable)"))&&!n&&r.resizable("destroy"),o&&"string"==typeof n&&r.resizable("option","handles",n),o||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay((function(){e=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog})),function(t){"function"==typeof define&&define.amd?define(["jquery","./draggable","./mouse","../version","../widget"],t):t(jQuery)}((function(t){t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(n,i){var o=i||t.ui.ddmanager.current,r=!1;return!(!o||(o.currentItem||o.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var i=t(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===o.options.scope&&i.accept.call(i.element[0],o.currentItem||o.element)&&e(o,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,n))return r=!0,!1})),!r&&(!!this.accept.call(this.element[0],o.currentItem||o.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",n,this.ui(o)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var e=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,o){if(!n.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,l=s+e.helperProportions.height,u=n.offset.left,c=n.offset.top,d=u+n.proportions().width,h=c+n.proportions().height;switch(i){case"fit":return u<=r&&a<=d&&c<=s&&l<=h;case"intersect":return u<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<d&&c<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<h;case"pointer":return t(o.pageY,c,n.proportions().height)&&t(o.pageX,u,n.proportions().width);case"touch":return(s>=c&&s<=h||l>=c&&l<=h||s<c&&l>h)&&(r>=u&&r<=d||a>=u&&a<=d||r<u&&a>d);default:return!1}}}();return t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,o,r=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<r.length;i++)if(!(r[i].options.disabled||e&&!r[i].accept.call(r[i].element[0],e.currentItem||e.element))){for(o=0;o<a.length;o++)if(a[o]===r[i].element[0]){r[i].proportions().height=0;continue t}r[i].visible="none"!==r[i].element.css("display"),r[i].visible&&("mousedown"===s&&r[i]._activate.call(r[i],n),r[i].offset=r[i].element.offset(),r[i].proportions({width:r[i].element[0].offsetWidth,height:r[i].element[0].offsetHeight}))}},drop:function(n,i){var o=!1;return t.each((t.ui.ddmanager.droppables[n.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e(n,this,this.options.tolerance,i)&&(o=this._drop.call(this,i)||o),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),o},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}))},drag:function(n,i){n.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(n,i),t.each(t.ui.ddmanager.droppables[n.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var o,r,s,a=e(n,this,this.options.tolerance,i),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(r=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter((function(){return t(this).droppable("instance").options.scope===r}))).length&&((o=t(s[0]).droppable("instance")).greedyChild="isover"===l)),o&&"isover"===l&&(o.isover=!1,o.isout=!0,o._out.call(o,i)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,i),o&&"isout"===l&&(o.isout=!1,o.isover=!0,o._over.call(o,i)))}}))},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable})),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each((function(){var n=t(this),i=n.offset(),o={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:o.left,top:o.top,right:o.left+n.outerWidth(),bottom:o.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))})),t(e.target).parents().addBack().each((function(){var i,o=t.data(this,"selectable-item");if(o)return i=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),n._removeClass(o.$element,i?"ui-unselecting":"ui-selected")._addClass(o.$element,i?"ui-selecting":"ui-unselecting"),o.unselecting=!i,o.selecting=i,o.selected=i,i?n._trigger("selecting",e,{selecting:o.element}):n._trigger("unselecting",e,{unselecting:o.element}),!1})))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,o=this.options,r=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return r>a&&(n=a,a=r,r=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each((function(){var n=t.data(this,"selectable-item"),u=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===o.tolerance?u=!(c.left>a||c.right<r||c.top>l||c.bottom<s):"fit"===o.tolerance&&(u=c.left>r&&c.right<a&&c.top>s&&c.bottom<l),u?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))})),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each((function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})})),t(".ui-selecting",this.element[0]).each((function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})})),this._trigger("stop",e),this.helper.remove(),!1}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./menu","../escape-selector","../form-reset-mixin","../keycode","../labels","../position","../unique-id","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){n._rendered||n._refreshMenu()}))},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,o="";t.each(n,(function(n,r){var s;r.optgroup!==o&&(s=t("<li>",{text:r.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),o=r.optgroup),i._renderItemData(e,r)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),o=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(o,n.label),i.append(o).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,o=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),o+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](o).eq(-1):n[t+"All"](o).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,
this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each((function(e,o){i.push(n._parseOption(t(o),e))})),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}])})),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../keycode","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,o=this.element.find(".ui-slider-handle"),r="<span tabindex='0'></span>",s=[];for(n=i.values&&i.values.length||1,o.length>n&&(o.slice(n).remove(),o=o.slice(0,n)),e=o.length;e<n;e++)s.push(r);this.handles=o.add(t(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,o,r,s,a,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),o=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var n=Math.abs(i-u.values(e));(o>n||o===n&&(e===u._lastChangedValue||u.values(e)===c.min))&&(o=n,r=t(this),s=e)})),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),a=r.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-r.width()/2,top:e.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,o,r;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),o=this._valueMax()-this._valueMin(),r=this._valueMin()+i*o,this._trimAlignValue(r)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,o=this.value(),r=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),r[e]=n),n!==o&&!1!==this._trigger("slide",t,this._uiHash(e,n,r))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,o,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,o=arguments[0],r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,n){var i,o=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=o-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,o,r,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each((function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n})):(i=this.value(),o=this._valueMin(),r=this._valueMax(),n=r!==o?(i-o)/(r-o)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var n,i,o,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,r)))return}switch(o=this.options.step,n=i=this._hasMultipleValues()?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-o)}this._slide(e,r,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,r.widgetName+"-item")===r)return i=t(this),!1})),t.data(e.target,r.widgetName+"-item")===r&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each((function(){this===e.target&&(o=!0)})),!o))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(o=(i=this.items[n]).item[0],(r=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){i._clear(e)}))}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each((function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))})),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each((function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")})),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>a&&i+u<l,h="y"===this.options.axis||e+c>r&&e+c<s,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:r<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!o)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,o,r,s,a=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(o=(r=t(u[i],this.document[0])).length-1;o>=0;o--)(s=t.data(r[o],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,o,r,s,a,l,u,c=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(o=t(h[n],this.document[0])).length-1;i>=0;i--)(r=t.data(o[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&(d.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(n=d.length-1;n>=0;n--)for(s=d[n][1],i=0,u=(a=d[n][0]).length;i<u;i++)(l=t(a[i])).data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,o,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+i+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===i?e._createTrPlaceholder(e.currentItem,o):"img"===i&&o.attr("src",e.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(t,o){n&&!i.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each((function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(e){var n,i,o,r,s,a,l,u,c,d,h=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,r=null,s=(c=h.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",d=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[d]-l>this.items[i][a]/2&&(u=!0),Math.abs(e[d]-l)<o&&(o=Math.abs(e[d]-l),r=this.items[i],this.direction=u?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],n=t(o.containment).offset(),i="hidden"!==t(e).css("overflow"),
this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(e){var n,i,o=this.options,r=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay((function(){o===this.counter&&this.refreshPositions(!i)}))},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(o.push((function(t){this._trigger("remove",t,this._uiHash())})),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<o.length;i++)o[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./button","../version","../keycode","../safe-active-element","../widget"],t):t(jQuery)}((function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}return t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],(function(t,i){var o=n.attr(i);null!=o&&o.length&&(e[i]=o)})),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(t)}),100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay((function(){this.previous=i})))}var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,n.call(this)})),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,e,n)}),t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,o;if("culture"===t||"numberFormat"===t)return n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),o=this.buttons.last().find(".ui-icon"),this._removeClass(o,null,this.options.icons.down),this._addClass(o,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:e((function(t){this._super(t)})),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e((function(t){this._stepUp(t)})),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e((function(t){this._stepDown(t)})),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e((function(t){this._stepUp((t||1)*this.options.page)})),pageDown:e((function(t){this._stepDown((t||1)*this.options.page)})),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner})),function(t){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../keycode","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}((function(t){var e;return t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(e=/#.*$/,function(t){var n,i;n=t.href.replace(e,""),i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return t.hash.length>1&&n===i}),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),(function(t){return e.tabs.index(t)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each((function(n,o){if(t(o).attr("aria-controls")===i)return e=n,!1})),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),o=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,o),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",i)}),this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){function i(){return e>o&&(e=0),e<0&&(e=o),e}for(var o=this.tabs.length-1;-1!==t.inArray(i(),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),(function(t){return n.index(t)})),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,o=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return t("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each((function(n,i){var o,r,s,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),u=l.attr("aria-controls");e._isLocal(i)?(s=(o=i.hash).substring(1),r=e.element.find(e._sanitizeSelector(o))):(o="#"+(s=l.attr("aria-controls")||t({}).uniqueId()[0].id),(r=e.element.find(o)).length||(r=e._createPanel(s)).insertAfter(e.panels[n-1]||e.tablist),r.attr("aria-live","polite")),r.length&&(e.panels=e.panels.add(r)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":s,"aria-labelledby":a}),r.attr("aria-labelledby",a)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(o.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,o;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),o=0;i=this.tabs[o];o++)n=t(i),!0===e||-1!==t.inArray(o,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),(function(t,e){n[e]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){n-=t(this).outerHeight(!0)})),this.panels.each((function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each((function(){n=Math.max(n,t(this).height("").height())})).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,o=t(e.currentTarget).closest("li"),r=o[0]===i[0],s=r&&n.collapsible,a=s?t():this._getPanelForTab(o),l=i.length?this._getPanelForTab(i):t(),u={oldTab:i,oldPanel:l,newTab:s?t():o,newPanel:a};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||r&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!s&&this.tabs.index(o),this.active=r?t():o,this.xhr&&this.xhr.abort(),l.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,n){function i(){r.running=!1,r._trigger("activate",e,n)}function o(){r._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,i):(s.show(),i())}var r=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,(function(){r._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o()})):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),o()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter((function(){return 0===t(this).attr("tabIndex")})).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,(function(t){return t!==e?t:null})):t.map(this.tabs,(function(t,n){return n!==e?n:null}))),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,o=this.tabs.eq(e),r=o.find(".ui-tabs-anchor"),s=this._getPanelForTab(o),a={tab:o,panel:s},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(o,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(r[0])||(this.xhr=t.ajax(this._ajaxSettings(r,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(o,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done((function(t,e,o){setTimeout((function(){s.html(t),i._trigger("load",n,a),l(o,e)}),1)})).fail((function(t,e){setTimeout((function(){l(t,e)}),1)}))))},_ajaxSettings:function(e,n,i){var o=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,r){return o._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:r},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs})),function(t){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../unique-id","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(n,i);-1!==o&&i.splice(o,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,(function(t,e){i._updateContent(e.element)}))},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,(function(n,i){var o=t.Event("blur");o.target=o.currentTarget=i.element[0],e.close(o,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each((function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))})),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,o=this,r=e?e.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(e,t,i);(n=i.call(t[0],(function(n){o._delay((function(){t.data("ui-tooltip-open")&&(e&&(e.type=r),this._open(e,t,n))}))})))&&this._open(e,t,n)},_open:function(e,n,i){function o(t){u.of=t,s.is(":hidden")||s.position(u)}var r,s,a,l,u=t.extend({},this.options.position);i&&((r=this._find(n))?r.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),s=r.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(l=t("<div>").html(s.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:o}),o(e)):s.position(t.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){s.is(":visible")&&(o(u.of),clearInterval(a))}),t.fx.interval)),this._trigger("open",e,{tooltip:s})))},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,o=t(e?e.currentTarget:this.element),r=this._find(o);r?(n=r.tooltip,r.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),r.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,(function(){i._removeTooltip(t(this))})),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,(function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]})),r.closing=!0,this._trigger("close",e,{tooltip:n}),r.hiding||(r.closing=!1))):o.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),o=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[o]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,(function(n,i){var o=t.Event("blur"),r=i.element;o.target=o.currentTarget=r[0],e.close(o,!0),t("#"+n).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip})),function(){"use strict";var t=function(t,e){var n;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form:not([data-turbo=true])",formInputClickSelector:"form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){
var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),!1!==o.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var o,r,s,a,l,u;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.data("ujs:submit-button-formmethod")||i.attr("method"),r=i.data("ujs:submit-button-formaction")||i.attr("action"),s=t(i[0]).serializeArray();var c=i.data("ujs:submit-button");c&&(s.push(c),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),s=i.data("params")||null);return u={type:o||"GET",data:s,dataType:l,beforeSend:function(t,o){if(o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!n.fire(i,"ajax:beforeSend",[t,o]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(r)},a&&(u.xhrFields={withCredentials:a}),r&&(u.url=r),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(t){return!0}},handleMethod:function(i){var o=n.href(i),r=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),u=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';l===e||a===e||n.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each((function(){n.disableFormElement(t(this))}))},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",(i=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each((function(){n.enableFormElement(t(this))}))},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),o=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{o=n.confirm(i)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,n,i){var o,r,s,a=t(),l=n||"input,textarea",u=e.find(l),c={};return u.each((function(){(o=t(this)).is("input[type=radio]")?(s=o.attr("name"),c[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=e.find('input[type=radio][name="'+s+'"]'),a=a.add(r)),c[s]=s)):(o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===i&&(a=a.add(o))})),!!a.length&&a},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.on("click.railsDisable",(function(t){return n.stopEverything(t)})),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.off("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter((function(t,e,i){t.crossDomain||n.CSRFProtection(i)})),t(window).on("pageshow.rails",(function(){t(t.rails.enableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)})),t(t.rails.linkDisableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)}))})),i.on("ajax:complete",n.linkDisableSelector,(function(){n.enableElement(t(this))})),i.on("ajax:complete",n.buttonDisableSelector,(function(){n.enableFormElement(t(this))})),i.on("click.rails",n.linkClickSelector,(function(e){var i=t(this),o=i.data("method"),r=i.data("params"),s=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!o||"GET"===o)&&!r)return!0;var a=n.handleRemote(i);return!1===a?n.enableElement(i):a.fail((function(){n.enableElement(i)})),!1}return o?(n.handleMethod(i),!1):void 0})),i.on("click.rails",n.buttonClickSelector,(function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return!1===o?n.enableFormElement(i):o.fail((function(){n.enableFormElement(i)})),!1})),i.on("change.rails",n.inputChangeSelector,(function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)})),i.on("submit.rails",n.formSubmitSelector,(function(i){var o,r,s=t(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if((o=n.blankInputs(s,n.requiredInputSelector,!1))&&n.fire(s,"ajax:aborted:required",[o]))return n.stopEverything(i)}else s.data("ujs:formnovalidate-button",e);if(a){if(r=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout((function(){n.disableFormElements(s)}),13);var l=n.fire(s,"ajax:aborted:file",[r]);return l||setTimeout((function(){n.enableFormElements(s)}),13),l}return n.handleRemote(s),!1}setTimeout((function(){n.disableFormElements(s)}),13)})),i.on("click.rails",n.formInputClickSelector,(function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null,s=i.closest("form");0===s.length&&(s=t("#"+i.attr("form"))),s.data("ujs:submit-button",r),s.data("ujs:formnovalidate-button",i.attr("formnovalidate")),s.data("ujs:submit-button-formaction",i.attr("formaction")),s.data("ujs:submit-button-formmethod",i.attr("formmethod"))})),i.on("ajax:send.rails",n.formSubmitSelector,(function(e){this===e.target&&n.disableFormElements(t(this))})),i.on("ajax:complete.rails",n.formSubmitSelector,(function(e){this===e.target&&n.enableFormElements(t(this))})),t((function(){n.refreshCSRFTokens()})))};window.jQuery?t(jQuery):"object"==typeof exports&&"object"==typeof module&&(module.exports=t)}(),function(t){var e={initTree:function(e){var n=t.extend({},this.treegrid.defaults,e);return this.each((function(){var e=t(this);e.treegrid("setTreeContainer",t(this)),e.treegrid("setSettings",n),n.getRootNodes.apply(this,[t(this)]).treegrid("initNode",n)}))},initNode:function(e){return this.each((function(){var n=t(this);n.treegrid("setTreeContainer",e.getTreeGridContainer.apply(this)),n.treegrid("getChildNodes").treegrid("initNode",e),n.treegrid("initExpander").treegrid("initIndent").treegrid("initEvents").treegrid("initState").treegrid("initSettingsEvents")}))},initEvents:function(){var e=t(this);return e.on("change",(function(){var e=t(this);e.treegrid("render"),e.treegrid("getSetting","saveState")&&e.treegrid("saveState")})),e.on("collapse",(function(){var e=t(this);e.removeClass("treegrid-expanded"),e.addClass("treegrid-collapsed")})),e.on("expand",(function(){var e=t(this);e.removeClass("treegrid-collapsed"),e.addClass("treegrid-expanded")})),e},initSettingsEvents:function(){var e=t(this);return e.on("change",(function(){var e=t(this);"function"==typeof e.treegrid("getSetting","onChange")&&e.treegrid("getSetting","onChange").apply(e)})),e.on("collapse",(function(){var e=t(this);"function"==typeof e.treegrid("getSetting","onCollapse")&&e.treegrid("getSetting","onCollapse").apply(e)})),e.on("expand",(function(){var e=t(this);"function"==typeof e.treegrid("getSetting","onExpand")&&e.treegrid("getSetting","onExpand").apply(e)})),e},initExpander:function(){var e=t(this),n=e.find("td").get(e.treegrid("getSetting","treeColumn")),i=e.treegrid("getSetting","expanderTemplate"),o=e.treegrid("getSetting","getExpander").apply(this);return o&&o.remove(),t(i).prependTo(n).click((function(){t(t(this).closest("tr")).treegrid("toggle")})),e},initIndent:function(){var e=t(this);e.find(".treegrid-indent").remove();for(var n=0;n<t(this).treegrid("getDepth");n++)t(e.treegrid("getSetting","indentTemplate")).insertBefore(e.find(".treegrid-expander"));return e},initState:function(){var e=t(this);return e.treegrid("getSetting","saveState")&&!e.treegrid("isFirstInit")?e.treegrid("restoreState"):"expanded"===e.treegrid("getSetting","initialState")?e.treegrid("expand"):e.treegrid("collapse"),e},isFirstInit:function(){var e=t(this).treegrid("getTreeContainer");return void 0===e.data("first_init")&&e.data("first_init",void 0===t.cookie(e.treegrid("getSetting","saveStateName"))),e.data("first_init")},saveState:function(){var e=t(this);if("cookie"===e.treegrid("getSetting","saveStateMethod")){var n=t.cookie(e.treegrid("getSetting","saveStateName"))||"",i=""===n?[]:n.split(","),o=e.treegrid("getNodeId");e.treegrid("isExpanded")?-1===t.inArray(o,i)&&i.push(o):e.treegrid("isCollapsed")&&-1!==t.inArray(o,i)&&i.splice(t.inArray(o,i),1),t.cookie(e.treegrid("getSetting","saveStateName"),i.join(","))}return e},restoreState:function(){var e=t(this);if("cookie"===e.treegrid("getSetting","saveStateMethod")){var n=t.cookie(e.treegrid("getSetting","saveStateName")).split(",");-1!==t.inArray(e.treegrid("getNodeId"),n)?e.treegrid("expand"):e.treegrid("collapse")}return e},getSetting:function(e){return t(this).treegrid("getTreeContainer")?t(this).treegrid("getTreeContainer").data("settings")[e]:null},setSettings:function(e){t(this).treegrid("getTreeContainer").data("settings",e)},getTreeContainer:function(){return t(this).data("treegrid")},setTreeContainer:function(e){return t(this).data("treegrid",e)},getRootNodes:function(){return t(this).treegrid("getSetting","getRootNodes").apply(this,[t(this).treegrid("getTreeContainer")])},getAllNodes:function(){return t(this).treegrid("getSetting","getAllNodes").apply(this,[t(this).treegrid("getTreeContainer")])},isNode:function(){return null!==t(this).treegrid("getNodeId")},getNodeId:function(){return null===t(this).treegrid("getSetting","getNodeId")?null:t(this).treegrid("getSetting","getNodeId").apply(this)},getParentNodeId:function(){return t(this).treegrid("getSetting","getParentNodeId").apply(this)},getParentNode:function(){return null===t(this).treegrid("getParentNodeId")?null:t(this).treegrid("getSetting","getNodeById").apply(this,[t(this).treegrid("getParentNodeId"),t(this).treegrid("getTreeContainer")])},getChildNodes:function(){return t(this).treegrid("getSetting","getChildNodes").apply(this,[t(this).treegrid("getNodeId"),t(this).treegrid("getTreeContainer")])},getDepth:function(){return null===t(this).treegrid("getParentNode")?0:t(this).treegrid("getParentNode").treegrid("getDepth")+1},isRoot:function(){return 0===t(this).treegrid("getDepth")},isLeaf:function(){return 0===t(this).treegrid("getChildNodes").length},isLast:function(){if(t(this).treegrid("isNode")){var e=t(this).treegrid("getParentNode");if(null===e){if(t(this).treegrid("getNodeId")===t(this).treegrid("getRootNodes").last().treegrid("getNodeId"))return!0}else if(t(this).treegrid("getNodeId")===e.treegrid("getChildNodes").last().treegrid("getNodeId"))return!0}return!1},isFirst:function(){if(t(this).treegrid("isNode")){var e=t(this).treegrid("getParentNode");if(null===e){if(t(this).treegrid("getNodeId")===t(this).treegrid("getRootNodes").first().treegrid("getNodeId"))return!0}else if(t(this).treegrid("getNodeId")===e.treegrid("getChildNodes").first().treegrid("getNodeId"))return!0}return!1},isExpanded:function(){return t(this).hasClass("treegrid-expanded")},isCollapsed:function(){return t(this).hasClass("treegrid-collapsed")},isOneOfParentsCollapsed:function(){var e=t(this);return!e.treegrid("isRoot")&&(!!e.treegrid("getParentNode").treegrid("isCollapsed")||e.treegrid("getParentNode").treegrid("isOneOfParentsCollapsed"))},expand:function(){return t(this).each((function(){var e=t(this);e.treegrid("isLeaf")||e.treegrid("isExpanded")||(e.trigger("expand"),e.trigger("change"))}))},expandAll:function(){var e=t(this);return e.treegrid("getRootNodes").treegrid("expandRecursive"),e},expandRecursive:function(){return t(this).each((function(){var e=t(this);e.treegrid("expand"),e.treegrid("isLeaf")||e.treegrid("getChildNodes").treegrid("expandRecursive")}))},collapse:function(){return t(this).each((function(){var e=t(this);e.treegrid("isLeaf")||e.treegrid("isCollapsed")||(e.trigger("collapse"),e.trigger("change"))}))},collapseAll:function(){var e=t(this);return e.treegrid("getRootNodes").treegrid("collapseRecursive"),e},collapseRecursive:function(){return t(this).each((function(){var e=t(this);e.treegrid("collapse"),e.treegrid("isLeaf")||e.treegrid("getChildNodes").treegrid("collapseRecursive")}))},toggle:function(){var e=t(this);return e.treegrid("isExpanded")?e.treegrid("collapse"):e.treegrid("expand"),e},render:function(){return t(this).each((function(){var e=t(this);e.treegrid("isOneOfParentsCollapsed")?e.hide():e.show(),e.treegrid("isLeaf")||(e.treegrid("renderExpander"),e.treegrid("getChildNodes").treegrid("render"))}))},renderExpander:function(){return t(this).each((function(){var e=t(this),n=e.treegrid("getSetting","getExpander").apply(this);n?e.treegrid("isCollapsed")?(n.removeClass(e.treegrid("getSetting","expanderExpandedClass")),n.addClass(e.treegrid("getSetting","expanderCollapsedClass"))):(n.removeClass(e.treegrid("getSetting","expanderCollapsedClass")),n.addClass(e.treegrid("getSetting","expanderExpandedClass"))):(e.treegrid("initExpander"),e.treegrid("renderExpander"))}))}};t.fn.treegrid=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method with name "+n+" does not exists for jQuery.treegrid"):e.initTree.apply(this,arguments)},t.fn.treegrid.defaults={initialState:"expanded",saveState:!1,saveStateMethod:"cookie",saveStateName:"tree-grid-state",expanderTemplate:'<span class="treegrid-expander"></span>',indentTemplate:'<span class="treegrid-indent"></span>',expanderExpandedClass:"treegrid-expander-expanded",expanderCollapsedClass:"treegrid-expander-collapsed",treeColumn:0,getExpander:function(){return t(this).find(".treegrid-expander")},getNodeId:function(){var e=/treegrid-([A-Za-z0-9_-]+)/;return e.test(t(this).attr("class"))?e.exec(t(this).attr("class"))[1]:null},getParentNodeId:function(){var e=/treegrid-parent-([A-Za-z0-9_-]+)/;return e.test(t(this).attr("class"))?e.exec(t(this).attr("class"))[1]:null},getNodeById:function(t,e){var n="treegrid-"+t;return e.find("tr."+n)},getChildNodes:function(t,e){var n="treegrid-parent-"+t;return e.find("tr."+n)},getTreeGridContainer:function(){return t(this).closest("table")},getRootNodes:function(e){var n=t.grep(e.find("tr"),(function(e){var n=t(e).attr("class"),i=/treegrid-parent-([A-Za-z0-9_-]+)/;return/treegrid-([A-Za-z0-9_-]+)/.test(n)&&!i.test(n)}));return t(n)},getAllNodes:function(e){var n=t.grep(e.find("tr"),(function(e){var n=t(e).attr("class");return/treegrid-([A-Za-z0-9_-]+)/.test(n)}));return t(n)},onCollapse:null,onExpand:null,onChange:null}}(jQuery),$.extend($.fn.treegrid.defaults,{expanderExpandedClass:"glyphicon glyphicon-chevron-down",expanderCollapsedClass:"glyphicon glyphicon-chevron-right"}),function(e){jQuery.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each((function(){function o(t){if(c){var n=0;(t=t||window.event).wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(w.parent())&&r(n,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function r(t,e,n){y=!1;var o=t,r=w.outerHeight()-x.outerHeight();e&&(o=parseInt(x.css("top"))+t*parseInt(i.wheelStep)/100*x.outerHeight(),o=Math.min(Math.max(o,0),r),o=0<t?Math.ceil(o):Math.floor(o),x.css({top:o+"px"})),o=(m=parseInt(x.css("top"))/(w.outerHeight()-x.outerHeight()))*(w[0].scrollHeight-w.outerHeight()),n&&(t=(o=t)/w[0].scrollHeight*w.outerHeight(),t=Math.min(Math.max(t,0),r),x.css({top:t+"px"})),w.scrollTop(o),w.trigger("slimscrolling",~~o),l(),u()}function s(){window.addEventListener?(this.addEventListener("DOMMouseScroll",o,!1),this.addEventListener("mousewheel",o,!1)):document.attachEvent("onmousewheel",o)}function a(){g=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),b),x.css({height:g+"px"});var t=g==w.outerHeight()?"none":"block";x.css({display:t})}function l(){a(),clearTimeout(f),m==~~m?(y=i.allowPageScroll,v!=m&&w.trigger("slimscroll",0==~~m?"top":"bottom")):y=!1,v=m,g>=w.outerHeight()?y=!0:(x.stop(!0,!0).fadeIn("fast"),i.railVisible&&C.stop(!0,!0).fadeIn("fast"))}function u(){i.alwaysVisible||(f=setTimeout((function(){i.disableFadeOut&&c||d||h||(x.fadeOut("slow"),C.fadeOut("slow"))}),1e3))}var c,d,h,f,p,g,m,v,b=30,y=!1,w=e(this);if(w.parent().hasClass(i.wrapperClass)){var _=w.scrollTop(),x=w.parent().find("."+i.barClass),C=w.parent().find("."+i.railClass);if(a(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){w.parent().css("height","auto"),w.css("height","auto");var k=w.parent().parent().height();w.parent().css("height",k),w.css("height",k)}if("scrollTo"in n)_=parseInt(i.scrollTo);else if("scrollBy"in n)_+=parseInt(i.scrollBy);else if("destroy"in n)return x.remove(),C.remove(),void w.unwrap();r(_,!1,!0)}}else{i.height="auto"==n.height?w.parent().height():n.height,_=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),w.css({overflow:"hidden",width:i.width,height:i.height});C=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),x=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),k="right"==i.position?{right:i.distance}:{left:i.distance};C.css(k),x.css(k),w.wrap(_),w.parent().append(x),w.parent().append(C),i.railDraggable&&x.bind("mousedown",(function(n){var i=e(document);return h=!0,t=parseFloat(x.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",(function(e){currTop=t+e.pageY-pageY,x.css("top",currTop),r(0,x.position().top,!1)})),i.bind("mouseup.slimscroll",(function(){h=!1,u(),i.unbind(".slimscroll")})),!1})).bind("selectstart.slimscroll",(function(t){return t.stopPropagation(),t.preventDefault(),!1})),C.hover((function(){l()}),(function(){u()})),x.hover((function(){d=!0}),(function(){d=!1})),w.hover((function(){c=!0,l(),u()}),(function(){c=!1,u()})),w.bind("touchstart",(function(t){t.originalEvent.touches.length&&(p=t.originalEvent.touches[0].pageY)})),w.bind("touchmove",(function(t){y||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(r((p-t.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),p=t.originalEvent.touches[0].pageY)})),a(),"bottom"===i.start?(x.css({top:w.outerHeight()-x.outerHeight()}),r(0,!0)):"top"!==i.start&&(r(e(i.start).position().top,null,!0),i.alwaysVisible||x.hide()),s()}})),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(t,e){function n(t){function i(t,n){var i;if(e!==t&&(t=parseFloat(t)),e===n)n=255,i=255;else if(1===n){if(e===t||1===t)return 1;n=100,i=1}else i=n;return isNaN(t)||t<=0?0:n<t?i:t<1||1===n?1===i?t:t*i|0:t*i/n}function o(t,e,n){function o(t,e,n){return 6*(n=++n%1)<1?t+6*(e-t)*n:2*n<1?e:3*n<2?t+(e-t)*(4-6*n):t}if(t=i(t,360)/360,e=i(e,1),n=i(n,1),0===e)return[n=Math.round(255*n),n,n];var r=n<.5?n+n*e:n+e-n*e,s=n+n-r;return[Math.round(255*o(s,r,t+1/3)),Math.round(255*o(s,r,t)),Math.round(255*o(s,r,t-1/3))]}function a(t,e,n){t=i(t,360)/60,e=i(e,1),n=i(n,1);var o=0|t,r=t-o,s=Math.round(255*n*(1-e)),a=Math.round(255*n*(1-e*r)),l=Math.round(255*n*(1-e*(1-r)));switch(n=Math.round(255*n),o){case 1:return[a,n,s];case 2:return[s,n,l];case 3:return[s,a,n];case 4:return[l,s,n];case 5:return[n,s,a]}return[n,l,s]}this.setColor=function(t){if(this.success=!0,"number"==typeof t)return this.a=(t>>24&255)/255,this.r=t>>16&255,this.g=t>>8&255,void(this.b=255&t);for(;"object"==typeof t;){if(0 in t&&1 in t&&2 in t)return this.a=i(t[3],1),this.r=i(t[0]),this.g=i(t[1]),void(this.b=i(t[2]));if("r"in t&&"g"in t&&"b"in t)return this.a=i(t.a,1),this.r=i(t.r),this.g=i(t.g),void(this.b=i(t.b));if("h"in t&&"s"in t){var n;if("l"in t)n=o(t.h,t.s,t.l);else if("v"in t)n=a(t.h,t.s,t.v);else{if(!("b"in t))break;n=a(t.h,t.s,t.b)}return this.a=i(t.a,1),this.r=n[0],this.g=n[1],void(this.b=n[2])}break}if("string"==typeof t){var r,l;if("transparent"===(t=t.toLowerCase().replace(/[^a-z0-9,.()#%]/g,"")))return void(this.a=this.r=this.g=this.b=0);if("rand"===t)return l=16777215*Math.random()|0,this.a=1,this.r=l>>16&255,this.g=l>>8&255,void(this.b=255&l);if(e!==s[t]&&(t="#"+s[t]),r=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/.exec(t))return this.a=1,this.r=parseInt(r[1],16),this.g=parseInt(r[2],16),void(this.b=parseInt(r[3],16));if(r=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/.exec(t))return this.a=1,this.r=parseInt(r[1]+r[1],16),this.g=parseInt(r[2]+r[2],16),void(this.b=parseInt(r[3]+r[3],16));if(r=/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(t))return this.a=i(r[5],1),this.r=i(r[1]),this.g=i(r[2]),void(this.b=i(r[3]));if(r=/^rgba?\(([0-9.]+\%),([0-9.]+\%),([0-9.]+\%)(,([0-9.]+)\%?)?\)$/.exec(t))return this.a=i(r[5],1),this.r=Math.round(2.55*i(r[1],100)),this.g=Math.round(2.55*i(r[2],100)),void(this.b=Math.round(2.55*i(r[3],100)));if(r=/^hs([bvl])a?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(t))return l=("l"===r[1]?o:a)(parseInt(r[2],10),parseInt(r[3],10),parseInt(r[4],10)),this.a=i(r[6],1),this.r=l[0],this.g=l[1],void(this.b=l[2]);if(r=/^(\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?$/.exec(t))return this.a=i(r[5],1),this.r=i(r[1]),this.g=i(r[2]),void(this.b=i(r[3]))}this.success=!1},this.getColor=function(t){if(e!==t)switch(t.toLowerCase()){case"rgb":return this.getRGB();case"hsv":case"hsb":return this.getHSV();case"hsl":return this.getHSL();case"int":return this.getInt();case"array":return this.getArray();case"fraction":return this.getFraction();case"css":case"style":return this.getCSS();case"name":return this.getName()}return this.getHex()},this.getRGB=function(){return this.success?{r:this.r,g:this.g,b:this.b,a:this.a}:null},this.getCSS=function(){return this.success?0===this.a?"transparent":1===this.a?"rgb("+this.r+","+this.g+","+this.b+")":r(this.r,this.g,this.b,this.a):null},this.getArray=function(){return this.success?[this.r,this.g,this.b,100*this.a|0]:null},this.getName=function(){if(this.success){var t,e=null,i=s,o=this.getHSL();for(var r in i){var a=new n(i[r]).getHSL(),l=Math.sqrt(.5*(o.h-a.h)*(o.h-a.h)+.5*(o.s-a.s)*(o.s-a.s)+(o.l-a.l)*(o.l-a.l));(null===e||l<e)&&(e=l,t=r)}return t}return null},this.getFraction=function(){return this.success?{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}:null},this.getHSL=function(){if(this.success){var t,e,n=this.r/255,i=this.g/255,o=this.b/255,r=Math.min(n,i,o),s=Math.max(n,i,o),a=s-r,l=(s+r)/2;return 0===a?(t=0,e=0):(t=n===s?(i-o)/a:i===s?2+(o-n)/a:4+(n-i)/a,e=a/(l<.5?s+r:2-s-r)),{h:Math.round((6+t)%6*60),s:Math.round(100*e),l:Math.round(100*l),a:this.a}}return null},this.getHSV=function(){if(this.success){var t,e,n=this.r/255,i=this.g/255,o=this.b/255,r=Math.min(n,i,o),s=Math.max(n,i,o),a=s-r,l=s;return e=0===s?0:a/s,t=0===a?0:n===s?(i-o)/a:i===s?2+(o-n)/a:4+(n-i)/a,{h:Math.round((6+t)%6*60),s:Math.round(100*e),v:Math.round(100*l),a:this.a}}return null},this.getHex=function(){if(this.success){var t="0123456789abcdef",e=this.r>>4,n=this.g>>4,i=this.b>>4,o=15&this.r,r=15&this.g,s=15&this.b;return"#"+t.charAt(e)+t.charAt(o)+t.charAt(n)+t.charAt(r)+t.charAt(i)+t.charAt(s)}return null},this.getInt=function(t){return this.success?e!==t?(100*this.a|0)<<24^this.r<<16^this.g<<8^this.b:16777215&(this.r<<16^this.g<<8^this.b):null},this.toString=function(){return this.getHex()},this.setColor(t)}function i(e,i){var o="";do{if(""!==(o=t.css(e,i))&&"transparent"!==o&&"rgba(0, 0, 0, 0)"!==o||t.nodeName(e,"body"))break}while(e=e.parentNode);return""===o&&(o=t.support.rgba?"transparent":"backgroundColor"===i?"white":"black"),new n(o)}function o(){this.test=function(t){var e=new n(t);return e.success?e:null},this.red=function(t){var e=new n(t);return e.success?(e.g=255,e.b=255,e):null},this.blue=function(t){var e=new n(t);return e.success?(e.r=255,e.g=255,e):null},this.green=function(t){var e=new n(t);return e.success?(e.r=255,e.b=255,e):null},this.sepia=function(t){var e=new n(t);if(e.success){var i=e.r,o=e.g,r=e.b;return e.r=Math.round(.393*i+.769*o+.189*r),e.g=Math.round(.349*i+.686*o+.168*r),e.b=Math.round(.272*i+.534*o+.131*r),e}return null},this.random=function(){return new n([255*Math.random()|0,255*Math.random()|0,255*Math.random()|0])},this.inverse=function(t){var e=new n(t);return e.success?(e.r^=255,e.g^=255,e.b^=255,e):null},this.opacity=function(t,e,i){var o=new n(t),r=new n(e);return o.success&r.success?(i>1&&(i/=100),i=Math.max(i-1+r.a,0),o.r=Math.round((r.r-o.r)*i+o.r),o.g=Math.round((r.g-o.g)*i+o.g),o.b=Math.round((r.b-o.b)*i+o.b),o):null},this.greyfilter=function(t,e){var i,o=new n(t);if(o.success){switch(e){case 1:i=.35+13*(o.r+o.g+o.b)/60;break;case 2:i=(13*(o.r+o.g+o.b)+5355)/60;break;default:i=.3*o.r+.59*o.g+.11*o.b}return o.r=o.g=o.b=Math.min(0|i,255),o}return null},this.webround=function(t){var e=new n(t);return e.success?((e.r+=51-e.r%51)>255&&(e.r=255),(e.g+=51-e.g%51)>255&&(e.g=255),(e.b+=51-e.b%51)>255&&(e.b=255),e):null},this.distance=function(t,e){var i=new n(t),o=new n(e);return i.success&o.success?Math.sqrt(3*(o.r-i.r)*(o.r-i.r)+4*(o.g-i.g)*(o.g-i.g)+2*(o.b-i.b)*(o.b-i.b)):null},this.readable=function(t,e,i){var o=new n(e),r=new n(t);if(i=i||10,o.success&r.success){var s=.299*r.r+.587*r.g+.114*r.b-.299*o.r-.587*o.g-.114*o.b;return!(s<1.5+141.162*Math.pow(.975,i)&&s>-.5-154.709*Math.pow(.99,i))}return null},this.combine=function(t,e){var i=new n(t),o=new n(e);return i.success&o.success?(i.r^=o.r,i.g^=o.g,i.b^=o.b,i):null},this.breed=function(t,e){var i=new n(t),o=new n(e),r=0,s=6;if(i.success&o.success){for(;s--;)Math.random()<.5&&(r|=15<<(s<<2));return i.r=i.r&r>>16&255|o.r&(r>>16&255^255),i.g=i.g&r>>8&255|o.g&(r>>8&255^255),i.b=i.b&r>>0&255|o.b&(r>>0&255^255),i}return null},this.additive=function(t,e){var i=new n(t),o=new n(e);return i.success&o.success?((i.r+=o.r)>255&&(i.r=255),(i.g+=o.g)>255&&(i.g=255),(i.b+=o.b)>255&&(i.b=255),i):null},this.subtractive=function(t,e){var i=new n(t),o=new n(e);return i.success&o.success?((i.r+=o.r-255)<0&&(i.r=0),(i.g+=o.g-255)<0&&(i.g=0),(i.b+=o.b-255)<0&&(i.b=0),i):null},this.subtract=function(t,e){var i=new n(t),o=new n(e);return i.success&o.success?((i.r-=o.r)<0&&(i.r=0),(i.g-=o.g)<0&&(i.g=0),(i.b-=o.b)<0&&(i.b=0),i):null},this.multiply=function(t,e){var i=new n(t),o=new n(e);return i.success&o.success?(i.r=i.r/255*o.r|0,i.g=i.g/255*o.g|0,i.b=i.b/255*o.b|0,i):null},this.average=function(t,e){var i=new n(t),o=new n(e);return i.success&o.success?(i.r=i.r+o.r>>1,i.g=i.g+o.g>>1,i.b=i.b+o.b>>1,i):null},this.triad=function(t){var e=new n(t);return e.success?[e,new n([e.b,e.r,e.g]),new n([e.g,e.b,e.r])]:null},this.tetrad=function(t){var e=new n(t);return e.success?[e,new n([e.b,e.r,e.b]),new n([e.b,e.g,e.r]),new n([e.r,e.b,e.r])]:null},this.gradientlevel=function(t,i,o,r){if(e===r&&(r=1),o>r)return null;var s=new n(t),a=new n(i);return s.success&a.success?(s.r=s.r+(a.r-s.r)/r*o|0,s.g=s.g+(a.g-s.g)/r*o|0,s.b=s.b+(a.b-s.b)/r*o|0,s):null},this.gradientarray=function(e,i,o){if(i>o||!e.length)return null;if(1==e.length)return new n(e[0]);var r=i*(e.length-1)/(o+1)|0,s=o/(e.length-1);return t.xcolor.gradientlevel(e[r],e[r+1],i-r*s,s)},this.nearestname=function(t){return(t=new n(t)).success?t.getName():null},this.darken=function(t,i,o){if(e===i)i=1;else if(i<0)return this.lighten(t,-i,o);e===o&&(o=32);var r=new n(t);return r.success?((r.r-=o*i)<0&&(r.r=0),(r.g-=o*i)<0&&(r.g=0),(r.b-=o*i)<0&&(r.b=0),r):null},this.lighten=function(t,i,o){if(e===i)i=1;else if(i<0)return this.darken(t,-i,o);e===o&&(o=32);var r=new n(t);return r.success?((r.r+=o*i)>255&&(r.r=255),(r.g+=o*i)>255&&(r.g=255),(r.b+=o*i)>255&&(r.b=255),r):null},this.analogous=function(t,i,o){e===i&&(i=8),e===o&&(o=30);var r=new n(t);if(r.success){var s=r.getHSV(),a=360/o,l=[r];for(s.h=(s.h-(a*i>>1)+720)%360;--i;)s.h+=a,s.h%=360,l.push(new n(s));return l}return null},this.complementary=function(t){var e=new n(t);if(e.success){var i=e.getHSL();return i.h=(i.h+180)%360,new n(i)}return null},this.splitcomplement=function(t){var e=new n(t);if(e.success){var i=e.getHSV(),o=[e];return i.h+=72,i.h%=360,o.push(new n(i)),i.h+=144,i.h%=360,o.push(new n(i)),o}return null},this.monochromatic=function(t,i){e===i&&(i=6);var o=new n(t);if(o.success){for(var r=o.getHSV(),s=[o];--i;)r.v+=20,r.v%=100,s.push(new n(r));return s}return null}}var r,s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",
skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};t.each(["color","backgroundColor","borderColor","borderTopColor","borderBottomColor","borderLeftColor","borderRightColor","outlineColor"],(function(o,s){t.cssHooks[s]={set:function(t,e){t.style[s]=new n(e).getCSS()}},t.fx.step[s]=function(t){if(e===t.xinit){if("string"==typeof t.end&&-1!==t.end.indexOf(";")){var o,a=t.end.split(";");if(a.length>2){for(o in a)-1===a[o].indexOf("native")?a[o]=new n(a[o]):a[o]=i(t.elem,s);t.start=null,t.end=a}else t.start=new n(a[0]),t.end=new n(a[1])}else t.start=i(t.elem,s),t.end=new n(t.end);t.xinit=1}var l=t.start,u=t.end,c=t.pos;if(null===l){var d=c*(u.length-1),h=c<1?0|d:u.length-2;l=u[h],u=u[h+1],c=d-h}t.elem.style[s]=r(l.r+c*(u.r-l.r)|0,l.g+c*(u.g-l.g)|0,l.b+c*(u.b-l.b)|0,l.a+c*(u.a-l.a))}})),t((function(){var e=document.createElement("div").style;r=function(t,e,n,i){return"rgba("+t+","+e+","+n+","+i+")"},e.cssText="background-color:rgba(1,1,1,.5)",(t.support.rgba=e.backgroundColor.indexOf("rgba")>-1)||(r=function(t,e,n){return"rgb("+t+","+e+","+n+")"})})),t.xcolor=new o,t.fn.readable=function(){var e=this[0],n="",i="";do{if(""!==n||"transparent"!==(n=t.css(e,"color"))&&"rgba(0, 0, 0, 0)"!==n||(n=""),""!==i||"transparent"!==(i=t.css(e,"backgroundColor"))&&"rgba(0, 0, 0, 0)"!==i||(i=""),""!==n&&""!==i||t.nodeName(e,"body"))break}while(e=e.parentNode);return""===n&&(n="black"),""===i&&(i="white"),t.xcolor.readable(i,n)},t.fn.colorize=function(t,e,i){var o={gradient:function(t,e){return t/e},flip:function(t,e,n,i){return" "===i?n:!n},pillow:function(t,e){return(t*=2)<=e?t/e:2-t/e}};if("function"==typeof i);else{if(void 0===o[i])return;i=o[i]}t=new n(t),e=new n(e),this.each((function(){var n=this.childNodes,o=0,s=0;if(t.success&e.success){for(var a=n.length;a--;o+=n[a].textContent.length);!function n(a){var l,u=0;if(3===a.nodeType){var c,d,h,f=t,p=e,g=o,m=0,v=i;for(l=a.nodeValue.length,d=document.createElement("span"),u=0;u<l;++u)c=document.createElement("span"),h=a.nodeValue.charAt(u),m=v(s,g,m,h),c.style.color=r(f.r+m*(p.r-f.r)|0,f.g+m*(p.g-f.g)|0,f.b+m*(p.b-f.b)|0,f.a+m*(p.a-f.a)),c.appendChild(document.createTextNode(h)),d.appendChild(c),++s;a.parentNode.replaceChild(d,a)}else for(l=a.childNodes.length;u<l;++u)n(a.childNodes[u])}(this)}}))}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one("bsTransitionEnd",(function(){n=!0})),setTimeout((function(){n||t(i).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)}))}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t(r);e&&e.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),o=i.data("bs.button"),r="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)}))}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.2",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy((function(){i[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))}),this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))}))}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof e?o.to(e):s?o[s]():r.interval&&o.pause().cycle()}))}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){e.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),s=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var u=r[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",(function(){r.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger(h)}),0)})).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),e.call(r,s),a&&r.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var n=t(this);e.call(n,n.data())}))}))}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each((function(){var n=t(this),o=n.data("bs.collapse"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&r.toggle&&"show"==e&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof e&&o[e]()}))}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.2",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"))&&e.transitioning)){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return o.call(this);this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy((function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)}),this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var r=e(o),s=r.data("bs.collapse")?"toggle":t.extend({},o.data(),{trigger:this});n.call(r,s)}))}(jQuery),function(t){"use strict";function e(e){e&&3===e.which||(t(o).remove(),t(r).each((function(){var i=t(this),o=n(i),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r)))})))}function n(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each((function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)}))}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.2",s.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=n(o),s=r.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(!s&&27!=e.which||s&&27==e.which)return 27==e.which&&o.find(r).trigger("focus"),i.trigger("click");var a=" li:not(.divider):visible a",l=o.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var u=l.index(e.target);38==e.which&&u>0&&u--,40==e.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,i){return this.each((function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new n(this,s)),"string"==typeof e?r[e](i):s.show&&r.show(i)}))}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop((function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$element.find(".modal-dialog").one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(r)})).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)})))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")}),this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")}))},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy((function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(n){var i=t(this),o=i.attr("href"),r=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",(function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",(function(){i.is(":visible")&&i.trigger("focus")}))})),e.call(r,s,this)}))}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof e&&e;(o||"destroy"!=e)&&(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof e&&o[e]())}))}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,(function(t,i){n[t]!=i&&(e[t]=i)})),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n&&n.$tip&&n.$tip.is(":visible"))n.hoverState="in";else{if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)}},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var c=this.getPosition(),d=r[0].offsetWidth,h=r[0].offsetHeight;if(u){var f=a,p=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(p);a="bottom"==a&&c.bottom+h>g.bottom?"top":"top"==a&&c.top-h<g.top?"bottom":"right"==a&&c.right+d>g.width?"left":"left"==a&&c.left-d<g.left?"right":a,r.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,c,d,h);this.applyPlacement(m,a);var v=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=r&&(e.top=e.top+r-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var d=/top|bottom/.test(n),h=d?2*c.left-o+l:2*c.top-r+u,f=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][f],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=this.tip(),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=i?{top:0,left:0}:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,a,r)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var u=e.left-r,c=e.left+r+n;u<s.left?o.left=s.left-u:c>s.width&&(o.left=s.left+s.width-c)}return o},n.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},n.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide((function(){t.$element.off("."+t.type).removeData("bs."+t.type)}))};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof e&&e;(o||"destroy"!=e)&&(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof e&&o[e]())}))}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.2",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t){"use strict";function e(n,i){var o=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(n).is("body")?t(window):t(n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function n(n){return this.each((function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,r)),"string"==typeof n&&o[n]()}))}e.VERSION="3.3.2",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map((function(){var i=t(this),o=i.data("target")||i.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[e]().top+n,o]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){i.offsets.push(this[0]),i.targets.push(this[1])}))},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget
;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);n.call(e,e.data())}))}))}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()}))}var n=function(e){this.element=t(e)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),(function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})}))}}},n.prototype.activate=function(e,i,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=i.find("> .active"),a=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),o=i.data("bs.affix"),r="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof e&&o[e]()}))}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.2",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+s<=t-i)&&"bottom";var a=null==this.affixed,l=a?o:r.top;return null!=n&&o<=n?"top":null!=i&&l+(a?s:e)>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,s=t("body").height();"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var a=this.getState(s,e,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-r})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",(function(){t('[data-spy="affix"]').each((function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)}))}))}(jQuery),function(t){"use strict";function e(e,n){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input size="'+this.inputSize+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(n)}function n(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function i(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}function o(t){return t?a.text(t).html():""}function r(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}var s={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(t,e){e.hide().fadeIn()}};e.prototype={constructor:e,add:function(e,n){var i=this;if(!(i.options.maxTags&&i.itemsArray.length>=i.options.maxTags)&&(!1===e||e)){if("object"==typeof e&&!i.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(i.isSelect&&!i.multiple&&i.itemsArray.length>0&&i.remove(i.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var r=e.split(",");if(r.length>1){for(var s=0;s<r.length;s++)this.add(r[s],!0);return void(n||i.pushVal())}}var a=i.options.itemValue(e),l=i.options.itemText(e),u=i.options.tagClass(e),c=t.grep(i.itemsArray,(function(t){return i.options.itemValue(t)===a}))[0];if(c){if(i.options.onTagExists){var d=t(".tag",i.$container).filter((function(){return t(this).data("item")===c}));i.options.onTagExists(e,d)}}else{i.itemsArray.push(e);var h=t('<span class="tag '+o(u)+'">'+o(l)+'<span data-role="remove"></span></span>');if(h.data("item",e),i.findInputWrapper().before(h),h.after(" "),i.isSelect&&!t('option[value="'+escape(a)+'"]',i.$element)[0]){var f=t("<option selected>"+o(l)+"</option>");f.data("item",e),f.attr("value",a),i.$element.append(f)}n||i.pushVal(),i.options.maxTags===i.itemsArray.length&&i.$container.addClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemAdded",{item:e}))}}}},remove:function(e,n){var i=this;i.objectItems&&(e="object"==typeof e?t.grep(i.itemsArray,(function(t){return i.options.itemValue(t)==i.options.itemValue(e)}))[0]:t.grep(i.itemsArray,(function(t){return i.options.itemValue(t)==e}))[0]),e&&(t(".tag",i.$container).filter((function(){return t(this).data("item")===e})).remove(),t("option",i.$element).filter((function(){return t(this).data("item")===e})).remove(),i.itemsArray.splice(t.inArray(e,i.itemsArray),1)),n||i.pushVal(),i.options.maxTags>i.itemsArray.length&&i.$container.removeClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemRemoved",{item:e}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal(),e.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var e=this;t(".tag",e.$container).each((function(){var n=t(this),i=n.data("item"),r=e.options.itemValue(i),s=e.options.itemText(i),a=e.options.tagClass(i);(n.attr("class",null),n.addClass("tag "+o(a)),n.contents().filter((function(){return 3==this.nodeType}))[0].nodeValue=o(s),e.isSelect)&&t("option",e.$element).filter((function(){return t(this).data("item")===i})).attr("value",r)}))},items:function(){return this.itemsArray},pushVal:function(){var e=this,n=t.map(e.items(),(function(t){return e.options.itemValue(t).toString()}));e.$element.val(n,!0).trigger("change")},build:function(e){var o=this;o.options=t.extend({},s,e);var a=o.options.typeahead||{};o.objectItems&&(o.options.freeInput=!1),n(o.options,"itemValue"),n(o.options,"itemText"),n(o.options,"tagClass"),o.options.source&&(a.source=o.options.source),a.source&&t.fn.typeahead&&(i(a,"source"),o.$input.typeahead({source:function(e,n){function i(t){for(var e=[],i=0;i<t.length;i++){var s=o.options.itemText(t[i]);r[s]=t[i],e.push(s)}n(e)}this.map={};var r=this.map,s=a.source(e);t.isFunction(s.success)?s.success(i):t.when(s).then(i)},updater:function(t){o.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}})),o.$container.on("click",t.proxy((function(){o.$input.focus()}),o)),o.$container.on("keydown","input",t.proxy((function(e){var n=t(e.target),i=o.findInputWrapper();switch(e.which){case 8:if(0===r(n[0])){var s=i.prev();s&&o.remove(s.data("item"))}break;case 46:if(0===r(n[0])){var a=i.next();a&&o.remove(a.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var u=i.next();0===n.val().length&&u[0]&&(u.after(i),n.focus());break;default:o.options.freeInput&&t.inArray(e.which,o.options.confirmKeys)>=0&&(o.add(n.val()),n.val(""),e.preventDefault())}n.attr("size",Math.max(this.inputSize,n.val().length))}),o)),o.$container.on("click","[data-role=remove]",t.proxy((function(e){o.remove(t(e.target).closest(".tag").data("item"))}),o)),o.options.itemValue===s.itemValue&&("INPUT"===o.$element[0].tagName?o.add(o.$element.val()):t("option",o.$element).each((function(){o.add(t(this).attr("value"),!0)})))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],n=this.$container[0];e&&e.parentNode!==n;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(n,i){var o=[];return this.each((function(){var r=t(this).data("tagsinput");if(r){var s=r[n](i);void 0!==s&&o.push(s)}else r=new e(this,n),t(this).data("tagsinput",r),o.push(r),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())})),"string"==typeof n?o.length>1?o:o[0]:o},t.fn.tagsinput.Constructor=e;var a=t("<div />");t((function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()}))}(window.jQuery),"undefined"==typeof jQuery)throw new Error("Jasny Bootstrap's JavaScript requires jQuery");!function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}void 0===t.support.transition&&(t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one(t.support.transition.end,(function(){n=!0})),setTimeout((function(){n||t(i).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=e()})))}(window.jQuery),function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),t(window).on("resize",t.proxy(this.recalc,this))),this.options.autohide&&t(document).on("click",t.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};e.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0},e.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},e.prototype.calcPlacement=function(){function e(t,e){return"auto"===o.css(e)?t:"auto"===o.css(t)||parseInt(o.css(t),10)>parseInt(o.css(e),10)?e:t}if("auto"===this.options.placement){this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var n=t(window).width()/this.$element.width(),i=t(window).height()/this.$element.height(),o=this.$element;this.placement=n>=i?e("left","right"):e("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")}else this.placement=this.options.placement},e.prototype.opposite=function(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},e.prototype.getCanvasElements=function(){var e=this.options.canvas?t(this.options.canvas):this.$element,n=e.find("*").filter((function(){return"fixed"===t(this).css("position")})).not(this.options.exclude);return e.add(n)},e.prototype.slide=function(e,n,i){if(!t.support.transition){var o={};return o[this.placement]="+="+n,e.animate(o,350,i)}var r=this.placement,s=this.opposite(r);e.each((function(){"auto"!==t(this).css(r)&&t(this).css(r,(parseInt(t(this).css(r),10)||0)+n),"auto"!==t(this).css(s)&&t(this).css(s,(parseInt(t(this).css(s),10)||0)-n)})),this.$element.one(t.support.transition.end,i).emulateTransitionEnd(350)},e.prototype.disableScrolling=function(){var e=t("body").width(),n="padding-"+this.opposite(this.placement);if(void 0===t("body").data("offcanvas-style")&&t("body").data("offcanvas-style",t("body").attr("style")||""),t("body").css("overflow","hidden"),t("body").width()>e){var i=parseInt(t("body").css(n),10)+t("body").width()-e;setTimeout((function(){t("body").css(n,i)}),1)}},e.prototype.show=function(){if(!this.state){var e=t.Event("show.bs.offcanvas");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.state="slide-in",this.calcPlacement();var n=this.getCanvasElements(),i=this.placement,o=this.opposite(i),r=this.offset();-1!==n.index(this.$element)&&(t(this.$element).data("offcanvas-style",t(this.$element).attr("style")||""),this.$element.css(i,-1*r),this.$element.css(i)),n.addClass("canvas-sliding").each((function(){void 0===t(this).data("offcanvas-style")&&t(this).data("offcanvas-style",t(this).attr("style")||""),"static"===t(this).css("position")&&t(this).css("position","relative"),"auto"!==t(this).css(i)&&"0px"!==t(this).css(i)||"auto"!==t(this).css(o)&&"0px"!==t(this).css(o)||t(this).css(i,0)})),this.options.disableScrolling&&this.disableScrolling();var s=function(){"slide-in"==this.state&&(this.state="slid",n.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas"))};setTimeout(t.proxy((function(){this.$element.addClass("in"),this.slide(n,r,t.proxy(s,this))}),this),1)}}},e.prototype.hide=function(){if("slid"===this.state){var e=t.Event("hide.bs.offcanvas");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.state="slide-out";var n=t(".canvas-slid"),i=(this.placement,-1*this.offset()),o=function(){"slide-out"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass("in"),n.removeClass("canvas-sliding"),n.add(this.$element).add("body").each((function(){t(this).attr("style",t(this).data("offcanvas-style")).removeData("offcanvas-style")})),this.$element.trigger("hidden.bs.offcanvas"))};n.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout(t.proxy((function(){this.slide(n,i,t.proxy(o,this))}),this),1)}}},e.prototype.toggle=function(){"slide-in"!==this.state&&"slide-out"!==this.state&&this["slid"===this.state?"hide":"show"]()},e.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(t("body"))},e.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.state=null,this.placement=null;var e=this.getCanvasElements();this.$element.removeClass("in"),e.removeClass("canvas-slid"),e.add(this.$element).add("body").each((function(){t(this).attr("style",t(this).data("offcanvas-style")).removeData("offcanvas-style")}))}},e.prototype.autohide=function(e){0===t(e.target).closest(this.$element).length&&this.hide()};var n=t.fn.offcanvas;t.fn.offcanvas=function(n){return this.each((function(){var i=t(this),o=i.data("bs.offcanvas"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.offcanvas",o=new e(this,r)),"string"==typeof n&&o[n]()}))},t.fn.offcanvas.Constructor=e,t.fn.offcanvas.noConflict=function(){return t.fn.offcanvas=n,this},t(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",(function(e){var n,i=t(this),o=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(o),s=r.data("bs.offcanvas"),a=s?"toggle":i.data();e.stopPropagation(),s?s.toggle():r.offcanvas(a)}))}(window.jQuery),function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",t.proxy(this.click,this))};e.DEFAULTS={target:"a"},e.prototype.click=function(e){var n=t(e.currentTarget).closest("tr").find(this.options.target)[0];if(t(e.target)[0]!==n)if(e.preventDefault(),n.click)n.click();else if(document.createEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)}};var n=t.fn.rowlink;t.fn.rowlink=function(n){return this.each((function(){var i=t(this),o=i.data("bs.rowlink");o||i.data("bs.rowlink",o=new e(this,n))}))},t.fn.rowlink.Constructor=e,t.fn.rowlink.noConflict=function(){return t.fn.rowlink=n,this},t(document).on("click.bs.rowlink.data-api",'[data-link="row"]',(function(e){if(0===t(e.target).closest(".rowlink-skip").length){var n=t(this);n.data("bs.rowlink")||(n.rowlink(n.data()),t(e.target).trigger("click.bs.rowlink"))}}))}(window.jQuery),function(t){"use strict";var e=void 0!==window.orientation,n=navigator.userAgent.toLowerCase().indexOf("android")>-1,i="Microsoft Internet Explorer"==window.navigator.appName,o=function(e,i){n||(this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};o.DEFAULTS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]",w:"[A-Za-z0-9]","*":"."}},o.prototype.init=function(){var e=this.options.definitions;this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,t.each(this.mask.split(""),t.proxy((function(t,n){"?"==n?(this.partialPosition=t):e[n]?(this.tests.push(new RegExp(e[n])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)}),this)),this.buffer=t.map(this.mask.split(""),t.proxy((function(t){if("?"!=t)return e[t]?this.options.placeholder:t}),this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",t.proxy((function(){return t.map(this.buffer,(function(t,e){return this.tests[e]&&t!=this.options.placeholder?t:null})).join("")}),this))},o.prototype.listen=function(){if(!this.$element.attr("readonly")){var e=(i?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",t.proxy(this.unmask,this)).on("focus.bs.inputmask",t.proxy(this.focusEvent,this)).on("blur.bs.inputmask",t.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",t.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",t.proxy(this.keypressEvent,this)).on(e,t.proxy(this.pasteEvent,this))}},o.prototype.caret=function(t,e){if(0!==this.$element.length){if("number"==typeof t)return e="number"==typeof e?e:t,this.$element.each((function(){if(this.setSelectionRange)this.setSelectionRange(t,e);else if(this.createTextRange){var n=this.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()}}));if(this.$element[0].setSelectionRange)t=this.$element[0].selectionStart,e=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var n=document.selection.createRange();t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length}return{begin:t,end:e}}},o.prototype.seekNext=function(t){for(var e=this.mask.length;++t<=e&&!this.tests[t];);return t},o.prototype.seekPrev=function(t){for(;--t>=0&&!this.tests[t];);return t},o.prototype.shiftL=function(t,e){var n=this.mask.length;if(!(t<0)){for(var i=t,o=this.seekNext(e);i<n;i++)if(this.tests[i]){if(!(o<n&&this.tests[i].test(this.buffer[o])))break;this.buffer[i]=this.buffer[o],this.buffer[o]=this.options.placeholder,o=this.seekNext(o)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}},o.prototype.shiftR=function(t){for(var e=this.mask.length,n=t,i=this.options.placeholder;n<e;n++)if(this.tests[n]){var o=this.seekNext(n),r=this.buffer[n];if(this.buffer[n]=i,!(o<e&&this.tests[o].test(r)))break;i=r}},o.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},o.prototype.focusEvent=function(){this.focusText=this.$element.val();var t=this.mask.length,e=this.checkVal();this.writeBuffer();var n=this,i=function(){e==t?n.caret(0,e):n.caret(e)};i(),setTimeout(i,50)},o.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},o.prototype.keydownEvent=function(t){var n=t.which;if(8==n||46==n||e&&127==n){var i=this.caret(),o=i.begin,r=i.end;return r-o==0&&(o=46!=n?this.seekPrev(o):r=this.seekNext(o-1),r=46==n?this.seekNext(r):r),this.clearBuffer(o,r),this.shiftL(o,r-1),!1}if(27==n)return this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1},o.prototype.keypressEvent=function(t){var e=this.mask.length,n=t.which,i=this.caret();if(t.ctrlKey||t.altKey||t.metaKey||n<32)return!0;if(n){i.end-i.begin!=0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1));var o=this.seekNext(i.begin-1);if(o<e){var r=String.fromCharCode(n);if(this.tests[o].test(r)){this.shiftR(o),this.buffer[o]=r,this.writeBuffer();var s=this.seekNext(o);this.caret(s)}}return!1}},o.prototype.pasteEvent=function(){var t=this;setTimeout((function(){t.caret(t.checkVal(!0))}),0)},o.prototype.clearBuffer=function(t,e){for(var n=this.mask.length,i=t;i<e&&i<n;i++)this.tests[i]&&(this.buffer[i]=this.options.placeholder)},o.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},o.prototype.checkVal=function(t){for(var e=this.mask.length,n=this.$element.val(),i=-1,o=0,r=0;o<e;o++)if(this.tests[o]){for(this.buffer[o]=this.options.placeholder;r++<n.length;){var s=n.charAt(r-1);if(this.tests[o].test(s)){this.buffer[o]=s,i=o;break}}if(r>n.length)break}else this.buffer[o]==n.charAt(r)&&o!=this.partialPosition&&(r++,i=o);return!t&&i+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,e)):(t||i+1>=this.partialPosition)&&(this.writeBuffer(),t||this.$element.val(this.$element.val().substring(0,i+1))),this.partialPosition?o:this.firstNonMaskPos};var r=t.fn.inputmask;t.fn.inputmask=function(e){return this.each((function(){var n=t(this),i=n.data("bs.inputmask");i||n.data("bs.inputmask",i=new o(this,e))}))},t.fn.inputmask.Constructor=o,t.fn.inputmask.noConflict=function(){return t.fn.inputmask=r,this},t(document).on("focus.bs.inputmask.data-api","[data-mask]",(function(){var e=t(this);e.data("bs.inputmask")||e.inputmask(e.data())}))}(window.jQuery),function(t){"use strict";var e="Microsoft Internet Explorer"==window.navigator.appName,n=function(e,n){if(this.$element=t(e),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||n.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=t('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var i=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==i&&"none"!==i&&this.$preview.css("line-height",i),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};n.prototype.listen=function(){this.$input.on("change.bs.fileinput",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.bs.fileinput",t.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",t.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",t.proxy(this.clear,this))},n.prototype.change=function(e){var n=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(e.stopPropagation(),0!==n.length){this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var i=n[0];if(this.$preview.length>0&&(void 0!==i.type?i.type.match(/^image\/(gif|png|jpeg)$/):i.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var o=new FileReader,r=this.$preview,s=this.$element;o.onload=function(e){var o=t("<img>");o[0].src=e.target.result,n[0].result=e.target.result,s.find(".fileinput-filename").text(i.name),"none"!=r.css("max-height")&&o.css("max-height",parseInt(r.css("max-height"),10)-parseInt(r.css("padding-top"),10)-parseInt(r.css("padding-bottom"),10)-parseInt(r.css("border-top"),10)-parseInt(r.css("border-bottom"),10)),r.html(o),s.addClass("fileinput-exists").removeClass("fileinput-new"),s.trigger("change.bs.fileinput",n)},o.readAsDataURL(i)}else this.$element.find(".fileinput-filename").text(i.name),this.$preview.text(i.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")}else this.clear()},n.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),e){var n=this.$input.clone(!0);this.$input.after(n),this.$input.remove(),this.$input=n}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==t&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},n.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},n.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var i=t.fn.fileinput;t.fn.fileinput=function(e){return this.each((function(){var i=t(this),o=i.data("bs.fileinput");o||i.data("bs.fileinput",o=new n(this,e)),"string"==typeof e&&o[e]()}))},t.fn.fileinput.Constructor=n,t.fn.fileinput.noConflict=function(){return t.fn.fileinput=i,this},t(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',(function(e){var n=t(this);if(!n.data("bs.fileinput")){n.fileinput(n.data());var i=t(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');i.length>0&&(e.preventDefault(),i.trigger("click.bs.fileinput"))}}))}(window.jQuery),function(){var t=this,e=t._,n={},i=Array.prototype,o=Object.prototype,r=Function.prototype,s=i.push,a=i.slice,l=i.concat,u=o.toString,c=o.hasOwnProperty,d=i.forEach,h=i.map,f=i.reduce,p=i.reduceRight,g=i.filter,m=i.every,v=i.some,b=i.indexOf,y=i.lastIndexOf,w=Array.isArray,_=Object.keys,x=r.bind,C=function(t){return t instanceof C?t:this instanceof C?void(this._wrapped=t):new C(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):t._=C,C.VERSION="1.5.1";var k=C.each=C.forEach=function(t,e,i){if(null!=t)if(d&&t.forEach===d)t.forEach(e,i);else if(t.length===+t.length){for(var o=0,r=t.length;o<r;o++)if(e.call(i,t[o],o,t)===n)return}else for(var s in t)if(C.has(t,s)&&e.call(i,t[s],s,t)===n)return};C.map=C.collect=function(t,e,n){var i=[];return null==t?i:h&&t.map===h?t.map(e,n):(k(t,(function(t,o,r){i.push(e.call(n,t,o,r))})),i)};var T="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,e,n,i){var o=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return i&&(e=C.bind(e,i)),o?t.reduce(e,n):t.reduce(e);if(k(t,(function(t,r,s){o?n=e.call(i,n,t,r,s):(n=t,o=!0)})),!o)throw new TypeError(T);return n},C.reduceRight=C.foldr=function(t,e,n,i){var o=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return i&&(e=C.bind(e,i)),o?t.reduceRight(e,n):t.reduceRight(e);var r=t.length;if(r!==+r){var s=C.keys(t);r=s.length}if(k(t,(function(a,l,u){l=s?s[--r]:--r,o?n=e.call(i,n,t[l],l,u):(n=t[l],o=!0)})),!o)throw new TypeError(T);return n},C.find=C.detect=function(t,e,n){var i;return S(t,(function(t,o,r){if(e.call(n,t,o,r))return i=t,!0})),i},C.filter=C.select=function(t,e,n){var i=[];return null==t?i:g&&t.filter===g?t.filter(e,n):(k(t,(function(t,o,r){e.call(n,t,o,r)&&i.push(t)})),i)},C.reject=function(t,e,n){return C.filter(t,(function(t,i,o){return!e.call(n,t,i,o)}),n)},C.every=C.all=function(t,e,i){e||(e=C.identity);var o=!0;return null==t?o:m&&t.every===m?t.every(e,i):(k(t,(function(t,r,s){if(!(o=o&&e.call(i,t,r,s)))return n})),!!o)};var S=C.some=C.any=function(t,e,i){e||(e=C.identity);var o=!1;return null==t?o:v&&t.some===v?t.some(e,i):(k(t,(function(t,r,s){if(o||(o=e.call(i,t,r,s)))return n})),!!o)};C.contains=C.include=function(t,e){return null!=t&&(b&&t.indexOf===b?-1!=t.indexOf(e):S(t,(function(t){return t===e})))},C.invoke=function(t,e){var n=a.call(arguments,2),i=C.isFunction(e);return C.map(t,(function(t){return(i?e:t[e]).apply(t,n)}))},C.pluck=function(t,e){return C.map(t,(function(t){return t[e]}))},C.where=function(t,e,n){return C.isEmpty(e)?n?void 0:[]:C[n?"find":"filter"](t,(function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0}))},C.findWhere=function(t,e){return C.where(t,e,!0)},C.max=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&C.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return k(t,(function(t,o,r){var s=e?e.call(n,t,o,r):t;s>i.computed&&(i={value:t,computed:s})})),i.value},C.min=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&C.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return k(t,(function(t,o,r){var s=e?e.call(n,t,o,r):t;s<i.computed&&(i={value:t,computed:s})})),i.value},C.shuffle=function(t){var e,n=0,i=[];return k(t,(function(t){e=C.random(n++),i[n-1]=i[e],i[e]=t})),i};var E=function(t){return C.isFunction(t)?t:function(e){return e[t]}};C.sortBy=function(t,e,n){var i=E(e);return C.pluck(C.map(t,(function(t,e,o){return{value:t,index:e,criteria:i.call(n,t,e,o)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index<e.index?-1:1})),"value")};var N=function(t,e,n,i){var o={},r=E(null==e?C.identity:e);return k(t,(function(e,s){var a=r.call(n,e,s,t);i(o,a,e)})),o};C.groupBy=function(t,e,n){return N(t,e,n,(function(t,e,n){(C.has(t,e)?t[e]:t[e]=[]).push(n)}))},C.countBy=function(t,e,n){return N(t,e,n,(function(t,e){C.has(t,e)||(t[e]=0),t[e]++}))},C.sortedIndex=function(t,e,n,i){for(var o=(n=null==n?C.identity:E(n)).call(i,e),r=0,s=t.length;r<s;){var a=r+s>>>1;n.call(i,t[a])<o?r=a+1:s=a}return r},C.toArray=function(t){return t?C.isArray(t)?a.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,n){
if(null!=t)return null==e||n?t[0]:a.call(t,0,e)},C.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},C.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var D=function(t,e,n){return e&&C.every(t,C.isArray)?l.apply(n,t):(k(t,(function(t){C.isArray(t)||C.isArguments(t)?e?s.apply(n,t):D(t,e,n):n.push(t)})),n)};C.flatten=function(t,e){return D(t,e,[])},C.without=function(t){return C.difference(t,a.call(arguments,1))},C.uniq=C.unique=function(t,e,n,i){C.isFunction(e)&&(i=n,n=e,e=!1);var o=n?C.map(t,n,i):t,r=[],s=[];return k(o,(function(n,i){(e?i&&s[s.length-1]===n:C.contains(s,n))||(s.push(n),r.push(t[i]))})),r},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(t){var e=a.call(arguments,1);return C.filter(C.uniq(t),(function(t){return C.every(e,(function(e){return C.indexOf(e,t)>=0}))}))},C.difference=function(t){var e=l.apply(i,a.call(arguments,1));return C.filter(t,(function(t){return!C.contains(e,t)}))},C.zip=function(){for(var t=C.max(C.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;n<t;n++)e[n]=C.pluck(arguments,""+n);return e},C.object=function(t,e){if(null==t)return{};for(var n={},i=0,o=t.length;i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},C.indexOf=function(t,e,n){if(null==t)return-1;var i=0,o=t.length;if(n){if("number"!=typeof n)return t[i=C.sortedIndex(t,e)]===e?i:-1;i=n<0?Math.max(0,o+n):n}if(b&&t.indexOf===b)return t.indexOf(e,n);for(;i<o;i++)if(t[i]===e)return i;return-1},C.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(y&&t.lastIndexOf===y)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var o=i?n:t.length;o--;)if(t[o]===e)return o;return-1},C.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=0,r=new Array(i);o<i;)r[o++]=t,t+=n;return r};var A=function(){};C.bind=function(t,e){var n,i;if(x&&t.bind===x)return x.apply(t,a.call(arguments,1));if(!C.isFunction(t))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(a.call(arguments)));A.prototype=t.prototype;var o=new A;A.prototype=null;var r=t.apply(o,n.concat(a.call(arguments)));return Object(r)===r?r:o}},C.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},C.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return k(e,(function(e){t[e]=C.bind(t[e],t)})),t},C.memoize=function(t,e){var n={};return e||(e=C.identity),function(){var i=e.apply(this,arguments);return C.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},C.delay=function(t,e){var n=a.call(arguments,2);return setTimeout((function(){return t.apply(null,n)}),e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(a.call(arguments,1)))},C.throttle=function(t,e,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:new Date,s=null,r=t.apply(i,o)};return function(){var u=new Date;a||!1!==n.leading||(a=u);var c=e-(u-a);return i=this,o=arguments,c<=0?(clearTimeout(s),s=null,a=u,r=t.apply(i,o)):s||!1===n.trailing||(s=setTimeout(l,c)),r}},C.debounce=function(t,e,n){var i,o=null;return function(){var r=this,s=arguments,a=function(){o=null,n||(i=t.apply(r,s))},l=n&&!o;return clearTimeout(o),o=setTimeout(a,e),l&&(i=t.apply(r,s)),i}},C.once=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}},C.wrap=function(t,e){return function(){var n=[t];return s.apply(n,arguments),e.apply(this,n)}},C.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},C.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},C.keys=_||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)C.has(t,n)&&e.push(n);return e},C.values=function(t){var e=[];for(var n in t)C.has(t,n)&&e.push(t[n]);return e},C.pairs=function(t){var e=[];for(var n in t)C.has(t,n)&&e.push([n,t[n]]);return e},C.invert=function(t){var e={};for(var n in t)C.has(t,n)&&(e[t[n]]=n);return e},C.functions=C.methods=function(t){var e=[];for(var n in t)C.isFunction(t[n])&&e.push(n);return e.sort()},C.extend=function(t){return k(a.call(arguments,1),(function(e){if(e)for(var n in e)t[n]=e[n]})),t},C.pick=function(t){var e={},n=l.apply(i,a.call(arguments,1));return k(n,(function(n){n in t&&(e[n]=t[n])})),e},C.omit=function(t){var e={},n=l.apply(i,a.call(arguments,1));for(var o in t)C.contains(n,o)||(e[o]=t[o]);return e},C.defaults=function(t){return k(a.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var z=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var o=u.call(t);if(o!=u.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=n.length;r--;)if(n[r]==t)return i[r]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(C.isFunction(s)&&s instanceof s&&C.isFunction(a)&&a instanceof a))return!1;n.push(t),i.push(e);var l=0,c=!0;if("[object Array]"==o){if(c=(l=t.length)==e.length)for(;l--&&(c=z(t[l],e[l],n,i)););}else{for(var d in t)if(C.has(t,d)&&(l++,!(c=C.has(e,d)&&z(t[d],e[d],n,i))))break;if(c){for(d in e)if(C.has(e,d)&&!l--)break;c=!l}}return n.pop(),i.pop(),c};C.isEqual=function(t,e){return z(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=w||function(t){return"[object Array]"==u.call(t)},C.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],(function(t){C["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}})),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(t){return"function"==typeof t}),C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==u.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return c.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.times=function(t,e,n){for(var i=Array(Math.max(0,t)),o=0;o<t;o++)i[o]=e.call(n,o);return i},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=C.invert(P.escape);var M={escape:new RegExp("["+C.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(P.unescape).join("|")+")","g")};C.each(["escape","unescape"],(function(t){C[t]=function(e){return null==e?"":(""+e).replace(M[t],(function(e){return P[t][e]}))}})),C.result=function(t,e){if(null!=t){var n=t[e];return C.isFunction(n)?n.call(t):n}},C.mixin=function(t){k(C.functions(t),(function(e){var n=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),L.call(this,n.apply(C,t))}}))};var I=0;C.uniqueId=function(t){var e=++I+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(t,e,n){var i;n=C.defaults({},n,C.templateSettings);var o=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(o,(function(e,n,i,o,a){return s+=t.slice(r,a).replace(H,(function(t){return"\\"+O[t]})),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),r=a+e.length,e})),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(t){throw t.source=s,t}if(e)return i(e,C);var a=function(t){return i.call(this,t,C)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},C.chain=function(t){return C(t).chain()};var L=function(t){return this._chain?C(t).chain():t};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=i[t];C.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],L.call(this,n)}})),k(["concat","join","slice"],(function(t){var e=i[t];C.prototype[t]=function(){return L.call(this,e.apply(this._wrapped,arguments))}})),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var t,e=this,n=e.Backbone,i=[],o=i.push,r=i.slice,s=i.splice;(t="undefined"!=typeof exports?exports:e.Backbone={}).VERSION="1.0.0";var a=e._;a||"undefined"==typeof require||(a=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var l=t.Events={on:function(t,e,n){return c(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!c(this,"once",t,[e,n])||!e)return this;var i=this,o=a.once((function(){i.off(t,o),e.apply(this,arguments)}));return o._callback=e,this.on(t,o,n)},off:function(t,e,n){var i,o,r,s,l,u,d,h;if(!this._events||!c(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(l=0,u=(s=t?[t]:a.keys(this._events)).length;l<u;l++)if(t=s[l],r=this._events[t]){if(this._events[t]=i=[],e||n)for(d=0,h=r.length;d<h;d++)o=r[d],(e&&e!==o.callback&&e!==o.callback._callback||n&&n!==o.context)&&i.push(o);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&d(n,e),i&&d(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var o=!e&&!n;for(var r in"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t),i)i[r].off(e,n,this),o&&delete this._listeners[r];return this}},u=/\s+/,c=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(i));return!1}if(u.test(n)){for(var r=n.split(u),s=0,a=r.length;s<a;s++)t[e].apply(t,[r[s]].concat(i));return!1}return!0},d=function(t,e){var n,i=-1,o=t.length,r=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e)}},h={listenTo:"on",listenToOnce:"once"};a.each(h,(function(t,e){l[e]=function(e,n,i){return(this._listeners||(this._listeners={}))[e._listenerId||(e._listenerId=a.uniqueId("l"))]=e,"object"==typeof n&&(i=this),e[t](n,i,this),this}})),l.bind=l.on,l.unbind=l.off,a.extend(t,l);var f=t.Model=function(t,e){var n,i=t||{};e||(e={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(e,p)),e.parse&&(i=this.parse(i,e)||{}),(n=a.result(this,"defaults"))&&(i=a.defaults({},i,n)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},p=["url","urlRoot","collection"];a.extend(f.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return a.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,o,r,s,l,u,c,d;if(null==t)return this;if("object"==typeof t?(o=t,n=e):(o={})[t]=e,n||(n={}),!this._validate(o,n))return!1;for(i in r=n.unset,l=n.silent,s=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=a.clone(this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]),o)e=o[i],a.isEqual(d[i],e)||s.push(i),a.isEqual(c[i],e)?delete this.changed[i]:this.changed[i]=e,r?delete d[i]:d[i]=e;if(!l){s.length&&(this._pending=!0);for(var h=0,f=s.length;h<f;h++)this.trigger("change:"+s[h],this,d[s[h]],n)}if(u)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,a.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,a.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!a.isEmpty(this.changed):a.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&a.clone(this.changed);var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in t)a.isEqual(i[o],e=t[o])||((n||(n={}))[o]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(t){void 0===(t=t?a.clone(t):{}).parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){if(!e.set(e.parse(i,t),t))return!1;n&&n(e,i,t),e.trigger("sync",e,i,t)},H(this,t),this.sync("read",this,t)},save:function(t,e,n){var i,o,r,s=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,i&&(!n||!n.wait)&&!this.set(i,n))return!1;if(n=a.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=a.extend({},s,i)),void 0===n.parse&&(n.parse=!0);var l=this,u=n.success;return n.success=function(t){l.attributes=s;var e=l.parse(t,n);if(n.wait&&(e=a.extend(i||{},e)),a.isObject(e)&&!l.set(e,n))return!1;u&&u(l,t,n),l.trigger("sync",l,t,n)},H(this,n),"patch"===(o=this.isNew()?"create":n.patch?"patch":"update")&&(n.attrs=i),r=this.sync(o,this,n),i&&n.wait&&(this.attributes=s),r},destroy:function(t){t=t?a.clone(t):{};var e=this,n=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(o){(t.wait||e.isNew())&&i(),n&&n(e,o,t),e.isNew()||e.trigger("sync",e,o,t)},this.isNew())return t.success(),!1;H(this,t);var o=this.sync("delete",this,t);return t.wait||i(),o},url:function(){var t=a.result(this,"urlRoot")||a.result(this.collection,"url")||O();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},a.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=a.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,a.extend(e||{},{validationError:n})),!1)}});var g=["keys","values","pairs","invert","pick","omit"];a.each(g,(function(t){f.prototype[t]=function(){var e=r.call(arguments);return e.unshift(this.attributes),a[t].apply(a,e)}}));var m=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,a.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},b={add:!0,merge:!1,remove:!1};a.extend(m.prototype,l,{model:f,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,a.defaults(e||{},b))},remove:function(t,e){var n,i,o,r;for(e||(e={}),n=0,i=(t=a.isArray(t)?t.slice():[t]).length;n<i;n++)(r=this.get(t[n]))&&(delete this._byId[r.id],delete this._byId[r.cid],o=this.indexOf(r),this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),this._removeReference(r));return this},set:function(t,e){var n,i,r,l,u;(e=a.defaults(e||{},v)).parse&&(t=this.parse(t,e)),a.isArray(t)||(t=t?[t]:[]);var c=e.at,d=this.comparator&&null==c&&!1!==e.sort,h=a.isString(this.comparator)?this.comparator:null,f=[],p=[],g={};for(n=0,i=t.length;n<i;n++)(r=this._prepareModel(t[n],e))&&((l=this.get(r))?(e.remove&&(g[l.cid]=!0),e.merge&&(l.set(r.attributes,e),d&&!u&&l.hasChanged(h)&&(u=!0))):e.add&&(f.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)));if(e.remove){for(n=0,i=this.length;n<i;++n)g[(r=this.models[n]).cid]||p.push(r);p.length&&this.remove(p,e)}if(f.length&&(d&&(u=!0),this.length+=f.length,null!=c?s.apply(this.models,[c,0].concat(f)):o.apply(this.models,f)),u&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=f.length;n<i;n++)(r=f[n]).trigger("add",r,this,e);return u&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,i=this.models.length;n<i;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){if(null!=t)return this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return a.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"]((function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0}))},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var i=a.isFunction(e)?e:function(t){return t.get(e)};return a.sortedIndex(this.models,t,i,n)},pluck:function(t){return a.invoke(this.models,"get",t)},fetch:function(t){void 0===(t=t?a.clone(t):{}).parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var o=t.reset?"reset":"set";n[o](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,i=e.success;return e.success=function(o){e.wait&&n.add(t,e),i&&i(t,o,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(y,(function(t){m.prototype[t]=function(){var e=r.call(arguments);return e.unshift(this.models),a[t].apply(a,e)}}));var w=["groupBy","countBy","sortBy"];a.each(w,(function(t){m.prototype[t]=function(e,n){var i=a.isFunction(e)?e:function(t){return t.get(e)};return a[t](this.models,i,n)}}));var _=t.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];a.extend(_.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=a.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(a.isFunction(n)||(n=this[t[e]]),n){var i=e.match(x),o=i[1],r=i[2];n=a.bind(n,this),o+=".delegateEvents"+this.cid,""===r?this.$el.on(o,n):this.$el.on(o,r,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=a.extend({},a.result(this,"options"),t)),a.extend(this,a.pick(t,C)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e.class=a.result(this,"className"));var n=t.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,i){var o=k[e];a.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:o,dataType:"json"};if(i.url||(r.url=a.result(n,"url")||O()),null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){r.type="POST",i.emulateJSON&&(r.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===r.type||i.emulateJSON||(r.processData=!1),"PATCH"!==r.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=t.ajax(a.extend(r,i));return n.trigger("request",n,l,i),l};var k={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var T=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,N=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(T.prototype,l,{initialize:function(){},route:function(e,n,i){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var o=this;return t.history.route(e,(function(r){var s=o._extractParameters(e,r);i&&i.apply(o,s),o.trigger.apply(o,["route:"+n].concat(s)),o.trigger("route",n,s),t.history.trigger("route",o,n,s)})),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var t,e=a.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(D,"\\$&").replace(S,"(?:$1)?").replace(E,(function(t,e){return e?t:"([^/]+)"})).replace(N,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return a.map(n,(function(t){return t?decodeURIComponent(t):null}))}});var A=t.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},z=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,M=/msie [\w.]+/,I=/\/$/;A.started=!1,a.extend(A.prototype,l,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(I,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(z,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=a.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,o=M.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(P,"/"),o&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var r=this.location,s=r.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&r.hash&&(this.fragment=this.getHash().replace(z,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return a.any(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(t,e){if(!A.started)return!1;if(e&&!0!==e||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),t.history=new A;var R=function(t,e){var n,i=this;n=t&&a.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},a.extend(n,i,e);var o=function(){this.constructor=n};return o.prototype=i.prototype,n.prototype=new o,t&&a.extend(n.prototype,t),n.__super__=i.prototype,n};f.extend=m.extend=T.extend=_.extend=A.extend=R;var O=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}}}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,(function(t){"use strict";function e(t){return function(e){return t===e}}function n(t,e){return t===e}function i(t){return function(e,n){return e[t]===n[t]}}function o(){return!0}function r(){return!1}function s(t){return function(){return!t.apply(t,arguments)}}function a(t,e){return function(n){return t(n)&&e(n)}}function l(t){return t}function u(t,e){return function(){return t[e].apply(t,arguments)}}function c(t){var e=++pe+"";return t?t+e:e}function d(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}}function h(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function f(t,e){return(e=e||"")+t.split(".").map((function(t){return t.substring(0,1).toUpperCase()+t.substring(1)})).join("")}function p(t,e,n){var i,o=this;return function(){var r=o,s=arguments,a=function(){i=null,n||t.apply(r,s)},l=n&&!i;clearTimeout(i),i=setTimeout(a,e),l&&t.apply(r,s)}}function g(t){return t[0]}function m(t){return t[t.length-1]}function v(t){return t.slice(0,t.length-1)}function b(t){return t.slice(1)}function y(t,e){for(var n=0,i=t.length;n<i;n++){var o=t[n];if(e(o))return o}}function w(t,e){for(var n=0,i=t.length;n<i;n++)if(!e(t[n]))return!1;return!0}function _(e,n){return t.inArray(n,e)}function x(t,e){return-1!==_(t,e)}function C(t,e){return e=e||ge.self,t.reduce((function(t,n){return t+e(n)}),0)}function k(t){for(var e=[],n=t.length,i=-1;++i<n;)e[i]=t[i];return e}function T(t){return!t||!t.length}function S(t,e){return t.length?b(t).reduce((function(t,n){var i=m(t);return e(m(i),n)?i[i.length]=n:t[t.length]=[n],t}),[[g(t)]]):[]}function E(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e}function N(t){for(var e=[],n=0,i=t.length;n<i;n++)x(e,t[n])||e.push(t[n]);return e}function D(t,e){var n=_(t,e);return-1===n?null:t[n+1]}function A(t,e){var n=_(t,e);return-1===n?null:t[n-1]}function z(e){var n="Comic Sans MS"===e?"Courier New":"Comic Sans MS",i=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=i.css("fontFamily",n).width(),r=i.css("fontFamily",e+","+n).width();return i.remove(),o!==r}function P(e){return e&&t(e).hasClass("note-editable")}function M(e){return e&&t(e).hasClass("note-control-sizing")}function I(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function R(t){return t&&3===t.nodeType}function O(t){return t&&1===t.nodeType}function H(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(t.nodeName.toUpperCase())}function L(t){return!P(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}function F(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())}function B(t){return L(t)&&!De(t)}function j(t){return!(q(t)||V(t)||Pe(t)||L(t)||Ae(t)||Me(t)||ze(t))}function V(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}function U(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}function q(t){return U(t)||Me(t)||P(t)}function W(t){return j(t)&&!!Z(t,L)}function Y(t){return j(t)&&!Z(t,L)}function K(t,e){return t.nextSibling===e||t.previousSibling===e}function G(t,e){e=e||ge.ok;var n=[];return t.previousSibling&&e(t.previousSibling)&&n.push(t.previousSibling),n.push(t),t.nextSibling&&e(t.nextSibling)&&n.push(t.nextSibling),n}function X(t){return R(t)?t.nodeValue.length:t?t.childNodes.length:0}function Q(t){var e=X(t);return 0===e||(!R(t)&&1===e&&t.innerHTML===Oe||!(!me.all(t.childNodes,R)||""!==t.innerHTML))}function J(t){H(t)||X(t)||(t.innerHTML=Oe)}function Z(t,e){for(;t;){if(e(t))return t;if(P(t))break;t=t.parentNode}return null}function tt(t,e){for(t=t.parentNode;t&&1===X(t);){if(e(t))return t;if(P(t))break;t=t.parentNode}return null}function et(t,e){e=e||ge.fail;var n=[];return Z(t,(function(t){return P(t)||n.push(t),e(t)})),n}function nt(t,e){var n=et(t);return me.last(n.filter(e))}function it(e,n){for(var i=et(e),o=n;o;o=o.parentNode)if(t.inArray(o,i)>-1)return o;return null}function ot(t,e){e=e||ge.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n}function rt(t,e){e=e||ge.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n}function st(t,e){var n=[];return e=e||ge.ok,function i(o){t!==o&&e(o)&&n.push(o);for(var r=0,s=o.childNodes.length;r<s;r++)i(o.childNodes[r])}(t),n}function at(e,n){var i=e.parentNode,o=t("<"+n+">")[0];return i.insertBefore(o,e),o.appendChild(e),o}function lt(t,e){var n=e.nextSibling,i=e.parentNode
;return n?i.insertBefore(t,n):i.appendChild(t),t}function ut(e,n){return t.each(n,(function(t,n){e.appendChild(n)})),e}function ct(t){return 0===t.offset}function dt(t){return t.offset===X(t.node)}function ht(t){return ct(t)||dt(t)}function ft(t,e){for(;t&&t!==e;){if(0!==vt(t))return!1;t=t.parentNode}return!0}function pt(t,e){if(!e)return!1;for(;t&&t!==e;){if(vt(t)!==X(t.parentNode)-1)return!1;t=t.parentNode}return!0}function gt(t,e){return ct(t)&&ft(t.node,e)}function mt(t,e){return dt(t)&&pt(t.node,e)}function vt(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function bt(t){return!!(t&&t.childNodes&&t.childNodes.length)}function yt(t,e){var n,i;if(0===t.offset){if(P(t.node))return null;n=t.node.parentNode,i=vt(t.node)}else bt(t.node)?i=X(n=t.node.childNodes[t.offset-1]):(n=t.node,i=e?0:t.offset-1);return{node:n,offset:i}}function wt(t,e){var n,i;if(X(t.node)===t.offset){if(P(t.node))return null;n=t.node.parentNode,i=vt(t.node)+1}else bt(t.node)?(n=t.node.childNodes[t.offset],i=0):(n=t.node,i=e?X(t.node):t.offset+1);return{node:n,offset:i}}function _t(t,e){return t.node===e.node&&t.offset===e.offset}function xt(t){if(R(t.node)||!bt(t.node)||Q(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!H(e)||n&&!H(n))}function Ct(t,e){for(;t;){if(e(t))return t;t=yt(t)}return null}function kt(t,e){for(;t;){if(e(t))return t;t=wt(t)}return null}function Tt(t){if(!R(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==Se}function St(t,e,n,i){for(var o=t;o&&(n(o),!_t(o,e));){o=wt(o,i&&t.node!==o.node&&e.node!==o.node)}}function Et(t,e){return et(e,ge.eq(t)).map(vt).reverse()}function Nt(t,e){for(var n=t,i=0,o=e.length;i<o;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n}function Dt(t,e){var n=e&&e.isSkipPaddingBlankHTML,i=e&&e.isNotSplitEdgePoint;if(ht(t)&&(R(t.node)||i)){if(ct(t))return t.node;if(dt(t))return t.node.nextSibling}if(R(t.node))return t.node.splitText(t.offset);var o=t.node.childNodes[t.offset],r=lt(t.node.cloneNode(!1),t.node);return ut(r,rt(o)),n||(J(t.node),J(r)),r}function At(t,e,n){var i=et(e.node,ge.eq(t));return i.length?1===i.length?Dt(e,n):i.reduce((function(t,i){return t===e.node&&(t=Dt(e,n)),Dt({node:i,offset:t?vt(t):X(i)},n)})):null}function zt(t,e){var n,i,o=e?L:q,r=et(t.node,o),s=me.last(r)||t.node;o(s)?(n=r[r.length-2],i=s):i=(n=s).parentNode;var a=n&&At(n,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return a||i!==t.node||(a=t.node.childNodes[t.offset]),{rightNode:a,container:i}}function Pt(t){return document.createElement(t)}function Mt(t){return document.createTextNode(t)}function It(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){for(var i=[],o=0,r=t.childNodes.length;o<r;o++)i.push(t.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],t)}n.removeChild(t)}}function Rt(t,e){for(;t&&!P(t)&&e(t);){var n=t.parentNode;It(t),t=n}}function Ot(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=Pt(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),ut(n,me.from(t.childNodes)),lt(n,t),It(t),n}function Ht(t,e){var n=He(t[0])?t.val():t.html();return e?n.replace(/[\n\r]/g,""):n}function Lt(e,n){var i=Ht(e);if(n){var o=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(o,(function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||o?"\n":"")})),i=t.trim(i)}return i}function Ft(e){var n=t(e),i=n.offset(),o=n.outerHeight(!0);return{left:i.left,top:i.top+o}}function Bt(t,e){Object.keys(e).forEach((function(n){t.on(n,e[n])}))}function $t(t,e){Object.keys(e).forEach((function(n){t.off(n,e[n])}))}function jt(t){return t&&!R(t)&&me.contains(t.classList,"note-styletag")}function Vt(t,e){var n,i,o=t.parentElement(),r=document.body.createTextRange(),s=me.from(o.childNodes);for(n=0;n<s.length;n++)if(!Le.isText(s[n])){if(r.moveToElementText(s[n]),r.compareEndPoints("StartToStart",t)>=0)break;i=s[n]}if(0!==n&&Le.isText(s[n-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(i||o),a.collapse(!i),l=i?i.nextSibling:o.firstChild;var u=t.duplicate();u.setEndPoint("StartToStart",a);for(var c=u.text.replace(/[\r\n]/g,"").length;c>l.nodeValue.length&&l.nextSibling;)c-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&Le.isText(l.nextSibling)&&c===l.nodeValue.length&&(c-=l.nodeValue.length,l=l.nextSibling),o=l,n=c}return{cont:o,offset:n}}function Ut(t){var e=function(t,n){var i,o;if(Le.isText(t)){var r=Le.listPrev(t,ge.not(Le.isText)),s=me.last(r).previousSibling;i=s||t.parentNode,n+=me.sum(me.tail(r),Le.nodeLength),o=!s}else{if(i=t.childNodes[n]||t,Le.isText(i))return e(i,0);n=0,o=!1}return{node:i,collapseToStart:o,offset:n}},n=document.body.createTextRange(),i=e(t.node,t.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n}function qt(e){return t.Deferred((function(n){t.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(t){n.reject(t)}}).readAsDataURL(e)})).promise()}function Wt(e){return t.Deferred((function(n){var i=t("<img>");i.one("load",(function(){i.off("error abort"),n.resolve(i)})).one("error abort",(function(){i.off("load").detach(),n.reject(i)})).css({display:"none"}).appendTo(document.body).attr("src",e)})).promise()}t=t&&t.hasOwnProperty("default")?t.default:t;var Yt,Kt=function(){function e(t,e,n,i){this.markup=t,this.children=e,this.options=n,this.callback=i}return e.prototype.render=function(e){var n=t(this.markup);if(this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&t.each(this.options.data,(function(t,e){n.attr("data-"+t,e)})),this.options&&this.options.click&&n.on("click",this.options.click),this.children){var i=n.find(".note-children-container");this.children.forEach((function(t){t.render(i.length?i:n)}))}return this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),e&&e.append(n),n},e}(),Gt={create:function(e,n){return function(){var i="object"==typeof arguments[1]?arguments[1]:arguments[0],o=t.isArray(arguments[0])?arguments[0]:[];return i&&i.children&&(o=i.children),new Kt(e,o,i,n)}}},Xt=Gt.create('<div class="note-editor note-frame panel"/>'),Qt=Gt.create('<div class="note-toolbar-wrapper panel-default"><div class="note-toolbar panel-heading" role="toolbar"></div></div>'),Jt=Gt.create('<div class="note-editing-area"/>'),Zt=Gt.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),te=Gt.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),ee=Gt.create(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),ne=Gt.create('<div class="note-editor"/>'),ie=Gt.create(['  <output class="note-status-output" aria-live="polite"/>','<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'].join("")),oe=Gt.create('<div class="note-btn-group btn-group">'),re=Gt.create('<ul class="dropdown-menu" role="list">',(function(e,n){var i=t.isArray(n.items)?n.items.map((function(t){var e="string"==typeof t?t:t.value||"",i=n.template?n.template(t):t,o="object"==typeof t?t.option:void 0;return'<li role="listitem" aria-label="'+t+'"><a href="#" '+('data-value="'+e+'"'+(void 0!==o?' data-option="'+o+'"':""))+">"+i+"</a></li>"})).join(""):n.items;e.html(i).attr({"aria-label":n.title})})),se=function(t,e){return t+" "+he(e.icons.caret,"span")},ae=Gt.create('<ul class="dropdown-menu note-check" role="list">',(function(e,n){var i=t.isArray(n.items)?n.items.map((function(t){var e="string"==typeof t?t:t.value||"",i=n.template?n.template(t):t;return'<li role="listitem" aria-label="'+t+'"><a href="#" data-value="'+e+'">'+he(n.checkClassName)+" "+i+"</a></li>"})).join(""):n.items;e.html(i).attr({"aria-label":n.title})})),le=Gt.create('<div class="note-color-palette"/>',(function(t,e){for(var n=[],i=0,o=e.colors.length;i<o;i++){for(var r=e.eventName,s=e.colors[i],a=e.colorsName[i],l=[],u=0,c=s.length;u<c;u++){var d=s[u],h=a[u];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',h,'" ','aria-label="',h,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(n.join("")),e.tooltip&&t.find(".note-color-btn").tooltip({container:e.container,trigger:"hover",placement:"bottom"})})),ue=Gt.create('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',(function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))})),ce=Gt.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),(function(t,e){var n=void 0!==e.direction?e.direction:"bottom";t.addClass(n),e.hideArrow&&t.find(".arrow").hide()})),de=Gt.create('<div class="checkbox"></div>',(function(t,e){t.html([" <label"+(e.id?' for="'+e.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(e.id?' id="'+e.id+'"':""),e.checked?" checked":"",' aria-checked="'+(e.checked?"true":"false")+'"/>',e.text?e.text:"","</label>"].join(""))})),he=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},fe={editor:Xt,toolbar:Qt,editingArea:Jt,codable:Zt,editable:te,statusbar:ee,airEditor:ne,airEditable:ie,buttonGroup:oe,dropdown:re,dropdownButtonContents:se,dropdownCheck:ae,palette:le,dialog:ue,popover:ce,checkbox:de,icon:he,options:{},button:function(t,e){return Gt.create('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',(function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip,"aria-label":e.tooltip}).tooltip({container:e.container,trigger:"hover",placement:"bottom"})}))(t,e)},toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var n=(e.airMode?fe.airEditor([fe.editingArea([fe.airEditable()])]):fe.editor([fe.toolbar(),fe.editingArea([fe.codable(),fe.editable()]),fe.statusbar()])).render();return n.insertAfter(t),{note:t,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}},pe=0,ge={eq:e,eq2:n,peq2:i,ok:o,fail:r,self:l,not:s,and:a,invoke:u,uniqueId:c,rect2bnd:d,invertObject:h,namespaceToCamel:f,debounce:p},me={head:g,last:m,initial:v,tail:b,prev:A,next:D,find:y,contains:x,all:w,sum:C,from:k,isEmpty:T,clusterBy:S,compact:E,unique:N},ve="function"==typeof define&&define.amd,be=navigator.userAgent,ye=/MSIE|Trident/i.test(be);if(ye){var we=/MSIE (\d+[.]\d+)/.exec(be);we&&(Yt=parseFloat(we[1])),(we=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(be))&&(Yt=parseFloat(we[1]))}var _e=/Edge\/\d+/.test(be),xe=!!window.CodeMirror;if(!xe&&ve)if("function"==typeof __webpack_require__)try{require.resolve("codemirror"),xe=!0}catch(t){}else if("undefined"!=typeof require)if(void 0!==require.resolve)try{require.resolve("codemirror"),xe=!0}catch(t){}else void 0!==require.specified&&(xe=require.specified("codemirror"));var Ce="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,ke=ye||_e?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",Te={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:ye,isEdge:_e,isFF:!_e&&/firefox/i.test(be),isPhantom:/PhantomJS/i.test(be),isWebkit:!_e&&/webkit/i.test(be),isChrome:!_e&&/chrome/i.test(be),isSafari:!_e&&/safari/i.test(be),browserVersion:Yt,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:ve,isSupportTouch:Ce,hasCodeMirror:xe,isFontInstalled:z,isW3CRangeSupport:!!document.createRange,inputEventName:ke},Se=String.fromCharCode(160),Ee="\ufeff",Ne=I("PRE"),De=I("LI"),Ae=I("TABLE"),ze=I("DATA"),Pe=I("HR"),Me=I("BLOCKQUOTE"),Ie=I("A"),Re=I("BODY"),Oe=Te.isMSIE&&Te.browserVersion<11?"&nbsp;":"<br>",He=I("TEXTAREA"),Le={NBSP_CHAR:Se,ZERO_WIDTH_NBSP_CHAR:Ee,blank:Oe,emptyPara:"<p>"+Oe+"</p>",makePredByNodeName:I,isEditable:P,isControlSizing:M,isText:R,isElement:O,isVoid:H,isPara:L,isPurePara:B,isHeading:F,isInline:j,isBlock:ge.not(j),isBodyInline:Y,isBody:Re,isParaInline:W,isPre:Ne,isList:V,isTable:Ae,isData:ze,isCell:U,isBlockquote:Me,isBodyContainer:q,isAnchor:Ie,isDiv:I("DIV"),isLi:De,isBR:I("BR"),isSpan:I("SPAN"),isB:I("B"),isU:I("U"),isS:I("S"),isI:I("I"),isImg:I("IMG"),isTextarea:He,isEmpty:Q,isEmptyAnchor:ge.and(Ie,Q),isClosestSibling:K,withClosestSiblings:G,nodeLength:X,isLeftEdgePoint:ct,isRightEdgePoint:dt,isEdgePoint:ht,isLeftEdgeOf:ft,isRightEdgeOf:pt,isLeftEdgePointOf:gt,isRightEdgePointOf:mt,prevPoint:yt,nextPoint:wt,isSamePoint:_t,isVisiblePoint:xt,prevPointUntil:Ct,nextPointUntil:kt,isCharPoint:Tt,walkPoint:St,ancestor:Z,singleChildAncestor:tt,listAncestor:et,lastAncestor:nt,listNext:rt,listPrev:ot,listDescendant:st,commonAncestor:it,wrap:at,insertAfter:lt,appendChildNodes:ut,position:vt,hasChildren:bt,makeOffsetPath:Et,fromOffsetPath:Nt,splitTree:At,splitPoint:zt,create:Pt,createText:Mt,remove:It,removeWhile:Rt,replace:Ot,html:Lt,value:Ht,posFromPlaceholder:Ft,attachEvents:Bt,detachEvents:$t,isCustomStyleTag:jt};t.summernote=t.summernote||{lang:{}},t.extend(t.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var Fe={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Be={isEdit:function(t){return me.contains([Fe.BACKSPACE,Fe.TAB,Fe.ENTER,Fe.SPACE,Fe.DELETE],t)},isMove:function(t){return me.contains([Fe.LEFT,Fe.UP,Fe.RIGHT,Fe.DOWN],t)},nameFromCode:ge.invertObject(Fe),code:Fe},$e=function(){function e(t,e,n,i){this.sc=t,this.so=e,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(Le.isEditable),this.isOnList=this.makeIsOn(Le.isList),this.isOnAnchor=this.makeIsOn(Le.isAnchor),this.isOnCell=this.makeIsOn(Le.isCell),this.isOnData=this.makeIsOn(Le.isData)}return e.prototype.nativeRange=function(){if(Te.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.so),t.setEnd(this.ec,this.eo),t}var e=Ut({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Ut({node:this.ec,offset:this.eo})),e},e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},e.prototype.select=function(){var t=this.nativeRange();if(Te.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},e.prototype.scrollIntoView=function(e){var n=t(e).height();return e.scrollTop+n<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+n-this.sc.offsetTop)),this},e.prototype.normalize=function(){var t=function(t,e){if(Le.isVisiblePoint(t)&&!Le.isEdgePoint(t)||Le.isVisiblePoint(t)&&Le.isRightEdgePoint(t)&&!e||Le.isVisiblePoint(t)&&Le.isLeftEdgePoint(t)&&e||Le.isVisiblePoint(t)&&Le.isBlock(t.node)&&Le.isEmpty(t.node))return t;var n=Le.ancestor(t.node,Le.isBlock);if((Le.isLeftEdgePointOf(t,n)||Le.isVoid(Le.prevPoint(t).node))&&!e||(Le.isRightEdgePointOf(t,n)||Le.isVoid(Le.nextPoint(t).node))&&e){if(Le.isVisiblePoint(t))return t;e=!e}return(e?Le.nextPointUntil(Le.nextPoint(t),Le.isVisiblePoint):Le.prevPointUntil(Le.prevPoint(t),Le.isVisiblePoint))||t},n=t(this.getEndPoint(),!1),i=this.isCollapsed()?n:t(this.getStartPoint(),!0);return new e(i.node,i.offset,n.node,n.offset)},e.prototype.nodes=function(t,e){t=t||ge.ok;var n=e&&e.includeAncestor,i=e&&e.fullyContains,o=this.getStartPoint(),r=this.getEndPoint(),s=[],a=[];return Le.walkPoint(o,r,(function(e){var o;Le.isEditable(e.node)||(i?(Le.isLeftEdgePoint(e)&&a.push(e.node),Le.isRightEdgePoint(e)&&me.contains(a,e.node)&&(o=e.node)):o=n?Le.ancestor(e.node,t):e.node,o&&t(o)&&s.push(o))}),!0),me.unique(s)},e.prototype.commonAncestor=function(){return Le.commonAncestor(this.sc,this.ec)},e.prototype.expand=function(t){var n=Le.ancestor(this.sc,t),i=Le.ancestor(this.ec,t);if(!n&&!i)return new e(this.sc,this.so,this.ec,this.eo);var o=this.getPoints();return n&&(o.sc=n,o.so=0),i&&(o.ec=i,o.eo=Le.nodeLength(i)),new e(o.sc,o.so,o.ec,o.eo)},e.prototype.collapse=function(t){return t?new e(this.sc,this.so,this.sc,this.so):new e(this.ec,this.eo,this.ec,this.eo)},e.prototype.splitText=function(){var t=this.sc===this.ec,n=this.getPoints();return Le.isText(this.ec)&&!Le.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Le.isText(this.sc)&&!Le.isEdgePoint(this.getStartPoint())&&(n.sc=this.sc.splitText(this.so),n.so=0,t&&(n.ec=n.sc,n.eo=this.eo-this.so)),new e(n.sc,n.so,n.ec,n.eo)},e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var n=this.splitText(),i=n.nodes(null,{fullyContains:!0}),o=Le.prevPointUntil(n.getStartPoint(),(function(t){return!me.contains(i,t.node)})),r=[];return t.each(i,(function(t,e){var n=e.parentNode;o.node!==n&&1===Le.nodeLength(n)&&r.push(n),Le.remove(e,!1)})),t.each(r,(function(t,e){Le.remove(e,!1)})),new e(o.node,o.offset,o.node,o.offset).normalize()},e.prototype.makeIsOn=function(t){return function(){var e=Le.ancestor(this.sc,t);return!!e&&e===Le.ancestor(this.ec,t)}},e.prototype.isLeftEdgeOf=function(t){if(!Le.isLeftEdgePoint(this.getStartPoint()))return!1;var e=Le.ancestor(this.sc,t);return e&&Le.isLeftEdgeOf(this.sc,e)},e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},e.prototype.wrapBodyInlineWithPara=function(){if(Le.isBodyContainer(this.sc)&&Le.isEmpty(this.sc))return this.sc.innerHTML=Le.emptyPara,new e(this.sc.firstChild,0,this.sc.firstChild,0);var t,n=this.normalize();if(Le.isParaInline(this.sc)||Le.isPara(this.sc))return n;if(Le.isInline(n.sc)){var i=Le.listAncestor(n.sc,ge.not(Le.isInline));t=me.last(i),Le.isInline(t)||(t=i[i.length-2]||n.sc.childNodes[n.so])}else t=n.sc.childNodes[n.so>0?n.so-1:0];var o=Le.listPrev(t,Le.isParaInline).reverse();if((o=o.concat(Le.listNext(t.nextSibling,Le.isParaInline))).length){var r=Le.wrap(me.head(o),"p");Le.appendChildNodes(r,me.tail(o))}return this.normalize()},e.prototype.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),n=Le.splitPoint(e.getStartPoint(),Le.isInline(t));return n.rightNode?n.rightNode.parentNode.insertBefore(t,n.rightNode):n.container.appendChild(t),t},e.prototype.pasteHTML=function(e){var n=t("<div></div>").html(e)[0],i=me.from(n.childNodes),o=this.wrapBodyInlineWithPara().deleteContents();return i.reverse().map((function(t){return o.insertNode(t)})).reverse()},e.prototype.toString=function(){var t=this.nativeRange();return Te.isW3CRangeSupport?t.toString():t.text},e.prototype.getWordRange=function(t){var n=this.getEndPoint();if(!Le.isCharPoint(n))return this;var i=Le.prevPointUntil(n,(function(t){return!Le.isCharPoint(t)}));return t&&(n=Le.nextPointUntil(n,(function(t){return!Le.isCharPoint(t)}))),new e(i.node,i.offset,n.node,n.offset)},e.prototype.bookmark=function(t){return{s:{path:Le.makeOffsetPath(t,this.sc),offset:this.so},e:{path:Le.makeOffsetPath(t,this.ec),offset:this.eo}}},e.prototype.paraBookmark=function(t){return{s:{path:me.tail(Le.makeOffsetPath(me.head(t),this.sc)),offset:this.so},e:{path:me.tail(Le.makeOffsetPath(me.last(t),this.ec)),offset:this.eo}}},e.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},e}(),je={create:function(t,e,n,i){if(4===arguments.length)return new $e(t,e,n,i);if(2===arguments.length)return new $e(t,e,n=t,i=e);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0])).collapse(Le.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var t,e,n,i;if(Te.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(Le.isBody(o.anchorNode))return null;var r=o.getRangeAt(0);t=r.startContainer,e=r.startOffset,n=r.endContainer,i=r.endOffset}else{var s=document.selection.createRange(),a=s.duplicate();a.collapse(!1);var l=s;l.collapse(!0);var u=Vt(l,!0),c=Vt(a,!1);Le.isText(u.node)&&Le.isLeftEdgePoint(u)&&Le.isTextNode(c.node)&&Le.isRightEdgePoint(c)&&c.node.nextSibling===u.node&&(u=c),t=u.cont,e=u.offset,n=c.cont,i=c.offset}return new $e(t,e,n,i)},createFromNode:function(t){var e=t,n=0,i=t,o=Le.nodeLength(i);return Le.isVoid(e)&&(n=Le.listPrev(e).length-1,e=e.parentNode),Le.isBR(i)?(o=Le.listPrev(i).length-1,i=i.parentNode):Le.isVoid(i)&&(o=Le.listPrev(i).length,i=i.parentNode),this.create(e,n,i,o)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var n=Le.fromOffsetPath(t,e.s.path),i=e.s.offset,o=Le.fromOffsetPath(t,e.e.path),r=e.e.offset;return new $e(n,i,o,r)},createFromParaBookmark:function(t,e){var n=t.s.offset,i=t.e.offset,o=Le.fromOffsetPath(me.head(e),t.s.path),r=Le.fromOffsetPath(me.last(e),t.e.path);return new $e(o,n,r,i)}},Ve=function(){function t(t){this.stack=[],this.stackOffset=-1,this.$editable=t,this.editable=t[0]}return t.prototype.makeSnapshot=function(){var t=je.create(this.editable),e={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:t?t.bookmark(this.editable):e}},t.prototype.applySnapshot=function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&je.createFromBookmark(this.editable,t.bookmark).select()},t.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},t.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},t.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},t}(),Ue=function(){function e(){}return e.prototype.jQueryCSS=function(e,n){if(Te.jqueryVersion<1.9){var i={};return t.each(n,(function(t,n){i[n]=e.css(n)})),i}return e.css(n)},e.prototype.fromNode=function(t){var e=["font-family","font-size","text-align","list-style-type","line-height"],n=this.jQueryCSS(t,e)||{};return n["font-size"]=parseInt(n["font-size"],10),n},e.prototype.stylePara=function(e,n){t.each(e.nodes(Le.isPara,{includeAncestor:!0}),(function(e,i){t(i).css(n)}))},e.prototype.styleNodes=function(e,n){e=e.splitText();var i=n&&n.nodeName||"SPAN",o=!(!n||!n.expandClosestSibling),r=!(!n||!n.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(Le.create(i))];var s=Le.makePredByNodeName(i),a=e.nodes(Le.isText,{fullyContains:!0}).map((function(t){return Le.singleChildAncestor(t,s)||Le.wrap(t,i)}));if(o){if(r){var l=e.nodes();s=ge.and(s,(function(t){return me.contains(l,t)}))}return a.map((function(e){var n=Le.withClosestSiblings(e,s),i=me.head(n),o=me.tail(n);return t.each(o,(function(t,e){Le.appendChildNodes(i,e.childNodes),Le.remove(e)})),me.head(n)}))}return a},e.prototype.current=function(e){var n=t(Le.isElement(e.sc)?e.sc:e.sc.parentNode),i=this.fromNode(n);try{i=t.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||i["font-family"]})}catch(t){}if(e.isOnList()){var o=["circle","disc","disc-leading-zero","square"],r=t.inArray(i["list-style-type"],o)>-1;i["list-style"]=r?"unordered":"ordered"}else i["list-style"]="none";var s=Le.ancestor(e.sc,Le.isPara);if(s&&s.style["line-height"])i["line-height"]=s.style.lineHeight;else{var a=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=a.toFixed(1)}return i.anchor=e.isOnAnchor()&&Le.ancestor(e.sc,Le.isAnchor),i.ancestors=Le.listAncestor(e.sc,Le.isEditable),i.range=e,i},e}(),qe=function(){function e(){}return e.prototype.insertOrderedList=function(t){this.toggleList("OL",t)},e.prototype.insertUnorderedList=function(t){this.toggleList("UL",t)},e.prototype.indent=function(e){var n=this,i=je.create(e).wrapBodyInlineWithPara(),o=i.nodes(Le.isPara,{includeAncestor:!0}),r=me.clusterBy(o,ge.peq2("parentNode"));t.each(r,(function(e,i){var o=me.head(i);Le.isLi(o)?n.wrapList(i,o.parentNode.nodeName):t.each(i,(function(e,n){t(n).css("marginLeft",(function(t,e){return(parseInt(e,10)||0)+25}))}))})),i.select()},e.prototype.outdent=function(e){var n=this,i=je.create(e).wrapBodyInlineWithPara(),o=i.nodes(Le.isPara,{includeAncestor:!0}),r=me.clusterBy(o,ge.peq2("parentNode"));t.each(r,(function(e,i){var o=me.head(i);Le.isLi(o)?n.releaseList([i]):t.each(i,(function(e,n){t(n).css("marginLeft",(function(t,e){return(e=parseInt(e,10)||0)>25?e-25:""}))}))})),i.select()},e.prototype.toggleList=function(e,n){var i=this,o=je.create(n).wrapBodyInlineWithPara(),r=o.nodes(Le.isPara,{includeAncestor:!0}),s=o.paraBookmark(r),a=me.clusterBy(r,ge.peq2("parentNode"));if(me.find(r,Le.isPurePara)){var l=[];t.each(a,(function(t,n){l=l.concat(i.wrapList(n,e))})),r=l}else{var u=o.nodes(Le.isList,{includeAncestor:!0}).filter((function(n){return!t.nodeName(n,e)}));u.length?t.each(u,(function(t,n){Le.replace(n,e)})):r=this.releaseList(a,!0)}je.createFromParaBookmark(s,r).select()},e.prototype.wrapList=function(t,e){var n=me.head(t),i=me.last(t),o=Le.isList(n.previousSibling)&&n.previousSibling,r=Le.isList(i.nextSibling)&&i.nextSibling,s=o||Le.insertAfter(Le.create(e||"UL"),i);return t=t.map((function(t){return Le.isPurePara(t)?Le.replace(t,"LI"):t})),Le.appendChildNodes(s,t),r&&(Le.appendChildNodes(s,me.from(r.childNodes)),Le.remove(r)),t},e.prototype.releaseList=function(e,n){var i=[];return t.each(e,(function(e,o){var r=me.head(o),s=me.last(o),a=n?Le.lastAncestor(r,Le.isList):r.parentNode,l=a.childNodes.length>1?Le.splitTree(a,{node:s.parentNode,offset:Le.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,u=Le.splitTree(a,{node:r.parentNode,offset:Le.position(r)},{isSkipPaddingBlankHTML:!0});o=n?Le.listDescendant(u,Le.isLi):me.from(u.childNodes).filter(Le.isLi),!n&&Le.isList(a.parentNode)||(o=o.map((function(t){return Le.replace(t,"P")}))),t.each(me.from(o).reverse(),(function(t,e){Le.insertAfter(e,a)}));var c=me.compact([a,u,l]);t.each(c,(function(e,n){var i=[n].concat(Le.listDescendant(n,Le.isList));t.each(i.reverse(),(function(t,e){Le.nodeLength(e)||Le.remove(e,!0)}))})),i=i.concat(o)})),i},e}(),We=function(){function e(){this.bullet=new qe}return e.prototype.insertTab=function(t,e){var n=Le.createText(new Array(e+1).join(Le.NBSP_CHAR));(t=t.deleteContents()).insertNode(n,!0),(t=je.create(n,e)).select()},e.prototype.insertParagraph=function(e){var n=je.create(e);n=(n=n.deleteContents()).wrapBodyInlineWithPara();var i,o=Le.ancestor(n.sc,Le.isPara);if(o){if(Le.isEmpty(o)&&Le.isLi(o))return void this.bullet.toggleList(o.parentNode.nodeName);if(Le.isEmpty(o)&&Le.isPara(o)&&Le.isBlockquote(o.parentNode))Le.insertAfter(o,o.parentNode),i=o;else{i=Le.splitTree(o,n.getStartPoint());var r=Le.listDescendant(o,Le.isEmptyAnchor);r=r.concat(Le.listDescendant(i,Le.isEmptyAnchor)),t.each(r,(function(t,e){Le.remove(e)})),(Le.isHeading(i)||Le.isPre(i)||Le.isCustomStyleTag(i))&&Le.isEmpty(i)&&(i=Le.replace(i,"p"))}}else{var s=n.sc.childNodes[n.so];i=t(Le.emptyPara)[0],s?n.sc.insertBefore(i,s):n.sc.appendChild(i)}je.create(i,0).normalize().select().scrollIntoView(e)},e}(),Ye=function(t,e,n,i){function o(){t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())?(p.colPos=t.cellIndex,
t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()?p.rowPos=t.parentElement.rowIndex:console.error("Impossible to identify start Row point.",t)):console.error("Impossible to identify start Cell point.",t)}function r(t,e,n,i,o,r,s){var a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:s};g[t]||(g[t]=[]),g[t][e]=a}function s(t,e,n,i){return{baseCell:t.baseCell,action:e,virtualTable:{rowIndex:n,cellIndex:i}}}function a(t,e){if(!g[t])return e;if(!g[t][e])return e;for(var n=e;g[t][n];)if(n++,!g[t][n])return n}function l(t,e){var n=a(t.rowIndex,e.cellIndex),i=e.colSpan>1,o=e.rowSpan>1,s=t.rowIndex===p.rowPos&&e.cellIndex===p.colPos;r(t.rowIndex,n,t,e,o,i,!1);var l=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(l>1)for(var c=1;c<l;c++){var d=t.rowIndex+c;u(d,n,e,s),r(d,n,t,e,!0,i,!0)}var h=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(h>1)for(var f=1;f<h;f++){var g=a(t.rowIndex,n+f);u(t.rowIndex,g,e,s),r(t.rowIndex,g,t,e,o,!0,!0)}}function u(t,e,n,i){t===p.rowPos&&p.colPos>=n.cellIndex&&n.cellIndex<=e&&!i&&p.colPos++}function c(){for(var t=i.rows,e=0;e<t.length;e++)for(var n=t[e].cells,o=0;o<n.length;o++)l(t[e],n[o])}function d(t){switch(e){case Ye.where.Column:if(t.isColSpan)return Ye.resultAction.SubtractSpanCount;break;case Ye.where.Row:if(!t.isVirtual&&t.isRowSpan)return Ye.resultAction.AddCell;if(t.isRowSpan)return Ye.resultAction.SubtractSpanCount}return Ye.resultAction.RemoveCell}function h(t){switch(e){case Ye.where.Column:if(t.isColSpan)return Ye.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return Ye.resultAction.Ignore;break;case Ye.where.Row:if(t.isRowSpan)return Ye.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return Ye.resultAction.Ignore}return Ye.resultAction.AddCell}function f(){o(),c()}var p={colPos:0,rowPos:0},g=[],m=[];this.getActionList=function(){for(var t=e===Ye.where.Row?p.rowPos:-1,i=e===Ye.where.Column?p.colPos:-1,o=0,r=!0;r;){var a=t>=0?t:o,l=i>=0?i:o,u=g[a];if(!u)return r=!1,m;var c=u[l];if(!c)return r=!1,m;var f=Ye.resultAction.Ignore;switch(n){case Ye.requestAction.Add:f=h(c);break;case Ye.requestAction.Delete:f=d(c)}m.push(s(c,f,a,l)),o++}return m},f()};Ye.where={Row:0,Column:1},Ye.requestAction={Add:0,Delete:1},Ye.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Ke,Ge=function(){function e(){}return e.prototype.tab=function(t,e){var n=Le.ancestor(t.commonAncestor(),Le.isCell),i=Le.ancestor(n,Le.isTable),o=Le.listDescendant(i,Le.isCell),r=me[e?"prev":"next"](o,n);r&&je.create(r,0).select()},e.prototype.addRow=function(e,n){for(var i=Le.ancestor(e.commonAncestor(),Le.isCell),o=t(i).closest("tr"),r=this.recoverAttributes(o),s=t("<tr"+r+"></tr>"),a=new Ye(i,Ye.where.Row,Ye.requestAction.Add,t(o).closest("table")[0]).getActionList(),l=0;l<a.length;l++){var u=a[l],c=this.recoverAttributes(u.baseCell);switch(u.action){case Ye.resultAction.AddCell:s.append("<td"+c+">"+Le.blank+"</td>");break;case Ye.resultAction.SumSpanCount:if("top"===n)if((u.baseCell.parent?u.baseCell.closest("tr").rowIndex:0)<=o[0].rowIndex){var d=t("<div></div>").append(t("<td"+c+">"+Le.blank+"</td>").removeAttr("rowspan")).html();s.append(d);break}var h=parseInt(u.baseCell.rowSpan,10);h++,u.baseCell.setAttribute("rowSpan",h)}}if("top"===n)o.before(s);else{if(i.rowSpan>1){var f=o[0].rowIndex+(i.rowSpan-2);return void t(t(o).parent().find("tr")[f]).after(t(s))}o.after(s)}},e.prototype.addCol=function(e,n){var i=Le.ancestor(e.commonAncestor(),Le.isCell),o=t(i).closest("tr");t(o).siblings().push(o);for(var r=new Ye(i,Ye.where.Column,Ye.requestAction.Add,t(o).closest("table")[0]).getActionList(),s=0;s<r.length;s++){var a=r[s],l=this.recoverAttributes(a.baseCell);switch(a.action){case Ye.resultAction.AddCell:"right"===n?t(a.baseCell).after("<td"+l+">"+Le.blank+"</td>"):t(a.baseCell).before("<td"+l+">"+Le.blank+"</td>");break;case Ye.resultAction.SumSpanCount:if("right"===n){var u=parseInt(a.baseCell.colSpan,10);u++,a.baseCell.setAttribute("colSpan",u)}else t(a.baseCell).before("<td"+l+">"+Le.blank+"</td>")}}},e.prototype.recoverAttributes=function(t){var e="";if(!t)return e;for(var n=t.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(e+=" "+n[i].name+"='"+n[i].value+"'");return e},e.prototype.deleteRow=function(e){for(var n=Le.ancestor(e.commonAncestor(),Le.isCell),i=t(n).closest("tr"),o=i.children("td, th").index(t(n)),r=i[0].rowIndex,s=new Ye(n,Ye.where.Row,Ye.requestAction.Delete,t(i).closest("table")[0]).getActionList(),a=0;a<s.length;a++)if(s[a]){var l=s[a].baseCell,u=s[a].virtualTable,c=l.rowSpan&&l.rowSpan>1,d=c?parseInt(l.rowSpan,10):0;switch(s[a].action){case Ye.resultAction.Ignore:continue;case Ye.resultAction.AddCell:var h=i.next("tr")[0];if(!h)continue;var f=i[0].cells[o];c&&(d>2?(d--,h.insertBefore(f,h.cells[o]),h.cells[o].setAttribute("rowSpan",d),h.cells[o].innerHTML=""):2===d&&(h.insertBefore(f,h.cells[o]),h.cells[o].removeAttribute("rowSpan"),h.cells[o].innerHTML=""));continue;case Ye.resultAction.SubtractSpanCount:c&&(d>2?(d--,l.setAttribute("rowSpan",d),u.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")):2===d&&(l.removeAttribute("rowSpan"),u.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")));continue;case Ye.resultAction.RemoveCell:continue}}i.remove()},e.prototype.deleteCol=function(e){for(var n=Le.ancestor(e.commonAncestor(),Le.isCell),i=t(n).closest("tr"),o=i.children("td, th").index(t(n)),r=new Ye(n,Ye.where.Column,Ye.requestAction.Delete,t(i).closest("table")[0]).getActionList(),s=0;s<r.length;s++)if(r[s])switch(r[s].action){case Ye.resultAction.Ignore:continue;case Ye.resultAction.SubtractSpanCount:var a=r[s].baseCell;if(a.colSpan&&a.colSpan>1){var l=a.colSpan?parseInt(a.colSpan,10):0;l>2?(l--,a.setAttribute("colSpan",l),a.cellIndex===o&&(a.innerHTML="")):2===l&&(a.removeAttribute("colSpan"),a.cellIndex===o&&(a.innerHTML=""))}continue;case Ye.resultAction.RemoveCell:Le.remove(r[s].baseCell,!0);continue}},e.prototype.createTable=function(e,n,i){for(var o,r=[],s=0;s<e;s++)r.push("<td>"+Le.blank+"</td>");o=r.join("");for(var a,l=[],u=0;u<n;u++)l.push("<tr>"+o+"</tr>");a=l.join("");var c=t("<table>"+a+"</table>");return i&&i.tableClassName&&c.addClass(i.tableClassName),c[0]},e.prototype.deleteTable=function(e){var n=Le.ancestor(e.commonAncestor(),Le.isCell);t(n).closest("table").remove()},e}(),Xe="bogus",Qe=function(){function e(e){var n=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ue,this.table=new Ge,this.typing=new We,this.bullet=new qe,this.history=new Ve(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var i=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],o=0,r=i.length;o<r;o++)this[i[o]]=function(t){return function(e){n.beforeCommand(),document.execCommand(t,!1,e),n.afterCommand(!0)}}(i[o]),this.context.memo("help."+i[o],this.lang.help[i[o]]);this.fontName=this.wrapCommand((function(t){return n.fontStyling("font-family","'"+t+"'")})),this.fontSize=this.wrapCommand((function(t){return n.fontStyling("font-size",t+"px")}));for(o=1;o<=6;o++)this["formatH"+o]=function(t){return function(){n.formatBlock("H"+t)}}(o),this.context.memo("help.formatH"+o,this.lang.help["formatH"+o]);this.insertParagraph=this.wrapCommand((function(){n.typing.insertParagraph(n.editable)})),this.insertOrderedList=this.wrapCommand((function(){n.bullet.insertOrderedList(n.editable)})),this.insertUnorderedList=this.wrapCommand((function(){n.bullet.insertUnorderedList(n.editable)})),this.indent=this.wrapCommand((function(){n.bullet.indent(n.editable)})),this.outdent=this.wrapCommand((function(){n.bullet.outdent(n.editable)})),this.insertNode=this.wrapCommand((function(e){n.isLimited(t(e).text().length)||(n.createRange().insertNode(e),je.createFromNodeAfter(e).select())})),this.insertText=this.wrapCommand((function(t){if(!n.isLimited(t.length)){var e=n.createRange().insertNode(Le.createText(t));je.create(e,Le.nodeLength(e)).select()}})),this.pasteHTML=this.wrapCommand((function(t){if(!n.isLimited(t.length)){var e=n.createRange().pasteHTML(t);je.createFromNodeAfter(me.last(e)).select()}})),this.formatBlock=this.wrapCommand((function(t,e){var i=n.options.callbacks.onApplyCustomStyle;i?i.call(n,e,n.context,n.onFormatBlock):n.onFormatBlock(t,e)})),this.insertHorizontalRule=this.wrapCommand((function(){var t=n.createRange().insertNode(Le.create("HR"));t.nextSibling&&je.create(t.nextSibling,0).normalize().select()})),this.lineHeight=this.wrapCommand((function(t){n.style.stylePara(n.createRange(),{lineHeight:t})})),this.createLink=this.wrapCommand((function(e){var i=e.url,o=e.text,r=e.isNewWindow,s=e.range||n.createRange(),a=s.toString()!==o;"string"==typeof i&&(i=i.trim()),i=n.options.onCreateLink?n.options.onCreateLink(i):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(i)?i:"http://"+i;var l=[];if(a){var u=(s=s.deleteContents()).insertNode(t("<A>"+o+"</A>")[0]);l.push(u)}else l=n.style.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});t.each(l,(function(e,n){t(n).attr("href",i),r?t(n).attr("target","_blank"):t(n).removeAttr("target")}));var c=je.createFromNodeBefore(me.head(l)).getStartPoint(),d=je.createFromNodeAfter(me.last(l)).getEndPoint();je.create(c.node,c.offset,d.node,d.offset).select()})),this.color=this.wrapCommand((function(t){var e=t.foreColor,n=t.backColor;e&&document.execCommand("foreColor",!1,e),n&&document.execCommand("backColor",!1,n)})),this.foreColor=this.wrapCommand((function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)})),this.insertTable=this.wrapCommand((function(t){var e=t.split("x");n.createRange().deleteContents().insertNode(n.table.createTable(e[0],e[1],n.options))})),this.removeMedia=this.wrapCommand((function(){var e=t(n.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=t(n.restoreTarget()).detach(),n.context.triggerEvent("media.delete",e,n.$editable)})),this.floatMe=this.wrapCommand((function(e){var i=t(n.restoreTarget());i.toggleClass("note-float-left","left"===e),i.toggleClass("note-float-right","right"===e),i.css("float",e)})),this.resize=this.wrapCommand((function(e){t(n.restoreTarget()).css({width:100*e+"%",height:""})}))}return e.prototype.initialize=function(){var t=this;this.$editable.on("keydown",(function(e){if(e.keyCode===Be.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1})).on("keyup",(function(e){t.context.triggerEvent("keyup",e)})).on("focus",(function(e){t.context.triggerEvent("focus",e)})).on("blur",(function(e){t.context.triggerEvent("blur",e)})).on("mousedown",(function(e){t.context.triggerEvent("mousedown",e)})).on("mouseup",(function(e){t.context.triggerEvent("mouseup",e)})).on("scroll",(function(e){t.context.triggerEvent("scroll",e)})).on("paste",(function(e){t.context.triggerEvent("paste",e)})),this.$editable.html(Le.html(this.$note)||Le.emptyPara),this.$editable.on(Te.inputEventName,ge.debounce((function(){t.context.triggerEvent("change",t.$editable.html())}),100)),this.$editor.on("focusin",(function(e){t.context.triggerEvent("focusin",e)})).on("focusout",(function(e){t.context.triggerEvent("focusout",e)})),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()},e.prototype.destroy=function(){this.$editable.off()},e.prototype.handleKeyMap=function(t){var e=this.options.keyMap[Te.isMac?"mac":"pc"],n=[];t.metaKey&&n.push("CMD"),t.ctrlKey&&!t.altKey&&n.push("CTRL"),t.shiftKey&&n.push("SHIFT");var i=Be.nameFromCode[t.keyCode];i&&n.push(i);var o=e[n.join("+")];o?!1!==this.context.invoke(o)&&t.preventDefault():Be.isEdit(t.keyCode)&&this.afterCommand()},e.prototype.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&me.contains([66,73,85],t.keyCode)&&t.preventDefault()},e.prototype.isLimited=function(t,e){return t=t||0,(void 0===e||!(Be.isMove(e.keyCode)||e.ctrlKey||e.metaKey||me.contains([Be.code.BACKSPACE,Be.code.DELETE],e.keyCode)))&&(this.options.maxTextLength>0&&this.$editable.text().length+t>=this.options.maxTextLength)},e.prototype.createRange=function(){return this.focus(),je.create(this.editable)},e.prototype.saveRange=function(t){this.lastRange=this.createRange(),t&&this.lastRange.collapse().select()},e.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},e.prototype.saveTarget=function(t){this.$editable.data("target",t)},e.prototype.clearTarget=function(){this.$editable.removeData("target")},e.prototype.restoreTarget=function(){return this.$editable.data("target")},e.prototype.currentStyle=function(){var t=je.create();return t&&(t=t.normalize()),t?this.style.current(t):this.style.fromNode(this.$editable)},e.prototype.styleFromNode=function(t){return this.style.fromNode(t)},e.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())},e.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())},e.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},e.prototype.afterCommand=function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html())},e.prototype.tab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}},e.prototype.untab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1},e.prototype.wrapCommand=function(t){var e=this;return function(){e.beforeCommand(),t.apply(e,arguments),e.afterCommand()}},e.prototype.insertImage=function(t,e){var n=this;return Wt(t,e).then((function(t){n.beforeCommand(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(n.$editable.width(),t.width()))),t.show(),je.create(n.editable).insertNode(t[0]),je.createFromNodeAfter(t[0]).select(),n.afterCommand()})).fail((function(t){n.context.triggerEvent("image.upload.error",t)}))},e.prototype.insertImages=function(e){var n=this;t.each(e,(function(t,e){var i=e.name;n.options.maximumImageFileSize&&n.options.maximumImageFileSize<e.size?n.context.triggerEvent("image.upload.error",n.lang.image.maximumFileSizeError):qt(e).then((function(t){return n.insertImage(t,i)})).fail((function(){n.context.triggerEvent("image.upload.error")}))}))},e.prototype.insertImagesOrCallback=function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImages(t)},e.prototype.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=je.createFromNode(Le.ancestor(t.sc,Le.isAnchor))),t.toString()},e.prototype.onFormatBlock=function(e,n){if(e=Te.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e),n&&n.length){var i=n[0].className||"";if(i){var o=this.createRange();t([o.sc,o.ec]).closest(e).addClass(i)}}},e.prototype.formatPara=function(){this.formatBlock("P")},e.prototype.fontStyling=function(e,n){var i=this.createRange();if(i){var o=this.style.styleNodes(i);if(t(o).css(e,n),i.isCollapsed()){var r=me.head(o);r&&!Le.nodeLength(r)&&(r.innerHTML=Le.ZERO_WIDTH_NBSP_CHAR,je.createFromNodeAfter(r.firstChild).select(),this.$editable.data(Xe,r))}}},e.prototype.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=Le.ancestor(t.sc,Le.isAnchor);(t=je.createFromNode(e)).select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},e.prototype.getLinkInfo=function(){var e=this.createRange().expand(Le.isAnchor),n=t(me.head(e.nodes(Le.isAnchor))),i={range:e,text:e.toString(),url:n.length?n.attr("href"):""};return n.length&&(i.isNewWindow="_blank"===n.attr("target")),i},e.prototype.addRow=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())},e.prototype.addCol=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())},e.prototype.deleteRow=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())},e.prototype.deleteCol=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())},e.prototype.deleteTable=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())},e.prototype.resizeTo=function(t,e,n){var i;if(n){var o=t.y/t.x,r=e.data("ratio");i={width:r>o?t.x:t.y/r,height:r>o?t.x*r:t.y}}else i={width:t.x,height:t.y};e.css(i)},e.prototype.hasFocus=function(){return this.$editable.is(":focus")},e.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},e.prototype.isEmpty=function(){return Le.isEmpty(this.$editable[0])||Le.emptyPara===this.$editable.html()},e.prototype.empty=function(){this.context.invoke("code",Le.emptyPara)},e.prototype.normalizeContent=function(){this.$editable[0].normalize()},e}(),Je=function(){function t(t){this.context=t,this.$editable=t.layoutInfo.editable}return t.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},t.prototype.pasteByEvent=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var n=me.head(e.items);"file"===n.kind&&-1!==n.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[n.getAsFile()]),this.context.invoke("editor.afterCommand")}},t}(),Ze=function(){function e(e){this.context=e,this.$eventListener=t(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=t(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return e.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},e.prototype.attachDragAndDropEvent=function(){var e=this,n=t(),i=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(t){var o=e.context.invoke("codeview.isActivated"),r=e.$editor.width()>0&&e.$editor.height()>0;o||n.length||!r||(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),i.text(e.lang.image.dragImageHere)),n=n.add(t.target)},this.documentEventHandlers.onDragleave=function(t){(n=n.not(t.target)).length||e.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){n=t(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",(function(){e.$dropzone.addClass("hover"),i.text(e.lang.image.dropImage)})).on("dragleave",(function(){e.$dropzone.removeClass("hover"),i.text(e.lang.image.dragImageHere)})),this.$dropzone.on("drop",(function(n){var i=n.originalEvent.dataTransfer;n.preventDefault(),i&&i.files&&i.files.length?(e.$editable.focus(),e.context.invoke("editor.insertImagesOrCallback",i.files)):t.each(i.types,(function(n,o){var r=i.getData(o);o.toLowerCase().indexOf("text")>-1?e.context.invoke("editor.pasteHTML",r):t(r).each((function(t,n){e.context.invoke("editor.insertNode",n)}))}))})).on("dragover",!1)},e.prototype.destroy=function(){var t=this;Object.keys(this.documentEventHandlers).forEach((function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])})),this.documentEventHandlers={}},e}();Te.hasCodeMirror&&(Te.isSupportAmd?require(["codemirror"],(function(t){Ke=t})):Ke=window.CodeMirror);var tn=function(){function t(t){this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options}return t.prototype.sync=function(){this.isActivated()&&Te.hasCodeMirror&&this.$codable.data("cmEditor").save()},t.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},t.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},t.prototype.activate=function(){var t=this;if(this.$codable.val(Le.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),Te.hasCodeMirror){var e=Ke.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new Ke.TernServer(this.options.codemirror.tern);e.ternServer=n,e.on("cursorActivity",(function(t){n.updateArgHints(t)}))}e.on("blur",(function(n){t.context.triggerEvent("blur.codeview",e.getValue(),n)})),e.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",e)}else this.$codable.on("blur",(function(e){t.context.triggerEvent("blur.codeview",t.$codable.val(),e)}))},t.prototype.deactivate=function(){if(Te.hasCodeMirror){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=Le.value(this.$codable,this.options.prettifyHtml)||Le.emptyPara,n=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},t.prototype.destroy=function(){this.isActivated()&&this.deactivate()},t}(),en=24,nn=function(){function e(e){this.$document=t(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}return e.prototype.initialize=function(){var t=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation();var n=t.$editable.offset().top-t.$document.scrollTop(),i=function(e){var i=e.clientY-(n+en);i=t.options.minheight>0?Math.max(i,t.options.minheight):i,i=t.options.maxHeight>0?Math.min(i,t.options.maxHeight):i,t.$editable.height(i)};t.$document.on("mousemove",i).one("mouseup",(function(){t.$document.off("mousemove",i)}))}))},e.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},e}(),on=function(){function e(e){var n=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=t(window),this.$scrollbar=t("html, body"),this.onResize=function(){n.resizeTo({h:n.$window.height()-n.$toolbar.outerHeight()})}}return e.prototype.resizeTo=function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)},e.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},e.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},e}(),rn=function(){function e(e){var n=this;this.context=e,this.$document=t(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){n.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}return e.prototype.initialize=function(){var e=this;this.$handle=t(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",(function(t){if(Le.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var n=e.$handle.find(".note-control-selection").data("target"),i=n.offset(),o=e.$document.scrollTop(),r=function(t){e.context.invoke("editor.resizeTo",{x:t.clientX-i.left,y:t.clientY-(i.top-o)},n,!t.shiftKey),e.update(n[0])};e.$document.on("mousemove",r).one("mouseup",(function(t){t.preventDefault(),e.$document.off("mousemove",r),e.context.invoke("editor.afterCommand")})),n.data("ratio")||n.data("ratio",n.height()/n.width())}})),this.$handle.on("wheel",(function(t){t.preventDefault(),e.update()}))},e.prototype.destroy=function(){this.$handle.remove()},e.prototype.update=function(e){if(this.context.isDisabled())return!1;var n=Le.isImg(e),i=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e),n){var o=t(e),r=o.position(),s={left:r.left+parseInt(o.css("marginLeft"),10),top:r.top+parseInt(o.css("marginTop"),10)},a={w:o.outerWidth(!1),h:o.outerHeight(!1)};i.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",o);var l=new Image;l.src=o.attr("src");var u=a.w+"x"+a.h+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";i.find(".note-control-selection-info").text(u),this.context.invoke("editor.saveTarget",e)}else this.hide();return n},e.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},e}(),sn="http://",an=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,ln=function(){function e(t){var e=this;this.context=t,this.events={"summernote.keyup":function(t,n){n.isDefaultPrevented()||e.handleKeyup(n)},"summernote.keydown":function(t,n){e.handleKeydown(n)}}}return e.prototype.initialize=function(){this.lastWordRange=null},e.prototype.destroy=function(){this.lastWordRange=null},e.prototype.replace=function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),n=e.match(an);if(n&&(n[1]||n[2])){var i=n[1]?e:sn+e,o=t("<a />").html(e).attr("href",i)[0];this.lastWordRange.insertNode(o),this.lastWordRange=null,this.context.invoke("editor.focus")}}},e.prototype.handleKeydown=function(t){if(me.contains([Be.code.ENTER,Be.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}},e.prototype.handleKeyup=function(t){me.contains([Be.code.ENTER,Be.code.SPACE],t.keyCode)&&this.replace()},e}(),un=function(){function t(t){var e=this;this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){e.$note.val(t.invoke("code"))}}}return t.prototype.shouldInitialize=function(){return Le.isTextarea(this.$note[0])},t}(),cn=function(){function e(t){var e=this;this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}}}return e.prototype.shouldInitialize=function(){return!!this.options.placeholder},e.prototype.initialize=function(){var e=this;this.$placeholder=t('<div class="note-placeholder">'),this.$placeholder.on("click",(function(){e.context.invoke("focus")})).text(this.options.placeholder).prependTo(this.$editingArea),this.update()},e.prototype.destroy=function(){this.$placeholder.remove()},e.prototype.update=function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)},e}(),dn=function(){function e(e){this.ui=t.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=ge.invertObject(this.options.keyMap[Te.isMac?"mac":"pc"])}return e.prototype.representShortcut=function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(Te.isMac&&(e=e.replace("CMD","\u2318").replace("SHIFT","\u21e7"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},e.prototype.button=function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)},e.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},e.prototype.destroy=function(){delete this.fontInstalledMap},e.prototype.isFontInstalled=function(t){return this.fontInstalledMap.hasOwnProperty(t)||(this.fontInstalledMap[t]=Te.isFontInstalled(t)||me.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]},e.prototype.isFontDeservedToAdd=function(e){var n=["sans-serif","serif","monospace","cursive","fantasy"];return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===t.inArray(e,n)},e.prototype.addToolbarButtons=function(){var e=this;this.context.memo("button.style",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,title:e.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:e.lang.style.hasOwnProperty(t)?e.lang.style[t]:t});var n=t.tag,i=t.title;return"<"+n+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+i+"</"+n+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()}));for(var n=function(t){var n=i.options.styleTags[t];i.context.memo("button.style."+n,(function(){return e.button({className:"note-btn-style-"+n,contents:'<div data-value="'+n+'">'+n.toUpperCase()+"</div>",tooltip:e.lang.style[n],click:e.context.createInvokeHandler("editor.formatBlock")}).render()}))},i=this,o=0,r=this.options.styleTags.length;o<r;o++)n(o,r);this.context.memo("button.bold",(function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()})),this.context.memo("button.italic",(function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")
}).render()})),this.context.memo("button.underline",(function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()})),this.context.memo("button.clear",(function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()})),this.context.memo("button.strikethrough",(function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()})),this.context.memo("button.superscript",(function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()})),this.context.memo("button.subscript",(function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()})),this.context.memo("button.fontname",(function(){var n=e.context.invoke("editor.currentStyle");return t.each(n["font-family"].split(","),(function(n,i){i=i.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(i)&&-1===t.inArray(i,e.options.fontNames)&&e.options.fontNames.push(i)})),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"/>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),title:e.lang.font.name,template:function(t){return"<span style=\"font-family: '"+t+"'\">"+t+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()})),this.context.memo("button.fontsize",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,title:e.lang.font.size,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()})),this.context.memo("button.color",(function(){return e.ui.buttonGroup({className:"note-color",children:[e.button({className:"note-current-color-button",contents:e.ui.icon(e.options.icons.font+" note-recent-color"),tooltip:e.lang.color.recent,click:function(n){var i=t(n.currentTarget);e.context.invoke("editor.color",{backColor:i.attr("data-backColor"),foreColor:i.attr("data-foreColor")})},callback:function(t){t.find(".note-recent-color").css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents("",e.options),tooltip:e.lang.color.more,data:{toggle:"dropdown"}}),e.ui.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+e.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',e.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+e.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',e.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(n){n.find(".note-holder").each((function(n,i){var o=t(i);o.append(e.ui.palette({colors:e.options.colors,colorsName:e.options.colorsName,eventName:o.data("event"),container:e.options.container,tooltip:e.options.tooltip}).render())}))},click:function(n){var i=t(n.target),o=i.data("event"),r=i.data("value");if(o&&r){var s="backColor"===o?"background-color":"color",a=i.closest(".note-color").find(".note-recent-color"),l=i.closest(".note-color").find(".note-current-color-button");a.css(s,r),l.attr("data-"+o,r),e.context.invoke("editor."+o,r)}}})]}).render()})),this.context.memo("button.ul",(function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()})),this.context.memo("button.ol",(function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()}));var s=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),l=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),u=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",ge.invoke(s,"render")),this.context.memo("button.justifyCenter",ge.invoke(a,"render")),this.context.memo("button.justifyRight",ge.invoke(l,"render")),this.context.memo("button.justifyFull",ge.invoke(u,"render")),this.context.memo("button.outdent",ge.invoke(c,"render")),this.context.memo("button.indent",ge.invoke(d,"render")),this.context.memo("button.paragraph",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[s,a,l,u]}),e.ui.buttonGroup({className:"note-list",children:[c,d]})])]).render()})),this.context.memo("button.height",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",title:e.lang.font.height,click:e.context.createInvokeHandler("editor.lineHeight")})]).render()})),this.context.memo("button.table",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({title:e.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).mousedown(e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()})),this.context.memo("button.link",(function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.picture",(function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()})),this.context.memo("button.video",(function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()})),this.context.memo("button.hr",(function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()})),this.context.memo("button.fullscreen",(function(){return e.button({className:"btn-fullscreen",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.lang.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()})),this.context.memo("button.codeview",(function(){return e.button({className:"btn-codeview",contents:e.ui.icon(e.options.icons.code),tooltip:e.lang.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()})),this.context.memo("button.redo",(function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()})),this.context.memo("button.undo",(function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()})),this.context.memo("button.help",(function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.lang.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()}))},e.prototype.addImagePopoverButtons=function(){var t=this;this.context.memo("button.imageSize100",(function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()})),this.context.memo("button.imageSize50",(function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()})),this.context.memo("button.imageSize25",(function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()})),this.context.memo("button.floatLeft",(function(){return t.button({contents:t.ui.icon(t.options.icons.alignLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()})),this.context.memo("button.floatRight",(function(){return t.button({contents:t.ui.icon(t.options.icons.alignRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()})),this.context.memo("button.floatNone",(function(){return t.button({contents:t.ui.icon(t.options.icons.alignJustify),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()})),this.context.memo("button.removeMedia",(function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()}))},e.prototype.addLinkPopoverButtons=function(){var t=this;this.context.memo("button.linkDialogShow",(function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.unlink",(function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()}))},e.prototype.addTablePopoverButtons=function(){var t=this;this.context.memo("button.addRowUp",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()})),this.context.memo("button.addRowDown",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()})),this.context.memo("button.addColLeft",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()})),this.context.memo("button.addColRight",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()})),this.context.memo("button.deleteRow",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()})),this.context.memo("button.deleteCol",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()})),this.context.memo("button.deleteTable",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()}))},e.prototype.build=function(e,n){for(var i=0,o=n.length;i<o;i++){for(var r=n[i],s=t.isArray(r)?r[0]:r,a=t.isArray(r)?1===r.length?[r[0]]:r[1]:[r],l=this.ui.buttonGroup({className:"note-"+s}).render(),u=0,c=a.length;u<c;u++){var d=this.context.memo("button."+a[u]);d&&l.append("function"==typeof d?d(this.context):d)}l.appendTo(e)}},e.prototype.updateCurrentStyle=function(e){var n=this,i=e||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(i,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var r=o["font-family"].split(",").map((function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")})),s=me.find(r,this.isFontInstalled.bind(this));i.find(".dropdown-fontname a").each((function(e,n){var i=t(n),o=i.data("value")+""==s+"";i.toggleClass("checked",o)})),i.find(".note-current-fontname").text(s).css("font-family",s)}if(o["font-size"]){var a=o["font-size"];i.find(".dropdown-fontsize a").each((function(e,n){var i=t(n),o=i.data("value")+""==a+"";i.toggleClass("checked",o)})),i.find(".note-current-fontsize").text(a)}if(o["line-height"]){var l=o["line-height"];i.find(".dropdown-line-height li a").each((function(e,i){var o=t(i).data("value")+""==l+"";n.className=o?"checked":""}))}},e.prototype.updateBtnStates=function(e,n){var i=this;t.each(n,(function(t,n){i.ui.toggleBtnActive(e.find(t),n())}))},e.prototype.tableMoveHandler=function(e){var n,i=18,o=t(e.target.parentNode),r=o.next(),s=o.find(".note-dimension-picker-mousecatcher"),a=o.find(".note-dimension-picker-highlighted"),l=o.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var u=t(e.target).offset();n={x:e.pageX-u.left,y:e.pageY-u.top}}else n={x:e.offsetX,y:e.offsetY};var c={c:Math.ceil(n.x/i)||1,r:Math.ceil(n.y/i)||1};a.css({width:c.c+"em",height:c.r+"em"}),s.data("value",c.c+"x"+c.r),c.c>3&&c.c<this.options.insertTableMaxSize.col&&l.css({width:c.c+1+"em"}),c.r>3&&c.r<this.options.insertTableMaxSize.row&&l.css({height:c.r+1+"em"}),r.html(c.c+" x "+c.r)},e}(),hn=function(){function e(e){this.context=e,this.$window=t(window),this.$document=t(document),this.ui=t.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.followScroll=this.followScroll.bind(this)}return e.prototype.shouldInitialize=function(){return!this.options.airMode},e.prototype.initialize=function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",(function(){t.context.invoke("buttons.updateCurrentStyle")})),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},e.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},e.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$toolbar.parent(".note-toolbar-wrapper"),n=this.$editor.outerHeight(),i=this.$editor.width(),o=this.$toolbar.height();e.css({height:o});var r=0;this.options.otherStaticBar&&(r=t(this.options.otherStaticBar).outerHeight());var s=this.$document.scrollTop(),a=this.$editor.offset().top;s>a-r&&s<a+n-r-o?this.$toolbar.css({position:"fixed",top:r,width:i}):this.$toolbar.css({position:"relative",top:0,width:"100%"})},e.prototype.changeContainer=function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)},e.prototype.updateFullscreen=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)},e.prototype.updateCodeview=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()},e.prototype.activate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!0)},e.prototype.deactivate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!1)},e}(),fn=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,n=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control  note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":t("<div/>").append(this.ui.checkbox({id:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),i='<button type="submit" href="#" class="'+"btn btn-primary note-btn note-btn-primary note-link-btn"+'" disabled>'+this.lang.link.insert+"</button>";this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:n,footer:i}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(t,e){t.on("keypress",(function(t){t.keyCode===Be.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))},e.prototype.toggleLinkBtn=function(t,e,n){this.ui.toggleBtn(t,e.val()&&n.val())},e.prototype.showLinkDialog=function(e){var n=this;return t.Deferred((function(t){var i=n.$dialog.find(".note-link-text"),o=n.$dialog.find(".note-link-url"),r=n.$dialog.find(".note-link-btn"),s=n.$dialog.find("input[type=checkbox]");n.ui.onDialogShown(n.$dialog,(function(){n.context.triggerEvent("dialog.shown"),e.url||(e.url=e.text),i.val(e.text);var a=function(){n.toggleLinkBtn(r,i,o),e.text=i.val()};i.on("input",a).on("paste",(function(){setTimeout(a,0)}));var l=function(){n.toggleLinkBtn(r,i,o),e.text||i.val(o.val())};o.on("input",l).on("paste",(function(){setTimeout(l,0)})).val(e.url),Te.isSupportTouch||o.trigger("focus"),n.toggleLinkBtn(r,i,o),n.bindEnterKey(o,r),n.bindEnterKey(i,r);var u=void 0!==e.isNewWindow?e.isNewWindow:n.context.options.linkTargetBlank;s.prop("checked",u),r.one("click",(function(r){r.preventDefault(),t.resolve({range:e.range,url:o.val(),text:i.val(),isNewWindow:s.is(":checked")}),n.ui.hideDialog(n.$dialog)}))})),n.ui.onDialogHidden(n.$dialog,(function(){i.off("input paste keypress"),o.off("input paste keypress"),r.off("click"),"pending"===t.state()&&t.reject()})),n.ui.showDialog(n.$dialog)})).promise()},e.prototype.show=function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then((function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)})).fail((function(){t.context.invoke("editor.restoreRange")}))},e}(),pn=function(){function e(e){var n=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}return e.prototype.shouldInitialize=function(){return!me.isEmpty(this.options.popover.link)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var e=this.context.invoke("editor.createRange");if(e.isCollapsed()&&e.isOnAnchor()){var n=Le.ancestor(e.sc,Le.isAnchor),i=t(n).attr("href");this.$popover.find("a").attr("href",i).html(i);var o=Le.posFromPlaceholder(n);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),gn=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e="";if(this.options.maximumImageFileSize){var n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),i=1*(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B";e="<small>"+this.lang.image.maximumFileSize+" : "+i+"</small>"}var o=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',e,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<button type="submit" href="#" class="'+"btn btn-primary note-btn note-btn-primary note-image-btn"+'" disabled>'+this.lang.image.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:o,footer:r}).render().appendTo(t)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(t,e){t.on("keypress",(function(t){t.keyCode===Be.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))},e.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then((function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)})).fail((function(){t.context.invoke("editor.restoreRange")}))},e.prototype.showImageDialog=function(){var e=this;return t.Deferred((function(t){var n=e.$dialog.find(".note-image-input"),i=e.$dialog.find(".note-image-url"),o=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),n.replaceWith(n.clone().on("change",(function(e){t.resolve(e.target.files||e.target.value)})).val("")),o.click((function(e){e.preventDefault(),t.resolve(i.val())})),i.on("keyup paste",(function(){var t=i.val();e.ui.toggleBtn(o,t)})).val(""),Te.isSupportTouch||i.trigger("focus"),e.bindEnterKey(i,o)})),e.ui.onDialogHidden(e.$dialog,(function(){n.off("change"),i.off("keyup paste keypress"),o.off("click"),"pending"===t.state()&&t.reject()})),e.ui.showDialog(e.$dialog)}))},e}(),mn=function(){function e(e){var n=this;this.context=e,this.ui=t.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){n.hide()}}}return e.prototype.shouldInitialize=function(){return!me.isEmpty(this.options.popover.image)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(t){if(Le.isImg(t)){var e=Le.posFromPlaceholder(t),n=Le.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:e.left,top:this.options.popatmouse?event.pageY:Math.min(e.top,n.top)})}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),vn=function(){function e(e){var n=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(t,e){n.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}return e.prototype.shouldInitialize=function(){return!me.isEmpty(this.options.popover.table)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),Te.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=Le.isCell(t);if(e){var n=Le.posFromPlaceholder(t);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return e},e.prototype.hide=function(){this.$popover.hide()},e}(),bn=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<button type="submit" href="#" class="'+"btn btn-primary note-btn note-btn-primary note-video-btn"+'" disabled>'+this.lang.video.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:n}).render().appendTo(t)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(t,e){t.on("keypress",(function(t){t.keyCode===Be.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))},e.prototype.createVideoNode=function(e){var n,i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,o=e.match(i),r=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,s=e.match(r),a=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,l=e.match(a),u=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,c=e.match(u),d=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,h=e.match(d),f=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=e.match(f),g=/\/\/v\.qq\.com.*?vid=(.+)/,m=e.match(g),v=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,b=e.match(v),y=/^.+.(mp4|m4v)$/,w=e.match(y),_=/^.+.(ogg|ogv)$/,x=e.match(_),C=/^.+.(webm)$/,k=e.match(C);if(o&&11===o[1].length){var T=o[1];n=t("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+T).attr("width","640").attr("height","360")}else if(s&&s[0].length)n=t("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+s[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(l&&l[0].length)n=t("<iframe>").attr("frameborder",0).attr("src",l[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(c&&c[3].length)n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360");else if(h&&h[2].length)n=t("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+h[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else if(m&&m[1].length||b&&b[2].length){var S=m&&m[1].length?m[1]:b[2];n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+S+"&amp;auto=0")}else{if(!(w||x||k))return!1;n=t("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return n.addClass("note-video-clip"),n[0]},e.prototype.show=function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then((function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");var n=t.createVideoNode(e);n&&t.context.invoke("editor.insertNode",n)})).fail((function(){t.context.invoke("editor.restoreRange")}))},e.prototype.showVideoDialog=function(e){var n=this;return t.Deferred((function(t){var i=n.$dialog.find(".note-video-url"),o=n.$dialog.find(".note-video-btn");n.ui.onDialogShown(n.$dialog,(function(){n.context.triggerEvent("dialog.shown"),i.val(e).on("input",(function(){n.ui.toggleBtn(o,i.val())})),Te.isSupportTouch||i.trigger("focus"),o.click((function(e){e.preventDefault(),t.resolve(i.val())})),n.bindEnterKey(i,o)})),n.ui.onDialogHidden(n.$dialog,(function(){i.off("input"),o.off("click"),"pending"===t.state()&&t.reject()})),n.ui.showDialog(n.$dialog)}))},e}(),yn=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){
var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.10</a> \xb7 ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> \xb7 ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.createShortcutList=function(){var e=this,n=this.options.keyMap[Te.isMac?"mac":"pc"];return Object.keys(n).map((function(i){var o=n[i],r=t('<div><div class="help-list-item"/></div>');return r.append(t("<label><kbd>"+i+"</kdb></label>").css({width:180,"margin-right":10})).append(t("<span/>").html(e.context.memo("help."+o)||o)),r.html()})).join("")},e.prototype.showHelpDialog=function(){var e=this;return t.Deferred((function(t){e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),t.resolve()})),e.ui.showDialog(e.$dialog)})).promise()},e.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then((function(){t.context.invoke("editor.restoreRange")}))},e}(),wn=20,_n=function(){function e(e){var n=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(t,e){Te.isFF||e.relatedTarget&&Le.ancestor(e.relatedTarget,ge.eq(n.$popover[0]))||n.hide()}}}return e.prototype.shouldInitialize=function(){return this.options.airMode&&!me.isEmpty(this.options.popover.air)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){var t=this.context.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=me.last(t.range.getClientRects());if(e){var n=ge.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-wn,top:n.top+n.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),xn=5,Cn=function(){function e(e){var n=this;this.context=e,this.ui=t.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=t.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}return e.prototype.shouldInitialize=function(){return this.hints.length>0},e.prototype.initialize=function(){var e=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",(function(){e.$content.find(".active").removeClass("active"),t(e).addClass("active"),e.replace()}))},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},e.prototype.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var n=t.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},e.prototype.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var n=t.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},e.prototype.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),je.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},e.prototype.nodeFromItem=function(t){var e=this.hints[t.data("index")],n=t.data("item"),i=e.content?e.content(n):n;return"string"==typeof i&&(i=Le.createText(i)),i},e.prototype.createItemTemplates=function(e,n){var i=this.hints[e];return n.map((function(n){var o=t('<div class="note-hint-item"/>');return o.append(i.template?i.template(n):n+""),o.data({index:e,item:n}),o}))},e.prototype.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===Be.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===Be.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===Be.code.DOWN&&(t.preventDefault(),this.moveDown()))},e.prototype.searchKeyword=function(t,e,n){var i=this.hints[t];if(i&&i.match.test(e)&&i.search){var o=i.match.exec(e);i.search(o[1],n)}else n()},e.prototype.createGroup=function(e,n){var i=this,o=t('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,n,(function(t){(t=t||[]).length&&(o.html(i.createItemTemplates(e,t)),i.show())})),o},e.prototype.handleKeyup=function(t){var e=this;if(!me.contains([Be.code.ENTER,Be.code.UP,Be.code.DOWN],t.keyCode)){var n=this.context.invoke("editor.createRange").getWordRange(),i=n.toString();if(this.hints.length&&i){this.$content.empty();var o=ge.rect2bnd(me.last(n.getClientRects()));o&&(this.$popover.hide(),this.lastWordRange=n,this.hints.forEach((function(t,n){t.match.test(i)&&e.createGroup(n,i).appendTo(e.$content)})),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:o.left,top:o.top-this.$popover.outerHeight()-xn}):this.$popover.css({left:o.left,top:o.top+o.height+xn}))}else this.hide()}},e.prototype.show=function(){this.$popover.show()},e.prototype.hide=function(){this.$popover.hide()},e}(),kn=function(){function e(e,n){this.ui=t.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=n,this.initialize()}return e.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},e.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},e.prototype.reset=function(){var t=this.isDisabled();this.code(Le.emptyPara),this._destroy(),this._initialize(),t&&this.disable()},e.prototype._initialize=function(){var e=this,n=t.extend({},this.options.buttons);Object.keys(n).forEach((function(t){e.memo("button."+t,n[t])}));var i=t.extend({},this.options.modules,t.summernote.plugins||{});Object.keys(i).forEach((function(t){e.module(t,i[t],!0)})),Object.keys(this.modules).forEach((function(t){e.initializeModule(t)}))},e.prototype._destroy=function(){var t=this;Object.keys(this.modules).reverse().forEach((function(e){t.removeModule(e)})),Object.keys(this.memos).forEach((function(e){t.removeMemo(e)})),this.triggerEvent("destroy",this)},e.prototype.code=function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t)},e.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},e.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},e.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},e.prototype.triggerEvent=function(){var t=me.head(arguments),e=me.tail(me.from(arguments)),n=this.options.callbacks[ge.namespaceToCamel(t,"on")];n&&n.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)},e.prototype.initializeModule=function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||ge.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&Le.attachEvents(this.$note,e.events))},e.prototype.module=function(t,e,n){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),n||this.initializeModule(t)},e.prototype.removeModule=function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&Le.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]},e.prototype.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},e.prototype.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},e.prototype.createInvokeHandlerAndUpdateState=function(t,e){var n=this;return function(i){n.createInvokeHandler(t,e)(i),n.invoke("buttons.updateCurrentStyle")}},e.prototype.createInvokeHandler=function(e,n){var i=this;return function(o){o.preventDefault();var r=t(o.target);i.invoke(e,n||r.closest("[data-value]").data("value"),r)}},e.prototype.invoke=function(){var t=me.head(arguments),e=me.tail(me.from(arguments)),n=t.split("."),i=n.length>1,o=i&&me.head(n),r=i?me.last(n):me.head(n),s=this.modules[o||"editor"];return!o&&this[r]?this[r].apply(this,e):s&&s[r]&&s.shouldInitialize()?s[r].apply(s,e):void 0},e}();t.fn.extend({summernote:function(){var e=t.type(me.head(arguments)),n="string"===e,i="object"===e,o=t.extend({},t.summernote.options,i?me.head(arguments):{});o.langInfo=t.extend(!0,{},t.summernote.lang["en-US"],t.summernote.lang[o.lang]),o.icons=t.extend(!0,{},t.summernote.options.icons,o.icons),o.tooltip="auto"===o.tooltip?!Te.isSupportTouch:o.tooltip,this.each((function(e,n){var i=t(n);if(!i.data("summernote")){var r=new kn(i,o);i.data("summernote",r),i.data("summernote").triggerEvent("init",r.layoutInfo)}}));var r=this.first();if(r.length){var s=r.data("summernote");if(n)return s.invoke.apply(s,me.from(arguments));o.focus&&s.invoke("editor.focus")}return this}}),t.summernote=t.extend(t.summernote,{version:"0.8.10",ui:fe,dom:Le,plugins:{},options:{modules:{editor:Qe,clipboard:Je,dropzone:Ze,codeview:tn,statusbar:nn,fullscreen:on,handle:rn,hintPopover:Cn,autoLink:ln,autoSync:un,placeholder:cn,buttons:dn,toolbar:hn,linkDialog:fn,linkPopover:pn,imageDialog:gn,imagePopover:mn,tablePopover:vn,videoDialog:bn,helpDialog:yn,airPopover:_n},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}((function(t){t.extend(!0,t.summernote.lang,{"en-US":{cleaner:{tooltip:"Cleaner",not:"Text has been Cleaned!!!",limitText:"Text",limitHTML:"HTML"}}}),t.extend(t.summernote.options,{cleaner:{action:"both",newline:"<br>",notStyle:"position:absolute;top:0;left:0;right:0",icon:'<i class="note-icon"><svg xmlns="http://www.w3.org/2000/svg" id="libre-paintbrush" viewBox="0 0 14 14" width="14" height="14"><path d="m 11.821425,1 q 0.46875,0 0.82031,0.311384 0.35157,0.311384 0.35157,0.780134 0,0.421875 -0.30134,1.01116 -2.22322,4.212054 -3.11384,5.035715 -0.64956,0.609375 -1.45982,0.609375 -0.84375,0 -1.44978,-0.61942 -0.60603,-0.61942 -0.60603,-1.469866 0,-0.857143 0.61608,-1.419643 l 4.27232,-3.877232 Q 11.345985,1 11.821425,1 z m -6.08705,6.924107 q 0.26116,0.508928 0.71317,0.870536 0.45201,0.361607 1.00781,0.508928 l 0.007,0.475447 q 0.0268,1.426339 -0.86719,2.32366 Q 5.700895,13 4.261155,13 q -0.82366,0 -1.45982,-0.311384 -0.63616,-0.311384 -1.0212,-0.853795 -0.38505,-0.54241 -0.57924,-1.225446 -0.1942,-0.683036 -0.1942,-1.473214 0.0469,0.03348 0.27455,0.200893 0.22768,0.16741 0.41518,0.29799 0.1875,0.130581 0.39509,0.24442 0.20759,0.113839 0.30804,0.113839 0.27455,0 0.3683,-0.247767 0.16741,-0.441965 0.38505,-0.753349 0.21763,-0.311383 0.4654,-0.508928 0.24776,-0.197545 0.58928,-0.31808 0.34152,-0.120536 0.68974,-0.170759 0.34821,-0.05022 0.83705,-0.07031 z"/></svg></i>',keepHtml:!0,keepOnlyTags:[],keepClasses:!1,badTags:["style","script","applet","embed","noframes","noscript","html"],badAttributes:["style","start"],limitChars:520,limitDisplay:"both",limitStop:!1}}),t.extend(t.summernote.plugins,{cleaner:function(e){var n=t.summernote.ui,i=e.layoutInfo.note,o=e.layoutInfo.editor,r=e.options,s=r.langInfo,a=function(t,e){var n=t;if(!r.cleaner.keepClasses){var i=/(\n|\r| class=(")?Mso[a-zA-Z]+(")?)/g;n=t.replace(i," ")}var o=/(\n)+/g;if(n=n.replace(o,e),r.cleaner.keepHtml){var s=new RegExp("<!--(.*?)-->","gi");n=n.replace(s,"");var a=new RegExp("<(/)*(meta|link|\\?xml:|st1:|o:|font)(.*?)>","gi");n=n.replace(a,"");for(var l=r.cleaner.badTags,u=0;u<l.length;u++)a=new RegExp("<"+l[u]+"\\b.*>.*</"+l[u]+">","gi"),n=n.replace(a,"");var c=r.cleaner.keepOnlyTags;if(void 0===c&&(c=[]),c.length>0){c=(((c||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var d=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;n=n.replace(d,(function(t,e){return c.indexOf("<"+e.toLowerCase()+">")>-1?t:""}))}for(var h=r.cleaner.badAttributes,f=0;f<h.length;f++){var p=new RegExp(" "+h[f]+"=['|\"](.*?)['|\"]","gi");n=n.replace(p,"")}}return n};"both"!=r.cleaner.action&&"button"!=r.cleaner.action||e.memo("button.cleaner",(function(){return n.button({contents:r.cleaner.icon,tooltip:s.cleaner.tooltip,click:function(){i.summernote("createRange").toString()?i.summernote("pasteHTML",i.summernote("createRange").toString()):i.summernote("code",a(i.summernote("code"))),t(".note-status-output").length>0?t(".note-status-output").html('<div class="alert alert-success">'+s.cleaner.not+"</div>"):o.find(".note-editing-area").append('<div class="alert alert-success" style="'+r.cleaner.notStyle+'">'+s.cleaner.not+"</div>")}}).render()})),this.events={"summernote.init":function(){if(t(".note-status-output").length<1&&(t(".note-statusbar").prepend('<output class="note-status-output"></output>'),t("head").append("<style>.note-statusbar .note-status-output{display:block;padding-top:7px;width:100%;font-size:14px;line-height:1.42857143;height:25px;color:#000}.note-statusbar .pull-right{float:right!important}.note-statusbar .note-status-output .text-muted{color:#777}.note-statusbar .note-status-output .text-primary{color:#286090}.note-statusbar .note-status-output .text-success{color:#3c763d}.note-statusbar .note-status-output .text-info{color:#31708f}.note-statusbar .note-status-output .text-warning{color:#8a6d3b}.note-statusbar .note-status-output .text-danger{color:#a94442}.note-statusbar .alert{margin:-7px 0 0 0;padding:2px 10px;border:1px solid transparent;border-radius:0}.note-statusbar .alert .note-icon{margin-right:5px}.note-statusbar .alert-success{color:#3c763d!important;background-color: #dff0d8 !important;border-color:#d6e9c6}.note-statusbar .alert-info{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.note-statusbar .alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.note-statusbar .alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}</style>")),0!=r.cleaner.limitChars||"none"!=r.cleaner.limitDisplay){var e=t(".note-editable").text().replace(/(<([^>]+)>)/gi,"").replace(/( )/," "),n=t(".note-editable").html(),i="";e.length>r.cleaner.limitChars&&r.cleaner.limitChars>0?i+='text-danger">':i+='">',"text"!=r.cleaner.limitDisplay&&"both"!=r.cleaner.limitDisplay||(i+=s.cleaner.limitText+": "+e.length),"both"==r.cleaner.limitDisplay&&(i+=" / "),"html"!=r.cleaner.limitDisplay&&"both"!=r.cleaner.limitDisplay||(i+=s.cleaner.limitHTML+": "+n.length),t(".note-status-output").html('<small class="pull-right '+i+"&nbsp;</small>")}},"summernote.keydown":function(e,n){if(0!=r.cleaner.limitChars||"none"!=r.cleaner.limitDisplay){var i=t(".note-editable").text().replace(/(<([^>]+)>)/gi,"").replace(/( )/," "),o=t(".note-editable").html(),a="";if(1==r.cleaner.limitStop&&i.length>=r.cleaner.limitChars){var l=n.keyCode;if(allowed_keys=[8,37,38,39,40,46],-1!=t.inArray(l,allowed_keys))return t(".cleanerLimit").removeClass("text-danger"),!0;t(".cleanerLimit").addClass("text-danger"),n.preventDefault(),n.stopPropagation()}else i.length>r.cleaner.limitChars&&r.cleaner.limitChars>0?a+='text-danger">':a+='">',"text"!=r.cleaner.limitDisplay&&"both"!=r.cleaner.limitDisplay||(a+=s.cleaner.limitText+": "+i.length),"both"==r.cleaner.limitDisplay&&(a+=" / "),"html"!=r.cleaner.limitDisplay&&"both"!=r.cleaner.limitDisplay||(a+=s.cleaner.limitHTML+": "+o.length),t(".note-status-output").html('<small class="cleanerLimit pull-right '+a+"&nbsp;</small>")}},"summernote.paste":function(e,n){if("both"==r.cleaner.action||"paste"==r.cleaner.action){n.preventDefault();var l=window.navigator.userAgent.indexOf("MSIE ");l=l>0||!!navigator.userAgent.match(/Trident.*rv\:11\./);var u=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;if(l)var c=window.clipboardData.getData("Text");else c=n.originalEvent.clipboardData.getData(r.cleaner.keepHtml?"Text":"text/plain");c&&(l||u?setTimeout(i.summernote("pasteHTML",a(c,r.cleaner.newline)),1):i.summernote("pasteHTML",a(c,r.cleaner.newline)),t(".note-status-output").length>0?t(".note-status-output").html('<div class="summernote-cleanerAlert alert alert-success">'+s.cleaner.not+"</div>"):o.find(".note-resizebar").append('<div class="summernote-cleanerAlert alert alert-success" style="'+r.cleaner.notStyle+'">'+s.cleaner.not+"</div>"))}}}}})}));var Showdown={},JSON;Showdown.converter=function(){var t,e,n,i=0;this.makeHtml=function(i){return t=new Array,e=new Array,n=new Array,void 0===i&&(i=""),i=(i=(i=(i=i.replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"),i=(i=A(i="\n\n"+i+"\n\n")).replace(/^[ \t]+$/gm,""),i=s(i),i=r(i),i=l(i),i=(i=(i=N(i)).replace(/~D/g,"$$")).replace(/~T/g,"~")};var o,r=function(n){return n=n.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,(function(n,i,o,r,s){return i=i.toLowerCase(),t[i]=k(o),r?r+s:(s&&(e[i]=s.replace(/"/g,"&quot;")),"")}))},s=function(t){return t=(t=(t=(t=(t=(t=(t=t.replace(/\n/g,"\n\n")).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,a)).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,a)).replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a)).replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,a)).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a)).replace(/\n\n/g,"\n")},a=function(t,e){var i=e;return i=(i=(i=i.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),i="\n\n~K"+(n.push(i)-1)+"K\n\n"},l=function(t){t=g(t);var e=b("<hr />");return t=(t=(t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e)).replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,e)).replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,e),t=m(t),t=v(t),t=x(t),t=s(t),t=C(t)},u=function(t){return t=y(t),t=c(t),t=T(t),t=f(t),t=d(t),t=S(t),t=k(t),t=(t=_(t)).replace(/  +\n/g," <br />\n")},c=function(t){var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return t=t.replace(e,(function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=z(e,"\\`*_")}))},d=function(t){return t=(t=(t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,h)).replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,h)).replace(/(\[([^\[\]]+)\])()()()()()/g,h)},h=function(n,i,o,r,s,a,l,u){null==u&&(u="");var c=i,d=o,h=r.toLowerCase(),f=s,p=u;if(""==f)if(""==h&&(h=d.toLowerCase().replace(/ ?\n/g," ")),f="#"+h,null!=t[h])f=t[h],null!=e[h]&&(p=e[h]);else{if(!(c.search(/\(\s*\)$/m)>-1))return c;f=""}var g='<a href="'+(f=z(f,"*_"))+'"';return""!=p&&(p=p.replace(/"/g,"&quot;"),g+=' title="'+(p=z(p,"*_"))+'"'),g+=">"+d+"</a>"},f=function(t){return t=(t=t.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p)).replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p)},p=function(n,i,o,r,s,a,l,u){var c=i,d=o,h=r.toLowerCase(),f=s,p=u;if(p||(p=""),""==f){if(""==h&&(h=d.toLowerCase().replace(/ ?\n/g," ")),f="#"+h,null==t[h])return c;f=t[h],null!=e[h]&&(p=e[h])}d=d.replace(/"/g,"&quot;");var g='<img src="'+(f=z(f,"*_"))+'" alt="'+d+'"';return p=p.replace(/"/g,"&quot;"),g+=' title="'+(p=z(p,"*_"))+'"',g+=" />"},g=function(t){return t=(t=(t=t.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,(function(t,e){return b("<h1>"+u(e)+"</h1>")}))).replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,(function(t,e){return b("<h2>"+u(e)+"</h2>")}))).replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,(function(t,e,n){var i=e.length;return b("<h"+i+">"+u(n)+"</h"+i+">")}))},m=function(t){t+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return i?t=t.replace(e,(function(t,e,n){var i=e,r=n.search(/[*+-]/g)>-1?"ul":"ol";i=i.replace(/\n{2,}/g,"\n\n\n");var s=o(i);return s="<"+r+">"+(s=s.replace(/\s+$/,""))+"</"+r+">\n"})):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,t=t.replace(e,(function(t,e,n,i){var r=e,s=n,a=i.search(/[*+-]/g)>-1?"ul":"ol",l=(s=s.replace(/\n{2,}/g,"\n\n\n"),o(s));return l=r+"<"+a+">\n"+l+"</"+a+">\n"}))),t=t.replace(/~0/,"")};o=function(t){return i++,t=t.replace(/\n{2,}$/,"\n"),t=(t=(t+="~0").replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,(function(t,e,n,i,o){var r=o;return e||r.search(/\n{2,}/)>-1?r=l(D(r)):(r=(r=m(D(r))).replace(/\n$/,""),r=u(r)),"<li>"+r+"</li>\n"}))).replace(/~0/g,""),i--,t};var v=function(t){return t=(t=(t+="~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,(function(t,e,n){var i=e,o=n;return i=w(D(i)),i=(i=(i=A(i)).replace(/^\n+/g,"")).replace(/\n+$/g,""),b(i="<pre><code>"+i+"\n</code></pre>")+o}))).replace(/~0/,"")},b=function(t){return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.push(t)-1)+"K\n\n"},y=function(t){return t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(t,e,n,i){var o=i;return o=(o=o.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),e+"<code>"+(o=w(o))+"</code>"}))},w=function(t){return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),t=z(t,"*_{}[]\\",!1)},_=function(t){return t=(t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>")).replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},x=function(t){return t=t.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,(function(t,e){var n=e;return n=(n=(n=n.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""),n=(n=(n=l(n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(t,e){var n=e;return n=(n=n.replace(/^  /gm,"~0")).replace(/~0/g,"")})),b("<blockquote>\n"+n+"\n</blockquote>")}))},C=function(t){for(var e=(t=(t=t.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),i=new Array,o=e.length,r=0;r<o;r++){var s=e[r];s.search(/~K(\d+)K/g)>=0?i.push(s):s.search(/\S/)>=0&&(s=(s=u(s)).replace(/^([ \t]*)/g,"<p>"),s+="</p>",i.push(s))}o=i.length;for(r=0;r<o;r++)for(;i[r].search(/~K(\d+)K/)>=0;){var a=n[RegExp.$1];a=a.replace(/\$/g,"$$$$"),i[r]=i[r].replace(/~K\d+K/,a)}return i.join("\n\n")},k=function(t){return t=(t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?\$!])/gi,"&lt;")},T=function(t){return t=(t=t.replace(/\\(\\)/g,P)).replace(/\\([`*_{}\[\]()>#+-.!])/g,P)},S=function(t){return t=(t=t.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>')).replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,(function(t,e){return E(N(e))}))},E=function(t){function e(t){var e="0123456789ABCDEF",n=t.charCodeAt(0);return e.charAt(n>>4)+e.charAt(15&n)}var n=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+e(t)+";"},function(t){return t}];return t=(t='<a href="'+(t=(t="mailto:"+t).replace(/./g,(function(t){if("@"==t)t=n[Math.floor(2*Math.random())](t);else if(":"!=t){var e=Math.random();t=e>.9?n[2](t):e>.45?n[1](t):n[0](t)}return t})))+'">'+t+"</a>").replace(/">.+:/g,'">')},N=function(t){return t=t.replace(/~E(\d+)E/g,(function(t,e){var n=parseInt(e);return String.fromCharCode(n)}))},D=function(t){return t=(t=t.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")},A=function(t){return t=(t=(t=(t=(t=t.replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"~A~B")).replace(/~B(.+?)~A/g,(function(t,e){for(var n=e,i=4-n.length%4,o=0;o<i;o++)n+=" ";return n}))).replace(/~A/g,"    ")).replace(/~B/g,"")},z=function(t,e,n){var i="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var o=new RegExp(i,"g");return t=t.replace(o,P)},P=function(t,e){return"~E"+e.charCodeAt(0)+"E"}},Gettext=function(t){this.domain="messages",this.locale_data=void 0;var e=["domain","locale_data"];if(this.isValidObject(t))for(var n in t)for(var i=0;i<e.length;i++)n==e[i]&&this.isValidObject(t[n])&&(this[n]=t[n]);return this.try_load_lang(),this},Gettext.context_glue="\x04",Gettext._locale_data={},Gettext.prototype.try_load_lang=function(){if(void 0!==this.locale_data){var t=this.locale_data;if(this.locale_data=void 0,this.parse_locale_data(t),void 0===Gettext._locale_data[this.domain])throw new Error("Error: Gettext 'locale_data' does not contain the domain '"+this.domain+"'")}var e=this.get_lang_refs();if("object"==typeof e&&e.length>0)for(var n=0;n<e.length;n++){var i=e[n];if("application/json"==i.type){if(!this.try_load_lang_json(i.href))throw new Error("Error: Gettext 'try_load_lang_json' failed. Unable to exec xmlhttprequest for link ["+i.href+"]")}else{if("application/x-po"!=i.type)throw new Error("TODO: link type ["+i.type+"] found, and support is planned, but not implemented at this time.");if(!this.try_load_lang_po(i.href))throw new Error("Error: Gettext 'try_load_lang_po' failed. Unable to exec xmlhttprequest for link ["+i.href+"]")}}},Gettext.prototype.parse_locale_data=function(t){for(var e in void 0===Gettext._locale_data&&(Gettext._locale_data={}),t)if(t.hasOwnProperty(e)&&this.isValidObject(t[e])){var n=!1;for(var i in t[e]){n=!0;break}if(n){var o=t[e];for(var r in""==e&&(e="messages"),this.isValidObject(Gettext._locale_data[e])||(Gettext._locale_data[e]={}),this.isValidObject(Gettext._locale_data[e].head)||(Gettext._locale_data[e].head={}),this.isValidObject(Gettext._locale_data[e].msgs)||(Gettext._locale_data[e].msgs={}),
o)if(""==r){var s=o[r];for(var a in s){var l=a.toLowerCase();Gettext._locale_data[e].head[l]=s[a]}}else Gettext._locale_data[e].msgs[r]=o[r]}}for(var e in Gettext._locale_data)if(this.isValidObject(Gettext._locale_data[e].head["plural-forms"])&&void 0===Gettext._locale_data[e].head.plural_func){var u=Gettext._locale_data[e].head["plural-forms"];if(!new RegExp("^(\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;a-zA-Z0-9_()])+)","m").test(u))throw new Error("Syntax error in language file. Plural-Forms header is invalid ["+u+"]");var c=Gettext._locale_data[e].head["plural-forms"];/;\s*$/.test(c)||(c=c.concat(";"));var d="var plural; var nplurals; "+c+' return { "nplural" : nplurals, "plural" : (plural === true ? 1 : plural ? plural : 0) };';Gettext._locale_data[e].head.plural_func=new Function("n",d)}else void 0===Gettext._locale_data[e].head.plural_func&&(Gettext._locale_data[e].head.plural_func=function(t){return{nplural:2,plural:1!=t?1:0}})},Gettext.prototype.try_load_lang_po=function(t){var e=this.sjax(t);if(e){var n=this.uri_basename(t),i=this.parse_po(e),o={};return i&&(i[""]||(i[""]={}),i[""].domain||(i[""].domain=n),o[n=i[""].domain]=i,this.parse_locale_data(o)),1}},Gettext.prototype.uri_basename=function(t){var e,n;return(e=t.match(/^(.*\/)?(.*)/))?(n=e[2].match(/^(.*)\..+$/))?n[1]:e[2]:""},Gettext.prototype.parse_po=function(t){for(var e={},n={},i="",o=[],r=t.split("\n"),s=0;s<r.length;s++){if(r[s]=r[s].replace(/(\n|\r)+$/,""),/^$/.test(r[s])){if(void 0!==n.msgid){var a=void 0!==n.msgctxt&&n.msgctxt.length?n.msgctxt+Gettext.context_glue+n.msgid:n.msgid,l=void 0!==n.msgid_plural&&n.msgid_plural.length?n.msgid_plural:null,u=[];for(var c in n){(d=c.match(/^msgstr_(\d+)/))&&(u[parseInt(d[1])]=n[c])}u.unshift(l),u.length>1&&(e[a]=u),n={},i=""}}else{if(/^#/.test(r[s]))continue;(d=r[s].match(/^msgctxt\s+(.*)/))?n[i="msgctxt"]=this.parse_po_dequote(d[1]):(d=r[s].match(/^msgid\s+(.*)/))?n[i="msgid"]=this.parse_po_dequote(d[1]):(d=r[s].match(/^msgid_plural\s+(.*)/))?n[i="msgid_plural"]=this.parse_po_dequote(d[1]):(d=r[s].match(/^msgstr\s+(.*)/))||(d=r[s].match(/^msgstr\[0\]\s+(.*)/))?n[i="msgstr_0"]=this.parse_po_dequote(d[1]):(d=r[s].match(/^msgstr\[(\d+)\]\s+(.*)/))?n[i="msgstr_"+d[1]]=this.parse_po_dequote(d[2]):/^"/.test(r[s])?n[i]+=this.parse_po_dequote(r[s]):o.push("Strange line ["+s+"] : "+r[s])}}if(void 0!==n.msgid){a=void 0!==n.msgctxt&&n.msgctxt.length?n.msgctxt+Gettext.context_glue+n.msgid:n.msgid,l=void 0!==n.msgid_plural&&n.msgid_plural.length?n.msgid_plural:null,u=[];for(var c in n){var d;(d=c.match(/^msgstr_(\d+)/))&&(u[parseInt(d[1])]=n[c])}u.unshift(l),u.length>1&&(e[a]=u),n={},i=""}if(e[""]&&e[""][1]){var h={},f=e[""][1].split(/\\n/);for(s=0;s<f.length;s++)if(f.length){var p=f[s].indexOf(":",0);if(-1!=p){var g=f[s].substring(0,p),m=f[s].substring(p+1),v=g.toLowerCase();h[v]&&h[v].length?o.push("SKIPPING DUPLICATE HEADER LINE: "+f[s]):/#-#-#-#-#/.test(v)?o.push("SKIPPING ERROR MARKER IN HEADER: "+f[s]):(m=m.replace(/^\s+/,""),h[v]=m)}else o.push("PROBLEM LINE IN HEADER: "+f[s]),h[f[s]]=""}e[""]=h}else e[""]={};return e},Gettext.prototype.parse_po_dequote=function(t){var e;return(e=t.match(/^"(.*)"/))&&(t=e[1]),t=t.replace(/\\"/g,'"')},Gettext.prototype.try_load_lang_json=function(t){var e=this.sjax(t);if(e){var n=this.JSON(e);return this.parse_locale_data(n),1}},Gettext.prototype.get_lang_refs=function(){for(var t=new Array,e=document.getElementsByTagName("link"),n=0;n<e.length;n++)if("gettext"==e[n].rel&&e[n].href){if(void 0===e[n].type||""==e[n].type)if(/\.json$/i.test(e[n].href))e[n].type="application/json";else if(/\.js$/i.test(e[n].href))e[n].type="application/json";else if(/\.po$/i.test(e[n].href))e[n].type="application/x-po";else{if(!/\.mo$/i.test(e[n].href))throw new Error("LINK tag with rel=gettext found, but the type and extension are unrecognized.");e[n].type="application/x-mo"}if(e[n].type=e[n].type.toLowerCase(),"application/json"==e[n].type)e[n].type="application/json";else if("text/javascript"==e[n].type)e[n].type="application/json";else if("application/x-po"==e[n].type)e[n].type="application/x-po";else{if("application/x-mo"!=e[n].type)throw new Error("LINK tag with rel=gettext found, but the type attribute ["+e[n].type+"] is unrecognized.");e[n].type="application/x-mo"}t.push(e[n])}return t},Gettext.prototype.textdomain=function(t){return t&&t.length&&(this.domain=t),this.domain},Gettext.prototype.gettext=function(t){var e,n,i,o;return this.dcnpgettext(null,e,t,n,i,o)},Gettext.prototype.dgettext=function(t,e){var n,i,o,r;return this.dcnpgettext(t,n,e,i,o,r)},Gettext.prototype.dcgettext=function(t,e,n){var i,o,r;return this.dcnpgettext(t,i,e,o,r,n)},Gettext.prototype.ngettext=function(t,e,n){var i,o;return this.dcnpgettext(null,i,t,e,n,o)},Gettext.prototype.dngettext=function(t,e,n,i){var o,r;return this.dcnpgettext(t,o,e,n,i,r)},Gettext.prototype.dcngettext=function(t,e,n,i,o){var r;return this.dcnpgettext(t,r,e,n,i,o,o)},Gettext.prototype.pgettext=function(t,e){var n,i,o;return this.dcnpgettext(null,t,e,n,i,o)},Gettext.prototype.dpgettext=function(t,e,n){var i,o,r;return this.dcnpgettext(t,e,n,i,o,r)},Gettext.prototype.dcpgettext=function(t,e,n,i){var o,r;return this.dcnpgettext(t,e,n,o,r,i)},Gettext.prototype.npgettext=function(t,e,n,i){var o;return this.dcnpgettext(null,t,e,n,i,o)},Gettext.prototype.dnpgettext=function(t,e,n,i,o){var r;return this.dcnpgettext(t,e,n,i,o,r)},Gettext.prototype.dcnpgettext=function(t,e,n,i,o){if(!this.isValidObject(n))return"";var r=this.isValidObject(i),s=this.isValidObject(e)?e+Gettext.context_glue+n:n,a=this.isValidObject(t)?t:this.isValidObject(this.domain)?this.domain:"messages",l=new Array;if(void 0!==Gettext._locale_data&&this.isValidObject(Gettext._locale_data[a]))l.push(Gettext._locale_data[a]);else if(void 0!==Gettext._locale_data)for(var u in Gettext._locale_data)l.push(Gettext._locale_data[u]);var c,d=[],h=!1;if(l.length)for(var f=0;f<l.length;f++){var p=l[f];if(this.isValidObject(p.msgs[s])){for(var g=0;g<p.msgs[s].length;g++)d[g]=p.msgs[s][g];if(d.shift(),c=p,h=!0,d.length>0&&0!=d[0].length)break}}0!=d.length&&0!=d[0].length||(d=[n,i]);var m=d[0];if(r){var v;if(h&&this.isValidObject(c.head.plural_func)){var b=c.head.plural_func(o);b.plural||(b.plural=0),b.nplural||(b.nplural=0),b.nplural<=b.plural&&(b.plural=0),v=b.plural}else v=1!=o?1:0;this.isValidObject(d[v])&&(m=d[v])}return m},Gettext.strargs=function(t,e){null==e||void 0===e?e=[]:e.constructor!=Array&&(e=[e]);for(var n="";;){var i,o=t.indexOf("%");if(-1==o){n+=t;break}if(n+=t.substr(0,o),"%%"==t.substr(o,2))n+="%",t=t.substr(o+2);else if(i=t.substr(o).match(/^%(\d+)/)){var r=parseInt(i[1]),s=i[1].length;r>0&&null!=e[r-1]&&void 0!==e[r-1]&&(n+=e[r-1]),t=t.substr(o+1+s)}else n+="%",t=t.substr(o+1)}return n},Gettext.prototype.strargs=function(t,e){return Gettext.strargs(t,e)},Gettext.prototype.isArray=function(t){return this.isValidObject(t)&&t.constructor==Array},Gettext.prototype.isValidObject=function(t){return null!=t&&void 0!==t},Gettext.prototype.sjax=function(t){var e;if(!(e=window.XMLHttpRequest?new XMLHttpRequest:-1!=navigator.userAgent.toLowerCase().indexOf("msie 5")?new ActiveXObject("Microsoft.XMLHTTP"):new ActiveXObject("Msxml2.XMLHTTP")))throw new Error("Your browser doesn't do Ajax. Unable to support external language files.");e.open("GET",t,!1);try{e.send(null)}catch(t){return}var n=e.status;if(200==n||0==n)return e.responseText;var i=e.statusText+" (Error "+e.status+")";return e.responseText.length&&(i+="\n"+e.responseText),void alert(i)},Gettext.prototype.JSON=function(data){return eval("("+data+")")},function(t,e,n){function i(t){return this.e=t,this.i=0,this.js=["with(XPath){return ","}"],this.expression(1,1)||this.error(),new Function("n","nsr",this.js.join(""))}function o(t){if(this==t)return 0;if(2==this.nodeType&&2==t.nodeType)return this.ownerElement&&this.ownerElement==t.ownerElement?32:0;var e=this.ownerElement||this,n=t.ownerElement||t;if(e.sourceIndex>=0&&n.sourceIndex>=0&&e.contains&&n.contains)return(e.contains(n)?16:n.contains(e)&&8)|(e.sourceIndex<n.sourceIndex?4:n.sourceIndex<e.sourceIndex&&2)||1;for(var i=e,o=n,r=0,s=0;i=i.parentNode;)r++;for(;o=o.parentNode;)s++;if(r>s){for(;r--!=s;)e=e.parentNode;if(e==n)return 10}else if(s>r){for(;s--!=r;)n=n.parentNode;if(n==e)return 20}for(;(i=e.parentNode)!=(o=n.parentNode);)if(!(e=i)||!(n=o))return 1;for(;e=e.nextSibling;)if(e==n)return 4;return 2}if(i.ie=/MSIE/.test(navigator.userAgent),i.prototype={match:function(t,e){var n,i;return!(!(n=t.exec(this.e.substr(this.i)))||"number"==typeof e&&!(i=n[e])||"object"==typeof e&&!(i=e[n[1]]))&&(this.m=n,this.i+=n[0].length,i||n)},error:function(t){var e;t=(t||"Syntax error")+" at index "+this.i+": "+this.e.substr(this.i);try{e=new s(51,t)}catch(n){e=new Error(t)}throw e},step:function(t,e,n,o){var r,s=3;if(this.match(/^(\/\/?|\.\.?|@)\s*/,1))switch(this.m[1]){case"/":if(n&&this.error(),!o)return this.step(t,e,1);this.js.splice(t,0,' axis(axes["',"document-root",'"],'),s+=this.nodeTypes.node.call(this,t+s),n=1;break;case"//":n&&this.error(),this.js.splice(t,0,' axis(axes["',"descendant-or-self",'"],'),s+=this.nodeTypes.node.call(this,t+s),n=1;break;case".":n||o||this.error(),this.js.splice(t,0,' axis(axes["',"self",'"],'),s+=this.nodeTypes.node.call(this,t+s),n=0;break;case"..":n||o||this.error(),this.js.splice(t,0,' axis(axes["',"parent",'"],'),s+=this.nodeTypes.node.call(this,t+s),n=0;break;case"@":n||o||this.error(),this.js.splice(t,0,' axis(axes["',"attribute",'"],'),s+=this.nodeTest(t+s,"node")||this.error("Missing nodeTest after @"),n=0}else{if(!n&&!o)return n?this.error():0;if(this.match(/^([a-z]+(?:-[a-z]+)*)\s*::\s*/,i.axes))this.js.splice(t,0,' axis(axes["',this.m[1],'"],'),s+=this.nodeTest(t+s,"attribute"==this.m[1]?"node":"element")||this.error("Missing nodeTest after ::"),n=0;else{if(!(s=this.nodeTest(t,"element")))return 0;this.js.splice(t,0,' axis(axes["',"child",'"],'),s+=3,n=0}}for(;r=this.predicate(t+s);s+=r);return o&&this.js.splice(e+s++,0,o),s+=this.step(t,e+s,n),this.js.splice(e+s++,0,")"),s},expression:function(t,e,n){for(var i,o=this.operand(t);i=this.match(/^(or|and|!?=|[<>]=?|[|*+-]|div|mod)\s*/,this.operators);){if(n&&n[0]>=i[0]){this.i-=this.m[0].length;break}this.js.splice(t,0,i[1]),o++,this.js.splice(t+o++,0,i[2]),o+=this.expression(t+o,e,i)||this.error("Missing operand"),this.js.splice(t+o++,0,i[3])}return o},operand:function(t){if(this.match(/^(-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)|"[^"]*"|'[^']*')\s*/,1))return this.js.splice(t,0,this.m[1]),1;var e;if(e=this.match(/^([a-z]+(?:-[a-z]+)*)\s*\(\s*/,this.functions)){var n,i=1;this.js.splice(t,0,e[1]);do{n&&this.js.splice(t+i++,0,","),i+=n=this.expression(t+i,t+i)}while(n&&this.match(/^,\s*/));return this.match(/^\)\s*/)||this.error("Missing ("),e[0]&&(n&&this.js.splice(t+i++,0,","),this.js.splice(t+i++,0,e[0])),e[2]?this.js.splice(t+i++,0,e[2]):n>1&&this.error("Function has arguments"),i+=this.step(t,t+i)}if(this.match(/^\(\s*/)){i=1;return this.js.splice(t,0,"("),i+=this.expression(t+i,t+i),this.match(/^\)\s*/)||this.error("Missing )"),this.js.splice(t+i++,")"),i}return this.step(t,t,0,"[n]")},operators:{"|":[1,"union(",",",")"],or:[1,"bool(",")||bool(",")"],and:[2,"bool(",")&&bool(",")"],"=":[3,"compare(eq,",",",")"],"!=":[3,"compare(ne,",",",")"],"<":[4,"compare(lt,",",",")"],">":[4,"compare(gt,",",",")"],"<=":[4,"compare(le,",",",")"],">=":[4,"compare(ge,",",",")"],"+":[5,"number(",")+number(",")"],"-":[5,"number(",")-number(",")"],"*":[6,"number(",")*number(",")"],div:[6,"number(",")/number(",")"],mod:[6,"number(",")%number(",")"]},functions:{last:[0,"nl.length"],position:[0,"(i+1)"],count:["nl","(",".length||0)"],id:["n","id(",")"],"local-name":["nl","localName(",")"],"namespace-uri":["nl","namespaceURI(",")"],name:["nl","qName(",")"],string:["n","string(",")"],concat:[0,"concat(",")"],"starts-with":[0,"startsWith(",")"],contains:[0,"contains(",")"],"substring-before":[0,"substringBefore(",")"],"substring-after":[0,"substringAfter(",")"],substring:[0,"substring(",")"],"string-length":["n","string(",").length"],"normalize-space":["n","normalizeSpace(",")"],translate:[0,"translate(",")"],boolean:[0,"bool(",")"],not:[0,"!bool(",")"],true:[0,"true "],false:[0,"false "],number:["n","number(",")"],floor:[0,"Math.floor(number(","))"],ceiling:[0,"Math.ceil(number(","))"],round:[0,"Math.round(number(","))"],sum:[0,"sum(",")"]},predicate:function(t){var e=0;return this.match(/^\[\s*/)&&((e=this.expression(t,t))&&(this.js.splice(t,0,"function(n,i,nl){with(XPath){var r="),e++,this.js.splice(t+e++,0,';return typeof r=="number"?Math.round(r)==i+1:bool(r)}},')),this.match(/^\]\s*/)||this.error("Missing ]")),e},nodeTest:function(t,e){var n;return(n=this.match(/^([a-z]+(?:-[a-z]+)*)\(([^)]*)\)\s*/,this.nodeTypes))?n.call(this,t,this.m[2]):this.match(/^\*\s*/)?this.nodeTypes[e].call(this,t):this.nodeName(t)},nodeType:function(t,e){return this.js.splice(t,0,"function(n){return n.nodeType==",e,"},"),3},nodeTypes:{node:function(t){return this.js.splice(t,0,"null,"),1},element:function(t){return this.nodeType(t,1)},attribute:function(t){return this.nodeType(t,2)},text:function(t){return this.nodeType(t,3)},"processing-instruction":function(t,e){return e?(this.js.splice(t,0,"function(n){return n.nodeType==7&&n.target==",e,"},"),3):this.nodeType(t,7)},comment:function(t){return this.nodeType(t,8)}},nodeName:function(t){return this.match(/^([a-zA-Z_]+(?:-?[a-zA-Z0-9]+)*)(?::([a-zA-Z_]+(?:-?[a-zA-Z0-9]+)*))?\s*/,1)?this.m[2]?(this.js.splice(t,0,'function(n){if(!nsr)throw new XPathException(14);return "',this.m[2],'"==',i.ie?"n.baseName":"n.localName",'&&nsr.lookupNamespaceURI("',this.m[1],'")==n.namespaceURI},'),7):(this.js.splice(t,0,"function(n){return/^",this.m[1],"$/i.test(n.nodeName)},"),3):0}},i.order=function(t,e){var n=t.compareDocumentPosition?t.compareDocumentPosition(e):i.compareDocumentPosition.call(t,e);return 32&n?(t=Array.prototype.indexOf.call(t.attributes,t))<(e=Array.prototype.indexOf.call(e.attributes,e))?-1:t>e?1:0:n?3-(6&n||3):t==e?0:(t=t.ownerElement)&&(e=e.ownerElement)?i.order(t,e):i.ie?1:0},i.compare=function(t,e,n){if(e instanceof Array&&n instanceof Array){var i=e.map(this.string),o=n.map(this.string);for(e=i.length;--e>=0;)for(n=o.length;--n>=0;)if(!t(i[e],o[n]))return!1;return!0}if(e instanceof Array){for(var r=e.length;--r>=0;)if(!t(this[typeof n](e[r]),n))return!1;return e.length>0}if(n instanceof Array){for(r=n.length;--r>=0;)if(!t(e,this[typeof e](n[r])))return!1;return n.length>0}return"boolean"==typeof e||"boolean"==typeof n?t(this.bool(e),this.bool(n)):"number"==typeof e||"number"==typeof n?t(this.number(e),this.number(n)):t(this.string(e),this.string(n))},i.eq=function(t,e){return t==e},i.ne=function(t,e){return t!=e},i.lt=function(t,e){return t<e},i.gt=function(t,e){return t>e},i.le=function(t,e){return t<=e},i.ge=function(t,e){return t>=e},i.id=function(t,e){1==arguments.length&&(e=t);for(var n=[],i=this.string(t).split(/\s+/),o=i.length;--o>=0;)(t=(e.ownerDocument||e).getElementById(i[o]))&&n.push(t);return n.sort(this.order)},i.localName=new Function("nl","return (nl.length&&nl[0]."+(i.ie?"baseName":"localName")+')||""'),i.namespaceURI=function(t){return t.length&&t[0].namespaceURI||""},i.qName=function(t){return t.length&&t[0].nodeName||""},i.union=function(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],i=t.length-1,o=e.length-1;;){switch(this.order(t[i],e[o])){case-1:n.unshift(e[o--]);break;case 0:o--;case 1:n.unshift(t[i--]);break;default:throw new Error("Invalid order")}if(i<0){++o>0&&n.unshift.apply(n,n.slice.call(e,0,o));break}if(o<0){++i>0&&n.unshift.apply(n,n.slice.call(t,0,i));break}}return n},i.string=i.object=function(t){if(t instanceof Array&&void 0===(t=t[0]))return"";if("string"==typeof t)return t;switch(t.nodeType){case 1:case 9:case 11:return Array.prototype.map.call(t.childNodes,this.string,this).join("");default:return t.nodeValue||""}return String(t)},i.concat=function(){return Array.prototype.map.call(arguments,this.string,this).join("")},i.startsWith=function(t,e){return this.string(t).substr(0,(e=this.string(e)).length)==e},i.contains=function(t,e){return-1!=this.string(t).indexOf(this.string(e))},i.substringBefore=function(t,e){return-1!=(e=(t=this.string(t)).indexOf(this.string(e)))?t.substr(0,e):""},i.substringAfter=function(t,e){t=this.string(t),e=this.string(e);var n=t.indexOf(e);return-1!=n?t.substr(n+e.length):""},i.substring=function(t,e,n){return t=this.string(t),e=Math.round(this.number(e))-1,2==arguments.length?t.substr(e<0?0:e):t.substr(e<0?0:e,Math.round(this.number(n))-Math.max(0,-e))},i.normalizeSpace=function(t){return this.string(t).replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")},i.translate=function(t,e,n){t=this.string(t),e=this.string(e),n=this.string(n);for(var i,o,r=[],s=t.length,a=0;--s>=0;)(-1==(i=e.indexOf(o=t.charAt(a++)))||(o=n.charAt(i)))&&r.push(o);return r.join("")},i.bool=i.boolean=function(t){return"boolean"==typeof t?t:t instanceof Array||"string"==typeof t?t.length>0:Boolean(t)},i.number=function(t){return t instanceof Array&&void 0===(t=t[0])?0:"number"==typeof t?t:"boolean"==typeof t?t?1:0:Number(this.string(t))},i.sum=function(t){for(var e=0,n=t.length;--n>=0;)e+=this.number(t[n]);return e},i.walk=function(t,e){for(var n,i=t.firstChild;i;)if(e.push(i),n=i.firstChild)i=n;else for(n=i;!(i=n.nextSibling)&&(n=n.parentNode)&&n!=t;);return e},i.axes={ancestor:function(t){for(var e=[];t=t.parentNode;)e.unshift(t);return e},"ancestor-or-self":function(t){var e=[];do{e.unshift(t)}while(t=t.parentNode);return e},attribute:new Function("n","var nl = [], a = n.attributes;if(a){attr:for(var x,i=a.length;--i>=0;){if(!(x=a[i]).specified){"+(i.ie?'switch(x.nodeName){case"selected":case"value":if(x.nodeValue)break;default:continue attr;}':"continue;")+"}nl.unshift(x);}}return nl;"),child:function(t){return t.childNodes||[]},descendant:function(t){return this.walk(t,[])},"descendant-or-self":function(t){return this.walk(t,[t])},following:function(t){for(var e,n=[];t;)(e=t.nextSibling)?(n.push(t=e),(e=t.firstChild)&&n.push(t=e)):t=t.parentNode;return n},"following-sibling":function(t){for(var e=[];t=t.nextSibling;)e.push(t);return e},parent:function(t){return t.parentNode?[t.parentNode]:[]},preceding:function(t){for(var e,n=[],i=t.parentNode;t;)if(e=t.previousSibling){for(t=e;e=t.lastChild;t=e);n.unshift(t)}else(t=t.parentNode)&&(t==i?i=i.parentNode:n.unshift(t));return n},"preceding-sibling":function(t){for(var e=[];t=t.previousSibling;)e.unshift(t);return e},self:function(t){return[t]},"document-root":function(t){return[t.ownerDocument||t]}},i.axis=function(t,e){for(var n,i,o,r=arguments.length-1,s=arguments[r],a=Array.prototype,l=0,u=s.length;--u>=0;){for(i=t.call(this,s[l++]),e&&i.length&&(i=a.filter.call(i,e,this)),o=2;o<r&&i.length;i=a.filter.call(i,arguments[o++],this));n=n?this.union(n,i):i}return n||[]},i.cache={},t.Node){var r=t.Node.prototype;!n&&r.compareDocumentPosition||(r.compareDocumentPosition=o),!n&&r.contains||(r.contains=function(t){return Boolean(16&this.compareDocumentPosition(t))})}else i.compareDocumentPosition=o;if(n||!t.XPathException){function s(t,e){this.name="XPathException",this.code=t,this.message=e}var a=s,l=new Error;l.toString=function(){return this.name+":"+this.message},a.prototype=l,a.NAMESPACE_ERR=14,a.INVALID_EXPRESSION_ERR=51,a.TYPE_ERR=52,t.XPathException=a}if(n||!t.XPathNSResolver){function u(t){this.ns={};for(var e,n,i=t.attributes.length;--i>=0;)(e=/xmlns:(.+)/.exec((n=t.attributes[i]).nodeName))&&(this.ns[e[1]]=n.nodeValue);this.ns[""]=t.getAttribute("targetNamespace")}u.prototype={lookupNamespaceURI:function(t){return this.ns[t||""]}},t.XPathNSResolver=u}if(n||!t.XPathExpression){function c(t,e){this.fn=i.cache[t]||(i.cache[t]=new i(t)),this.nsr=e}c.prototype={evaluate:function(t,e){return new d(this.fn(t,this.nsr),e)}},t.XPathExpression=c}if(n||!t.XPathResult){function d(t,e){if(0==e)switch(typeof t){default:e++;case"boolean":e++;case"string":e++;case"number":e++}switch(this.resultType=e,e){case 1:return void(this.numberValue=i.number(t));case 2:return void(this.stringValue=i.string(t));case 3:return void(this.booleanValue=i.bool(t));case 4:case 5:if(t instanceof Array)return this.value=t,this.index=0,void(this.invalidIteratorState=!1);break;case 6:case 7:if(t instanceof Array)return this.value=t,void(this.snapshotLength=t.length);break;case 8:case 9:if(t instanceof Array)return void(this.singleNodeValue=t[0])}throw new s(52)}var h=d;h.ANY_TYPE=0,h.NUMBER_TYPE=1,h.STRING_TYPE=2,h.BOOLEAN_TYPE=3,h.UNORDERED_NODE_ITERATOR_TYPE=4,h.ORDERED_NODE_ITERATOR_TYPE=5,h.UNORDERED_NODE_SNAPSHOT_TYPE=6,h.ORDERED_NODE_SNAPSHOT_TYPE=7,h.ANY_UNORDERED_NODE_TYPE=8,h.FIRST_ORDERED_NODE_TYPE=9,h.prototype={iterateNext:function(){switch(this.resultType){case 4:case 5:return this.value[this.index++]}throw new s(52)},snapshotItem:function(t){switch(this.resultType){case 6:case 7:return this.value[t]}throw new s(52)}},t.XPathResult=h}if(n||!t.XPathEvaluator){function f(){}(a=f).prototype={createExpression:function(t,e){return new c(t,e)},createNSResolver:function(t){return new u(t)},evaluate:function(t,e,n,i){return new c(t,n).evaluate(e,i)}},a.install=function(t,e){for(var n in f.prototype)!e&&t[n]||(t[n]=f.prototype[n])},t.XPathEvaluator=a,t.Document?a.install(t.Document.prototype,n):a.install(document,n),t.XPath=i}}(window,document,/WebKit/.test(navigator.userAgent)||/Node\.js/.test(navigator.userAgent)),JSON||(JSON={}),function(){function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,(function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function str(t,e){var n,i,o,r,s,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;n<r;n+=1)s[n]=str(n,l)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;n<r;n+=1)"string"==typeof rep[n]&&((o=str(i=rep[n],l))&&s.push(quote(i)+(gap?": ":":")+o));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&((o=str(i,l))&&s.push(quote(i)+(gap?": ":":")+o));return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,!e||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(i=walk(o,n))?o[n]=i:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(e,n){var i,o,r=t,s=[];if(n=n||r.length,e)for(i=0;i<e;i++)s[i]=r[0|Math.random()*n];else for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",i=0;i<36;i++)s[i]||(o=0|16*Math.random(),s[i]=r[19==i?3&o|8:o]);return s.join("")},Math.uuidFast=function(){for(var e,n=t,i=new Array(36),o=0,r=0;r<36;r++)8==r||13==r||18==r||23==r?i[r]="-":14==r?i[r]="4":(o<=2&&(o=33554432+16777216*Math.random()|0),e=15&o,o>>=4,i[r]=n[19==r?3&e|8:e]);return i.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}}(),function(t){function e(t,e){return function(n){return l(t.call(this,n),e)}}function n(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function i(){}function o(t){s(this,t)}function r(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,o=t.days||t.day||t.d||0,r=t.hours||t.hour||t.h||0,s=t.minutes||t.minute||t.m||0,a=t.seconds||t.second||t.s||0,l=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=l+1e3*a+6e4*s+36e5*r,this._days=o+7*i,this._months=n+12*e,this._data={},this._bubble()}function s(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function a(t){return 0>t?Math.ceil(t):Math.floor(t)}function l(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function u(t,e,n,i){var o,r,s=e._milliseconds,a=e._days,l=e._months;s&&t._d.setTime(+t._d+s*n),(a||l)&&(o=t.minute(),r=t.hour()),a&&t.date(t.date()+a*n),l&&t.month(t.month()+l*n),s&&!i&&M.updateOffset(t),(a||l)&&(t.minute(o),t.hour(r))}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t,e){var n,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),r=0;for(n=0;i>n;n++)~~t[n]!=~~e[n]&&r++;return r+o}function h(t){return t?ot[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function f(t,e){return e.abbr=t,H[t]||(H[t]=new i),H[t].set(e),H[t]}function p(t){if(!t)return M.fn._lang;if(!H[t]&&L)try{require("./lang/"+t)}catch(t){return M.fn._lang}return H[t]}function g(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function m(t){var e,n,i=t.match($);for(e=0,n=i.length;n>e;e++)i[e]=lt[i[e]]?lt[i[e]]:g(i[e]);return function(o){var r="";for(e=0;n>e;e++)r+=i[e]instanceof Function?i[e].call(o,t):i[e];return r}}function v(t,e){function n(e){return t.lang().longDateFormat(e)||e}for(var i=5;i--&&j.test(e);)e=e.replace(j,n);return rt[e]||(rt[e]=m(e)),rt[e](t)}function b(t,e){switch(t){case"DDDD":return q;case"YYYY":return W;case"YYYYY":return Y;case"S":case"SS":case"SSS":case"DDD":return U;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return K;case"a":case"A":return p(e._l)._meridiemParse;case"X":return Q;case"Z":case"ZZ":return G;case"T":return X;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return V;default:return new RegExp(t.replace("\\",""))}}function y(t){var e=((G.exec(t)||[])[0]+"").match(et)||["-",0,0],n=60*e[1]+~~e[2];return"+"===e[0]?-n:n}function w(t,e,n){var i,o=n._a;switch(t){case"M":case"MM":o[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":null!=(i=p(n._l).monthsParse(e))?o[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(o[2]=~~e);break;case"YY":o[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":o[0]=~~e;break;case"a":case"A":n._isPm=p(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":o[3]=~~e;break;case"m":case"mm":o[4]=~~e;break;case"s":case"ss":o[5]=~~e;break;case"S":case"SS":case"SSS":o[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=y(e)}null==e&&(n._isValid=!1)}function _(t){var e,n,i=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];i[3]+=~~((t._tzm||0)/60),i[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),t._d=n}}function x(t){var e,n,i=t._f.match($),o=t._i;for(t._a=[],e=0;e<i.length;e++)(n=(b(i[e],t).exec(o)||[])[0])&&(o=o.slice(o.indexOf(n)+n.length)),lt[i[e]]&&w(i[e],n,t);o&&(t._il=o),t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),_(t)}function C(t){var e,n,i,r,a,l=99;for(r=0;r<t._f.length;r++)(e=s({},t))._f=t._f[r],x(e),n=new o(e),a=d(e._a,n.toArray()),n._il&&(a+=n._il.length),l>a&&(l=a,i=n);s(t,i)}function k(t){var e,n=t._i,i=J.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;4>e;e++)if(tt[e][1].exec(n)){t._f+=tt[e][0];break}G.exec(n)&&(t._f+=" Z"),x(t)}else t._d=new Date(n)}function T(e){var n=e._i,i=F.exec(n);n===t?e._d=new Date:i?e._d=new Date(+i[1]):"string"==typeof n?k(e):c(n)?(e._a=n.slice(0),_(e)):e._d=n instanceof Date?new Date(+n):new Date(n)}function S(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function E(t,e,n){var i=O(Math.abs(t)/1e3),o=O(i/60),r=O(o/60),s=O(r/24),a=O(s/365),l=45>i&&["s",i]||1===o&&["m"]||45>o&&["mm",o]||1===r&&["h"]||22>r&&["hh",r]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",O(s/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=t>0,l[4]=n,S.apply({},l)}function N(t,e,n){var i,o=n-e,r=n-t.day();return r>o&&(r-=7),o-7>r&&(r+=7),i=M(t).add("d",r),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function D(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=p().preparse(e)),M.isMoment(e)?(t=s({},e))._d=new Date(+e._d):n?c(n)?C(t):x(t):T(t),new o(t))}function A(t,e){M.fn[t]=M.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),M.updateOffset(this),this):this._d["get"+n+e]()}}function z(t){M.duration.fn[t]=function(){return this._data[t]}}function P(t,e){M.duration.fn["as"+t]=function(){return+this/e}}for(var M,I,R="2.1.0",O=Math.round,H={},L="undefined"!=typeof module&&module.exports,F=/^\/?Date\((\-?\d+)/i,B=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,$=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,V=/\d\d?/,U=/\d{1,3}/,q=/\d{3}/,W=/\d{1,4}/,Y=/[+\-]?\d{1,6}/,K=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,G=/Z|[\+\-]\d\d:?\d\d/i,X=/T/i,Q=/[\+\-]?\d+(\.\d{1,3})?/,J=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Z="YYYY-MM-DDTHH:mm:ssZ",tt=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],et=/([\+\-]|\d\d)/gi,nt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),it={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ot={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},rt={},st="DDD w W M D d".split(" "),at="M D H h m s w W".split(" "),lt={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},
SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(t/60),2)+":"+l(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};st.length;)I=st.pop(),lt[I+"o"]=n(lt[I],I);for(;at.length;)I=at.pop(),lt[I+I]=e(lt[I],2);for(lt.DDDD=e(lt.DDD,3),i.prototype={set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=M([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=M([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return N(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},M=function(t,e,n){return D({_i:t,_f:e,_l:n,_isUTC:!1})},M.utc=function(t,e,n){return D({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},M.unix=function(t){return M(1e3*t)},M.duration=function(t,e){var n,i,o=M.isDuration(t),s="number"==typeof t,a=o?t._input:s?{}:t,l=B.exec(t);return s?e?a[e]=t:a.milliseconds=t:l&&(n="-"===l[1]?-1:1,a={y:0,d:~~l[2]*n,h:~~l[3]*n,m:~~l[4]*n,s:~~l[5]*n,ms:~~l[6]*n}),i=new r(a),o&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},M.version=R,M.defaultFormat=Z,M.updateOffset=function(){},M.lang=function(t,e){return t?(e?f(t,e):H[t]||p(t),void(M.duration.fn._lang=M.fn._lang=p(t))):M.fn._lang._abbr},M.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),p(t)},M.isMoment=function(t){return t instanceof o},M.isDuration=function(t){return t instanceof r},M.fn=o.prototype={clone:function(){return M(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return v(M(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?M.utc(this._a):M(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=v(this,t||M.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return u(this,"string"==typeof t?M.duration(+e,t):M.duration(t,e),1),this},subtract:function(t,e){return u(this,"string"==typeof t?M.duration(+e,t):M.duration(t,e),-1),this},diff:function(t,e,n){var i,o,r=this._isUTC?M(t).zone(this._offset||0):M(t).local(),s=6e4*(this.zone()-r.zone());return"year"===(e=h(e))||"month"===e?(i=432e5*(this.daysInMonth()+r.daysInMonth()),o=12*(this.year()-r.year())+(this.month()-r.month()),o+=(this-M(this).startOf("month")-(r-M(r).startOf("month")))/i,o-=6e4*(this.zone()-M(this).startOf("month").zone()-(r.zone()-M(r).startOf("month").zone()))/i,"year"===e&&(o/=12)):(i=this-r,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?o:a(o)},from:function(t,e){return M.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(M(),t)},calendar:function(){var t=this.diff(M().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0==t%4&&0!=t%100||0==t%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().weekdaysParse(t))?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?("string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))||(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),M.updateOffset(this)),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=h(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+M(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+M(t).startOf(e)},isSame:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)==+M(t).startOf(e)},min:function(t){return this>(t=M.apply(null,arguments))?this:t},max:function(t){return(t=M.apply(null,arguments))>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=y(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&u(this,M.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return M.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=O((M(this).startOf("day")-M(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=N(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=N(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=N(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(e){return e===t?this._lang:(this._lang=p(e),this)}},I=0;I<nt.length;I++)A(nt[I].toLowerCase().replace(/s$/,""),nt[I]);for(I in A("year","FullYear"),M.fn.days=M.fn.day,M.fn.months=M.fn.month,M.fn.weeks=M.fn.week,M.fn.isoWeeks=M.fn.isoWeek,M.fn.toJSON=M.fn.toISOString,M.duration.fn=r.prototype={_bubble:function(){var t,e,n,i,o=this._milliseconds,r=this._days,s=this._months,l=this._data;l.milliseconds=o%1e3,t=a(o/1e3),l.seconds=t%60,e=a(t/60),l.minutes=e%60,n=a(e/60),l.hours=n%24,r+=a(n/24),l.days=r%30,s+=a(r/30),l.months=s%12,i=a(s/12),l.years=i},weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=E(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=M.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=M.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=h(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=h(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:M.fn.lang},it)it.hasOwnProperty(I)&&(P(I,it[I]),z(I.toLowerCase()));P("Weeks",6048e5),M.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},M.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),L&&(module.exports=M),"undefined"==typeof ender&&(this.moment=M),"function"==typeof define&&define.amd&&define("moment",[],(function(){return M}))}.call(this),window.TinyMCERails={configuration:{default:{}},initialize:function(t,e){if("undefined"!=typeof tinyMCE){var n=TinyMCERails.configuration[t||"default"];n=TinyMCERails._merge(n,e),tinyMCE.init(n)}else setTimeout((function(){TinyMCERails.initialize(t,e)}),50)},setupTurbolinks:function(){document.addEventListener("turbolinks:before-render",(function(){tinymce.remove()}))},_merge:function(){for(var t={},e=0;e<arguments.length;++e){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("[object Object]"===Object.prototype.toString.call(n[i])?t[i]=TinyMCERails._merge(t[i],n[i]):t[i]=n[i])}return t}},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&TinyMCERails.setupTurbolinks(),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(t){"use strict";function e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=e.concat(n);return t.apply(null,o)}}function n(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function i(e,n){void 0===n&&(n={});var i,o=0,r={};i=n.maxLoadTime||5e3;var s=function(t){e.getElementsByTagName("head")[0].appendChild(t)},a=function(a,l,u){var c,d,h,f,p=function(t){f.status=t,f.passed=[],f.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},g=function(){for(var t=f.passed,e=t.length;e--;)t[e]();p(2)},m=function(){for(var t=f.failed,e=t.length;e--;)t[e]();p(3)},v=function(){var e=t.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)},b=function(t,e){t()||((new Date).getTime()-h<i?Ri.setTimeout(e):m())},y=function(){b((function(){for(var t,n,i=e.styleSheets,o=i.length;o--;)if((n=(t=i[o]).ownerNode?t.ownerNode:t.owningElement)&&n.id===c.id)return g(),!0}),y)},w=function(){b((function(){try{var t=d.sheet.cssRules;return g(),!!t}catch(t){}}),w)};if(a=po._addCacheSuffix(a),r[a]?f=r[a]:(f={passed:[],failed:[]},r[a]=f),l&&f.passed.push(l),u&&f.failed.push(u),1!==f.status)if(2!==f.status)if(3!==f.status){if(f.status=1,(c=e.createElement("link")).rel="stylesheet",c.type="text/css",c.id="u"+o++,c.async=!1,c.defer=!1,h=(new Date).getTime(),n.contentCssCors&&(c.crossOrigin="anonymous"),n.referrerPolicy&&wn(Ze.fromDom(c),"referrerpolicy",n.referrerPolicy),"onload"in c&&!v())c.onload=y,c.onerror=m;else{if(t.navigator.userAgent.indexOf("Firefox")>0)return(d=e.createElement("style")).textContent='@import "'+a+'"',w(),void s(d);y()}s(c),c.href=a}else m();else g()},l=function(t){return xi.nu((function(e){a(t,F(e,B(Ni.value(t))),F(e,B(Ni.error(t))))}))},u=function(t){return t.fold($,$)},c=function(t,e,n){ki(ft(t,l)).get((function(t){var i=mt(t,(function(t){return t.isValue()}));i.fail.length>0?n(i.fail.map(u)):e(i.pass.map(u))}))};return{load:a,loadAll:c,_setReferrerPolicy:function(t){n.referrerPolicy=t}}}function o(t){var e,n,i,o,r,s,a,l,u,c,d,h,f,p={},g={},m=[],v={},b={},y=function(e,n,i){var o=t[e];return o?o=_r(o,/[, ]/,_r(o.toUpperCase(),/[, ]/)):(o=yr[e])||(o=_r(n," ",_r(n.toUpperCase()," ")),o=Cr(o,i),yr[e]=o),o};i=Er((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),e=Nr(t.valid_styles),n=Nr(t.invalid_styles,"map"),l=Nr(t.valid_classes,"map"),o=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),r=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),a=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=y("non_empty_elements","td th iframe video audio object script pre code",s),d=y("move_caret_before_on_enter_elements","table",c),h=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),u=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",h),f=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),xr((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(t){b[t]=new RegExp("</"+t+"[^>]*>","gi")}));var w=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},_=function(t){var e,n,i,o,r,s,a,l,u,c,d,h,f,g,v,b,y,_,x,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(t)for(t=Sr(t,","),p["@"]&&(b=p["@"].attributes,y=p["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(r=C.exec(t[e])){if(g=r[1],u=r[2],v=r[3],l=r[5],s={attributes:h={},attributesOrder:f=[]},"#"===g&&(s.paddEmpty=!0),"-"===g&&(s.removeEmpty=!0),"!"===r[4]&&(s.removeEmptyAttrs=!0),b){for(_ in b)h[_]=b[_];f.push.apply(f,y)}if(l)for(i=0,o=(l=Sr(l,"|")).length;i<o;i++)if(r=k.exec(l[i])){if(a={},d=r[1],c=r[2].replace(/[\\:]:/g,":"),g=r[3],x=r[4],"!"===d&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(c),a.required=!0),"-"===d){delete h[c],f.splice(Tr(f,c),1);continue}g&&("="===g&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:c,value:x}),a.defaultValue=x),":"===g&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:c,value:x}),a.forcedValue=x),"<"===g&&(a.validValues=_r(x,"?"))),T.test(c)?(s.attributePatterns=s.attributePatterns||[],a.pattern=w(c),s.attributePatterns.push(a)):(h[c]||f.push(c),h[c]=a)}b||"@"!==u||(b=h,y=f),v&&(s.outputName=u,p[v]=s),T.test(u)?(s.pattern=w(u),m.push(s)):p[u]=s}},x=function(t){p={},m=[],_(t),xr(i,(function(t,e){g[e]=t.children}))},C=function(t){var e=/^(~)?(.+)$/;t&&(yr.text_block_elements=yr.block_elements=null,xr(Sr(t,","),(function(t){var n=e.exec(t),i="~"===n[1],o=i?"span":"div",r=n[2];if(g[r]=g[o],v[r]=o,i||(u[r.toUpperCase()]={},u[r]={}),!p[r]){var s=p[o];delete(s=Cr({},s)).removeEmptyAttrs,delete s.removeEmpty,p[r]=s}xr(g,(function(t,e){t[o]&&(g[e]=t=Cr({},g[e]),t[r]=t[o])}))})))},k=function(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;yr[t.schema]=null,e&&xr(Sr(e,","),(function(t){var e,i,o=n.exec(t);o&&(i=o[1],e=i?g[o[2]]:g[o[2]]={"#comment":{}},e=g[o[2]],xr(Sr(o[3],"|"),(function(t){"-"===i?delete e[t]:e[t]={}})))}))},T=function(t){var e,n=p[t];if(n)return n;for(e=m.length;e--;)if((n=m[e]).pattern.test(t))return n};t.valid_elements?x(t.valid_elements):(xr(i,(function(t,e){p[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},g[e]=t.children})),"html5"!==t.schema&&xr(Sr("strong/b em/i"),(function(t){t=Sr(t,"/"),p[t[1]].outputName=t[0]})),xr(Sr("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(t){p[t]&&(p[t].removeEmpty=!0)})),xr(Sr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){p[t].paddEmpty=!0})),xr(Sr("span"),(function(t){p[t].removeEmptyAttrs=!0}))),C(t.custom_elements),k(t.valid_children),_(t.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),xr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,e){p[e]&&(p[e].parentsRequired=Sr(t))})),t.invalid_elements&&xr(kr(t.invalid_elements),(function(t){p[t]&&delete p[t]})),T("span")||_("span[!data-mce-type|*]");var S=function(t,e){var n=g[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},E=function(t,e){var n,i,o=T(t);if(o){if(!e)return!0;if(o.attributes[e])return!0;if(n=o.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1};return{children:g,elements:p,getValidStyles:function(){return e},getValidClasses:function(){return l},getBlockElements:function(){return u},getInvalidStyles:function(){return n},getShortEndedElements:function(){return s},getTextBlockElements:function(){return h},getTextInlineElements:function(){return f},getBoolAttrs:function(){return a},getElementRule:T,getSelfClosingElements:function(){return r},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return o},getSpecialElements:function(){return b},isValidChild:S,isValid:E,getCustomElements:function(){return v},addValidElements:_,setValidElements:x,addCustomElements:C,addValidChildren:k}}function r(){function t(n,i){return e.push(n+" ")>Xo.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function s(t){return t[Vr]=!0,t}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Jr)-(~t.sourceIndex||Jr);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return s((function(e){return e=+e,s((function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))}))}))}function d(t){return t&&typeof t.getElementsByTagName!==Qr&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=Wr++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,s){var a,l,u=[qr,r];if(s){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if((a=(l=e[Vr]||(e[Vr]={}))[i])&&a[0]===qr&&a[1]===r)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function g(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,e,n){for(var i=0,o=e.length;i<o;i++)Ss(t,e[i],n);return n}function v(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(r=t[a])&&(n&&!n(r,i,o)||(s.push(r),u&&e.push(a)));return s}function b(t,e,n,i,o,r){return i&&!i[Vr]&&(i=b(i)),o&&!o[Vr]&&(o=b(o,r)),s((function(r,s,a,l){var u,c,d,h=[],f=[],p=s.length,g=r||m(e||"*",a.nodeType?[a]:a,[]),b=!t||!r&&e?g:v(g,h,t,a,l),y=n?o||(r?t:p||i)?[]:s:b;if(n&&n(b,y,a,l),i)for(u=v(y,f),i(u,[],a,l),c=u.length;c--;)(d=u[c])&&(y[f[c]]=!(b[f[c]]=d));if(r){if(o||t){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(b[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?rs.call(r,d):h[c])>-1&&(r[u]=!(s[u]=d))}}else y=v(y===s?y.splice(p,y.length):y),o?o(null,s,y,l):is.apply(s,y)}))}function y(t){for(var e,n,i,o=t.length,r=Xo.relative[t[0].type],s=r||Xo.relative[" "],a=r?1:0,l=p((function(t){return t===e}),s,!0),u=p((function(t){return rs.call(e,t)>-1}),s,!0),c=[function(t,n,i){return!r&&(i||n!==nr)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];a<o;a++)if(n=Xo.relative[t[a].type])c=[p(g(c),n)];else{if((n=Xo.filter[t[a].type].apply(null,t[a].matches))[Vr]){for(i=++a;i<o&&!Xo.relative[t[i].type];i++);return b(a>1&&g(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ds,"$1"),n,a<i&&y(t.slice(a,i)),i<o&&y(t=t.slice(i)),i<o&&f(t))}c.push(n)}return g(c)}function w(t,e){var n=e.length>0,i=t.length>0,o=function(o,r,s,a,l){var u,c,d,h=0,f="0",p=o&&[],g=[],m=nr,b=o||i&&Xo.find.TAG("*",l),y=qr+=null==m?1:Math.random()||.1,w=b.length;for(l&&(nr=r!==sr&&r);f!==w&&null!=(u=b[f]);f++){if(i&&u){for(c=0;d=t[c++];)if(d(u,r,s)){a.push(u);break}l&&(qr=y)}n&&((u=!d&&u)&&h--,o&&p.push(u))}if(h+=f,n&&f!==h){for(c=0;d=e[c++];)d(p,g,r,s);if(o){if(h>0)for(;f--;)p[f]||g[f]||(g[f]=es.call(a));g=v(g)}is.apply(a,g),l&&!o&&g.length>0&&h+e.length>1&&Ss.uniqueSort(a)}return l&&(qr=y,nr=m),p};return n?s(o):o}function _(e,n){var r,s=this;void 0===n&&(n={});var a={},l=t.window,u={},c=0,d=!0,h=!0,f=i(e,{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),p=[],g=n.schema?n.schema:o({}),m=Ar({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),v=n.ownEvents?new jr:jr.Event,b=g.getBlockElements(),y=na.overrideDefaults((function(){return{context:e,element:Nt.getRoot()}})),w=function(t){if("string"==typeof t)return!!b[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!b[t.nodeName])}return!1},x=function(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},C=function(t){return"string"==typeof t&&(t=x(t)),y(t)},k=function(t,e,n){var i,o,s=C(t);return s.length&&(o=(i=r[e])&&i.get?i.get(s,e):s.attr(e)),void 0===o&&(o=n||""),o},T=function(t){var e=x(t);return e?e.attributes:[]},S=function(t,e,i){var o,s;""===i&&(i=null);var a=C(t);o=a.attr(e),a.length&&((s=r[e])&&s.set?s.set(a,i,e):a.attr(e,i),o!==i&&n.onSetAttrib&&n.onSetAttrib({attrElm:a,attrName:e,attrValue:i}))},E=function(t,n){if(!Na||1!==t.nodeType||n)return t.cloneNode(n);if(!n){var i=e.createElement(t.nodeName);return Sa(T(t),(function(e){S(i,e.nodeName,k(t,e.nodeName))})),i}return null},N=function(){return n.root_element||e.body},D=function(t){var e=Ta(t);return{x:e.x(),y:e.y(),w:e.width(),h:e.height()}},A=function(t,n){return ui.getPos(e.body,x(t),n)},z=function(t,e,i){var o=Z(e)?C(t).css(e,i):C(t).css(e);n.update_styles&&Pa(m,o)},P=function(t,e){var i=C(t).css(e);n.update_styles&&Pa(m,i)},M=function(t,e,n){var i=C(t);return n?i.css(e):("float"===(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})))&&(e=Ui.browser.isIE()?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[e]:void 0)},I=function(t){var e,n;return t=x(t),e=M(t,"width"),n=M(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},R=function(t){var e,n;return t=x(t),e=A(t),n=I(t),{x:e.x,y:e.y,w:n.w,h:n.h}},O=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(Da.test(e)){var i=e.toLowerCase().split(/,/),o=t.nodeName.toLowerCase();for(n=i.length-1;n>=0;n--)if(i[n]===o)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var r=Array.isArray(t)?t:[t];return Ss(e,r[0].ownerDocument||r[0],null,r).length>0},H=function(t,e,n,i){var o,r=[],s=x(t);for(i=void 0===i,n=n||("BODY"!==N().nodeName?N().parentNode:null),po.is(e,"string")&&(o=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return O(t,o)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!e||"function"==typeof e&&e(s)){if(!i)return[s];r.push(s)}s=s.parentNode}return i?r:null},L=function(t,e,n){var i=H(t,e,n,!1);return i&&i.length>0?i[0]:null},F=function(t,e,n){var i=e;if(t)for("string"==typeof e&&(i=function(t){return O(t,e)}),t=t[n];t;t=t[n])if("function"==typeof i&&i(t))return t;return null},B=function(t,e){return F(t,e,"nextSibling")},$=function(t,e){return F(t,e,"previousSibling")},j=function(t,i){return Ss(t,x(i)||n.root_element||e,[])},V=function(t,e,n){var i,o="string"==typeof t?x(t):t;if(!o)return!1;if(po.isArray(o)&&(o.length||0===o.length))return i=[],Sa(o,(function(t,o){t&&("string"==typeof t&&(t=x(t)),i.push(e.call(n,t,o)))})),i;var r=n||s;return e.call(r,o)},U=function(t,e){C(t).each((function(t,n){Sa(e,(function(t,e){S(n,e,t)}))}))},q=function(t,e){var n=C(t);Na?n.each((function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(t){na("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}})):n.html(e)},W=function(t,n,i,o,r){return V(t,(function(t){var s="string"==typeof n?e.createElement(n):n;return U(s,i),o&&("string"!=typeof o&&o.nodeType?s.appendChild(o):"string"==typeof o&&q(s,o)),r?s:t.appendChild(s)}))},Y=function(t,n,i){return W(e.createElement(t),t,n,i,!0)},K=br.decode,G=br.encodeAllRaw,X=function(t,e,n){var i,o="";for(i in o+="<"+t,e)e.hasOwnProperty(i)&&null!==e[i]&&void 0!==e[i]&&(o+=" "+i+'="'+G(e[i])+'"');return void 0!==n?o+">"+n+"</"+t+">":o+" />"},Q=function(t){var n,i=e.createElement("div"),o=e.createDocumentFragment();for(t&&(i.innerHTML=t);n=i.firstChild;)o.appendChild(n);return o},J=function(t,e){var n=C(t);return e?n.each((function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},tt=function(t){return V(t,(function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))}))},et=function(t){return m.parse(t)},nt=function(t,e){return m.serialize(t,e)},it=function(n){var i,o;if(Nt!==_.DOM&&e===t.document){if(a[n])return;a[n]=!0}(o=e.getElementById("mceDefaultStyles"))||((o=e.createElement("style")).id="mceDefaultStyles",o.type="text/css",(i=e.getElementsByTagName("head")[0]).firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=n:o.appendChild(e.createTextNode(n))},ot=function(i){var o;Nt===_.DOM||e!==t.document?(i||(i=""),o=e.getElementsByTagName("head")[0],Sa(i.split(","),(function(t){var e;t=po._addCacheSuffix(t),u[t]||(u[t]=!0,e=Y("link",Pt(Pt({rel:"stylesheet",type:"text/css",href:t},n.contentCssCors?{crossOrigin:"anonymous"}:{}),n.referrerPolicy?{referrerPolicy:n.referrerPolicy}:{})),o.appendChild(e))}))):_.DOM.loadCSS(i)},rt=function(t,e,n){C(t).toggleClass(e,n).each((function(){""===this.className&&na(this).attr("class",null)}))},st=function(t,e){C(t).addClass(e)},at=function(t,e){return C(t).hasClass(e)},lt=function(t){C(t).show()},ut=function(t){C(t).hide()},ct=function(t){return"none"===C(t).css("display")},dt=function(t){var e="string"==typeof t?x(t):t;return Zt.isElement(e)?e.outerHTML:na("<div></div>").append(na(e).clone()).html()},ht=function(t,e){C(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}J(na(this).html(e),!0)}))},ft=function(t,e){var n=x(e);return V(t,(function(t){var e,i;return e=n.parentNode,(i=n.nextSibling)?e.insertBefore(t,i):e.appendChild(t),t}))},pt=function(t,e,n){return V(e,(function(e){return po.is(e,"array")&&(t=t.cloneNode(!0)),n&&Sa(Ea(e.childNodes),(function(e){t.appendChild(e)})),e.parentNode.replaceChild(t,e)}))},gt=function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=Y(e),Sa(T(t),(function(e){S(n,e.nodeName,k(t,e.nodeName))})),pt(n,t,!0)),n||t},mt=function(t){return m.toHex(po.trim(t))},vt=function(t,e){var n,i,o,r,s=0;if(t=t.firstChild){var a=new ia(t,t.parentNode),l=g?g.getWhiteSpaceElements():{};e=e||(g?g.getNonEmptyElements():null);do{if(o=t.nodeType,Zt.isElement(t)){var u=t.getAttribute("data-mce-bogus");if(u){t=a.next("all"===u);continue}if(r=t.nodeName.toLowerCase(),e&&e[r]){if("br"===r){s++,t=a.next();continue}return!1}for(n=(i=T(t)).length;n--;)if("name"===(r=i[n].nodeName)||"data-mce-bookmark"===r)return!1}if(8===o)return!1;if(3===o&&!Aa.test(t.nodeValue))return!1;if(3===o&&t.parentNode&&l[t.parentNode.nodeName]&&Aa.test(t.nodeValue))return!1;t=a.next()}while(t)}return s<=1},bt=function(){return e.createRange()},yt=function(t,e,n){var i,o,r,s=bt();if(t&&e)return s.setStart(t.parentNode,Ma(t)),s.setEnd(e.parentNode,Ma(e)),i=s.extractContents(),(s=bt()).setStart(e.parentNode,Ma(e)+1),s.setEnd(t.parentNode,Ma(t)+1),o=s.extractContents(),(r=t.parentNode).insertBefore(Fo.trimNode(Nt,i),t),n?r.insertBefore(n,t):r.insertBefore(e,t),r.insertBefore(Fo.trimNode(Nt,o),t),J(t),n||e},wt=function(t,i,o,r){if(po.isArray(t)){for(var s=t.length,a=[];s--;)a[s]=wt(t[s],i,o,r);return a}return!n.collect||t!==e&&t!==l||p.push([t,i,o,r]),v.bind(t,i,o,r||Nt)},_t=function(t,n,i){var o;if(po.isArray(t)){o=t.length;for(var r=[];o--;)r[o]=_t(t[o],n,i);return r}if(p&&(t===e||t===l))for(o=p.length;o--;){var s=p[o];t!==s[0]||n&&n!==s[1]||i&&i!==s[2]||v.unbind(s[0],s[1],s[2])}return v.unbind(t,n,i)},xt=function(t,e,n){return v.fire(t,e,n)},Ct=function(t){if(t&&Zt.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},kt=function(t){for(var e=N(),n=null;t&&t!==e&&null===(n=Ct(t));t=t.parentNode);return n},Tt=function(){if(p)for(var t=p.length;t--;){var e=p[t];v.unbind(e[0],e[1],e[2])}Ss.setDocument&&Ss.setDocument()},St=function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},Et=function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},Nt={doc:e,settings:n,win:l,files:u,stdMode:d,boxModel:h,styleSheetLoader:f,boundEvents:p,styles:m,schema:g,events:v,isBlock:w,$:y,$$:C,root:null,clone:E,getRoot:N,getViewPort:D,getRect:R,getSize:I,getParent:L,getParents:H,get:x,getNext:B,getPrev:$,select:j,is:O,add:W,create:Y,createHTML:X,createFragment:Q,remove:J,setStyle:z,getStyle:M,setStyles:P,removeAllAttribs:tt,setAttrib:S,setAttribs:U,getAttrib:k,getPos:A,parseStyle:et,serializeStyle:nt,addStyle:it,loadCSS:ot,addClass:st,removeClass:function(t,e){rt(t,e,!1)},hasClass:at,toggleClass:rt,show:lt,hide:ut,isHidden:ct,uniqueId:function(t){return(t||"mce_")+c++},setHTML:q,getOuterHTML:dt,setOuterHTML:ht,decode:K,encode:G,insertAfter:ft,replace:pt,rename:gt,findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:mt,run:V,getAttribs:T,isEmpty:vt,createRng:bt,nodeIndex:Ma,split:yt,bind:wt,unbind:_t,fire:xt,getContentEditable:Ct,getContentEditableParent:kt,destroy:Tt,isChildOf:St,dumpRng:Et};return r=za(m,n,(function(){return Nt})),Nt}function x(){var t=this,e=[],n={},i={},o=[],r=function(t){if(i[t])return i[t].instance},s=function(t){var e;return i[t]&&(e=i[t].dependencies),e||[]},a=function(t,e){var i=Qa.getCode();if(i&&!1!==x.languageLoad){if(e)if(-1!==(e=","+e+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1===e.indexOf(","+i+","))return;ja.ScriptLoader.add(n[t]+"/langs/"+i+".js")}},l=function(t,n,r){e.push(n),i[t]={instance:n,dependencies:r};var s=mt(o,(function(e){return e.name===t}));return o=s.fail,Ja(s.pass,(function(t){t.callback()})),n},u=function(t){delete n[t],delete i[t]},c=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},d=function(t,e,n,i){var o=s(t);Ja(o,(function(t){var n=c(e,t);h(n.resource,n,void 0,void 0)})),n&&(i?n.call(i):n.call(ja))},h=function(t,e,o,r,s){if(!n[t]){var a="string"==typeof e?e:e.prefix+e.resource+e.suffix
;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=x.baseURL+"/"+a),n[t]=a.substring(0,a.lastIndexOf("/")),i[t]?d(t,e,o,r):ja.ScriptLoader.add(a,(function(){return d(t,e,o,r)}),r,s)}},f=function(t,e){i.hasOwnProperty(t)?e():o.push({name:t,callback:e})};return{items:e,urls:n,lookup:i,_listeners:o,get:r,dependencies:s,requireLangPack:a,add:l,remove:u,createUrl:c,addComponents:function(e,n){var i=t.urls[e];Ja(n,(function(t){ja.ScriptLoader.add(i+"/"+t)}))},load:h,waitFor:f}}function C(t,e,n,i,o){return t(n,i)?X.some(n):ot(o)&&o(n)?X.none():e(n,i,o)}function k(t,e,n){var i=function(){return Vu(t),0===e},o=function(){return Vu(t)?e>=t.data.length:e>=t.childNodes.length},r=function(){var n;return(n=Yu(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},s=function(){return n||(n=nc(k(t,e))),n},a=function(){return s().length>0},l=function(n){return n&&t===n.container()&&e===n.offset()},u=function(n){return Wu(t,n?e-1:e)};return{container:B(t),offset:B(e),toRange:r,getClientRects:s,isVisible:a,isAtStart:i,isAtEnd:o,isEqual:l,getNode:u}}function T(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return i(n).getOr("")},i=function(e){return t(e)?X.from(e.dom().nodeValue):X.none()},o=function(n,i){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=i};return{get:n,getOption:i,set:o}}function S(t,e){void 0===e&&(e=o());var n=function(){};!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var i=t.comment?t.comment:n,r=t.cdata?t.cdata:n,s=t.text?t.text:n,a=t.start?t.start:n,l=t.end?t.end:n,u=t.pi?t.pi:n,c=t.doctype?t.doctype:n,d=function(n){var o,d,h,f,p,g,m,v,b,y,w,_,x,C,k,T,S,E,N,D,A,z,P,M,I,R,O,H,L,F=0,B=[],$=0,j=br.decode,V=po.makeMap("src,href,data,background,formaction,poster,xlink:href"),U=/((java|vb)script|mhtml):/i,q=function(t){var e,n;for(e=B.length;e--&&B[e].name!==t;);if(e>=0){for(n=B.length-1;n>=e;n--)(t=B[n]).valid&&l(t.name);B.length=e}},W=function(e,n,i,o,r){var s,a,l=/[\s\u0000-\u001F]+/g;if(i=(n=n.toLowerCase())in w?n:j(i||o||r||""),x&&!v&&!1===_f(n)){if(!(s=E[n])&&N){for(a=N.length;a--&&!(s=N[a]).pattern.test(n););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}if(V[n]&&!t.allow_script_urls){var u=i.replace(l,"");try{u=decodeURIComponent(u)}catch(t){u=unescape(u)}if(U.test(u))return;if(Cf(t,u))return}v&&(n in V||0===n.indexOf("on"))||(f.map[n]=i,f.push({name:n,value:i}))};for(I=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),R=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,y=e.getShortEndedElements(),M=t.self_closing_elements||e.getSelfClosingElements(),w=e.getBoolAttrs(),x=t.validate,b=t.remove_internals,L=t.fix_self_closing,O=e.getSpecialElements(),P=n+">";o=I.exec(P);){if(F<o.index&&s(j(n.substr(F,o.index-F))),d=o[6])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),q(d);else if(d=o[7]){if(o.index+o[0].length>n.length){s(j(n.substr(o.index))),F=o.index+o[0].length;continue}":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),_=d in y,L&&M[d]&&B.length>0&&B[B.length-1].name===d&&q(d);var Y=Tf(R,o[8]);if(null!==Y){if("all"===Y){F=kf(e,n,I.lastIndex),I.lastIndex=F;continue}k=!1}if(!x||(C=e.getElementRule(d))){if(k=!0,x&&(E=C.attributes,N=C.attributePatterns),(S=o[8])?((v=-1!==S.indexOf("data-mce-type"))&&b&&(k=!1),(f=[]).map={},S.replace(R,W)):(f=[]).map={},x&&!v){if(D=C.attributesRequired,A=C.attributesDefault,z=C.attributesForced,C.removeEmptyAttrs&&!f.length&&(k=!1),z)for(p=z.length;p--;)m=(T=z[p]).name,"{$uid}"===(H=T.value)&&(H="mce_"+$++),f.map[m]=H,f.push({name:m,value:H});if(A)for(p=A.length;p--;)(m=(T=A[p]).name)in f.map||("{$uid}"===(H=T.value)&&(H="mce_"+$++),f.map[m]=H,f.push({name:m,value:H}));if(D){for(p=D.length;p--&&!(D[p]in f.map););-1===p&&(k=!1)}if(T=f.map["data-mce-bogus"]){if("all"===T){F=kf(e,n,I.lastIndex),I.lastIndex=F;continue}k=!1}}k&&a(d,f,_)}else k=!1;if(h=O[d]){h.lastIndex=F=o.index+o[0].length,(o=h.exec(n))?(k&&(g=n.substr(F,o.index-F)),F=o.index+o[0].length):(g=n.substr(F),F=n.length),k&&(g.length>0&&s(g,!0),l(d)),I.lastIndex=F;continue}_||(S&&S.indexOf("/")===S.length-1?k&&l(d):B.push({name:d,valid:k}))}else(d=o[1])?(">"===d.charAt(0)&&(d=" "+d),t.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),i(d)):(d=o[2])?r(xf(d)):(d=o[3])?c(d):(d=o[4])&&u(d,o[5]);F=o.index+o[0].length}for(F<n.length&&s(j(n.substr(F))),p=B.length-1;p>=0;p--)(d=B[p]).valid&&l(d.name)};return{parse:d}}function E(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}}function N(t){var e=[],n=function(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():E()},i=function(){return X.from(e[0])},o=function(t,e){return!(t.type!==e.type||t.text!==e.text||t.progressBar||t.timeout||e.progressBar||e.timeout)},r=function(){e.length>0&&n().reposition(e)},s=function(t){e.push(t)},a=function(t){_t(e,(function(e){return e===t})).each((function(t){e.splice(t,1)}))},l=function(i){if(!t.removed&&Im.isEditorAttachedToDom(t))return wt(e,(function(t){return o(n().getArgs(t),i)})).getOrThunk((function(){t.editorManager.setActive(t);var e=n().open(i,(function(){a(e),r()}));return s(e),r(),e}))},u=function(){i().each((function(t){n().close(t),a(t),r()}))},c=function(){return e},d=function(t){t.on("SkinLoaded",(function(){var e=t.settings.service_message;e&&l({text:e,type:"warning",timeout:0})})),t.on("ResizeEditor ResizeWindow NodeChange",(function(){Ri.requestAnimationFrame(r)})),t.on("remove",(function(){pt(e.slice(),(function(t){n().close(t)}))}))};return d(t),{open:l,close:u,getNotifications:c}}function D(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}function A(e,n){var i={},o=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e},r=function(e,i,r,s){var a,l;(a=new t.XMLHttpRequest).open("POST",n.url),a.withCredentials=n.credentials,a.upload.onprogress=function(t){s(t.loaded/t.total*100)},a.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var t;a.status<200||a.status>=300?r("HTTP Error: "+a.status):(t=JSON.parse(a.responseText))&&"string"==typeof t.location?i(o(n.basePath,t.location)):r("Invalid JSON: "+a.responseText)},(l=new t.FormData).append("file",e.blob(),e.filename()),a.send(l)},s=function(){return new Ai((function(t){t([])}))},a=function(t,e){return{url:e,blobInfo:t,status:!0}},l=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},u=function(t,e){po.each(i[t],(function(t){t(e)})),delete i[t]},c=function(t,n,i){return e.markPending(t.blobUri()),new Ai((function(o){var r,s=function(){};try{var c=function(){r&&(r.close(),s)},d=function(n){c(),e.markUploaded(t.blobUri(),n),u(t.blobUri(),a(t,n)),o(a(t,n))},h=function(n){c(),e.removeFailed(t.blobUri()),u(t.blobUri(),l(t,n)),o(l(t,n))};n(t,d,h,(function(t){t<0||t>100||(r||(r=i()),r.progressBar.value(t))}))}catch(e){o(l(t,e.message))}}))},d=function(t){return t===r},h=function(t){var e=t.blobUri();return new Ai((function(t){i[e]=i[e]||[],i[e].push(t)}))},f=function(t,i){return t=po.grep(t,(function(t){return!e.isUploaded(t.blobUri())})),Ai.all(po.map(t,(function(t){return e.isPending(t.blobUri())?h(t):c(t,n.handler,i)})))},p=function(t,e){return!n.url&&d(n.handler)?s():f(t,e)};return!1===ot(n.handler)&&(n.handler=r),{upload:p}}function z(t,e){var n={},i=function(i,o){var r;o||(o=B(!0)),r=vt(ov(i),(function(e){var n=e.src;return!!Ui.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!n||n===Ui.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&o(e):0===n.indexOf("data:")&&o(e)))))}));var s=ft(r,(function(t){if(n[t.src])return new Ai((function(e){n[t.src].then((function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})}))}));var i=new Ai((function(n,i){iv(e,t,n,i)})).then((function(t){return delete n[t.image.src],t})).catch((function(e){return delete n[t.src],e}));return n[t.src]=i,i}));return Ai.all(s)};return{findAll:i}}function P(){var t=1,e=2,n={},i=function(t,e){return{status:t,resultUri:e}},o=function(t){return t in n},r=function(e){return!!o(e)&&n[e].status===t},s=function(t){return!!o(t)&&n[t].status===e};return{hasBlobUri:o,getResultUri:function(t){var e=n[t];return e?e.resultUri:null},isPending:r,isUploaded:s,markPending:function(e){n[e]=i(t,null)},markUploaded:function(t,o){n[t]=i(e,o)},removeFailed:function(t){delete n[t]},destroy:function(){n={}}}}function M(t){var e={},n=function(t){return t?e[t]:e},i=function(t){return mn(e,t)},o=function(t,n){t&&("string"!=typeof t?po.each(t,(function(t,e){o(e,t)})):(et(n)||(n=[n]),po.each(n,(function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))})),e[t]=n))},r=function(t){return t&&e[t]&&delete e[t],e};return o(ux.get(t.dom)),o(t.settings.formats),{get:n,has:i,register:o,unregister:r}}function I(t){return{getBookmark:e(Eh.getBookmark,t),moveToBookmark:e(Eh.moveToBookmark,t)}}function R(t,e){var n=function(e,n){if(!rt(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var i=e.dom();vn(i)&&(i.style[t]=n+"px")},i=function(n){var i=e(n);if(i<=0||null===i){var o=Tn(n,t);return parseFloat(o)||0}return i},o=function(t,e){return yt(e,(function(e,n){var i=Tn(t,n),o=void 0===i?0:parseInt(i,10);return isNaN(o)?e:e+o}),0)},r=function(t,e,n){var i=o(t,n);return e>i?e-i:0};return{set:n,get:i,getOuter:i,aggregate:o,max:r}}function O(t,e){var n,i;return{selectorChangedWithUnbind:function(o,r){return n||(n={},i={},e.on("NodeChange",(function(e){var o=e.element,r=t.getParents(o,null,t.getRoot()),s={};po.each(n,(function(e,n){po.each(r,(function(o){if(t.is(o,n))return i[n]||(po.each(e,(function(t){t(!0,{node:o,selector:n,parents:r})})),i[n]=e),s[n]=e,!1}))})),po.each(i,(function(t,e){s[e]||(delete i[e],po.each(t,(function(t){t(!1,{node:o,selector:e,parents:r})})))}))}))),n[o]||(n[o]=[]),n[o].push(r),{unbind:function(){Xk(n,o,r),Xk(i,o,r)}}}}}function H(t){return{walk:function(e,n){return rf.walk(t,e,n)},split:ow,normalize:function(e){return Hk.normalize(t,e).fold(B(!1),(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))}}}var L=function(){},F=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e.apply(null,n))}},B=function(t){return function(){return t}},$=function(t){return t},j=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},V=function(t){return function(){throw new Error(t)}},U=B(!1),q=B(!0),W=function(){return Y},Y=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},i={fold:function(t){return t()},is:U,isSome:U,isNone:q,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:B(null),getOrUndefined:B(void 0),or:n,orThunk:e,map:W,each:L,bind:W,exists:U,forall:q,filter:W,equals:t,equals_:t,toArray:function(){return[]},toString:B("none()")};return Object.freeze&&Object.freeze(i),i}(),K=function(t){var e=B(t),n=function(){return o},i=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:q,isNone:U,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return K(e(t))},each:function(e){e(t)},bind:i,exists:i,forall:i,filter:function(e){return e(t)?o:Y},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(U,(function(e){return n(t,e)}))}};return o},G=function(t){return null==t?Y:K(t)},X={some:K,none:W,from:G},Q=function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},J=function(t){return function(e){return Q(e)===t}},Z=J("string"),tt=J("object"),et=J("array"),nt=J("null"),it=J("boolean"),ot=J("function"),rt=J("number"),st=Array.prototype.slice,at=Array.prototype.indexOf,lt=Array.prototype.push,ut=function(t,e){return at.call(t,e)},ct=function(t,e){var n=ut(t,e);return-1===n?X.none():X.some(n)},dt=function(t,e){return ut(t,e)>-1},ht=function(t,e){for(var n=0,i=t.length;n<i;n++){if(e(t[n],n))return!0}return!1},ft=function(t,e){for(var n=t.length,i=new Array(n),o=0;o<n;o++){var r=t[o];i[o]=e(r,o)}return i},pt=function(t,e){for(var n=0,i=t.length;n<i;n++){e(t[n],n)}},gt=function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}},mt=function(t,e){for(var n=[],i=[],o=0,r=t.length;o<r;o++){var s=t[o];(e(s,o)?n:i).push(s)}return{pass:n,fail:i}},vt=function(t,e){for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i];e(r,i)&&n.push(r)}return n},bt=function(t,e,n){return gt(t,(function(t){n=e(n,t)})),n},yt=function(t,e,n){return pt(t,(function(t){n=e(n,t)})),n},wt=function(t,e){for(var n=0,i=t.length;n<i;n++){var o=t[n];if(e(o,n))return X.some(o)}return X.none()},_t=function(t,e){for(var n=0,i=t.length;n<i;n++){if(e(t[n],n))return X.some(n)}return X.none()},xt=function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!et(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);lt.apply(e,t[n])}return e},Ct=function(t,e){var n=ft(t,e);return xt(n)},kt=function(t,e){for(var n=0,i=t.length;n<i;++n){if(!0!==e(t[n],n))return!1}return!0},Tt=function(t){var e=st.call(t,0);return e.reverse(),e},St=function(t,e){return vt(t,(function(t){return!dt(e,t)}))},Et=function(t,e){for(var n={},i=0,o=t.length;i<o;i++){var r=t[i];n[String(r)]=e(r,i)}return n},Nt=function(t,e){var n=st.call(t,0);return n.sort(e),n},Dt=function(t){return 0===t.length?X.none():X.some(t[0])},At=function(t){return 0===t.length?X.none():X.some(t[t.length-1])},zt=ot(Array.from)?Array.from:function(t){return st.call(t)},Pt=function(){return Pt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pt.apply(this,arguments)},Mt=function(t){return function(e){return!!e&&e.nodeType===t}},It=function(t){return!!t&&!Object.getPrototypeOf(t)},Rt=Mt(1),Ot=function(t){var e=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return dt(e,n)}return!1}},Ht=function(t,e){var n=e.toLowerCase().split(" ");return function(e){var i;if(Rt(e))for(i=0;i<n.length;i++){var o=e.ownerDocument.defaultView.getComputedStyle(e,null);if((o?o.getPropertyValue(t):null)===n[i])return!0}return!1}},Lt=function(t,e){return function(n){return Rt(n)&&n[t]===e}},Ft=function(t){return function(e){return Rt(e)&&e.hasAttribute(t)}},Bt=function(t,e){return function(n){return Rt(n)&&n.getAttribute(t)===e}},$t=function(t){return Rt(t)&&t.hasAttribute("data-mce-bogus")},jt=function(t){return Rt(t)&&"all"===t.getAttribute("data-mce-bogus")},Vt=function(t){return Rt(t)&&"TABLE"===t.tagName},Ut=function(t){return function(e){if(Rt(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},qt=Ot(["textarea","input"]),Wt=Mt(3),Yt=Mt(8),Kt=Mt(9),Gt=Mt(11),Xt=Ot(["br"]),Qt=Ut("true"),Jt=Ut("false"),Zt={isText:Wt,isElement:Rt,isComment:Yt,isDocument:Kt,isDocumentFragment:Gt,isBr:Xt,isContentEditableTrue:Qt,isContentEditableFalse:Jt,isRestrictedNode:It,matchNodeNames:Ot,hasPropValue:Lt,hasAttribute:Ft,hasAttributeValue:Bt,matchStyleValues:Ht,isBogus:$t,isBogusAll:jt,isTable:Vt,isTextareaOrInput:qt},te=function(t){var e=t,n=function(){return e},i=function(){return te(n())};return{get:n,set:function(t){e=t},clone:i}},ee=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}},ne=function(t,e){var n=ee(t,e);if(!n)return{major:0,minor:0};var i=function(t){return Number(e.replace(n,"$"+t))};return re(i(1),i(2))},ie=function(t,e){var n=String(e).toLowerCase();return 0===t.length?oe():ne(t,n)},oe=function(){return re(0,0)},re=function(t,e){return{major:t,minor:e}},se={nu:re,detect:ie,unknown:oe},ae="Edge",le="Chrome",ue="IE",ce="Opera",de="Firefox",he="Safari",fe=function(t,e){return function(){return e===t}},pe=function(){return ge({current:void 0,version:se.unknown()})},ge=function(t){var e=t.current;return{current:e,version:t.version,isEdge:fe(ae,e),isChrome:fe(le,e),isIE:fe(ue,e),isOpera:fe(ce,e),isFirefox:fe(de,e),isSafari:fe(he,e)}},me={unknown:pe,nu:ge,edge:B(ae),chrome:B(le),ie:B(ue),opera:B(ce),firefox:B(de),safari:B(he)},ve="Windows",be="iOS",ye="Android",we="Linux",_e="OSX",xe="Solaris",Ce="FreeBSD",ke=function(t,e){return function(){return e===t}},Te=function(){return Se({current:void 0,version:se.unknown()})},Se=function(t){var e=t.current;return{current:e,version:t.version,isWindows:ke(ve,e),isiOS:ke(be,e),isAndroid:ke(ye,e),isOSX:ke(_e,e),isLinux:ke(we,e),isSolaris:ke(xe,e),isFreeBSD:ke(Ce,e)}},Ee={unknown:Te,nu:Se,windows:B(ve),ios:B(be),android:B(ye),linux:B(we),osx:B(_e),solaris:B(xe),freebsd:B(Ce)},Ne=function(t,e,n,i){var o=t.isiOS()&&!0===/ipad/i.test(n),r=t.isiOS()&&!o,s=t.isiOS()||t.isAndroid(),a=s||i("(pointer:coarse)"),l=o||!r&&s&&i("(min-device-width:768px)"),u=r||s&&!l,c=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!u&&!l&&!c;return{isiPad:B(o),isiPhone:B(r),isTablet:B(l),isPhone:B(u),isTouch:B(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:B(c),isDesktop:B(d)}},De=function(t,e){var n=String(e).toLowerCase();return wt(t,(function(t){return t.search(n)}))},Ae=function(t,e){return De(t,e).map((function(t){var n=se.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},ze=function(t,e){return De(t,e).map((function(t){var n=se.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Pe={detectBrowser:Ae,detectOs:ze},Me=function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(n,n+e.length)===e},Ie=function(t,e){return-1!==t.indexOf(e)},Re=function(t,e){return Me(t,e,0)},Oe=function(t){return t.replace(/^\s+|\s+$/g,"")},He=function(t){return t.replace(/^\s+/g,"")},Le=function(t){return t.replace(/\s+$/g,"")},Fe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Be=function(t){return function(e){return Ie(e,t)}},$e=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Ie(t,"edge/")&&Ie(t,"chrome")&&Ie(t,"safari")&&Ie(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Fe],search:function(t){return Ie(t,"chrome")&&!Ie(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Ie(t,"msie")||Ie(t,"trident")}},{name:"Opera",versionRegexes:[Fe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Be("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Be("firefox")},{name:"Safari",versionRegexes:[Fe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Ie(t,"safari")||Ie(t,"mobile/"))&&Ie(t,"applewebkit")}}],je=[{name:"Windows",search:Be("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Ie(t,"iphone")||Ie(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Be("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Be("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Be("linux"),versionRegexes:[]},{name:"Solaris",search:Be("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Be("freebsd"),versionRegexes:[]}],Ve={browsers:B($e),oses:B(je)},Ue=function(t,e){var n=Ve.browsers(),i=Ve.oses(),o=Pe.detectBrowser(n,t).fold(me.unknown,me.nu),r=Pe.detectOs(i,t).fold(Ee.unknown,Ee.nu);return{browser:o,os:r,deviceType:Ne(r,o,t,e)}},qe=function(e){return t.window.matchMedia(e).matches},We=te({detect:Ue}.detect(t.navigator.userAgent,qe)),Ye=function(){return We.get()},Ke=function(e,n){var i=(n||t.document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Qe(i.childNodes[0])},Ge=function(e,n){var i=(n||t.document).createElement(e);return Qe(i)},Xe=function(e,n){var i=(n||t.document).createTextNode(e);return Qe(i)},Qe=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:B(t)}},Je=function(t,e,n){var i=t.dom();return X.from(i.elementFromPoint(e,n)).map(Qe)},Ze={fromHtml:Ke,fromTag:Ge,fromText:Xe,fromDom:Qe,fromPoint:Je},tn=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),en=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),nn=t.Node.TEXT_NODE,on=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,void 0!==t.window?t.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),rn=function(t){return t.dom().nodeType},sn=function(t){return function(e){return rn(e)===t}},an=sn(en),ln=sn(nn),un=Object.keys,cn=Object.hasOwnProperty,dn=function(t,e){for(var n=un(t),i=0,o=n.length;i<o;i++){var r=n[i];e(t[r],r)}},hn=function(t,e){return fn(t,(function(t,n){return{k:n,v:e(t,n)}}))},fn=function(t,e){var n={};return dn(t,(function(t,i){var o=e(t,i);n[o.k]=o.v})),n},pn=function(t,e){var n={},i={};return dn(t,(function(t,o){(e(t,o)?n:i)[o]=t})),{t:n,f:i}},gn=function(t,e){return mn(t,e)?X.from(t[e]):X.none()},mn=function(t,e){return cn.call(t,e)},vn=function(t){return void 0!==t.style&&ot(t.style.getPropertyValue)},bn=function(t){var e=ln(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)},yn=function(e,n,i){if(!(Z(i)||it(i)||rt(i)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",i,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,i+"")},wn=function(t,e,n){yn(t.dom(),e,n)},_n=function(t,e){var n=t.dom();dn(e,(function(t,e){yn(n,e,t)}))},xn=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},Cn=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},kn=function(t,e){t.dom().removeAttribute(e)},Tn=function(e,n){var i=e.dom(),o=t.window.getComputedStyle(i).getPropertyValue(n),r=""!==o||bn(e)?o:Sn(i,n);return null===r?void 0:r},Sn=function(t,e){return vn(t)?t.style.getPropertyValue(e):""},En=function(t,e){var n=t.dom(),i=Sn(n,e);return X.from(i).filter((function(t){return t.length>0}))},Nn=function(t){return t.dom().offsetWidth},Dn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var i={};return pt(t,(function(t,n){i[t]=B(e[n])})),i}},An=function(t,e){var n=[],i=function(t){return n.push(t),e(t)},o=e(t);do{o=o.bind(i)}while(o.isSome());return n},zn={toArray:An},Pn=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},Mn={documentPositionPreceding:function(e,n){return Pn(e,n,t.Node.DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,n){return Pn(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)}},In=en,Rn=tn,On=function(t,e){var n=t.dom();if(n.nodeType!==In)return!1;var i=n;if(void 0!==i.matches)return i.matches(e);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(e);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Hn=function(t){return t.nodeType!==In&&t.nodeType!==Rn||0===t.childElementCount},Ln=function(e,n){var i=void 0===n?t.document:n.dom();return Hn(i)?[]:ft(i.querySelectorAll(e),Ze.fromDom)},Fn=function(e,n){var i=void 0===n?t.document:n.dom();return Hn(i)?X.none():X.from(i.querySelector(e)).map(Ze.fromDom)},Bn=function(t,e){return t.dom()===e.dom()},$n=function(t,e){var n=t.dom(),i=e.dom();return n!==i&&n.contains(i)},jn=function(t,e){return Mn.documentPositionContainedBy(t.dom(),e.dom())},Vn=Ye().browser.isIE()?jn:$n,Un=function(t){return Ze.fromDom(t.dom().ownerDocument)},qn=function(t){return Ze.fromDom(t.dom().ownerDocument.documentElement)},Wn=function(t){return Ze.fromDom(t.dom().ownerDocument.defaultView)},Yn=function(t){return X.from(t.dom().parentNode).map(Ze.fromDom)},Kn=function(t,e){for(var n=ot(e)?e:U,i=t.dom(),o=[];null!==i.parentNode&&void 0!==i.parentNode;){var r=i.parentNode,s=Ze.fromDom(r);if(o.push(s),!0===n(s))break;i=r}return o},Gn=function(t){return X.from(t.dom().previousSibling).map(Ze.fromDom)},Xn=function(t){return X.from(t.dom().nextSibling).map(Ze.fromDom)},Qn=function(t){return Tt(zn.toArray(t,Gn))},Jn=function(t){return zn.toArray(t,Xn)},Zn=function(t){return ft(t.dom().childNodes,Ze.fromDom)},ti=function(t,e){var n=t.dom().childNodes;return X.from(n[e]).map(Ze.fromDom)},ei=function(t){return ti(t,0)},ni=function(t){return ti(t,t.dom().childNodes.length-1)},ii=function(t){return t.dom().childNodes.length},oi=(Dn("element","offset"),Ye().browser),ri=function(t){return wt(t,an)},si=function(t){return oi.isFirefox()&&"table"===on(t)?ri(Zn(t)).filter((function(t){return"caption"===on(t)})).bind((function(t){return ri(Jn(t)).map((function(e){var n=e.dom().offsetTop,i=t.dom().offsetTop,o=t.dom().offsetHeight;return n<=i?-o:0}))})).getOr(0):0},ai=function(t,e){return t.children&&dt(t.children,e)},li=function(t,e,n){var i,o,r=0,s=0,a=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===Tn(Ze.fromDom(t),"position"))return{x:r=(o=e.getBoundingClientRect()).left+(a.documentElement.scrollLeft||t.scrollLeft)-a.documentElement.clientLeft,y:s=o.top+(a.documentElement.scrollTop||t.scrollTop)-a.documentElement.clientTop};for(i=e;i&&i!==n&&i.nodeType&&!ai(i,n);)r+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!==n&&i.nodeType&&!ai(i,n);)r-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=si(Ze.fromDom(e))}return{x:r,y:s}},ui={getPos:li},ci={},di={exports:ci};!function(t,e,n,i){!function(i){if("object"==typeof e&&void 0!==n)n.exports=i();else if("function"==typeof t&&t.amd)t([],i);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=i()}}((function(){return function(){function t(e,n,o){function r(a,l){if(!n[a]){if(!e[a]){var u="function"==typeof i&&i;if(!l&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};e[a][0].call(d.exports,(function(t){return r(e[a][1][t]||t)}),d,d.exports,t,e,n,o)}return n[a].exports}for(var s="function"==typeof i&&i,a=0;a<o.length;a++)r(o[a]);return r}return t}()({1:[function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function r(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function s(){g&&f&&(g=!1,f.length?p=f.concat(p):m=-1,p.length&&a())}function a(){if(!g){var t=o(s);g=!0;for(var e=p.length;e;){for(f=p,p=[];++m<e;)f&&f[m].run();m=-1,e=p.length}f=null,g=!1,r(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,d,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var f,p=[],g=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||g||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(){return[]},h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(t,e){(function(t){!function(n){function i(){}function o(t,e){return function(){t.apply(e,arguments)}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,r._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void l(e.promise,t)}a(e.promise,i)}else(1===t._state?a:l)(e.promise,t._value)}))):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void d(o(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){l(t,e)}}function l(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&r._immediateFn((function(){t._handled||r._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,l(e,t))}))}catch(t){if(n)return;n=!0,l(e,t)}}var h=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new c(t,e,n)),n},r.all=function(t){var e=Array.prototype.slice.call(t);return new r((function(t,n){function i(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(r,t)}),n)}e[r]=s,0==--o&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var o=e.length,r=0;r<e.length;r++)i(r,e[r])}))},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r((function(e){e(t)}))},r.reject=function(t){return new r((function(e,n){n(t)}))},r.race=function(t){return new r((function(e,n){for(var i=0,o=t.length;i<o;i++)t[i].then(e,n)}))},r._immediateFn="function"==typeof t?function(e){t(e)}:function(t){h(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=r:n.Promise||(n.Promise=r)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,i){function o(t,e){this._id=t,this._clearFn=e}var r=t("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,i=!(arguments.length<2)&&a.call(arguments,1);return l[e]=!0,r((function(){
l[e]&&(i?t.apply(null,i):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof i?i:function(t){delete l[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e){var n=t("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:i.Promise||n}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,ci,di,void 0);var hi,fi,pi,gi,mi=di.exports.boltExport,vi=function(e){var n=X.none(),i=[],o=function(t){return vi((function(e){r((function(n){e(t(n))}))}))},r=function(t){a()?u(t):i.push(t)},s=function(t){n=X.some(t),l(i),i=[]},a=function(){return n.isSome()},l=function(t){pt(t,u)},u=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e(s),{get:r,map:o,isReady:a}},bi=function(t){return vi((function(e){e(t)}))},yi={nu:vi,pure:bi},wi=function(e){t.setTimeout((function(){throw e}),0)},_i=function(t){var e=function(e){t().then(e,wi)};return{map:function(e){return _i((function(){return t().then(e)}))},bind:function(e){return _i((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return _i((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return yi.nu(e)},toCached:function(){var e=null;return _i((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},xi={nu:function(t){return _i((function(){return new mi(t)}))},pure:function(t){return _i((function(){return mi.resolve(t)}))}},Ci=function(t,e){return e((function(e){var n=[],i=0,o=function(o){return function(r){n[o]=r,++i>=t.length&&e(n)}};0===t.length?e([]):pt(t,(function(t,e){t.get(o(e))}))}))},ki=function(t){return Ci(t,xi.nu)},Ti=function(t){var e=function(){return Ti(t)},n=function(){return Ti(t)},i=function(e){return Ti(e(t))},o=function(){return Ti(t)},r=function(e){e(t)},s=function(e){return e(t)},a=function(e,n){return n(t)},l=function(e){return e(t)},u=function(e){return e(t)},c=function(){return X.some(t)};return{is:function(e){return t===e},isValue:q,isError:U,getOr:B(t),getOrThunk:B(t),getOrDie:B(t),or:e,orThunk:n,fold:a,map:i,mapError:o,each:r,bind:s,exists:l,forall:u,toOption:c}},Si=function(t){return{is:U,isValue:U,isError:q,getOr:$,getOrThunk:function(t){return t()},getOrDie:function(){return V(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(e){return e(t)},map:function(){return Si(t)},mapError:function(e){return Si(e(t))},each:L,bind:function(){return Si(t)},exists:U,forall:q,toOption:X.none}},Ei=function(t,e){return t.fold((function(){return Si(e)}),Ti)},Ni={value:Ti,error:Si,fromOption:Ei},Di=function(){function e(t,e){return function(){t.apply(e,arguments)}}function n(t){var e=this;null!==this._state?c((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void t.reject(e)}t.resolve(i)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void a(e(n,t),e(i,this),e(o,this))}this._state=!0,this._value=t,r.call(this)}catch(t){o.call(this,t)}}function o(t){this._state=!1,this._value=t,r.call(this)}function r(){for(var t=0,e=this._deferreds.length;t<e;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function s(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function a(t,e,n){var i=!1;try{t((function(t){i||(i=!0,e(t))}),(function(t){i||(i=!0,n(t))}))}catch(t){if(i)return;i=!0,n(t)}}var l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,e(i,this),e(o,this))},c=u.immediateFn||"function"==typeof t.setImmediate&&t.setImmediate||function(e){t.setTimeout(e,1)};return u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){var i=this;return new u((function(o,r){n.call(i,new s(t,e,o,r))}))},u.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new u((function(e,n){function i(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(r,t)}),n)}t[r]=s,0==--o&&e(t)}catch(t){n(t)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])}))},u.resolve=function(t){return t&&"object"==typeof t&&t.constructor===u?t:new u((function(e){e(t)}))},u.reject=function(t){return new u((function(e,n){n(t)}))},u.race=function(t){return new u((function(e,n){for(var i=0,o=t.length;i<o;i++)t[i].then(e,n)}))},u},Ai=window.Promise?window.Promise:Di(),zi=function(e,n){var i,o=t.window.requestAnimationFrame,r=["ms","moz","webkit"],s=function(e){t.window.setTimeout(e,0)};for(i=0;i<r.length&&!o;i++)o=t.window[r[i]+"RequestAnimationFrame"];o||(o=s),o(e,n)},Pi=function(e,n){return"number"!=typeof n&&(n=0),t.setTimeout(e,n)},Mi=function(e,n){return"number"!=typeof n&&(n=1),t.setInterval(e,n)},Ii=function(e,n){var i,o;return o=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];t.clearTimeout(i),i=Pi((function(){e.apply(this,o)}),n)},o.stop=function(){t.clearTimeout(i)},o},Ri={requestAnimationFrame:function(e,n){hi?hi.then(e):hi=new Ai((function(e){n||(n=t.document.body),zi(e,n)})).then(e)},setTimeout:Pi,setInterval:Mi,setEditorTimeout:function(t,e,n){return Pi((function(){t.removed||e()}),n)},setEditorInterval:function(e,n,i){var o;return o=Mi((function(){e.removed?t.clearInterval(o):n()}),i)},debounce:Ii,throttle:Ii,clearInterval:function(e){return t.clearInterval(e)},clearTimeout:function(e){return t.clearTimeout(e)}},Oi=t.navigator.userAgent,Hi=Ye(),Li=Hi.browser,Fi=Hi.os,Bi=Hi.deviceType,$i=/WebKit/.test(Oi)&&!Li.isEdge(),ji="FormData"in t.window&&"FileReader"in t.window&&"URL"in t.window&&!!t.URL.createObjectURL,Vi=-1!==Oi.indexOf("Windows Phone"),Ui={opera:Li.isOpera(),webkit:$i,ie:!(!Li.isIE()&&!Li.isEdge())&&Li.version.major,gecko:Li.isFirefox(),mac:Fi.isOSX()||Fi.isiOS(),iOS:Bi.isiPad()||Bi.isiPhone(),android:Fi.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:t.window.getSelection&&"Range"in t.window,documentMode:Li.isIE()?t.document.documentMode||7:10,fileApi:ji,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Li.isIE(),desktop:Bi.isDesktop(),windowsPhone:Vi,browser:{current:Li.current,version:Li.version,isChrome:Li.isChrome,isEdge:Li.isEdge,isFirefox:Li.isFirefox,isIE:Li.isIE,isOpera:Li.isOpera,isSafari:Li.isSafari},os:{current:Fi.current,version:Fi.version,isAndroid:Fi.isAndroid,isFreeBSD:Fi.isFreeBSD,isiOS:Fi.isiOS,isLinux:Fi.isLinux,isOSX:Fi.isOSX,isSolaris:Fi.isSolaris,isWindows:Fi.isWindows},deviceType:{isDesktop:Bi.isDesktop,isiPad:Bi.isiPad,isiPhone:Bi.isiPhone,isPhone:Bi.isPhone,isTablet:Bi.isTablet,isTouch:Bi.isTouch,isWebView:Bi.isWebView}},qi=Array.isArray,Wi=function(t){var e,n,i=t;if(!qi(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i},Yi=function(t,e,n){var i,o;if(!t)return 0;if(n=n||t,void 0!==t.length){for(i=0,o=t.length;i<o;i++)if(!1===e.call(n,t[i],i,t))return 0}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return 0;return 1},Ki=function(t,e){var n=[];return Yi(t,(function(i,o){n.push(e(i,o,t))})),n},Gi=function(t,e){var n=[];return Yi(t,(function(i,o){e&&!e(i,o,t)||n.push(i)})),n},Xi=function(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},Qi=function(t,e,n,i){var o=0;for(arguments.length<3&&(n=t[0]);o<t.length;o++)n=e.call(i,n,t[o],o);return n},Ji=function(t,e,n){var i,o;for(i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t))return i;return-1},Zi=function(t,e,n){var i=Ji(t,e,n);if(-1!==i)return t[i]},to={isArray:qi,toArray:Wi,each:Yi,map:Ki,filter:Gi,indexOf:Xi,reduce:Qi,findIndex:Ji,find:Zi,last:function(t){return t[t.length-1]}},eo=/^\s*|\s*$/g,no=function(t){return null==t?"":(""+t).replace(eo,"")},io=function(t,e){return e?!("array"!==e||!to.isArray(t))||typeof t===e:void 0!==t},oo=function(t,e,n){var i;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},ro=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},so=function(t,e,n){var i,o,r,s,a,l=this,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),r=t[3].match(/(^|\.)(\w+)$/i)[2],!(o=l.createNS(t[3].replace(/\.\w+$/,""),n))[r]){if("static"===t[2])return o[r]=e,void(this.onCreate&&this.onCreate(t[2],t[3],o[r]));e[r]||(e[r]=function(){},u=1),o[r]=e[r],l.extend(o[r].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],a=o[r],o[r]=u?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},o[r].prototype[r]=o[r],l.each(i,(function(t,e){o[r].prototype[e]=i[e]})),l.each(e,(function(t,e){i[e]?o[r].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!==r&&(o[r].prototype[e]=t)}))),l.each(e.static,(function(t,e){o[r][e]=t}))}},ao=function(t,e){for(var n,i,o,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a,l=arguments;for(n=1,i=l.length;n<i;n++)for(o in e=l[n])e.hasOwnProperty(o)&&void 0!==(a=e[o])&&(t[o]=a);return t},lo=function(t,e,n,i){i=i||this,t&&(n&&(t=t[n]),to.each(t,(function(t,o){if(!1===e.call(i,t,o,n))return!1;lo(t,e,n,i)})))},uo=function(e,n){var i,o;for(n=n||t.window,e=e.split("."),i=0;i<e.length;i++)n[o=e[i]]||(n[o]={}),n=n[o];return n},co=function(e,n){var i,o;for(n=n||t.window,i=0,o=(e=e.split(".")).length;i<o&&(n=n[e[i]]);i++);return n},ho=function(t,e){return!t||io(t,"array")?t:to.map(t.split(e||","),no)},fo=function(t){var e=Ui.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t},po={trim:no,isArray:to.isArray,is:io,toArray:to.toArray,makeMap:oo,each:to.each,map:to.map,grep:to.filter,inArray:to.indexOf,hasOwn:ro,extend:ao,create:so,walk:lo,createNS:uo,resolve:co,explode:ho,_addCacheSuffix:fo},go=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],mo=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],vo=["td","th"],bo=["thead","tbody","tfoot"],yo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],wo=["li","dd","dt"],_o=["ul","ol","dl"],xo=["pre","script","textarea","style"],Co=function(t){var e;return function(n){return(e=e||Et(t,B(!0))).hasOwnProperty(on(n))}},ko=Co(["h1","h2","h3","h4","h5","h6"]),To=Co(go),So=function(t){return"table"===on(t)},Eo=function(t){return an(t)&&!To(t)},No=function(t){return an(t)&&"br"===on(t)},Do=Co(yo),Ao=Co(_o),zo=Co(wo),Po=Co(mo),Mo=Co(bo),Io=Co(vo),Ro=Co(xo),Oo=function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n},Ho=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Lo=function(t,e){var n,i=e.childNodes;if(!Zt.isElement(e)||!Ho(e)){for(n=i.length-1;n>=0;n--)Lo(t,i[n]);if(!1===Zt.isDocument(e)){if(Zt.isText(e)&&e.nodeValue.length>0){var o=po.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||o>0)return;if(0===o&&Oo(e))return}else if(Zt.isElement(e)&&(1===(i=e.childNodes).length&&Ho(i[0])&&e.parentNode.insertBefore(i[0],e),i.length||Po(Ze.fromDom(e))))return;t.remove(e)}return e}},Fo={trimNode:Lo},Bo=po.makeMap,$o=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vo=/[<>&\"\']/g,Uo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,qo={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};pi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},gi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Wo=function(t){var e;return(e=Ze.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t},Yo=function(t,e){var n,i,o,r={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),pi[i]||(o="&"+t[n+1]+";",r[i]=o,r[o]=i);return r}};fi=Yo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Ko,Go,Xo,Qo,Jo,Zo,tr,er,nr,ir,or,rr,sr,ar,lr,ur,cr,dr,hr,fr=function(t,e){return t.replace(e?$o:jo,(function(t){return pi[t]||t}))},pr=function(t,e){return t.replace(e?$o:jo,(function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":pi[t]||"&#"+t.charCodeAt(0)+";"}))},gr=function(t,e,n){return n=n||fi,t.replace(e?$o:jo,(function(t){return pi[t]||n[t]||t}))},mr=function(t,e){var n=Yo(e)||fi,i=function(t,e){return t.replace(e?$o:jo,(function(t){return void 0!==pi[t]?pi[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))},o=function(t,e){return gr(t,e,n)},r=Bo(t.replace(/\+/g,","));return r.named&&r.numeric?i:r.named?e?o:gr:r.numeric?pr:fr},vr=function(t){return t.replace(Uo,(function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):qo[e]||String.fromCharCode(e):gi[t]||fi[t]||Wo(t)}))},br={encodeRaw:fr,encodeAllRaw:function(t){return(""+t).replace(Vo,(function(t){return pi[t]||t}))},encodeNumeric:pr,encodeNamed:gr,getEncodeFunc:mr,decode:vr},yr={},wr={},_r=po.makeMap,xr=po.each,Cr=po.extend,kr=po.explode,Tr=po.inArray,Sr=function(t,e){return(t=po.trim(t))?t.split(e||" "):[]},Er=function(t){var e,n,i,o,r,s,a={},l=function(t,n,i){var o,r,s,l=function(t,e){var n,i,o={};for(n=0,i=t.length;n<i;n++)o[t[n]]=e||{};return o};for(n=n||"","string"==typeof(i=i||[])&&(i=Sr(i)),o=(t=Sr(t)).length;o--;)s={attributes:l(r=Sr([e,n].join(" "))),attributesOrder:r,children:l(i,wr)},a[t[o]]=s},u=function(t,e){var n,i,o,r;for(n=(t=Sr(t)).length,e=Sr(e);n--;)for(i=a[t[n]],o=0,r=e.length;o<r;o++)i.attributes[e[o]]={},i.attributesOrder.push(e[o])};return yr[t]?yr[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",i=[i,s="acronym applet basefont big font strike tt"].join(" "),xr(Sr(s),(function(t){l(t,"",i)})),n=[n,r="center dir isindex noframes"].join(" "),o=[n,i].join(" "),xr(Sr(r),(function(t){l(t,"",o)}))),o=o||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),l("address dt dd div caption","",o),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",o),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",o),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",o),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",o),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),l("param","name value"),l("map","name",[o,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",o),l("th","colspan rowspan headers scope abbr",o),l("form","accept-charset action autocomplete enctype method name novalidate target",o),l("fieldset","disabled form name",[o,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?o:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[o,"li"].join(" ")),l("noscript","",o),"html4"!==t&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",o),l("mark rt rp summary bdi","",i),l("canvas","width height",o),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside main header footer","",o),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[o,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",o),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[o,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select","onchange"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==t&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("iframe","sandbox seamless allowfullscreen")),xr(Sr("a form meter progress dfn"),(function(t){a[t]&&delete a[t].children[t]})),delete a.caption.children.table,delete a.script,yr[t]=a,a)},Nr=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),xr(t,(function(t,i){n[i]=n[i.toUpperCase()]="map"===e?_r(t,/[, ]/):kr(t,/[, ]/)}))),n},Dr=function(t,e,n,i){var o=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+o(e)+o(n)+o(i)},Ar=function(t,e){var n,i,o,r,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,c={},d="\ufeff";for(t=t||{},e&&(o=e.getValidStyles(),r=e.getInvalidStyles()),i=("\\\" \\' \\; \\: ; : "+d).split(" "),n=0;n<i.length;n++)c[i[n]]=d+n,c[d+n]=i[n];return{toHex:function(t){return t.replace(s,Dr)},parse:function(e){var i,o,r,h,f={},p=t.url_converter,g=t.url_converter_scope||this,m=function(t,e,i){var o,r,s,a;if((o=f[t+"-top"+e])&&(r=f[t+"-right"+e])&&(s=f[t+"-bottom"+e])&&(a=f[t+"-left"+e])){var l=[o,r,s,a];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&i||(f[t+e]=-1===n?l[0]:l.join(" "),delete f[t+"-top"+e],delete f[t+"-right"+e],delete f[t+"-bottom"+e],delete f[t+"-left"+e])}},v=function(t){var e,n=f[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return f[t]=n[0],!0}},b=function(t,e,n,i){v(e)&&v(n)&&v(i)&&(f[t]=f[e]+" "+f[n]+" "+f[i],delete f[e],delete f[n],delete f[i])},y=function(t){return h=!0,c[t]},w=function(t,e){return h&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return c[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},_=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},x=function(t){return t.replace(/\\[0-9a-f]+/gi,_)},C=function(e,n,i,o,r,s){if(r=r||s)return"'"+(r=w(r)).replace(/\'/g,"\\'")+"'";if(n=w(n||i||o),!t.allow_script_urls){var a=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return p&&(n=p.call(g,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,y).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,y)}));i=l.exec(e);)if(l.lastIndex=i.index+i[0].length,o=i[1].replace(u,"").toLowerCase(),r=i[2].replace(u,""),o&&r){if(o=x(o),r=x(r),-1!==o.indexOf(d)||-1!==o.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(r)))continue;"font-weight"===o&&"700"===r?r="bold":"color"!==o&&"background-color"!==o||(r=r.toLowerCase()),r=(r=r.replace(s,Dr)).replace(a,C),f[o]=h?w(r,!0):r}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),b("border","border-width","border-style","border-color"),"medium none"===f.border&&delete f.border,"none"===f["border-image"]&&delete f["border-image"]}return f},serialize:function(t,e){var n,i,s="",a=function(e){var n,i,r,a;if(n=o[e])for(i=0,r=n.length;i<r;i++)e=n[i],(a=t[e])&&(s+=(s.length>0?" ":"")+e+": "+a+";")},l=function(t,e){var n;return(!(n=r["*"])||!n[t])&&(!(n=r[e])||!n[t])};if(e&&o)a("*"),a(e);else for(n in t)!(i=t[n])||r&&!l(n,e)||(s+=(s.length>0?" ":"")+n+": "+i+";");return s}}},zr="mce-data-",Pr=/^(?:mouse|contextmenu)|click/,Mr={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Ir=function(t){return t.isDefaultPrevented===Or||t.isDefaultPrevented===Rr},Rr=function(){return!1},Or=function(){return!0},Hr=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Lr=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Fr=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&n.length>0)return n[0]}return e},Br=function(e,n){var i,o=n||{};for(i in e)Mr[i]||(o[i]=e[i]);if(o.target||(o.target=o.srcElement||t.document),Ui.experimentalShadowDom&&(o.target=Fr(e,o.target)),e&&Pr.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var r=o.target.ownerDocument||t.document,s=r.documentElement,a=r.body;o.pageX=e.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),o.pageY=e.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=Or,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=Or,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Or,o.stopPropagation()},!1===Ir(o)&&(o.isDefaultPrevented=Rr,o.isPropagationStopped=Rr,o.isImmediatePropagationStopped=Rr),void 0===o.metaKey&&(o.metaKey=!1),o},$r=function(t,e,n){var i=t.document,o={type:"ready"};if(n.domLoaded)e(o);else{var r=function(){Lr(t,"DOMContentLoaded",r),Lr(t,"load",r),n.domLoaded||(n.domLoaded=!0,e(o))};(function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body})()?r():Hr(t,"DOMContentLoaded",r),Hr(t,"load",r)}},jr=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=zr+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in t.document.documentElement,this.hasFocusIn="onfocusin"in t.document.documentElement,this.count=1}return e.prototype.bind=function(e,n,i,o){var r,s,a,l,u,c,d,h=this,f=t.window,p=function(t){h.executeHandlers(Br(t||f.event),r)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[h.expando]?r=e[h.expando]:(r=h.count++,e[h.expando]=r,h.events[r]={}),o=o||e;var g=n.split(" ");for(a=g.length;a--;)c=p,u=d=!1,"DOMContentLoaded"===(l=g[a])&&(l="ready"),h.domLoaded&&"ready"===l&&"complete"===e.readyState?i.call(o,Br({type:l})):(h.hasMouseEnterLeave||(u=h.mouseEnterLeave[l])&&(c=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Br(t||f.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,h.executeHandlers(t,r))}),h.hasFocusIn||"focusin"!==l&&"focusout"!==l||(d=!0,u="focusin"===l?"focus":"blur",c=function(t){(t=Br(t||f.event)).type="focus"===t.type?"focusin":"focusout",h.executeHandlers(t,r)}),(s=h.events[r][l])?"ready"===l&&h.domLoaded?i(Br({type:l})):s.push({func:i,scope:o}):(h.events[r][l]=s=[{func:i,scope:o}],s.fakeName=u,s.capture=d,s.nativeHandler=c,"ready"===l?$r(e,c,h):Hr(e,u||l,c,d)));return e=s=0,i}},e.prototype.unbind=function(t,e,n){var i,o,r,s,a,l;if(!t||3===t.nodeType||8===t.nodeType)return this;if(i=t[this.expando]){if(l=this.events[i],e){var u=e.split(" ");for(r=u.length;r--;)if(o=l[a=u[r]]){if(n)for(s=o.length;s--;)if(o[s].func===n){var c=o.nativeHandler,d=o.fakeName,h=o.capture;(o=o.slice(0,s).concat(o.slice(s+1))).nativeHandler=c,o.fakeName=d,o.capture=h,l[a]=o}n&&0!==o.length||(delete l[a],Lr(t,o.fakeName||a,o.nativeHandler,o.capture))}}else{for(a in l)o=l[a],Lr(t,o.fakeName||a,o.nativeHandler,o.capture);l={}}for(a in l)return this;delete this.events[i];try{delete t[this.expando]}catch(e){t[this.expando]=null}}return this},e.prototype.fire=function(t,e,n){var i;if(!t||3===t.nodeType||8===t.nodeType)return this;var o=Br(null,n);o.type=e,o.target=t;do{(i=t[this.expando])&&this.executeHandlers(o,i),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this},e.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(t,e){var n,i,o,r,s=this.events[e];if(n=s&&s[t.type])for(i=0,o=n.length;i<o;i++)if((r=n[i])&&!1===r.func.call(r.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return},e.Event=new e,e}(),Vr="sizzle"+-new Date,Ur=t.window.document,qr=0,Wr=0,Yr=r(),Kr=r(),Gr=r(),Xr=function(t,e){return t===e&&(or=!0),0},Qr="undefined",Jr=1<<31,Zr={}.hasOwnProperty,ts=[],es=ts.pop,ns=ts.push,is=ts.push,os=ts.slice,rs=ts.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},ss="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",as="[\\x20\\t\\r\\n\\f]",ls="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",us="\\["+as+"*("+ls+")(?:"+as+"*([*^$|!~]?=)"+as+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ls+"))|)"+as+"*\\]",cs=":("+ls+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+us+")*)|.*)\\)|)",ds=new RegExp("^"+as+"+|((?:^|[^\\\\])(?:\\\\.)*)"+as+"+$","g"),hs=new RegExp("^"+as+"*,"+as+"*"),fs=new RegExp("^"+as+"*([>+~]|"+as+")"+as+"*"),ps=new RegExp("="+as+"*([^\\]'\"]*?)"+as+"*\\]","g"),gs=new RegExp(cs),ms=new RegExp("^"+ls+"$"),vs={ID:new RegExp("^#("+ls+")"),CLASS:new RegExp("^\\.("+ls+")"),TAG:new RegExp("^("+ls+"|[*])"),ATTR:new RegExp("^"+us),PSEUDO:new RegExp("^"+cs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+as+"*(even|odd|(([+-]|)(\\d*)n|)"+as+"*(?:([+-]|)"+as+"*(\\d+)|))"+as+"*\\)|)","i"),bool:new RegExp("^(?:"+ss+")$","i"),needsContext:new RegExp("^"+as+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+as+"*((?:-\\d)?\\d*)"+as+"*\\)|)(?=[^-]|$)","i")},bs=/^(?:input|select|textarea|button)$/i,ys=/^h\d$/i,ws=/^[^{]+\{\s*\[native \w/,_s=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xs=/[+~]/,Cs=/'|\\/g,ks=new RegExp("\\\\([\\da-f]{1,6}"+as+"?|("+as+")|.)","ig"),Ts=function(t,e,n){var i="0x"+e-65536
;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{is.apply(ts=os.call(Ur.childNodes),Ur.childNodes),ts[Ur.childNodes.length].nodeType}catch(t){is={apply:ts.length?function(t,e){ns.apply(t,os.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}var Ss=function(t,e,n,i){var o,r,s,a,l,u,c,h,p,g;if((e?e.ownerDocument||e:Ur)!==sr&&rr(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=(e=e||sr).nodeType)&&9!==a)return[];if(lr&&!i){if(o=_s.exec(t))if(s=o[1]){if(9===a){if(!(r=e.getElementById(s))||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&hr(e,r)&&r.id===s)return n.push(r),n}else{if(o[2])return is.apply(n,e.getElementsByTagName(t)),n;if((s=o[3])&&Go.getElementsByClassName)return is.apply(n,e.getElementsByClassName(s)),n}if(Go.qsa&&(!ur||!ur.test(t))){if(h=c=Vr,p=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=Zo(t),(c=e.getAttribute("id"))?h=c.replace(Cs,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+f(u[l]);p=xs.test(t)&&d(e.parentNode)||e,g=u.join(",")}if(g)try{return is.apply(n,p.querySelectorAll(g)),n}catch(t){}finally{c||e.removeAttribute("id")}}}return er(t.replace(ds,"$1"),e,n,i)};for(Ko in Go=Ss.support={},Jo=Ss.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},rr=Ss.setDocument=function(t){function e(t){try{return t.top}catch(t){}return null}var n,i=t?t.ownerDocument||t:Ur,o=i.defaultView;return i!==sr&&9===i.nodeType&&i.documentElement?(sr=i,ar=i.documentElement,lr=!Jo(i),o&&o!==e(o)&&(o.addEventListener?o.addEventListener("unload",(function(){rr()}),!1):o.attachEvent&&o.attachEvent("onunload",(function(){rr()}))),Go.attributes=!0,Go.getElementsByTagName=!0,Go.getElementsByClassName=ws.test(i.getElementsByClassName),Go.getById=!0,Xo.find.ID=function(t,e){if(typeof e.getElementById!==Qr&&lr){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},Xo.filter.ID=function(t){var e=t.replace(ks,Ts);return function(t){return t.getAttribute("id")===e}},Xo.find.TAG=Go.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==Qr)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},Xo.find.CLASS=Go.getElementsByClassName&&function(t,e){if(lr)return e.getElementsByClassName(t)},cr=[],ur=[],Go.disconnectedMatch=!0,ur=ur.length&&new RegExp(ur.join("|")),cr=cr.length&&new RegExp(cr.join("|")),n=ws.test(ar.compareDocumentPosition),hr=n||ws.test(ar.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Xr=n?function(t,e){if(t===e)return or=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!Go.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===Ur&&hr(Ur,t)?-1:e===i||e.ownerDocument===Ur&&hr(Ur,e)?1:ir?rs.call(ir,t)-rs.call(ir,e):0:4&n?-1:1)}:function(t,e){if(t===e)return or=!0,0;var n,o=0,r=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!r||!s)return t===i?-1:e===i?1:r?-1:s?1:ir?rs.call(ir,t)-rs.call(ir,e):0;if(r===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[o]===u[o];)o++;return o?a(l[o],u[o]):l[o]===Ur?-1:u[o]===Ur?1:0},i):sr},Ss.matches=function(t,e){return Ss(t,null,null,e)},Ss.matchesSelector=function(t,e){if((t.ownerDocument||t)!==sr&&rr(t),e=e.replace(ps,"='$1']"),Go.matchesSelector&&lr&&(!cr||!cr.test(e))&&(!ur||!ur.test(e)))try{var n=dr.call(t,e);if(n||Go.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return Ss(e,sr,null,[t]).length>0},Ss.contains=function(t,e){return(t.ownerDocument||t)!==sr&&rr(t),hr(t,e)},Ss.attr=function(t,e){(t.ownerDocument||t)!==sr&&rr(t);var n=Xo.attrHandle[e.toLowerCase()],i=n&&Zr.call(Xo.attrHandle,e.toLowerCase())?n(t,e,!lr):void 0;return void 0!==i?i:Go.attributes||!lr?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},Ss.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Ss.uniqueSort=function(t){var e,n=[],i=0,o=0;if(or=!Go.detectDuplicates,ir=!Go.sortStable&&t.slice(0),t.sort(Xr),or){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return ir=null,t},Qo=Ss.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Qo(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=Qo(e);return n},Xo=Ss.selectors={cacheLength:50,createPseudo:s,match:vs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ks,Ts),t[3]=(t[3]||t[4]||t[5]||"").replace(ks,Ts),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Ss.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Ss.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return vs.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&gs.test(n)&&(e=Zo(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ks,Ts).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Yr[t+" "];return e||(e=new RegExp("(^|"+as+")"+t+"("+as+"|$)"))&&Yr(t,(function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Qr&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var o=Ss.attr(i,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a;if(m){if(r){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(f=(u=(c=m[Vr]||(m[Vr]={}))[t]||[])[0]===qr&&u[1],h=u[0]===qr&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[qr,f,h];break}}else if(b&&(u=(e[Vr]||(e[Vr]={}))[t])&&u[0]===qr)h=u[1];else for(;(d=++f&&d&&d[g]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(b&&((d[Vr]||(d[Vr]={}))[t]=[qr,h]),d!==e)););return(h-=o)===i||h%i==0&&h/i>=0}}},PSEUDO:function(t,e){var n,i=Xo.pseudos[t]||Xo.setFilters[t.toLowerCase()]||Ss.error("unsupported pseudo: "+t);return i[Vr]?i(e):i.length>1?(n=[t,t,"",e],Xo.setFilters.hasOwnProperty(t.toLowerCase())?s((function(t,n){for(var o,r=i(t,e),s=r.length;s--;)t[o=rs.call(t,r[s])]=!(n[o]=r[s])})):function(t){return i(t,0,n)}):i}},pseudos:{not:s((function(t){var e=[],n=[],i=tr(t.replace(ds,"$1"));return i[Vr]?s((function(t,e,n,o){for(var r,s=i(t,null,o,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))})):function(t,o,r){return e[0]=t,i(e,null,r,n),!n.pop()}})),has:s((function(t){return function(e){return Ss(t,e).length>0}})),contains:s((function(t){return t=t.replace(ks,Ts),function(e){return(e.textContent||e.innerText||Qo(e)).indexOf(t)>-1}})),lang:s((function(t){return ms.test(t||"")||Ss.error("unsupported lang: "+t),t=t.replace(ks,Ts).toLowerCase(),function(e){var n;do{if(n=lr?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.window.location&&t.window.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===ar},focus:function(t){return t===sr.activeElement&&(!sr.hasFocus||sr.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!Xo.pseudos.empty(t)},header:function(t){return ys.test(t.nodeName)},input:function(t){return bs.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c((function(){return[0]})),last:c((function(t,e){return[e-1]})),eq:c((function(t,e,n){return[n<0?n+e:n]})),even:c((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:c((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:c((function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t})),gt:c((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},Xo.pseudos.nth=Xo.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Xo.pseudos[Ko]=l(Ko);for(Ko in{submit:!0,reset:!0})Xo.pseudos[Ko]=u(Ko);h.prototype=Xo.filters=Xo.pseudos,Xo.setFilters=new h,Zo=Ss.tokenize=function(t,e){var n,i,o,r,s,a,l,u=Kr[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=Xo.preFilter;s;){for(r in n&&!(i=hs.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(o=[])),n=!1,(i=fs.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(ds," ")}),s=s.slice(n.length)),Xo.filter)Xo.filter.hasOwnProperty(r)&&(!(i=vs[r].exec(s))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),s=s.slice(n.length)));if(!n)break}return e?s.length:s?Ss.error(t):Kr(t,a).slice(0)},tr=Ss.compile=function(t,e){var n,i=[],o=[],r=Gr[t+" "];if(!r){for(e||(e=Zo(t)),n=e.length;n--;)(r=y(e[n]))[Vr]?i.push(r):o.push(r);(r=Gr(t,w(o,i))).selector=t}return r},er=Ss.select=function(t,e,n,i){var o,r,s,a,l,u="function"==typeof t&&t,c=!i&&Zo(t=u.selector||t);if(n=n||[],1===c.length){if((r=c[0]=c[0].slice(0)).length>2&&"ID"===(s=r[0]).type&&Go.getById&&9===e.nodeType&&lr&&Xo.relative[r[1].type]){if(!(e=(Xo.find.ID(s.matches[0].replace(ks,Ts),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=vs.needsContext.test(t)?0:r.length;o--&&(s=r[o],!Xo.relative[a=s.type]);)if((l=Xo.find[a])&&(i=l(s.matches[0].replace(ks,Ts),xs.test(r[0].type)&&d(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&f(r)))return is.apply(n,i),n;break}}return(u||tr(t,c))(i,e,!lr,n,xs.test(t)&&d(e.parentNode)||e),n},Go.sortStable=Vr.split("").sort(Xr).join("")===Vr,Go.detectDuplicates=!!or,rr(),Go.sortDetached=!0;var Es=t.document,Ns=Array.prototype.push,Ds=Array.prototype.slice,As=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,zs=jr.Event,Ps=po.makeMap("children,contents,next,prev"),Ms=function(t){return void 0!==t},Is=function(t){return"string"==typeof t},Rs=function(t){return t&&t===t.window},Os=function(t,e){var n,i,o;for(o=(e=e||Es).createElement("div"),n=e.createDocumentFragment(),o.innerHTML=t;i=o.firstChild;)n.appendChild(i);return n},Hs=function(t,e,n,i){var o;if(Is(e))e=Os(e,Js(t[0]));else if(e.length&&!e.nodeType){if(e=na.makeArray(e),i)for(o=e.length-1;o>=0;o--)Hs(t,e[o],n,i);else for(o=0;o<e.length;o++)Hs(t,e[o],n,i);return t}if(e.nodeType)for(o=t.length;o--;)n.call(t[o],e);return t},Ls=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},Fs=function(t,e,n){var i,o;return e=na(e)[0],t.each((function(){var t=this;n&&i===t.parentNode||(i=t.parentNode,o=e.cloneNode(!1),t.parentNode.insertBefore(o,t)),o.appendChild(t)})),t},Bs=po.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),$s=po.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),js={for:"htmlFor",class:"className",readonly:"readOnly"},Vs={float:"cssFloat"},Us={},qs={},Ws=function(t,e){return new na.fn.init(t,e)},Ys=function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},Ks=/^\s*|\s*$/g,Gs=function(t){return null==t?"":(""+t).replace(Ks,"")},Xs=function(t,e){var n,i,o,r;if(t)if(void 0===(n=t.length)){for(i in t)if(t.hasOwnProperty(i)&&(r=t[i],!1===e.call(r,i,r)))break}else for(o=0;o<n&&(r=t[o],!1!==e.call(r,o,r));o++);return t},Qs=function(t,e){var n=[];return Xs(t,(function(t,i){e(i,t)&&n.push(i)})),n},Js=function(t){return t?9===t.nodeType?t:t.ownerDocument:Es};Ws.fn=Ws.prototype={constructor:Ws,selector:"",context:null,length:0,init:function(e,n){var i,o,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(n&&n.nodeType)r.context=n;else{if(n)return na(e).attr(n);r.context=n=t.document}if(Is(e)){if(r.selector=e,!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:As.exec(e)))return na(n).find(e);if(i[1])for(o=Os(e,Js(n)).firstChild;o;)Ns.call(r,o),o=o.nextSibling;else{if(!(o=Js(n).getElementById(i[2])))return r;if(o.id!==i[2])return r.find(e);r.length=1,r[0]=o}}else this.add(e,!1);return r},toArray:function(){return po.toArray(this)},add:function(t,e){var n,i,o=this;if(Is(t))return o.add(na(t));if(!1!==e)for(n=na.unique(o.toArray().concat(na.makeArray(t))),o.length=n.length,i=0;i<n.length;i++)o[i]=n[i];else Ns.apply(o,na.makeArray(t));return o},attr:function(t,e){var n,i=this;if("object"==typeof t)Xs(t,(function(t,e){i.attr(t,e)}));else{if(!Ms(e)){if(i[0]&&1===i[0].nodeType){if((n=Us[t])&&n.get)return n.get(i[0],t);if($s[t])return i.prop(t)?t:void 0;null===(e=i[0].getAttribute(t,2))&&(e=void 0)}return e}this.each((function(){var n;if(1===this.nodeType){if((n=Us[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}}))}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=js[t]||t))Xs(t,(function(t,e){n.prop(t,e)}));else{if(!Ms(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each((function(){1===this.nodeType&&(this[t]=e)}))}return n},css:function(t,e){var n,i,o=this,r=function(t){return t.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()}))},s=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t}))};if("object"==typeof t)Xs(t,(function(t,e){o.css(t,e)}));else if(Ms(e))t=r(t),"number"!=typeof e||Bs[t]||(e=e.toString()+"px"),o.each((function(){var n=this.style;if((i=qs[t])&&i.set)i.set(this,e);else{try{this.style[Vs[t]||t]=e}catch(t){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(s(t)):n.removeAttribute(t))}}));else{if(n=o[0],(i=qs[t])&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[r(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(t))}catch(t){return}}return o},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],zs.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(Ms(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){na(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(Ms(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Hs(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)}))},prepend:function(){return Hs(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)}),!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?Hs(t,arguments,(function(t){this.parentNode.insertBefore(t,this)})):t},after:function(){var t=this;return t[0]&&t[0].parentNode?Hs(t,arguments,(function(t){this.parentNode.insertBefore(t,this.nextSibling)}),!0):t},appendTo:function(t){return na(t).append(this),this},prependTo:function(t){return na(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Fs(this,t)},wrapAll:function(t){return Fs(this,t,!0)},wrapInner:function(t){return this.each((function(){na(this).contents().wrapAll(t)})),this},unwrap:function(){return this.parent().each((function(){na(this).replaceWith(this.childNodes)}))},clone:function(){var t=[];return this.each((function(){t.push(this.cloneNode(!0))})),na(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?Xs(t.split(" "),(function(){n.toggleClass(this,e)})):n.each((function(n,i){var o,r;(r=Ls(i,t))!==e&&(o=i.className,r?i.className=Gs((" "+o+" ").replace(" "+t+" "," ")):i.className+=o?" "+t:t)}))),n},hasClass:function(t){return Ls(this[0],t)},each:function(t){return Xs(this,t)},on:function(t,e){return this.each((function(){zs.bind(this,t,e)}))},off:function(t,e){return this.each((function(){zs.unbind(this,t,e)}))},trigger:function(t){return this.each((function(){"object"==typeof t?zs.fire(this,t.type,t):zs.fire(this,t)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new na(Ds.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)na.find(t,this[e],i);return na(i)},filter:function(t){return na("function"==typeof t?Qs(this.toArray(),(function(e,n){return t(n,e)})):na.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof na&&(t=t[0]),this.each((function(n,i){for(;i;){if("string"==typeof t&&na(i).is(t)){e.push(i);break}if(i===t){e.push(i);break}i=i.parentNode}})),na(e)},offset:function(t){var e,n,i,o,r=0,s=0;return t?this.css(t):((e=this[0])&&(i=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(r=(o=e.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=o.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:r,top:s})},push:Ns,sort:Array.prototype.sort,splice:Array.prototype.splice},po.extend(Ws,{extend:po.extend,makeArray:function(t){return Rs(t)||t.nodeType?[t]:po.toArray(t)},inArray:Ys,isArray:po.isArray,each:Xs,trim:Gs,grep:Qs,find:Ss,expr:Ss.selectors,unique:Ss.uniqueSort,text:Ss.getText,contains:Ss.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!==e[i].nodeType&&e.splice(i,1);return e=1===e.length?na.find.matchesSelector(e[0],t)?[e[0]]:[]:na.find.matches(t,e)}});var Zs=function(t,e,n){var i=[],o=t[e];for("string"!=typeof n&&n instanceof na&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&na(o).is(n))break}1===o.nodeType&&i.push(o),o=o[e]}return i},ta=function(t,e,n,i){var o=[];for(i instanceof na&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==i){if(t===i)break;if("string"==typeof i&&na(t).is(i))break}o.push(t)}return o},ea=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};Xs({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Zs(t,"parentNode")},next:function(t){return ea(t,"nextSibling",1)},prev:function(t){return ea(t,"previousSibling",1)},children:function(t){return ta(t.firstChild,"nextSibling",1)},contents:function(t){return po.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},(function(t,e){Ws.fn[t]=function(n){var i=[];this.each((function(){var t=e.call(i,this,n,i);t&&(na.isArray(t)?i.push.apply(i,t):i.push(t))})),this.length>1&&(Ps[t]||(i=na.unique(i)),0===t.indexOf("parents")&&(i=i.reverse()));var o=na(i);return n?o.filter(n):o}})),Xs({parentsUntil:function(t,e){return Zs(t,"parentNode",e)},nextUntil:function(t,e){return ta(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return ta(t,"previousSibling",1,e).slice(1)}},(function(t,e){Ws.fn[t]=function(n,i){var o=[];this.each((function(){var t=e.call(o,this,n,o);t&&(na.isArray(t)?o.push.apply(o,t):o.push(t))})),this.length>1&&(o=na.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse()));var r=na(o);return i?r.filter(i):r}})),Ws.fn.is=function(t){return!!t&&this.filter(t).length>0},Ws.fn.init.prototype=Ws.fn,Ws.overrideDefaults=function(t){var e,n=function(i,o){return e=e||t(),0===arguments.length&&(i=e.element),o||(o=e.context),new n.fn.init(i,o)};return na.extend(n,this),n},Ws.attrHooks=Us,Ws.cssHooks=qs;var na=Ws,ia=function(){function t(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,e,n,i){var o,r;if(t){if(!i&&t[e])return t[e];if(t!==this.rootNode){if(o=t[n])return o;for(r=t.parentNode;r&&r!==this.rootNode;r=r.parentNode)if(o=r[n])return o}}},t.prototype.findPreviousNode=function(t,e,n,i){var o,r,s;if(t){if(o=t[n],this.rootNode&&o===this.rootNode)return;if(o){if(!i)for(s=o[e];s;s=s[e])if(!s[e])return s;return o}if((r=t.parentNode)&&r!==this.rootNode)return r}},t}(),oa=function(t,e){Yn(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))},ra=function(t,e){Xn(t).fold((function(){Yn(t).each((function(t){aa(t,e)}))}),(function(t){oa(t,e)}))},sa=function(t,e){ei(t).fold((function(){aa(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},aa=function(t,e){t.dom().appendChild(e.dom())},la=function(t,e){oa(t,e),aa(e,t)},ua=function(t,e){pt(e,(function(e){oa(t,e)}))},ca=function(t,e){pt(e,(function(e){aa(t,e)}))},da=function(t){t.dom().textContent="",pt(Zn(t),(function(t){ha(t)}))},ha=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},fa=function(t){var e=Zn(t);e.length>0&&ua(t,e),ha(t)},pa=function(t,e){var n=function(n,i){return pa(t+n,e+i)};return{left:B(t),top:B(e),translate:n}},ga=pa,ma=function(t){var e=t.getBoundingClientRect();return ga(e.left,e.top)},va=function(t,e){return void 0!==t?t:void 0!==e?e:0},ba=function(t){var e=t.dom().ownerDocument,n=e.body,i=e.defaultView,o=e.documentElement;if(n===t.dom())return ga(n.offsetLeft,n.offsetTop);var r=va(i.pageYOffset,o.scrollTop),s=va(i.pageXOffset,o.scrollLeft),a=va(o.clientTop,n.clientTop),l=va(o.clientLeft,n.clientLeft);return ya(t).translate(s-l,r-a)},ya=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?ga(n.offsetLeft,n.offsetTop):bn(t)?ma(e):ga(0,0)},wa=Ye().browser.isSafari(),_a=function(e){var n=void 0!==e?e.dom():t.document,i=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return ga(i,o)},xa=function(e,n,i){(void 0!==i?i.dom():t.document).defaultView.scrollTo(e,n)},Ca=function(t,e){wa&&ot(t.dom().scrollIntoViewIfNeeded)?t.dom().scrollIntoViewIfNeeded(!1):t.dom().scrollIntoView(e)},ka=function(t,e,n,i){return{x:B(t),y:B(e),width:B(n),height:B(i),right:B(t+n),bottom:B(e+i)}},Ta=function(e){var n=void 0===e?t.window:e,i=n.document,o=_a(Ze.fromDom(i)),r=n.visualViewport;if(void 0!==r)return ka(Math.max(r.pageLeft,o.left()),Math.max(r.pageTop,o.top()),r.width,r.height);var s=i.documentElement,a=s.clientWidth,l=s.clientHeight;return ka(o.left(),o.top(),a,l)},Sa=po.each,Ea=po.grep,Na=Ui.ie,Da=/^([a-z0-9],?)+$/i,Aa=/^[ \t\r\n]*$/,za=function(t,e,n){var i=e.keep_values,o={set:function(t,i,o){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||n(),i,o,t[0])),t.attr("data-mce-"+o,i).attr(o,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},r={style:{set:function(t,e){null===e||"object"!=typeof e?(i&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName)}}};return i&&(r.href=r.src=o),r},Pa=function(t,e){var n=e.attr("style"),i=t.serialize(t.parse(n),e[0].nodeName);i||(i=null),e.attr("data-mce-style",i)},Ma=function(t,e){var n,i,o=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!==i||i!==n&&t.nodeValue.length)&&(o++,n=i);return o};!function(e){e.DOM=e(t.document),e.nodeIndex=Ma}(_||(_={}));var Ia=_,Ra=Ia.DOM,Oa=po.each,Ha=po.grep,La=0,Fa=1,Ba=2,$a=3,ja=function(){function e(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return e.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},e.prototype.loadScript=function(e,n,i){var o,r,s=Ra,a=function(){s.remove(r),o&&(o.onreadystatechange=o.onload=o=null),n()},l=function(){ot(i)?i():void 0!==t.console&&t.console.log&&t.console.log("Failed to load script: "+e)};r=s.uniqueId(),(o=t.document.createElement("script")).id=r,o.type="text/javascript",o.src=po._addCacheSuffix(e),this.settings.referrerPolicy&&s.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=a,o.onerror=l,(t.document.getElementsByTagName("head")[0]||t.document.body).appendChild(o)},e.prototype.isDone=function(t){return this.states[t]===Ba},e.prototype.markDone=function(t){this.states[t]=Ba},e.prototype.add=function(t,e,n,i){void 0===this.states[t]&&(this.queue.push(t),this.states[t]=La),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:i,scope:n||this}))},e.prototype.load=function(t,e,n,i){return this.add(t,e,n,i)},e.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},e.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},e.prototype.loadScripts=function(t,e,n,i){var o,r=this,s=[],a=function(t,e){Oa(r.scriptLoadedCallbacks[e],(function(e){ot(e[t])&&e[t].call(e.scope)})),r.scriptLoadedCallbacks[e]=void 0};r.queueLoadedCallbacks.push({success:e,failure:i,scope:n||this}),(o=function(){var e=Ha(t);if(t.length=0,Oa(e,(function(t){r.states[t]!==Ba?r.states[t]!==$a?r.states[t]!==Fa&&(r.states[t]=Fa,r.loading++,r.loadScript(t,(function(){r.states[t]=Ba,r.loading--,a("success",t),o()}),(function(){r.states[t]=$a,r.loading--,s.push(t),a("failure",t),o()}))):a("failure",t):a("success",t)})),!r.loading){var n=r.queueLoadedCallbacks.slice(0);r.queueLoadedCallbacks.length=0,Oa(n,(function(t){0===s.length?ot(t.success)&&t.success.call(t.scope):ot(t.failure)&&t.failure.call(t.scope,s)}))}})()},e.ScriptLoader=new e,e}(),Va=function(t){return tt(t)&&mn(t,"raw")},Ua=function(t){return et(t)&&t.length>1},qa={},Wa=te("en"),Ya=function(){return hn(qa,(function(t){return Pt({},t)}))},Ka=function(t,e){var n=qa[t];for(var i in n||(qa[t]=n={}),e)n[i.toLowerCase()]=e[i]},Ga=function(t){var e=qa[Wa.get()]||{},n=function(t){return ot(t)?Object.prototype.toString.call(t):i(t)?"":""+t},i=function(t){return""===t||null==t},o=function(t){var i=n(t),o=i.toLowerCase();return mn(e,o)?n(e[o]):i},r=function(t){return t.replace(/{context:\w+}$/,"")},s=function(t){return t};if(i(t))return s("");if(Va(t))return s(n(t.raw));if(Ua(t)){var a=t.slice(1);return s(r(o(t[0]).replace(/\{([0-9]+)\}/g,(function(t,e){return mn(a,e)?n(a[e]):t}))))}return s(r(o(t)))},Xa=function(){return gn(qa,Wa.get()).bind((function(t){return gn(t,"_dir")})).exists((function(t){return"rtl"===t}))},Qa={getData:Ya,setCode:function(t){t&&Wa.set(t)},getCode:function(){return Wa.get()},add:Ka,translate:Ga,isRtl:Xa,hasCode:function(t){return mn(qa,t)}},Ja=po.each;!function(t){t.PluginManager=t(),t.ThemeManager=t()}(x||(x={}));var Za=x,tl=function(e,n){var i=null,o=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];null===i&&(i=t.setTimeout((function(){e.apply(null,o),i=null}),n))};return{cancel:function(){null!==i&&(t.clearTimeout(i),i=null)},throttle:o}},el=function(e,n){var i=null,o=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];null!==i&&t.clearTimeout(i),i=t.setTimeout((function(){e.apply(null,o),i=null}),n)};return{cancel:function(){null!==i&&(t.clearTimeout(i),i=null)},throttle:o}},nl=function(t,e){var n=xn(t,e);return void 0===n||""===n?[]:n.split(" ")},il=function(t,e,n){var i=nl(t,e).concat([n]);return wn(t,e,i.join(" ")),!0},ol=function(t,e,n){var i=vt(nl(t,e),(function(t){return t!==n}));return i.length>0?wn(t,e,i.join(" ")):kn(t,e),!1},rl=function(t){return void 0!==t.dom().classList},sl=function(t){return nl(t,"class")},al=function(t,e){return il(t,"class",e)},ll=function(t,e){return ol(t,"class",e)},ul=function(t,e){rl(t)?t.dom().classList.add(e):al(t,e)},cl=function(t){0===(rl(t)?t.dom().classList:sl(t)).length&&kn(t,"class")},dl=function(t,e){rl(t)?t.dom().classList.remove(e):ll(t,e);cl(t)},hl=function(t,e){return rl(t)&&t.dom().classList.contains(e)},fl=function(t,e){var n=[];return pt(Zn(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(fl(t,e))})),n},pl=function(t,e){return Ln(e,t)},gl=function(t,e,n){for(var i=t.dom(),o=ot(n)?n:B(!1);i.parentNode;){i=i.parentNode;var r=Ze.fromDom(i);if(e(r))return X.some(r);if(o(r))break}return X.none()},ml=function(t,e,n){return C((function(t,e){return e(t)}),gl,t,e,n)},vl=function(t,e,n){return gl(t,(function(t){return On(t,e)}),n)},bl=function(t,e){return Fn(e,t)},yl=function(t,e,n){return C(On,vl,t,e,n)},wl=B("mce-annotation"),_l=B("data-mce-annotation"),xl=B("data-mce-annotation-uid"),Cl=function(t,e){var n=t.selection.getRng(),i=Ze.fromDom(n.startContainer),o=Ze.fromDom(t.getBody()),r=e.fold((function(){return"."+wl()}),(function(t){return"["+_l()+'="'+t+'"]'})),s=ti(i,n.startOffset).getOr(i),a=yl(s,r,(function(t){return Bn(t,o)})),l=function(t,e){return Cn(t,e)?X.some(xn(t,e)):X.none()};return a.bind((function(e){return l(e,""+xl()).bind((function(n){return l(e,""+_l()).map((function(e){var i=Tl(t,n);return{uid:n,name:e,elements:i}}))}))}))},kl=function(t){return an(t)&&hl(t,wl())},Tl=function(t,e){var n=Ze.fromDom(t.getBody());return pl(n,"["+xl()+'="'+e+'"]')},Sl=function(t,e){var n=Ze.fromDom(t.getBody()),i=pl(n,"["+_l()+'="'+e+'"]'),o={};return pt(i,(function(t){var e=xn(t,xl()),n=o.hasOwnProperty(e)?o[e]:[];o[e]=n.concat([t])})),o},El=function(t){var e=te({}),n=function(){return{listeners:[],previous:te(X.none())}},i=function(t,e){o(t,(function(t){return e(t),t}))},o=function(t,i){var o=e.get(),r=i(o.hasOwnProperty(t)?o[t]:n());o[t]=r,e.set(o)},r=function(t,e,n){i(t,(function(i){pt(i.listeners,(function(i){return i(!0,t,{uid:e,nodes:ft(n,(function(t){return t.dom()}))})}))}))},s=function(t){i(t,(function(e){pt(e.listeners,(function(e){return e(!1,t)}))}))},a=el((function(){var n=e.get(),i=Nt(un(n));pt(i,(function(e){o(e,(function(n){var i=n.previous.get();return Cl(t,X.some(e)).fold((function(){i.isSome()&&(s(e),n.previous.set(X.none()))}),(function(t){var e=t.uid,o=t.name,s=t.elements;i.is(e)||(r(o,e,s),n.previous.set(X.some(e)))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);t.on("remove",(function(){a.cancel()})),t.on("NodeChange",(function(){a.throttle()}));var l=function(t,e){o(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}}))};return{addListener:l}},Nl=function(t,e){var n=function(t){return X.from(t.attr(_l())).bind(e.lookup)};t.on("init",(function(){t.serializer.addNodeFilter("span",(function(t){pt(t,(function(t){n(t).each((function(e){!1===e.persistent&&t.unwrap()}))}))}))}))},Dl=function(){var t={},e=function(e,n){t[e]={name:e,settings:n}},n=function(e){return t.hasOwnProperty(e)?X.from(t[e]).map((function(t){return t.settings})):X.none()};return{register:e,lookup:n}},Al=0,zl=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++Al+String(e)},Pl=function(t,e){pt(e,(function(e){ul(t,e)}))},Ml=function(t,e){return Ze.fromDom(t.dom().cloneNode(e))},Il=function(t){return Ml(t,!1)},Rl=function(t){return Ml(t,!0)},Ol=function(e,n){
var i=(n||t.document).createElement("div");return i.innerHTML=e,Zn(Ze.fromDom(i))},Hl=function(t){return t.dom().innerHTML},Ll=function(t,e){var n=Un(t).dom(),i=Ze.fromDom(n.createDocumentFragment()),o=Ol(e,n);ca(i,o),da(t),aa(t,i)},Fl="\ufeff",Bl={isZwsp:function(t){return t===Fl},ZWSP:Fl,trim:function(t){return t.replace(new RegExp(Fl,"g"),"")}},$l=Zt.isElement,jl=Zt.isText,Vl=function(t){return jl(t)&&(t=t.parentNode),$l(t)&&t.hasAttribute("data-mce-caret")},Ul=function(t){return jl(t)&&Bl.isZwsp(t.data)},ql=function(t){return Vl(t)||Ul(t)},Wl=function(t){return t.firstChild!==t.lastChild||!Zt.isBr(t.firstChild)},Yl=function(t,e){var n,i,o;if(i=t.ownerDocument.createTextNode(Bl.ZWSP),o=t.parentNode,e){if(n=t.previousSibling,jl(n)){if(ql(n))return n;if(Zl(n))return n.splitText(n.data.length-1)}o.insertBefore(i,t)}else{if(n=t.nextSibling,jl(n)){if(ql(n))return n;if(Jl(n))return n.splitText(1),n}t.nextSibling?o.insertBefore(i,t.nextSibling):o.appendChild(i)}return i},Kl=function(t){var e=t.container();return!(!t||!Zt.isText(e))&&(e.data.charAt(t.offset())===Bl.ZWSP||t.isAtStart()&&Ul(e.previousSibling))},Gl=function(t){var e=t.container();return!(!t||!Zt.isText(e))&&(e.data.charAt(t.offset()-1)===Bl.ZWSP||t.isAtEnd()&&Ul(e.nextSibling))},Xl=function(){var e=t.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Ql=function(t,e,n){var i,o;return(i=e.ownerDocument.createElement(t)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(Xl()),o=e.parentNode,n?o.insertBefore(i,e):e.nextSibling?o.insertBefore(i,e.nextSibling):o.appendChild(i),i},Jl=function(t){return jl(t)&&t.data[0]===Bl.ZWSP},Zl=function(t){return jl(t)&&t.data[t.data.length-1]===Bl.ZWSP},tu=function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];Zt.isBogus(n)&&n.parentNode.removeChild(n)},eu=function(t){return t&&t.hasAttribute("data-mce-caret")?(tu(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},nu=function(t){return Vl(t.startContainer)},iu=Zt.isContentEditableTrue,ou=Zt.isContentEditableFalse,ru=Zt.isBr,su=Zt.isText,au=Zt.matchNodeNames(["script","style","textarea"]),lu=Zt.matchNodeNames(["img","input","textarea","hr","iframe","video","audio","object"]),uu=Zt.matchNodeNames(["table"]),cu=ql,du=function(t){return!cu(t)&&(su(t)?!au(t.parentNode):lu(t)||ru(t)||uu(t)||fu(t))},hu=function(t){return Zt.isElement(t)&&"true"===t.getAttribute("unselectable")},fu=function(t){return!1===hu(t)&&ou(t)},pu=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(fu(t))return!1;if(iu(t))return!0}return!0},gu=function(t){return!!fu(t)&&!0!==yt(zt(t.getElementsByTagName("*")),(function(t,e){return t||iu(e)}),!1)},mu=function(t){return lu(t)||gu(t)},vu=function(t,e){return du(t)&&pu(t,e)},bu=Math.round,yu=function(t){return t?{left:bu(t.left),top:bu(t.top),bottom:bu(t.bottom),right:bu(t.right),width:bu(t.width),height:bu(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},wu=function(t,e){return t=yu(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},_u=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},xu=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},Cu=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&xu(e.top-t.bottom,t,e)},ku=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&xu(e.bottom-t.top,t,e)},Tu=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},Su=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Eu=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Nu=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Du=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&Nu.test(t)},Au=function(t,e,n){return t.isSome()&&e.isSome()?X.some(n(t.getOrDie(),e.getOrDie())):X.none()},zu=function(t,e,n,i){return t.isSome()&&e.isSome()&&n.isSome()?X.some(i(t.getOrDie(),e.getOrDie(),n.getOrDie())):X.none()},Pu=function(t,e){return t?X.some(e):X.none()},Mu=[].slice,Iu=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Mu.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}},Ru=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Mu.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}},Ou={and:Ru,or:Iu},Hu=Zt.isElement,Lu=du,Fu=Zt.matchStyleValues("display","block table"),Bu=Zt.matchStyleValues("float","left right"),$u=Ou.and(Hu,Lu,j(Bu)),ju=j(Zt.matchStyleValues("white-space","pre pre-line pre-wrap")),Vu=Zt.isText,Uu=Zt.isBr,qu=Ia.nodeIndex,Wu=Eu,Yu=function(t){return"createRange"in t?t.createRange():Ia.DOM.createRng()},Ku=function(t){return t&&/[\r\n\t ]/.test(t)},Gu=function(t){return!!t.setStart&&!!t.setEnd},Xu=function(t){var e,n=t.startContainer,i=t.startOffset;return!!(Ku(t.toString())&&ju(n.parentNode)&&Zt.isText(n)&&(e=n.data,Ku(e[i-1])||Ku(e[i+1])))},Qu=function(t){var e,n=t.ownerDocument,i=Yu(n),o=n.createTextNode("\xa0"),r=t.parentNode;return r.insertBefore(o,t),i.setStart(o,0),i.setEnd(o,1),e=yu(i.getBoundingClientRect()),r.removeChild(o),e},Ju=function(t){var e=t.startContainer,n=t.endContainer,i=t.startOffset,o=t.endOffset;if(e===n&&Zt.isText(n)&&0===i&&1===o){var r=t.cloneRange();return r.setEndAfter(n),tc(r)}return null},Zu=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},tc=function(t){var e,n;return e=(n=t.getClientRects()).length>0?yu(n[0]):yu(t.getBoundingClientRect()),!Gu(t)&&Uu(t)&&Zu(e)?Qu(t):Zu(e)&&Gu(t)?Ju(t):e},ec=function(t,e){var n=wu(t,e);return n.width=1,n.right=n.left+1,n},nc=function(t){var e,n,i=[],o=function(t){0!==t.height&&(i.length>0&&_u(t,i[i.length-1])||i.push(t))},r=function(t,e){var n=Yu(t.ownerDocument);if(e<t.data.length){if(Du(t.data[e]))return i;if(Du(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!Xu(n)))return o(ec(tc(n),!1)),i}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),Xu(n)||o(ec(tc(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),Xu(n)||o(ec(tc(n),!0)))};if(Vu(t.container()))return r(t.container(),t.offset()),i;if(Hu(t.container()))if(t.isAtEnd())n=Wu(t.container(),t.offset()),Vu(n)&&r(n,n.data.length),$u(n)&&!Uu(n)&&o(ec(tc(n),!1));else{if(n=Wu(t.container(),t.offset()),Vu(n)&&r(n,0),$u(n)&&t.isAtEnd())return o(ec(tc(n),!1)),i;e=Wu(t.container(),t.offset()-1),$u(e)&&!Uu(e)&&(Fu(e)||Fu(n)||!$u(n))&&o(ec(tc(e),!1)),$u(n)&&o(ec(tc(n),!0))}return i};!function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,qu(e)+1)},t.before=function(e){return t(e.parentNode,qu(e))},t.isAbove=function(t,e){return Au(Dt(e.getClientRects()),At(t.getClientRects()),Cu).getOr(!1)},t.isBelow=function(t,e){return Au(At(e.getClientRects()),Dt(t.getClientRects()),ku).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&Zt.isText(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}}(k||(k={}));var ic,oc=k,rc=Zt.isText,sc=Zt.isBogus,ac=Ia.nodeIndex,lc=function(t){var e=t.parentNode;return sc(e)?lc(e):e},uc=function(t){return t?to.reduce(t.childNodes,(function(t,e){return sc(e)&&"BR"!==e.nodeName?t=t.concat(uc(e)):t.push(e),t}),[]):[]},cc=function(t,e){for(;(t=t.previousSibling)&&rc(t);)e+=t.data.length;return e},dc=function(t){return function(e){return t===e}},hc=function(t){var e,n,i;return e=uc(lc(t)),n=to.findIndex(e,dc(t),t),e=e.slice(0,n+1),i=to.reduce(e,(function(t,n,i){return rc(n)&&rc(e[i-1])&&t++,t}),0),e=to.filter(e,Zt.matchNodeNames([t.nodeName])),(n=to.findIndex(e,dc(t),t))-i},fc=function(t){return(rc(t)?"text()":t.nodeName.toLowerCase())+"["+hc(t)+"]"},pc=function(t,e,n){var i=[];for(e=e.parentNode;e!==t&&(!n||!n(e));e=e.parentNode)i.push(e);return i},gc=function(t,e){var n,i,o,r,s,a=[];return n=e.container(),i=e.offset(),rc(n)?o=cc(n,i):(i>=(r=n.childNodes).length?(o="after",i=r.length-1):o="before",n=r[i]),a.push(fc(n)),s=pc(t,n),s=to.filter(s,j(Zt.isBogus)),(a=a.concat(to.map(s,(function(t){return fc(t)})))).reverse().join("/")+","+o},mc=function(t,e,n){var i=uc(t);return i=to.filter(i,(function(t,e){return!rc(t)||!rc(i[e-1])})),(i=to.filter(i,Zt.matchNodeNames([e])))[n]},vc=function(t,e){for(var n,i=t,o=0;rc(i);){if(n=i.data.length,e>=o&&e<=o+n){t=i,e-=o;break}if(!rc(i.nextSibling)){t=i,e=n;break}o+=n,i=i.nextSibling}return rc(t)&&e>t.data.length&&(e=t.data.length),oc(t,e)},bc=function(t,e){var n,i,o;return e?(n=e.split(","),e=n[0].split("/"),o=n.length>1?n[1]:"before",i=to.reduce(e,(function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),mc(t,e[1],parseInt(e[2],10))):null}),t),i?rc(i)?vc(i,parseInt(o,10)):(o="after"===o?ac(i)+1:ac(i),oc(i.parentNode,o)):null):null},yc=function(t,e){Zt.isText(e)&&0===e.data.length&&t.remove(e)},wc=function(t,e,n){e.insertNode(n),yc(t,n.previousSibling),yc(t,n.nextSibling)},_c=function(t,e,n){var i=X.from(n.firstChild),o=X.from(n.lastChild);e.insertNode(n),i.each((function(e){return yc(t,e.previousSibling)})),o.each((function(e){return yc(t,e.nextSibling)}))},xc=function(t,e,n){Zt.isDocumentFragment(n)?_c(t,e,n):wc(t,e,n)},Cc=Zt.isContentEditableFalse,kc=function(t,e,n){var i,o;for(o=t(e.data.slice(0,n)).length,i=e.previousSibling;i&&Zt.isText(i);i=i.previousSibling)o+=t(i.data).length;return o},Tc=function(t,e,n,i,o){var r,s=i[o?"startContainer":"endContainer"],a=i[o?"startOffset":"endOffset"],l=[],u=0,c=t.getRoot();for(Zt.isText(s)?l.push(n?kc(e,s,a):a):(a>=(r=s.childNodes).length&&r.length&&(u=1,a=Math.max(0,r.length-1)),l.push(t.nodeIndex(r[a],n)+u));s&&s!==c;s=s.parentNode)l.push(t.nodeIndex(s,n));return l},Sc=function(t,e,n,i){var o=e.dom,r={};return r.start=Tc(o,t,n,i,!0),e.isCollapsed()||(r.end=Tc(o,t,n,i,!1)),r},Ec=function(t,e,n){var i=0;return po.each(t.select(e),(function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++})),i},Nc=function(t,e){var n,i,o,r=e?"start":"end";n=t[r+"Container"],i=t[r+"Offset"],Zt.isElement(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(e?i:i-1,o.length-1)])&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i))},Dc=function(t){return Nc(t,!0),Nc(t,!1),t},Ac=function(t,e){var n;if(Zt.isElement(t)&&(t=Eu(t,e),Cc(t)))return t;if(ql(t)){if(Zt.isText(t)&&Vl(t)&&(t=t.parentNode),n=t.previousSibling,Cc(n))return n;if(n=t.nextSibling,Cc(n))return n}},zc=function(t){return Ac(t.startContainer,t.startOffset)||Ac(t.endContainer,t.endOffset)},Pc=function(t,e,n){var i=n.getNode(),o=i?i.nodeName:null,r=n.getRng();if(Cc(i)||"IMG"===o)return{name:o,index:Ec(n.dom,o,i)};var s=zc(r);return s?{name:o=s.tagName,index:Ec(n.dom,o,s)}:Sc(t,n,e,r)},Mc=function(t){var e=t.getRng();return{start:gc(t.dom.getRoot(),oc.fromRangeStart(e)),end:gc(t.dom.getRoot(),oc.fromRangeEnd(e))}},Ic=function(t){return{rng:t.getRng()}},Rc=function(t,e,n){var i={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",i,"&#xFEFF;"):t.create("span",i)},Oc=function(t,e){var n=t.dom,i=t.getRng(),o=n.uniqueId(),r=t.isCollapsed(),s=t.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:Ec(n,a,s)};var l=Dc(i.cloneRange());if(!r){l.collapse(!1);var u=Rc(n,o+"_end",e);xc(n,l,u)}(i=Dc(i)).collapse(!0);var c=Rc(n,o+"_start",e);return xc(n,i,c),t.moveToBookmark({id:o,keep:1}),{id:o}},Hc=function(t,e,n){return 2===e?Pc(Bl.trim,n,t):3===e?Mc(t):e?Ic(t):Oc(t,!1)},Lc={getBookmark:Hc,getUndoBookmark:e(Pc,$,!0),getPersistentBookmark:Oc},Fc="_mce_caret",Bc=function(t){return Zt.isElement(t)&&t.id===Fc},$c=function(t,e){for(;e&&e!==t;){if(e.id===Fc)return e;e=e.parentNode}return null},jc=Zt.isElement,Vc=Zt.isText,Uc=function(t){var e=t.parentNode;e&&e.removeChild(t)},qc=function(t){try{return t.nodeValue}catch(t){return""}},Wc=function(t,e){0===e.length?Uc(t):t.nodeValue=e},Yc=function(t){var e=Bl.trim(t);return{count:t.length-e.length,text:e}},Kc=function(t,e){return Zc(t),e},Gc=function(t,e){var n=Yc(t.data.substr(0,e.offset())),i=Yc(t.data.substr(e.offset())),o=n.text+i.text;return o.length>0?(Wc(t,o),oc(t,e.offset()-n.count)):e},Xc=function(t,e){var n=e.container(),i=ct(zt(n.childNodes),t).map((function(t){return t<e.offset()?oc(n,e.offset()-1):e})).getOr(e);return Zc(t),i},Qc=function(t,e){return Vc(t)&&e.container()===t?Gc(t,e):Kc(t,e)},Jc=function(t,e){return e.container()===t.parentNode?Xc(t,e):Kc(t,e)},Zc=function(t){if(jc(t)&&ql(t)&&(Wl(t)?t.removeAttribute("data-mce-caret"):Uc(t)),Vc(t)){var e=Bl.trim(qc(t));Wc(t,e)}},td={removeAndReposition:function(t,e){return oc.isTextPosition(e)?Qc(t,e):Jc(t,e)},remove:Zc},ed=Ye().browser,nd=Zt.isContentEditableFalse,id=function(t){return Zt.isElement(t)&&/^(TD|TH)$/i.test(t.tagName)},od=function(t,e,n){var i,o,r,s,a,l=wu(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(i=t.ownerDocument.documentElement,o=t.scrollLeft||i.scrollLeft,r=t.scrollTop||i.scrollTop):(a=t.getBoundingClientRect(),o=t.scrollLeft-a.left,r=t.scrollTop-a.top),l.left+=o,l.right+=o,l.top+=r,l.bottom+=r,l.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(n&&(s*=-1),l.left+=s,l.right+=s),l},rd=function(t){var e,n,i,o,r;for(e=na("*[contentEditable=false]",t),o=0;o<e.length;o++)i=(n=e[o]).previousSibling,Zl(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1)),i=n.nextSibling,Jl(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))},sd=function(t,e,n){var i,o,r=te(X.none()),s=function(n,i){var s,u;if(a(),id(i))return null;if(!e(i))return o=Yl(i,n),u=i.ownerDocument.createRange(),nd(o.nextSibling)?(u.setStart(o,0),u.setEnd(o,0)):(u.setStart(o,1),u.setEnd(o,1)),u;o=Ql("p",i,n),s=od(t,i,n),na(o).css("top",s.top);var c=na('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(s).appendTo(t)[0];return r.set(X.some({caret:c,element:i,before:n})),r.get().each((function(t){n&&na(t.caret).addClass("mce-visual-caret-before")})),l(),(u=i.ownerDocument.createRange()).setStart(o,0),u.setEnd(o,0),u},a=function(){rd(t),o&&(td.remove(o),o=null),r.get().each((function(t){na(t.caret).remove(),r.set(X.none())})),Ri.clearInterval(i)},l=function(){i=Ri.setInterval((function(){n()?na("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):na("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)};return{show:s,hide:a,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){r.get().each((function(e){var n=od(t,e.element,e.before);na(e.caret).css(Pt({},n))}))},destroy:function(){return Ri.clearInterval(i)}}},ad=function(){return ed.isIE()||ed.isEdge()||ed.isFirefox()},ld=function(t){return nd(t)||Zt.isTable(t)&&ad()},ud=Zt.isContentEditableFalse,cd=Zt.matchStyleValues("display","block table table-cell table-caption list-item"),dd=ql,hd=Vl,fd=Zt.isElement,pd=du,gd=function(t){return t>0},md=function(t){return t<0},vd=function(t,e){for(var n;n=t(e);)if(!hd(n))return n;return null},bd=function(t,e,n,i,o){var r=new ia(t,i);if(md(e)){if((ud(t)||hd(t))&&n(t=vd(r.prev,!0)))return t;for(;t=vd(r.prev,o);)if(n(t))return t}if(gd(e)){if((ud(t)||hd(t))&&n(t=vd(r.next,!0)))return t;for(;t=vd(r.next,o);)if(n(t))return t}return null},yd=function(t,e){for(;t&&t!==e;){if(cd(t))return t;t=t.parentNode}return null},wd=function(t,e,n){return yd(t.container(),n)===yd(e.container(),n)},_d=function(t,e){var n,i;return e?(n=e.container(),i=e.offset(),fd(n)?n.childNodes[i+t]:null):null},xd=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},Cd=function(t,e,n){return yd(e,t)===yd(n,t)},kd=function(t,e,n){var i,o;for(o=t?"previousSibling":"nextSibling";n&&n!==e;){if(i=n[o],dd(i)&&(i=i[o]),ud(i)){if(Cd(e,i,n))return i;break}if(pd(i))break;n=n.parentNode}return null},Td=e(xd,!0),Sd=e(xd,!1),Ed=function(t,n,i){var o,r,s,a,l=e(kd,!0,n),u=e(kd,!1,n);if(r=i.startContainer,s=i.startOffset,Vl(r)){if(fd(r)||(r=r.parentNode),"before"===(a=r.getAttribute("data-mce-caret"))&&(o=r.nextSibling,ld(o)))return Td(o);if("after"===a&&(o=r.previousSibling,ld(o)))return Sd(o)}if(!i.collapsed)return i;if(Zt.isText(r)){if(dd(r)){if(1===t){if(o=u(r))return Td(o);if(o=l(r))return Sd(o)}if(-1===t){if(o=l(r))return Sd(o);if(o=u(r))return Td(o)}return i}if(Zl(r)&&s>=r.data.length-1)return 1===t&&(o=u(r))?Td(o):i;if(Jl(r)&&s<=1)return-1===t&&(o=l(r))?Sd(o):i;if(s===r.data.length)return(o=u(r))?Td(o):i;if(0===s)return(o=l(r))?Sd(o):i}return i},Nd=function(t,e){return X.from(_d(t?0:-1,e)).filter(ud)},Dd=function(t,e,n){var i=Ed(t,e,n);return-1===t?k.fromRangeStart(i):k.fromRangeEnd(i)},Ad=function(t){return X.from(t.getNode()).map(Ze.fromDom)},zd=function(t){return X.from(t.getNode(!0)).map(Ze.fromDom)},Pd=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},Md=function(t,e){var n=wd(t,e);return!(n||!Zt.isBr(t.getNode()))||n};!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(ic||(ic={}));var Id=Zt.isContentEditableFalse,Rd=Zt.isText,Od=Zt.isElement,Hd=Zt.isBr,Ld=du,Fd=mu,Bd=vu,$d=function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n},jd=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Vd=function(t,e){if(gd(t)){if(Ld(e.previousSibling)&&!Rd(e.previousSibling))return oc.before(e);if(Rd(e))return oc(e,0)}if(md(t)){if(Ld(e.nextSibling)&&!Rd(e.nextSibling))return oc.after(e);if(Rd(e))return oc(e,e.data.length)}return md(t)?Hd(e)?oc.before(e):oc.after(e):oc.before(e)},Ud=function(t,e){var n=e.nextSibling;return n&&Ld(n)?Rd(n)?oc(n,0):oc.before(n):qd(ic.Forwards,oc.after(e),t)},qd=function(t,e,n){var i,o,r,s,a;if(!Od(n)||!e)return null;if(e.isEqual(oc.after(n))&&n.lastChild){if(a=oc.after(n.lastChild),md(t)&&Ld(n.lastChild)&&Od(n.lastChild))return Hd(n.lastChild)?oc.before(n.lastChild):a}else a=e;var l=a.container(),u=a.offset();if(Rd(l)){if(md(t)&&u>0)return oc(l,--u);if(gd(t)&&u<l.length)return oc(l,++u);i=l}else{if(md(t)&&u>0&&(o=jd(l,u-1),Ld(o)))return!Fd(o)&&(r=bd(o,t,Bd,o))?Rd(r)?oc(r,r.data.length):oc.after(r):Rd(o)?oc(o,o.data.length):oc.before(o);if(gd(t)&&u<l.childNodes.length&&(o=jd(l,u),Ld(o)))return Hd(o)?Ud(n,o):!Fd(o)&&(r=bd(o,t,Bd,o))?Rd(r)?oc(r,0):oc.before(r):Rd(o)?oc(o,0):oc.after(o);i=o||a.getNode()}return(gd(t)&&a.isAtEnd()||md(t)&&a.isAtStart())&&(i=bd(i,t,B(!0),n,!0),Bd(i,n))?Vd(t,i):(o=bd(i,t,Bd,n),!(s=to.last(vt($d(l,n),Id)))||o&&s.contains(o)?o?Vd(t,o):null:a=gd(t)?oc.after(s):oc.before(s))},Wd=function(t){return{next:function(e){return qd(ic.Forwards,e,t)},prev:function(e){return qd(ic.Backwards,e,t)}}},Yd=function(t,e,n){var i=t?oc.before(n):oc.after(n);return th(t,e,i)},Kd=function(t){return Zt.isBr(t)?oc.before(t):oc.after(t)},Gd=function(t){return oc.isTextPosition(t)?0===t.offset():du(t.getNode())},Xd=function(t){if(oc.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return du(t.getNode(!0))},Qd=function(t,e){return!oc.isTextPosition(t)&&!oc.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Jd=function(t){return!oc.isTextPosition(t)&&Zt.isBr(t.getNode())},Zd=function(t,e,n){return t?!Qd(e,n)&&!Jd(e)&&Xd(e)&&Gd(n):!Qd(n,e)&&Gd(e)&&Xd(n)},th=function(t,e,n){var i=Wd(e);return X.from(t?i.next(n):i.prev(n))},eh=function(t,e,n){return th(t,e,n).bind((function(i){return wd(n,i,e)&&Zd(t,n,i)?th(t,e,i):X.some(i)}))},nh=function(t,e,n,i){return eh(t,e,n).bind((function(n){return i(n)?nh(t,e,n,i):X.some(n)}))},ih=function(t,e){var n=t?e.firstChild:e.lastChild;return Zt.isText(n)?X.some(oc(n,t?0:n.data.length)):n?du(n)?X.some(t?oc.before(n):Kd(n)):Yd(t,e,n):X.none()},oh=e(th,!0),rh=e(th,!1),sh={fromPosition:th,nextPosition:oh,prevPosition:rh,navigate:eh,navigateIgnore:nh,positionIn:ih,firstPositionIn:e(ih,!0),lastPositionIn:e(ih,!1)},ah=function(t){return"string"==typeof t.start},lh=function(t){return t.hasOwnProperty("rng")},uh=function(t){return t.hasOwnProperty("id")},ch=function(t){return t.hasOwnProperty("name")},dh=function(t){return po.isArray(t.start)},hh=function(t,e){return Zt.isElement(e)&&t.isBlock(e)&&!e.innerHTML&&!Ui.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},fh=function(t,e){var n,i;return n=t.createRng(),i=bc(t.getRoot(),e.start),n.setStart(i.container(),i.offset()),i=bc(t.getRoot(),e.end),n.setEnd(i.container(),i.offset()),n},ph=function(t,e){var n=t.ownerDocument.createTextNode(Bl.ZWSP);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)},gh=function(t){return!1===t.hasChildNodes()},mh=function(t,e){return sh.lastPositionIn(t).fold((function(){return!1}),(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))},vh=function(t,e,n){return!(!gh(e)||!$c(t,e))&&(ph(e,n),!0)},bh=function(t,e,n,i){var o,r,s,a,l=n[e?"start":"end"],u=t.getRoot();if(l){for(s=l[0],r=u,o=l.length-1;o>=1;o--){if(a=r.childNodes,vh(u,r,i))return!0;if(l[o]>a.length-1)return!!vh(u,r,i)||mh(r,i);r=a[l[o]]}3===r.nodeType&&(s=Math.min(l[0],r.nodeValue.length)),1===r.nodeType&&(s=Math.min(l[0],r.childNodes.length)),e?i.setStart(r,s):i.setEnd(r,s)}return!0},yh=function(t){return Zt.isText(t)&&t.data.length>0},wh=function(t,e,n){var i,o,r,s,a,l,u=t.get(n.id+"_"+e),c=n.keep;if(u){if(i=u.parentNode,"start"===e?(c?u.hasChildNodes()?(i=u.firstChild,o=1):yh(u.nextSibling)?(i=u.nextSibling,o=0):yh(u.previousSibling)?(i=u.previousSibling,o=u.previousSibling.data.length):(i=u.parentNode,o=t.nodeIndex(u)+1):o=t.nodeIndex(u),a=i,l=o):(c?u.hasChildNodes()?(i=u.firstChild,o=1):yh(u.previousSibling)?(i=u.previousSibling,o=u.previousSibling.data.length):(i=u.parentNode,o=t.nodeIndex(u)):o=t.nodeIndex(u),a=i,l=o),!c){for(s=u.previousSibling,r=u.nextSibling,po.each(po.grep(u.childNodes),(function(t){Zt.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))}));u=t.get(n.id+"_"+e);)t.remove(u,!0);s&&r&&s.nodeType===r.nodeType&&Zt.isText(s)&&!Ui.opera&&(o=s.nodeValue.length,s.appendData(r.nodeValue),t.remove(r),a=s,l=o)}return X.some(oc(a,l))}return X.none()},_h=function(t,e){var n=t.createRng();return bh(t,!0,e,n)&&bh(t,!1,e,n)?X.some(n):X.none()},xh=function(t,e){var n=wh(t,"start",e),i=wh(t,"end",e);return Au(n,i.or(n),(function(e,n){var i=t.createRng();return i.setStart(hh(t,e.container()),e.offset()),i.setEnd(hh(t,n.container()),n.offset()),i}))},Ch=function(t,e){return X.from(t.select(e.name)[e.index]).map((function(e){var n=t.createRng();return n.selectNode(e),n}))},kh=function(t,e){var n=t.dom;if(e){if(dh(e))return _h(n,e);if(ah(e))return X.some(fh(n,e));if(uh(e))return xh(n,e);if(ch(e))return Ch(n,e);if(lh(e))return X.some(e.rng)}return X.none()},Th={resolve:kh},Sh=function(t,e,n){return Lc.getBookmark(t,e,n)},Eh={getBookmark:Sh,moveToBookmark:function(t,e){Th.resolve(t,e).each((function(e){t.setRng(e)}))},isBookmarkNode:function(t){return Zt.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}},Nh=function(t){return t&&/^(IMG)$/.test(t.nodeName)},Dh=function(t,e,n){var i,o,r,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!Nh(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(s<(r=a.childNodes).length?(a=r[s],i=new ia(a,t.getParent(a,t.isBlock))):(a=r[r.length-1],(i=new ia(a,t.getParent(a,t.isBlock))).next(!0)),o=i.current();o;o=i.next())if(3===o.nodeType&&!Mh(o))return n.setStart(o,0),void e.setRng(n)},Ah=function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!Mh(t))return t},zh=function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},Ph=function(t,e,n){return t.schema.isValidChild(e,n)},Mh=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},Ih=function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t},Rh=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},Oh=function(t,e,n){return Rh(t,t.getStyle(e,n),n)},Hh=function(t,e){var n;return t.getParent(e,(function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n})),n},Lh=function(t,e,n){return t.getParents(e,n,t.getRoot())},Fh={isInlineBlock:Nh,moveStart:Dh,getNonWhiteSpaceSibling:Ah,isTextBlock:zh,isValid:Ph,isWhiteSpaceNode:Mh,replaceVars:Ih,isEq:function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},normalizeStyleValue:Rh,getStyle:Oh,getTextDecoration:Hh,getParents:Lh},Bh=Eh.isBookmarkNode,$h=Fh.getParents,jh=Fh.isWhiteSpaceNode,Vh=Fh.isTextBlock,Uh=function(t,e){for(void 0===e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}},qh=function(t,e){var n=Uh(t,e);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Uh(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(t=n.node).splitText(n.offset-1)}return t},Wh=function(t){return"BR"===t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},Yh=function(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},Kh=function(t,e,n,i){var o,r,s=n.nodeValue;return void 0===i&&(i=t?s.length:0),t?-1!==(o=(o=s.lastIndexOf(" ",i))>(r=s.lastIndexOf("\xa0",i))?o:r)&&!e&&(o<i||!t)&&o<=s.length&&o++:(o=s.indexOf(" ",i),r=s.indexOf("\xa0",i),o=-1!==o&&(-1===r||o<r)?o:r),o},Gh=function(t,e,n,i,o,r){var s,a,l;if(3===n.nodeType){if(-1!==(a=Kh(o,r,n,i)))return{container:n,offset:a};l=n}for(var u=new ia(n,t.getParent(n,t.isBlock)||e);s=u[o?"prev":"next"]();)if(3!==s.nodeType||Bh(s.parentNode)){if(t.isBlock(s)||Fh.isEq(s,"BR"))break}else if(l=s,-1!==(a=Kh(o,r,s)))return{container:s,offset:a};if(l)return{container:l,offset:i=o?0:l.length}},Xh=function(t,e,n,i,o){var r,s,a,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[o]&&(i=i[o]),r=$h(t,i),s=0;s<r.length;s++)for(a=0;a<e.length;a++)if((!("collapsed"in(l=e[a]))||l.collapsed===n.collapsed)&&t.is(r[s],l.selector))return r[s];return i},Qh=function(t,e,n,i){var o,r=t.dom,s=r.getRoot();if(e[0].wrapper||(o=r.getParent(n,e[0].block,s)),!o){var a=r.getParent(n,"LI,TD,TH");o=r.getParent(3===n.nodeType?n.parentNode:n,(function(e){return e!==s&&Vh(t,e)}),a)}if(o&&e[0].wrapper&&(o=$h(r,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[i]&&!r.isBlock(o[i])&&(o=o[i],!Fh.isEq(o,"br")););return o||n},Jh=function(t,e,n,i,o,r,s){var a,l,u,c,d;if(a=l=s?n:o,c=s?"previousSibling":"nextSibling",d=t.getRoot(),3===a.nodeType&&!jh(a)&&(s?i>0:r<a.nodeValue.length))return a;for(;;){if(!e[0].block_expand&&t.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!Bh(u)&&!jh(u)&&!Wh(u))return l;if(l===d||l.parentNode===d){a=l;break}l=l.parentNode}return a},Zh=function(t,e,n,i){var o,r=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,u=t.dom;return 1===r.nodeType&&r.hasChildNodes()&&3===(r=Eu(r,s)).nodeType&&(s=0),1===a.nodeType&&a.hasChildNodes()&&3===(a=Eu(a,e.collapsed?l:l-1)).nodeType&&(l=a.nodeValue.length),r=Yh(u,r),a=Yh(u,a),(Bh(r.parentNode)||Bh(r))&&(r=Bh(r)?r:r.parentNode,3===(r=e.collapsed?r.previousSibling||r:r.nextSibling||r).nodeType&&(s=e.collapsed?r.length:0)),(Bh(a.parentNode)||Bh(a))&&(a=Bh(a)?a:a.parentNode,3===(a=e.collapsed?a.nextSibling||a:a.previousSibling||a).nodeType&&(l=e.collapsed?0:a.length)),e.collapsed&&((o=Gh(u,t.getBody(),r,s,!0,i))&&(r=o.container,s=o.offset),(o=Gh(u,t.getBody(),a,l,!1,i))&&(a=o.container,l=o.offset)),n[0].inline&&(a=i?a:qh(a,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===r.nodeType&&0!==s||(r=Jh(u,n,r,s,a,l,!0)),n[0].inline&&3===a.nodeType&&l!==a.nodeValue.length||(a=Jh(u,n,r,s,a,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(r=Xh(u,n,e,r,"previousSibling"),a=Xh(u,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(r=Qh(t,n,r,"previousSibling"),a=Qh(t,n,a,"nextSibling"),n[0].block&&(u.isBlock(r)||(r=Jh(u,n,r,s,a,l,!0)),u.isBlock(a)||(a=Jh(u,n,r,s,a,l,!1)))),1===r.nodeType&&(s=u.nodeIndex(r),r=r.parentNode),1===a.nodeType&&(l=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:r,startOffset:s,endContainer:a,endOffset:l}},tf={expandRng:Zh},ef=po.each,nf=function(t,e){var n=t.childNodes;return--e>n.length-1?e=n.length-1:e<0&&(e=0),n[e]||t},of=function(t,e,n){var i,o,r,s,a,l,u,c=e.startContainer,d=e.startOffset,h=e.endContainer,f=e.endOffset;if((u=t.select("td[data-mce-selected],th[data-mce-selected]")).length>0)ef(u,(function(t){n([t])}));else{var p=function(t){var e;return 3===(e=t[0]).nodeType&&e===c&&d>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===f&&t.length>0&&e===h&&3===e.nodeType&&t.splice(t.length-1,1),t},g=function(t,e,n){for(var i=[];t&&t!==n;t=t[e])i.push(t);return i},m=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},v=function(t,e,i){var o=i?"nextSibling":"previousSibling";for(a=(s=t).parentNode;s&&s!==e;s=a)a=s.parentNode,(l=g(s===t?s:s[o],o)).length&&(i||l.reverse(),n(p(l)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[d]),1===h.nodeType&&h.hasChildNodes()&&(h=nf(h,f)),c===h)return n(p([c]));for(i=t.findCommonAncestor(c,h),s=c;s;s=s.parentNode){if(s===h)return v(c,i,!0);if(s===i)break}for(s=h;s;s=s.parentNode){if(s===c)return v(h,i);if(s===i)break}o=m(c,i)||c,r=m(h,i)||h,v(c,o,!0),(l=g(o===c?o:o.nextSibling,"nextSibling",r===h?r.nextSibling:r)).length&&n(p(l)),v(h,r)}},rf={walk:of},sf=function(){return"\ufeff"},af=T(ln,"text"),lf=function(t){return af.get(t)},uf=function(t){return ln(t)&&lf(t)===sf()},cf=function(t,e,n,i){return Yn(e).fold((function(){return"skipping"}),(function(o){return"br"===i||uf(e)?"valid":kl(e)?"existing":Bc(e)?"caret":Fh.isValid(t,n,i)&&Fh.isValid(t,on(o),n)?"valid":"invalid-child"}))},df=function(t){return 3===t.startContainer.nodeType&&t.startContainer.nodeValue.length>=t.startOffset&&"\xa0"===t.startContainer.nodeValue[t.startOffset]},hf=function(t,e){var n=tf.expandRng(t,e,[{inline:!0}],df(e));e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)},ff=function(t,e,i,o){
var r=e.uid,s=void 0===r?zl("mce-annotation"):r,a=n(e,["uid"]),l=Ze.fromTag("span",t);ul(l,wl()),wn(l,""+xl(),s),wn(l,""+_l(),i);var u=o(s,a),c=u.attributes,d=void 0===c?{}:c,h=u.classes,f=void 0===h?[]:h;return _n(l,d),Pl(l,f),l},pf=function(t,e,n,i,o){var r=[],s=ff(t.getDoc(),o,n,i),a=te(X.none()),l=function(){a.set(X.none())},u=function(){return a.get().getOrThunk((function(){var t=Il(s);return r.push(t),a.set(X.some(t)),t}))},c=function(t){pt(t,d)},d=function(e){switch(cf(t,e,"span",on(e))){case"invalid-child":l();var n=Zn(e);c(n),l();break;case"valid":var i=u();la(e,i)}},h=function(t){var e=ft(t,Ze.fromDom);c(e)};return rf.walk(t.dom,e,(function(t){l(),h(t)})),r},gf=function(t,e,n,i){t.undoManager.transact((function(){var o=t.selection.getRng();if(o.collapsed&&hf(t,o),t.selection.getRng().collapsed){var r=ff(t.getDoc(),i,e,n.decorate);Ll(r,"\xa0"),t.selection.getRng().insertNode(r.dom()),t.selection.select(r.dom())}else{var s=Lc.getPersistentBookmark(t.selection,!1),a=t.selection.getRng();pf(t,a,e,n.decorate,i),t.selection.moveToBookmark(s)}}))},mf=function(t){var e=Dl();Nl(t,e);var n=El(t);return{register:function(t,n){e.register(t,n)},annotate:function(n,i){e.lookup(n).each((function(e){gf(t,n,e,i)}))},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(e){Cl(t,X.some(e)).each((function(t){var e=t.elements;pt(e,fa)}))},getAll:function(e){var n=Sl(t,e);return hn(n,(function(t){return ft(t,(function(t){return t.dom()}))}))}}},vf=/^[ \t\r\n]*$/,bf={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},yf=function(t,e,n){var i=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[i])return t[i];if(t!==e){var r=t[o];if(r)return r;for(var s=t.parent;s&&s!==e;s=s.parent)if(r=s[o])return r}},wf=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var i=new t(e,bf[e]||1);if(n)for(var o in n)i.attr(o,n[o]);return i},t.prototype.replace=function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},t.prototype.attr=function(t,e){var n,i=this;if("string"!=typeof t){for(var o in t)i.attr(o,t[o]);return i}if(n=i.attributes){if(void 0!==e){if(null===e){if(t in n.map){delete n.map[t];for(var r=n.length;r--;)if(n[r].name===t)return n.splice(r,1),i}return i}if(t in n.map){for(r=n.length;r--;)if(n[r].name===t){n[r].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,i}return n.map[t]}},t.prototype.clone=function(){var e,n=this,i=new t(n.name,n.type);if(e=n.attributes){var o=[];o.map={};for(var r=0,s=e.length;r<s;r++){var a=e[r];"id"!==a.name&&(o[o.length]={name:a.name,value:a.value},o.map[a.name]=a.value)}i.attributes=o}return i.value=n.value,i.shortEnded=n.shortEnded,i},t.prototype.wrap=function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},t.prototype.unwrap=function(){for(var t=this,e=t.firstChild;e;){var n=e.next;t.insert(e,t,!0),e=n}t.remove()},t.prototype.remove=function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},t.prototype.append=function(t){var e=this;t.parent&&t.remove();var n=e.lastChild;return n?(n.next=t,t.prev=n,e.lastChild=t):e.lastChild=e.firstChild=t,t.parent=e,t},t.prototype.insert=function(t,e,n){t.parent&&t.remove();var i=e.parent||this;return n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},t.prototype.getAll=function(t){for(var e=this,n=[],i=e.firstChild;i;i=yf(i,e))i.name===t&&n.push(i);return n},t.prototype.empty=function(){var t=this;if(t.firstChild){for(var e=[],n=t.firstChild;n;n=yf(n,t))e.push(n);for(var i=e.length;i--;){(n=e[i]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return t.firstChild=t.lastChild=null,t},t.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var i=this,o=i.firstChild;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(t[o.name])return!1;for(var r=o.attributes.length;r--;){var s=o.attributes[r].name;if("name"===s||0===s.indexOf("data-mce-bookmark"))return!1}}if(8===o.type)return!1;if(3===o.type&&!vf.test(o.value))return!1;if(3===o.type&&o.parent&&e[o.parent.name]&&vf.test(o.value))return!1;if(n&&n(o))return!1}while(o=yf(o,i));return!0},t.prototype.walk=function(t){return yf(this,null,t)},t}(),_f=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},xf=function(t){return t.replace(/<!--|-->/g,"")},Cf=function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))},kf=function(t,e,n){var i,o,r,s,a=1;for(s=t.getShortEndedElements(),(r=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;o=r.exec(e);){if(i=r.lastIndex,"/"===o[1])a--;else if(!o[1]){if(o[2]in s)continue;a++}if(0===a)break}return i},Tf=function(t,e){var n=t.exec(e);if(n){var i=n[1],o=n[2];return"string"==typeof i&&"data-mce-bogus"===i.toLowerCase()?o:null}return null};!function(t){t.findEndTag=kf}(S||(S={}));var Sf,Ef,Nf=S,Df=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")},Af=function(t,e){var n,i,o,r,s,a=e,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=t.schema;for(a=Df(t.getTempAttrs(),a),s=u.getShortEndedElements();r=l.exec(a);)i=l.lastIndex,o=r[0].length,n=s[r[1]]?i:Nf.findEndTag(u,a,i),a=a.substring(0,i-o)+a.substring(n),l.lastIndex=i-o;return Bl.trim(a)},zf=Af,Pf={trimExternal:zf,trimInternal:Af},Mf=function(t,e,n){var i=t.getParam(e,n);if(-1!==i.indexOf("=")){var o=t.getParam(e,"","hash");return o.hasOwnProperty(t.id)?o[t.id]:n}return i},If=function(t){return t.getParam("iframe_attrs",{})},Rf=function(t){return t.getParam("doctype","<!DOCTYPE html>")},Of=function(t){return t.getParam("document_base_url","")},Hf=function(t){return Mf(t,"body_id","tinymce")},Lf=function(t){return Mf(t,"body_class","")},Ff=function(t){return t.getParam("content_security_policy","")},Bf=function(t){return t.getParam("br_in_pre",!0)},$f=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},jf=function(t){return t.getParam("forced_root_block_attrs",{})},Vf=function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Uf=function(t){return t.getParam("no_newline_selector","")},qf=function(t){return t.getParam("keep_styles",!0)},Wf=function(t){return t.getParam("end_container_on_empty_block",!1)},Yf=function(t){return po.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Kf=function(t){return po.explode(t.getParam("font_size_classes",""))},Gf=function(t){return t.getParam("images_dataimg_filter",B(!0),"function")},Xf=function(t){return t.getParam("automatic_uploads",!0,"boolean")},Qf=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},Jf=function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},Zf=function(t){return t.getParam("icons","","string")},tp=function(t){return t.getParam("icons_url","","string")},ep=function(t){return t.getParam("images_upload_url","","string")},np=function(t){return t.getParam("images_upload_base_path","","string")},ip=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},op=function(t){return t.getParam("images_upload_handler",null,"function")},rp=function(t){return t.getParam("content_css_cors",!1,"boolean")},sp=function(t){return t.getParam("referrer_policy","","string")},ap=function(t){return t.getParam("language","en","string")},lp=function(t){return t.getParam("language_url","","string")},up=function(t){return t.getParam("indent_use_margin",!1)},cp=function(t){return t.getParam("indentation","40px","string")},dp=function(t){var e=t.settings.content_css;return Z(e)?ft(e.split(","),Oe):et(e)?e:!1===e||t.inline?[]:["default"]},hp=function(t){return t.getParam("directionality",Qa.isRtl()?"rtl":void 0)},fp=function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},pp={getIframeAttrs:If,getDocType:Rf,getDocumentBaseUrl:Of,getBodyId:Hf,getBodyClass:Lf,getContentSecurityPolicy:Ff,shouldPutBrInPre:Bf,getForcedRootBlock:$f,getForcedRootBlockAttrs:jf,getBrNewLineSelector:Vf,getNoNewLineSelector:Uf,shouldKeepStyles:qf,shouldEndContainerOnEmptyBlock:Wf,getFontStyleValues:Yf,getFontSizeClasses:Kf,getIconPackName:Zf,getIconsUrl:tp,getImagesDataImgFilter:Gf,isAutomaticUploadsEnabled:Xf,shouldReuseFileName:Qf,shouldReplaceBlobUris:Jf,getImageUploadUrl:ep,getImageUploadBasePath:np,getImagesUploadCredentials:ip,getImagesUploadHandler:op,shouldUseContentCssCors:rp,getReferrerPolicy:sp,getLanguageCode:ap,getLanguageUrl:lp,shouldIndentUseMargin:up,getIndentation:cp,getContentCss:dp,getDirectionality:hp,getInlineBoundarySelector:fp},gp="html",mp=function(t,e){var n=pp.getForcedRootBlock(t),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(i,"")},vp=function(t,e,n){var i;if(e.format=e.format?e.format:gp,e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)i=po.trim(Pf.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)i=Bl.trim(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);i=mp(t,t.serializer.serialize(n,e))}return"text"===e.format||Ro(Ze.fromDom(n))?e.content=i:e.content=po.trim(i),e.no_events||t.fire("GetContent",e),e.content},bp=function(t,e){return void 0===e&&(e={}),X.from(t.getBody()).fold(B("tree"===e.format?new wf("body",11):""),(function(n){return vp(t,e,n)}))},yp=po.makeMap,wp=function(t){var e,n,i,o,r,s=[];return e=(t=t||{}).indent,n=yp(t.indent_before||""),i=yp(t.indent_after||""),o=br.getEncodeFunc(t.entity_encoding||"raw",t.entities),r="html"===t.element_format,{start:function(t,a,l){var u,c,d,h;if(e&&n[t]&&s.length>0&&(h=s[s.length-1]).length>0&&"\n"!==h&&s.push("\n"),s.push("<",t),a)for(u=0,c=a.length;u<c;u++)d=a[u],s.push(" ",d.name,'="',o(d.value,!0),'"');s[s.length]=!l||r?">":" />",l&&e&&i[t]&&s.length>0&&(h=s[s.length-1]).length>0&&"\n"!==h&&s.push("\n")},end:function(t){var n;s.push("</",t,">"),e&&i[t]&&s.length>0&&(n=s[s.length-1]).length>0&&"\n"!==n&&s.push("\n")},text:function(t,e){t.length>0&&(s[s.length]=e?t:o(t))},cdata:function(t){s.push("<![CDATA[",t,"]]>")},comment:function(t){s.push("<!--",t,"-->")},pi:function(t,n){n?s.push("<?",t," ",o(n),"?>"):s.push("<?",t,"?>"),e&&s.push("\n")},doctype:function(t){s.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}},_p=function(t,e){void 0===e&&(e=o());var n=wp(t);(t=t||{}).validate=!("validate"in t)||t.validate;var i=function(i){var o,r;r=t.validate,o={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{s(t)}while(t=t.next)}},n.reset();var s=function(t){var i,a,l,u,c,d,h,f,p,g=o[t.type];if(g)g(t);else{if(i=t.name,a=t.shortEnded,l=t.attributes,r&&l&&l.length>1&&((d=[]).map={},p=e.getElementRule(t.name))){for(h=0,f=p.attributesOrder.length;h<f;h++)(u=p.attributesOrder[h])in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(h=0,f=l.length;h<f;h++)(u=l[h].name)in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(n.start(t.name,l,a),!a){if(t=t.firstChild)do{s(t)}while(t=t.next);n.end(i)}}};return 1!==i.type||t.inner?o[11](i):s(i),n.getContent()};return{serialize:i}},xp=function(t,e){e(t),t.firstChild&&xp(t.firstChild,e),t.next&&xp(t.next,e)},Cp=function(t,e,n){var i={},o={},r=[];for(var s in n.firstChild&&xp(n.firstChild,(function(n){pt(t,(function(t){t.name===n.name&&(i[t.name]?i[t.name].nodes.push(n):i[t.name]={filter:t,nodes:[n]})})),pt(e,(function(t){"string"==typeof n.attr(t.name)&&(o[t.name]?o[t.name].nodes.push(n):o[t.name]={filter:t,nodes:[n]})}))})),i)i.hasOwnProperty(s)&&r.push(i[s]);for(var s in o)o.hasOwnProperty(s)&&r.push(o[s]);return r},kp=function(t,e,n){var i=Cp(t,e,n);pt(i,(function(t){pt(t.filter.callbacks,(function(e){e(t.nodes,t.filter.name,{})}))}))},Tp=function(t){var e=Un(t).dom();return t.dom()===e.activeElement},Sp=function(e){var n=void 0!==e?e.dom():t.document;return X.from(n.activeElement).map(Ze.fromDom)},Ep=function(t){return Sp(Un(t)).filter((function(e){return t.dom().contains(e.dom())}))},Np=function(e){if(!et(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],i={};return pt(e,(function(o,r){var s=un(o);if(1!==s.length)throw new Error("one and only one name per case");var a=s[0],l=o[a];if(void 0!==i[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!et(l))throw new Error("case arguments must be an array");n.push(a),i[a]=function(){var i=arguments.length;if(i!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+i);for(var o=new Array(i),s=0;s<o.length;s++)o[s]=arguments[s];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[r].apply(null,o)},match:function(t){var e=un(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!kt(n,(function(t){return dt(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[a].apply(null,o)},log:function(e){t.console.log(e,{constructors:n,constructor:a,params:o})}}}})),i},Dp={generate:Np},Ap=Dn("start","soffset","finish","foffset"),zp={create:Ap},Pp=Dp.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mp=function(t,e,n,i){return t.fold(e,n,i)},Ip=function(t){return t.fold($,$,$)},Rp=Pp.before,Op=Pp.on,Hp=Pp.after,Lp={before:Rp,on:Op,after:Hp,cata:Mp,getStart:Ip},Fp=Dp.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Bp=function(t){return Fp.exact(t.start(),t.soffset(),t.finish(),t.foffset())},$p=function(t){return t.match({domRange:function(t){return Ze.fromDom(t.startContainer)},relative:function(t){return Lp.getStart(t)},exact:function(t){return t}})},jp=function(t){var e=$p(t);return Wn(e)},Vp={domRange:Fp.domRange,relative:Fp.relative,exact:Fp.exact,exactFromRange:Bp,getWin:jp,range:zp.create},Up=Ye().browser,qp=function(t,e){var n=ln(e)?lf(e).length:Zn(e).length+1;return t>n?n:t<0?0:t},Wp=function(t){return Vp.range(t.start(),qp(t.soffset(),t.start()),t.finish(),qp(t.foffset(),t.finish()))},Yp=function(t,e){return!Zt.isRestrictedNode(e.dom())&&(Vn(t,e)||Bn(t,e))},Kp=function(t){return function(e){return Yp(t,e.start())&&Yp(t,e.finish())}},Gp=function(t){return!0===t.inline||Up.isIE()},Xp=function(t){return Vp.range(Ze.fromDom(t.startContainer),t.startOffset,Ze.fromDom(t.endContainer),t.endOffset)},Qp=function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?X.from(e.getRangeAt(0)):X.none()).map(Xp)},Jp=function(t){var e=Wn(t);return Qp(e.dom()).filter(Kp(t))},Zp=function(t,e){return X.from(e).filter(Kp(t)).map(Wp)},tg=function(e){var n=t.document.createRange();try{return n.setStart(e.start().dom(),e.soffset()),n.setEnd(e.finish().dom(),e.foffset()),X.some(n)}catch(t){return X.none()}},eg=function(t){return(t.bookmark?t.bookmark:X.none()).bind((function(e){return Zp(Ze.fromDom(t.getBody()),e)})).bind(tg)},ng={store:function(t){var e=Gp(t)?Jp(Ze.fromDom(t.getBody())):X.none();t.bookmark=e.isSome()?e:t.bookmark},storeNative:function(t,e){var n=Ze.fromDom(t.getBody()),i=(Gp(t)?X.from(e):X.none()).map(Xp).filter(Kp(n));t.bookmark=i.isSome()?i:t.bookmark},readRange:Qp,restore:function(t){eg(t).each((function(e){t.selection.setRng(e)}))},getRng:eg,getBookmark:Jp,validate:Zp},ig={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},og=function(t){return"nodechange"===t.type&&t.selectionChange},rg=function(e,n){var i=function(){n.throttle()};Ia.DOM.bind(t.document,"mouseup",i),e.on("remove",(function(){Ia.DOM.unbind(t.document,"mouseup",i)}))},sg=function(t){t.on("focusout",(function(){ng.store(t)}))},ag=function(t,e){t.on("mouseup touchend",(function(){e.throttle()}))},lg=function(t,e){Ye().browser.isIE()?sg(t):ag(t,e),t.on("keyup NodeChange",(function(e){og(e)||ng.store(t)}))},ug={register:function(t){var e=tl((function(){ng.store(t)}),0);t.on("init",(function(){t.inline&&rg(t,e),lg(t,e)})),t.on("remove",(function(){e.cancel()}))}},cg=Ia.DOM,dg=function(t){return ig.isEditorUIElement(t)},hg=function(t,e){var n=t?t.settings.custom_ui_selector:"",i=cg.getParent(e,(function(e){return dg(e)||!!n&&t.dom.is(e,n)}));return null!==i},fg=function(){try{return t.document.activeElement}catch(e){return t.document.body}},pg=function(e,n){var i=n.editor;ug.register(i),i.on("focusin",(function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))})),i.on("focusout",(function(){var t=this;Ri.setEditorTimeout(t,(function(){var n=e.focusedEditor;hg(t,fg())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Sf||(Sf=function(n){var i,o=e.activeEditor;i=n.target,o&&i.ownerDocument===t.document&&(i===t.document.body||hg(o,i)||e.focusedEditor!==o||(o.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},cg.bind(t.document,"focusin",Sf))},gg=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(cg.unbind(t.document,"focusin",Sf),Sf=null)},mg={setup:function(t){t.on("AddEditor",e(pg,t)),t.on("RemoveEditor",e(gg,t))},isEditorUIElement:dg,isEditorContentAreaElement:function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},isUIElement:hg},vg=function(t,e){return t.dom.getParent(e,(function(e){return"true"===t.dom.getContentEditable(e)}))},bg=function(t){return t.collapsed?X.from(Eu(t.startContainer,t.startOffset)).map(Ze.fromDom):X.none()},yg=function(t,e){return bg(e).bind((function(e){return Mo(e)?X.some(e):!1===Vn(t,e)?X.some(t):X.none()}))},wg=function(t,e){yg(Ze.fromDom(t.getBody()),e).bind((function(t){return sh.firstPositionIn(t.dom())})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))},_g=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},xg=function(t){return Tp(t)||Ep(t).isSome()},Cg=function(t){return t.iframeElement&&Tp(Ze.fromDom(t.iframeElement))},kg=function(t){var e=t.getBody();return e&&xg(Ze.fromDom(e))},Tg=function(t){return Sp().filter((function(e){return!mg.isEditorContentAreaElement(e.dom())&&mg.isUIElement(t,e.dom())})).isSome()},Sg=function(t){return t.inline?kg(t):Cg(t)},Eg=function(t){return Sg(t)||Tg(t)},Ng=function(t){var e=t.selection,n=t.getBody(),i=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===Sg(t)&&ng.getRng(t).each((function(e){t.selection.setRng(e),i=e}));var o=vg(t,e.getNode());if(t.$.contains(n,o))return _g(o),wg(t,i),void Dg(t);t.inline||(Ui.opera||_g(n),t.getWin().focus()),(Ui.gecko||t.inline)&&(_g(n),wg(t,i)),Dg(t)},Dg=function(t){return t.editorManager.setActive(t)},Ag={focus:function(t,e){t.removed||(e?Dg(t):Ng(t))},hasFocus:Sg,hasEditorOrUiFocus:Eg},zg="html",Pg=function(t){return t instanceof wf},Mg=function(t){Ag.hasFocus(t)&&sh.firstPositionIn(t.getBody()).each((function(e){var n=e.getNode(),i=Zt.isTable(n)?sh.firstPositionIn(n).getOr(e):e;t.selection.setRng(i.toRange())}))},Ig=function(t,e){t.dom.setHTML(t.getBody(),e),Mg(t)},Rg=function(t,e,n,i){var o,r;return 0===n.length||/^\s+$/.test(n)?(r='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+r+"</li>"),(o=pp.getForcedRootBlock(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),o.toLowerCase())?(n=r,n=t.dom.createHTML(o,t.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),Ig(t,n),t.fire("SetContent",i)):("raw"!==i.format&&(n=_p({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=Ro(Ze.fromDom(e))?n:po.trim(n),Ig(t,i.content),i.no_events||t.fire("SetContent",i)),i.content},Og=function(t,e,n,i){kp(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var o=_p({validate:t.validate},t.schema).serialize(n);return i.content=Ro(Ze.fromDom(e))?o:po.trim(o),Ig(t,i.content),i.no_events||t.fire("SetContent",i),n},Hg=function(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:zg,n.set=!0,n.content=Pg(e)?"":e,Pg(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),X.from(t.getBody()).fold(B(e),(function(i){return Pg(e)?Og(t,i,e,n):Rg(t,i,e,n)}))},Lg={firePreProcess:function(t,e){return t.fire("PreProcess",e)},firePostProcess:function(t,e){return t.fire("PostProcess",e)},fireRemove:function(t){return t.fire("remove")},fireDetach:function(t){return t.fire("detach")},fireSwitchMode:function(t,e){return t.fire("SwitchMode",{mode:e})},fireObjectResizeStart:function(t,e,n,i){t.fire("ObjectResizeStart",{target:e,width:n,height:i})},fireObjectResized:function(t,e,n,i){t.fire("ObjectResized",{target:e,width:n,height:i})}},Fg=Ia.DOM,Bg=function(t){Fg.setStyle(t.id,"display",t.orgDisplay)},$g=function(t){return X.from(t).each((function(t){return t.destroy()}))},jg=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},Vg=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),Fg.unbind(e,"submit reset",t.formEventDelegate))},Ug=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,i=t.getBody(),o=t.getElement();i&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&o&&Fg.remove(o.nextSibling),Lg.fireRemove(t),t.editorManager.remove(t),!t.inline&&i&&Bg(t),Lg.fireDetach(t),Fg.remove(t.getContainer()),$g(e),$g(n),t.destroy()}},qg=function(t,e){var n=t.selection,i=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),$g(n),$g(i)),Vg(t),jg(t),t.destroyed=!0):t.remove())},Wg=Object.prototype.hasOwnProperty,Yg=function(t,e){return e},Kg=function(t,e){return tt(t)&&tt(e)?Xg(t,e):e},Gg=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var i={},o=0;o<e.length;o++){var r=e[o];for(var s in r)Wg.call(r,s)&&(i[s]=t(i[s],r[s]))}return i}},Xg=Gg(Kg),Qg=Gg(Yg),Jg=Dn("sections","settings"),Zg=Ye().deviceType,tm=Zg.isTouch(),em=Zg.isPhone(),nm=Zg.isTablet(),im=["lists","autolink","autosave"],om={table_grid:!1,object_resizing:!1,resize:!1},rm=function(t){var e=et(t)?t.join(" "):t,n=ft(Z(e)?e.split(" "):[],Oe);return vt(n,(function(t){return t.length>0}))},sm=function(t){return vt(t,e(dt,im))},am=function(t,e){var n=pn(e,(function(e,n){return dt(t,n)}));return Jg(n.t,n.f)},lm=function(t,e,n){void 0===n&&(n={});var i=t.sections(),o=i.hasOwnProperty(e)?i[e]:{};return po.extend({},n,o)},um=function(t,e){return t.sections().hasOwnProperty(e)},cm=function(t,e,n){var i=t.sections();return um(t,e)&&i[e].theme===n},dm=function(t,e){return um(t,e)?t.sections()[e]:{}},hm=function(t,e,n,i){var o={id:t,theme:"silver",toolbar_drawer:"floating",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:i.convertURL,url_converter_scope:i};return Pt(Pt({},o),n?om:{})},fm=function(t){var e={resize:!1,toolbar_drawer:"scrolling",toolbar_sticky:!1},n={menubar:!1};return Pt(Pt(Pt({},om),e),t?n:{})},pm=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?po.extend({},t.external_plugins,n):n},gm=function(t,e){return[].concat(rm(t)).concat(rm(e))},mm=function(t,e,n,i){var o=rm(n.forced_plugins),r=rm(i.plugins),s=dm(e,"mobile"),a=s.plugins?rm(s.plugins):r,l=t&&cm(e,"mobile","mobile")?sm(a):t&&um(e,"mobile")?a:r,u=gm(o,l);return po.extend(i,{plugins:u.join(" ")})},vm=function(t,e){return t&&um(e,"mobile")},bm=function(t,e,n,i,o){var r=t?{mobile:fm(e)}:{},s=am(["mobile"],Xg(r,o)),a=po.extend(n,i,s.settings(),vm(t,s)?lm(s,"mobile"):{},{validate:!0,external_plugins:pm(i,s.settings())});return mm(t,s,i,a)},ym=function(t,e,n,i,o){var r=hm(e,n,tm,t);return bm(em||nm,em,r,i,o)},wm=function(t,e,n){return X.from(e.settings[n]).filter(t)},_m=function(t){var e={};return"string"==typeof t?pt(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),(function(t){var n=t.split("=");n.length>1?e[po.trim(n[0])]=po.trim(n[1]):e[po.trim(n[0])]=po.trim(n[0])})):e=t,e},xm=function(t){return function(e){return et(e)&&kt(e,t)}},Cm=function(t,e,n,i){var o=e in t.settings?t.settings[e]:n;return"hash"===i?_m(o):"string"===i?wm(Z,t,e).getOr(n):"number"===i?wm(rt,t,e).getOr(n):"boolean"===i?wm(it,t,e).getOr(n):"object"===i?wm(tt,t,e).getOr(n):"array"===i?wm(et,t,e).getOr(n):"string[]"===i?wm(xm(Z),t,e).getOr(n):"function"===i?wm(ot,t,e).getOr(n):o},km=function(t,e){return e.dom()[t]},Tm=function(t,e){return parseInt(Tn(e,t),10)},Sm=e(km,"clientWidth"),Em=e(km,"clientHeight"),Nm=e(Tm,"margin-top"),Dm=e(Tm,"margin-left"),Am=function(t){return t.dom().getBoundingClientRect()},zm=function(t,e,n){var i=Sm(t),o=Em(t);return e>=0&&n>=0&&e<=i&&n<=o},Pm=function(t,e,n,i){var o=Am(e);return{x:n-(t?o.left+e.dom().clientLeft+Dm(e):0),y:i-(t?o.top+e.dom().clientTop+Nm(e):0)}},Mm=function(t){return X.from(t).map(Ze.fromDom)},Im={isXYInContentArea:function(t,e,n){var i=Ze.fromDom(t.getBody()),o=t.inline?i:qn(i),r=Pm(t.inline,o,e,n);return zm(o,r.x,r.y)},isEditorAttachedToDom:function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return Mm(e).map((function(t){return Vn(Un(t),t)})).getOr(!1)}},Rm=function(t){var e=[],n=function(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():D()},i=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},o=function(e){t.fire("OpenWindow",{dialog:e})},r=function(e){t.fire("CloseWindow",{dialog:e})},s=function(t){e.push(t),o(t)},a=function(n){r(n),0===(e=vt(e,(function(t){return t!==n}))).length&&t.focus()},l=function(){return X.from(e[e.length-1])},u=function(e){t.editorManager.setActive(t),ng.store(t);var n=e();return s(n),n},c=function(t,e){return u((function(){return n().open(t,e,a)}))},d=function(t){return u((function(){return n().openUrl(t,a)}))},h=function(t,e,o){n().alert(t,i(o||this,e))},f=function(t,e,o){n().confirm(t,i(o||this,e))},p=function(){l().each((function(t){n().close(t),a(t)}))};return t.on("remove",(function(){pt(e,(function(t){n().close(t)}))})),{open:c,openUrl:d,alert:h,confirm:f,close:p}},Om=function(t,e){t.notificationManager.open({type:"error",text:e})},Hm=function(t,e){t._skinLoaded?Om(t,e):t.on("SkinLoaded",(function(){Om(t,e)}))},Lm=function(e){t.console.error(e)},Fm=function(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e},Bm=function(t,e){Lm(Fm("plugin",t,e))},$m=function(t,e){Lm(Fm("icons",t,e))},jm=function(t,e){Lm(Fm("language",t,e))},Vm=function(t,e,n){var i=Qa.translate(["Failed to initialize plugin: {0}",e]);Um(i,n),Hm(t,i)},Um=function(){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=t.window.console;i&&(i.error?i.error.apply(i,arguments):i.log.apply(i,arguments))},qm={pluginLoadError:Bm,iconsLoadError:$m,languageLoadError:jm,pluginInitError:Vm,uploadError:function(t,e){Hm(t,Qa.translate(["Failed to upload image: {0}",e]))},displayError:Hm,initError:Um},Wm=function(){return{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',
brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',
paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000" stroke-width="2"><path d="M12 5v14M5 12h14"/></g></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><path d="M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z" fill-rule="nonzero"/></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z" opacity=".2"/><path d="M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path d="M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z" fill-rule="evenodd"/></svg>',"table-delete-row":'<svg width="24" height="24"><path d="M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z" fill-rule="evenodd"/></svg>',"table-delete-table":'<svg width="24" height="26"><path d="M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z" fill-rule="evenodd"/></svg>',"table-insert-column-after":'<svg width="24" height="24"><path d="M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z" fill-rule="evenodd"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path d="M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path d="M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z" fill-rule="evenodd"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path d="M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z" fill-rule="evenodd"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z" fill-rule="evenodd"/></svg>',"table-row-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-split-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z" fill-rule="evenodd"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z" fill-rule="evenodd"/></svg>',table:'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 0 1-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 0 1-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 0 1 2 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'}},Ym=function(){var t={};return{add:function(e,n){t[e]=n},get:function(e){return t[e]?t[e]:{icons:{}}},has:function(e){return mn(t,e)}}}(),Km=Za.PluginManager,Gm=Za.ThemeManager,Xm=function(e){return new Ai((function(n,i){var o=function(){i("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new t.XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){200===this.status?n(this.response):o()},r.onerror=o,r.send()}catch(t){o()}}))},Qm=function(t){var e,n,i=decodeURIComponent(t).split(",");return(n=/data:([^;]+)/.exec(i[0]))&&(e=n[1]),{type:e,data:i[1]}},Jm=function(e){return new Ai((function(n){var i,o,r,s=Qm(e);try{i=t.atob(s.data)}catch(e){return void n(new t.Blob([]))}for(o=new Uint8Array(i.length),r=0;r<o.length;r++)o[r]=i.charCodeAt(r);n(new t.Blob([o],{type:s.type}))}))},Zm=function(e){return new Ai((function(n){var i=new t.FileReader;i.onloadend=function(){n(i.result)},i.readAsDataURL(e)}))},tv={uriToBlob:function(t){return 0===t.indexOf("blob:")?Xm(t):0===t.indexOf("data:")?Jm(t):null},blobToDataUri:Zm,parseDataUri:Qm},ev=0,nv=function(t){return(t||"blobid")+ev++},iv=function(t,e,n,i){var o,r;0!==e.src.indexOf("blob:")?(o=tv.parseDataUri(e.src).data,(r=t.findFirst((function(t){return t.base64()===o})))?n({image:e,blobInfo:r}):tv.uriToBlob(e.src).then((function(i){r=t.create(nv(),i,o),t.add(r),n({image:e,blobInfo:r})}),(function(t){i(t)}))):(r=t.getByUri(e.src))?n({image:e,blobInfo:r}):tv.uriToBlob(e.src).then((function(i){tv.blobToDataUri(i).then((function(s){o=tv.parseDataUri(s).data,r=t.create(nv(),i,o),t.add(r),n({image:e,blobInfo:r})}))}),(function(t){i(t)}))},ov=function(t){return t?zt(t.getElementsByTagName("img")):[]},rv=0,sv=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+t()+t()+t()},av={uuid:function(t){return t+rv+++sv()}},lv=function(){var e=[],n=function(t){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.toLowerCase()]||"dat"},i=function(t,e,n,i){if(Z(t))return o({id:t,name:i,blob:e,base64:n});if(tt(t))return o(t);throw new Error("Unknown input type")},o=function(e){var i,o;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return i=e.id||av.uuid("blobid"),o=e.name||i,{id:B(i),name:B(o),filename:B(o+"."+n(e.blob.type)),blob:B(e.blob),base64:B(e.base64),blobUri:B(e.blobUri||t.URL.createObjectURL(e.blob)),uri:B(e.uri)}},r=function(t){s(t.id())||e.push(t)},s=function(t){return a((function(e){return e.id()===t}))},a=function(t){return vt(e,t)[0]};return{create:i,add:r,get:s,getByUri:function(t){return a((function(e){return e.blobUri()===t}))},findFirst:a,removeByUri:function(n){e=vt(e,(function(e){return e.blobUri()!==n||(t.URL.revokeObjectURL(e.blobUri()),!1)}))},destroy:function(){pt(e,(function(e){t.URL.revokeObjectURL(e.blobUri())})),e=[]}}},uv=function(t){var e,n,i=lv(),o=P(),r=[],s=function(e){return function(n){return t.selection?e(n):[]}},a=function(){return"?"+(new Date).getTime()},l=function(t,e,n){var i=0;do{-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1)}while(-1!==i);return t},u=function(t,e,n){return t=l(t,'src="'+e+'"','src="'+n+'"'),t=l(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},c=function(e,n){pt(t.undoManager.data,(function(t){"fragmented"===t.type?t.fragments=ft(t.fragments,(function(t){return u(t,e,n)})):t.content=u(t.content,e,n)}))},d=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},h=function(e,n){i.removeByUri(e.src),c(e.src,n),t.$(e).attr({src:pp.shouldReuseFileName(t)?n+a():n,"data-mce-src":t.convertURL(n,"src")})},f=function(n){return e||(e=A(o,{url:pp.getImageUploadUrl(t),basePath:pp.getImageUploadBasePath(t),credentials:pp.getImagesUploadCredentials(t),handler:pp.getImagesUploadHandler(t)})),v().then(s((function(i){var o;return o=ft(i,(function(t){return t.blobInfo})),e.upload(o,d).then(s((function(e){var o=ft(e,(function(e,n){var o=i[n].image;return e.status&&pp.shouldReplaceBlobUris(t)?h(o,e.url):e.error&&qm.uploadError(t,e.error),{element:o,status:e.status}}));return n&&n(o),o})))})))},p=function(e){if(pp.isAutomaticUploadsEnabled(t))return f(e)},g=function(e){return!1!==kt(r,(function(t){return t(e)}))&&(0!==e.getAttribute("src").indexOf("data:")||pp.getImagesDataImgFilter(t)(e))},m=function(t){r.push(t)},v=function(){return n||(n=z(o,i)),n.findAll(t.getBody(),g).then(s((function(e){return e=vt(e,(function(e){return"string"!=typeof e||(qm.displayError(t,e),!1)})),pt(e,(function(t){c(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),e})))},b=function(){i.destroy(),o.destroy(),n=e=null},y=function(e){return e.replace(/src="(blob:[^"]+)"/g,(function(e,n){var r=o.getResultUri(n);if(r)return'src="'+r+'"';var s=i.getByUri(n);return s||(s=yt(t.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),null)),s?'src="data:'+s.blob().type+";base64,"+s.base64()+'"':e}))};return t.on("SetContent",(function(){pp.isAutomaticUploadsEnabled(t)?p():v()})),t.on("RawSaveContent",(function(t){t.content=y(t.content)})),t.on("GetContent",(function(t){t.source_view||"raw"===t.format||(t.content=y(t.content))})),t.on("PostRender",(function(){t.parser.addNodeFilter("img",(function(t){pt(t,(function(t){var e=t.attr("src");if(!i.getByUri(e)){var n=o.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:i,addFilter:m,uploadImages:f,uploadImagesAuto:p,scanForImages:v,destroy:b}},cv=function(t){return t.slice(0,-1)},dv=function(t,e,n){return Vn(e,t)?cv(Kn(t,(function(t){return n(t)||Bn(t,e)}))):[]},hv=function(t,e){return dv(t,e,B(!1))},fv=function(t,e){return[t].concat(hv(t,e))},pv={parentsUntil:dv,parents:hv,parentsAndSelf:fv},gv=function(t,e){return t.hasOwnProperty(e.nodeName)},mv=function(t,e){return!!Zt.isText(e)||!!Zt.isElement(e)&&(!gv(t,e)&&!Eh.isBookmarkNode(e))},vv=function(t,e,n){return ht(pv.parents(Ze.fromDom(n),Ze.fromDom(e)),(function(e){return gv(t,e.dom())}))},bv=function(t,e){if(Zt.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||gv(t,e.nextSibling)))return!0}return!1},yv=function(t){var e,n,i,o,r,s,a,l,u,c,d=t.dom,h=t.selection,f=t.schema,p=f.getBlockElements(),g=h.getStart(),m=t.getBody(),v=pp.getForcedRootBlock(t);if(g&&Zt.isElement(g)&&v&&(c=m.nodeName.toLowerCase(),f.isValidChild(c,v.toLowerCase())&&!vv(p,m,g))){for(n=(e=h.getRng()).startContainer,i=e.startOffset,o=e.endContainer,r=e.endOffset,u=Ag.hasFocus(t),g=m.firstChild;g;)if(mv(p,g)){if(bv(p,g)){a=g,g=g.nextSibling,d.remove(a);continue}s||(s=d.create(v,pp.getForcedRootBlockAttrs(t)),g.parentNode.insertBefore(s,g),l=!0),a=g,g=g.nextSibling,s.appendChild(a)}else s=null,g=g.nextSibling;l&&u&&(e.setStart(n,i),e.setEnd(o,r),h.setRng(e),t.nodeChanged())}},wv={setup:function(t){pp.getForcedRootBlock(t)&&t.on("NodeChange",e(yv,t))}},_v={isEq:function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}},xv=function(t){var e=t.startContainer,n=t.startOffset;return Zt.isText(e)?0===n?X.some(Ze.fromDom(e)):X.none():X.from(e.childNodes[n]).map(Ze.fromDom)},Cv=function(t){var e=t.endContainer,n=t.endOffset;return Zt.isText(e)?n===e.data.length?X.some(Ze.fromDom(e)):X.none():X.from(e.childNodes[n-1]).map(Ze.fromDom)},kv=function(t){return ei(t).fold(B([t]),(function(e){return[t].concat(kv(e))}))},Tv=function(t){return ni(t).fold(B([t]),(function(e){return"br"===on(e)?Gn(e).map((function(e){return[t].concat(Tv(e))})).getOr([]):[t].concat(Tv(e))}))},Sv=function(t,n){return Au(xv(n),Cv(n),(function(n,i){var o=wt(kv(t),e(Bn,n)),r=wt(Tv(t),e(Bn,i));return o.isSome()&&r.isSome()})).getOr(!1)},Ev=function(t,e,n,i){var o=n,r=new ia(n,o),s=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==po.trim(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n))}while(n=i?r.next():r.prev());"BODY"===o.nodeName&&(i?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},Nv=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},Dv=function(){function t(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",(function(n){var i,o;o={startContainer:(i=t.selection.getRng()).startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&_v.isEq(o,e)||t.fire("SelectionChange"),e=o})),t.on("contextmenu",(function(){t.fire("SelectionChange")})),t.on("SelectionChange",(function(){var e=t.selection.getStart(!0);!e||!Ui.range&&t.selection.isCollapsed()||Nv(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("mouseup",(function(e){!e.isDefaultPrevented()&&Nv(t)&&("IMG"===t.selection.getNode().nodeName?Ri.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())}))}return t.prototype.nodeChanged=function(t){var e,n,i,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.settings.disable_nodechange&&!this.editor.readonly&&(i=this.editor.getBody(),(e=o.getStart(!0)||i).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,i)||(e=i),n=[],this.editor.dom.getParent(e,(function(t){if(t===i)return!0;n.push(t)})),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var e,n;if((n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t)).length===this.lastPath.length){for(e=n.length;e>=0&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},t}(),Av={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return Ui.mac?t.metaKey:t.ctrlKey&&!t.altKey}},zv=function(t){return function(e){return t===e}}("\xa0"),Pv=function(t){return/^[\r\n\t ]$/.test(t)},Mv=function(t){return!Pv(t)&&!zv(t)},Iv=function(t,e,n){return X.from(n.container()).filter(Zt.isText).exists((function(i){var o=t?0:-1;return e(i.data.charAt(n.offset()+o))}))},Rv=e(Iv,!0,Pv),Ov=e(Iv,!1,Pv),Hv=function(t){var e=t.container();return Zt.isText(e)&&0===e.data.length},Lv=function(t,e){return function(n){return X.from(_d(t?0:-1,n)).filter(e).isSome()}},Fv=function(t){return"IMG"===t.nodeName&&"block"===Tn(Ze.fromDom(t),"display")},Bv=function(t){return Zt.isContentEditableFalse(t)&&!Zt.isBogusAll(t)},$v=Lv(!0,Fv),jv=Lv(!1,Fv),Vv=Lv(!0,Zt.isTable),Uv=Lv(!1,Zt.isTable),qv=Lv(!0,Bv),Wv=Lv(!1,Bv),Yv=function(t){var e=function(e){return ft(e,(function(e){return(e=yu(e)).node=t,e}))};if(Zt.isElement(t))return e(t.getClientRects());if(Zt.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}},Kv=function(t){return yt(t,(function(t,e){return t.concat(Yv(e))}),[])};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(Ef||(Ef={}));var Gv=function(t,e,n,i){for(;i=bd(i,t,vu,e);)if(n(i))return},Xv=function(t,e,n,i,o,r){var s,a,l=0,u=[],c=function(i){var r,s,c;for(c=Kv([i]),-1===t&&(c=c.reverse()),r=0;r<c.length;r++)if(s=c[r],!n(s,a)){if(u.length>0&&e(s,to.last(u))&&l++,s.line=l,o(s))return!0;u.push(s)}};return(a=to.last(r.getClientRects()))?(c(s=r.getNode()),Gv(t,i,c,s),u):u},Qv=function(t,e){return e.line>t},Jv=function(t,e){return e.line===t},Zv=e(Xv,Ef.Up,Cu,ku),tb=e(Xv,Ef.Down,ku,Cu),eb=function(t,e,n,i){var o,r,s,a,l,u,c=Wd(e),d=[],h=0,f=function(t){return to.last(t.getClientRects())};1===t?(o=c.next,r=ku,s=Cu,a=oc.after(i)):(o=c.prev,r=Cu,s=ku,a=oc.before(i)),u=f(a);do{if(a.isVisible()&&!s(l=f(a),u)){if(d.length>0&&r(l,to.last(d))&&h++,(l=yu(l)).position=a,l.line=h,n(l))return d;d.push(l)}}while(a=o(a));return d},nb=function(t){return function(e){return Qv(t,e)}},ib=function(t){return function(e){return Jv(t,e)}},ob=Zt.isContentEditableFalse,rb=bd,sb=function(t,e){
return Math.abs(t.left-e)},ab=function(t,e){return Math.abs(t.right-e)},lb=function(t,e){return t>=e.left&&t<=e.right},ub=function(t,e){return to.reduce(t,(function(t,n){var i,o;return i=Math.min(sb(t,e),ab(t,e)),o=Math.min(sb(n,e),ab(n,e)),lb(e,n)?n:lb(e,t)?t:o===i&&ob(n.node)||o<i?n:t}))},cb=function(t,e,n,i){for(;i=rb(i,t,vu,e);)if(n(i))return},db=function(t,n){var i=[],o=function(t,e){var o;return o=vt(Kv([e]),(function(e){return!t(e,n)})),i=i.concat(o),0===o.length};return i.push(n),cb(Ef.Up,t,e(o,Cu),n.node),cb(Ef.Down,t,e(o,ku),n.node),i},hb=function(t){return vt(zt(t.getElementsByTagName("*")),ld)},fb=function(t,e){return{node:t.node,before:sb(t,e)<ab(t,e)}},pb=function(t,e,n){var i,o=Kv(hb(t)),r=vt(o,(function(t){return n>=t.top&&n<=t.bottom}));return(i=ub(r,e))&&(i=ub(db(t,i),e))&&ld(i.node)?fb(i,e):null},gb=function(t,e,n){if(n.collapsed)return!1;if(Ui.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var i=n.startContainer.childNodes[n.startOffset];if(Zt.isElement(i))return ht(i.getClientRects(),(function(n){return Tu(n,t,e)}))}return ht(n.getClientRects(),(function(n){return Tu(n,t,e)}))},mb={isXYWithinRange:gb},vb=function(t){var e,n,i,o;return o=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,i=e.defaultView,{top:o.top+i.pageYOffset-n.clientTop,left:o.left+i.pageXOffset-n.clientLeft}},bb=function(t){return t.inline?vb(t.getBody()):{left:0,top:0}},yb=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},wb=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},o={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:o},_b=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=vb(t.getContentAreaContainer()),i=wb(t);return{left:e.pageX-n.left+i.left,top:e.pageY-n.top+i.top}}return{left:e.pageX,top:e.pageY}},xb=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},Cb={calc:function(t,e){return xb(bb(t),yb(t),_b(t,e))}},kb=Zt.isContentEditableFalse,Tb=Zt.isContentEditableTrue,Sb=function(t,e){return kb(e)&&e!==t},Eb=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!kb(e)},Nb=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},Db=function(t,e,n,i){var o=e.cloneNode(!0);t.dom.setStyles(o,{width:n,height:i}),t.dom.setAttrib(o,"data-mce-selected",null);var r=t.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(r,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),r.appendChild(o),r},Ab=function(t,e){t.parentNode!==e&&e.appendChild(t)},zb=function(t,e,n,i,o,r){var s=0,a=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>o&&(s=e.pageX+n-o),e.pageY+i>r&&(a=e.pageY+i-r),t.style.width=n-s+"px",t.style.height=i-a+"px"},Pb=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},Mb=function(t){return 0===t.button},Ib=function(t){return t.element},Rb=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},Ob=function(t,e){return function(n){if(Mb(n)){var i=wt(e.dom.getParents(n.target),Ou.or(kb,Tb)).getOr(null);if(Sb(e.getBody(),i)){var o=e.dom.getPos(i),r=e.getBody(),s=e.getDoc().documentElement;t.element=i,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?r.scrollWidth:s.offsetWidth)-2,t.maxY=(e.inline?r.scrollHeight:s.offsetHeight)-2,t.relX=n.pageX-o.x,t.relY=n.pageY-o.y,t.width=i.offsetWidth,t.height=i.offsetHeight,t.ghost=Db(e,i,t.width,t.height)}}}},Hb=function(t,e){var n=Ri.throttle((function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)}),0);return function(i){var o=Math.max(Math.abs(i.screenX-t.screenX),Math.abs(i.screenY-t.screenY));if(Ib(t)&&!t.dragging&&o>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var r=Rb(t,Cb.calc(e,i));Ab(t.ghost,e.getBody()),zb(t.ghost,r,t.width,t.height,t.maxX,t.maxY),n(i.clientX,i.clientY)}}},Lb=function(t){var e=t.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e},Fb=function(t,e){return function(n){if(t.dragging&&Eb(e,Lb(e.selection),t.element)){var i=Nb(t.element),o=e.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(i=o.targetClone,e.undoManager.transact((function(){Pb(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()})))}$b(t)}},Bb=function(t,e){return function(){t.dragging&&e.fire("dragend"),$b(t)}},$b=function(t){t.dragging=!1,t.element=null,Pb(t.ghost)},jb=function(e){var n,i,o,r,s,a,l={};n=Ia.DOM,a=t.document,i=Ob(l,e),o=Hb(l,e),r=Fb(l,e),s=Bb(l,e),e.on("mousedown",i),e.on("mousemove",o),e.on("mouseup",r),n.bind(a,"mousemove",o),n.bind(a,"mouseup",s),e.on("remove",(function(){n.unbind(a,"mousemove",o),n.unbind(a,"mouseup",s)}))},Vb=function(t){t.on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(kb(n)||kb(t.dom.getContentEditableParent(n)))&&e.preventDefault()}))},Ub={init:function(t){jb(t),Vb(t)}},qb=Zt.isContentEditableTrue,Wb=Zt.isContentEditableFalse,Yb=function(t,e,n,i,o){return e._selectionOverrides.showCaret(t,n,i,o)},Kb=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},Gb=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:Kb(e)},Xb=function(t,e,n){var i=Ed(1,t.getBody(),e),o=oc.fromRangeStart(i),r=o.getNode();if(Wb(r))return Yb(1,t,r,!o.isAtEnd(),!1);var s=o.getNode(!0);if(Wb(s))return Yb(1,t,s,!1,!1);var a=t.dom.getParent(o.getNode(),(function(t){return Wb(t)||qb(t)}));return Wb(a)?Yb(1,t,a,!1,n):null},Qb=function(t,e,n){if(!e||!e.collapsed)return e;var i=Xb(t,e,n);return i||e},Jb={setup:function(e){var n=tl((function(){if(!e.removed&&e.getBody().contains(t.document.activeElement)&&e.selection.getRng().collapsed){var n=Qb(e,e.selection.getRng(),!1);e.selection.setRng(n)}}),0);e.on("focus",(function(){n.throttle()})),e.on("blur",(function(){n.cancel()}))}},Zb=Zt.isContentEditableTrue,ty=Zt.isContentEditableFalse,ey=function(t,e){for(var n=t.getBody();e&&e!==n;){if(Zb(e)||ty(e))return e;e=e.parentNode}return null},ny=function(t){var e,n=function(e){return t.dom.isBlock(e)},i=t.getBody(),o=sd(t.getBody(),n,(function(){return Ag.hasFocus(t)})),r="sel-"+t.dom.uniqueId(),s=function(e){return t.dom.hasClass(e,"mce-offscreen-selection")},a=function(){var e=t.dom.get(r);return e?e.getElementsByTagName("*")[0]:e},l=function(e){e&&t.selection.setRng(e)},u=function(){return t.selection.getRng()},c=function(e,n,i,r){return void 0===r&&(r=!0),t.fire("ShowCaret",{target:n,direction:e,before:i}).isDefaultPrevented()?null:(r&&t.selection.scrollIntoView(n,-1===e),o.show(i,n))},d=function(e){e.hasAttribute("data-mce-caret")&&(eu(e),l(u()),t.selection.scrollIntoView(e[0]))},h=function(){t.on("mouseup",(function(e){var n=u();n.collapsed&&Im.isXYInContentArea(t,e.clientX,e.clientY)&&l(Xb(t,n,!1))})),t.on("click",(function(e){var n;(n=ey(t,e.target))&&(ty(n)&&(e.preventDefault(),t.focus()),Zb(n)&&t.dom.isChildOf(n,t.selection.getNode())&&v())})),t.on("blur NewBlock",(function(){v()})),t.on("ResizeWindow FullscreenStateChanged",(function(){return o.reposition()}));var n=function(t){var e=!1;t.on("touchstart",(function(){e=!1})),t.on("touchmove",(function(){e=!0})),t.on("touchend",(function(n){if(!e){var i=ey(t,n.target);ty(i)&&(n.preventDefault(),m(Gb(t,i)))}}),!0)},r=function(t){var e=Wd(t);if(!t.firstChild)return!1;var n=oc.before(t.firstChild),i=e.next(n);return i&&!qv(i)&&!Wv(i)},d=function(e,n){return t.dom.getParent(e,t.dom.isBlock)===t.dom.getParent(n,t.dom.isBlock)},h=function(e,n){var i=t.dom.getParent(e,t.dom.isBlock),o=t.dom.getParent(n,t.dom.isBlock);return!(!i||!t.dom.isChildOf(i,o)||!1!==ty(ey(t,i)))||i&&!d(i,o)&&r(i)};n(t),t.on("mousedown",(function(e){var n,o=e.target;if((o===i||"HTML"===o.nodeName||t.dom.isChildOf(o,i))&&!1!==Im.isXYInContentArea(t,e.clientX,e.clientY))if(n=ey(t,o))ty(n)?(e.preventDefault(),m(Gb(t,n))):(v(),Zb(n)&&e.shiftKey||mb.isXYWithinRange(e.clientX,e.clientY,t.selection.getRng())||(y(),t.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===ld(o)){v(),y();var r=pb(i,e.clientX,e.clientY);if(r&&!h(e.target,r.node)){e.preventDefault();var s=c(1,r.node,r.before,!1);t.getBody().focus(),l(s)}}})),t.on("keypress",(function(e){Av.modifierPressed(e)||(e.keyCode,ty(t.selection.getNode())&&e.preventDefault())})),t.on("GetSelectionRange",(function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);(n=n.cloneRange()).selectNode(e),t.range=n}})),t.on("SetSelectionRange",(function(t){t.range=g(t.range);var e=m(t.range,t.forward);e&&(t.range=e)}));var f=function(t){return"mcepastebin"===t.id};t.on("AfterSetSelectionRange",(function(t){var e=t.range;p(e)||f(e.startContainer.parentNode)||y(),s(e.startContainer.parentNode)||v()})),t.on("copy",(function(t){var e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!Ui.ie){var n=a();n&&(t.preventDefault(),e.clearData(),e.setData("text/html",n.outerHTML),e.setData("text/plain",n.outerText))}})),Ub.init(t),Jb.setup(t)},f=function(t){return ql(t)||Jl(t)||Zl(t)},p=function(t){return f(t.startContainer)||f(t.endContainer)},g=function(e){var n=t.schema.getShortEndedElements(),i=t.dom.createRng(),o=e.startContainer,r=e.startOffset,s=e.endContainer,a=e.endOffset;return mn(n,o.nodeName.toLowerCase())?0===r?i.setStartBefore(o):i.setStartAfter(o):i.setStart(o,r),mn(n,s.nodeName.toLowerCase())?0===a?i.setEndBefore(s):i.setEndAfter(s):i.setEnd(s,a),i},m=function(n,o){var s,a,l,u,d,h,f,g,m,v,b=t.$,w=t.dom;if(!n)return null;if(n.collapsed){if(!p(n))if(!1===o){if(g=Dd(-1,i,n),ld(g.getNode(!0)))return c(-1,g.getNode(!0),!1,!1);if(ld(g.getNode()))return c(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(g=Dd(1,i,n),ld(g.getNode()))return c(1,g.getNode(),!g.isAtEnd(),!1);if(ld(g.getNode(!0)))return c(1,g.getNode(!0),!1,!1)}return null}if(u=n.startContainer,d=n.startOffset,h=n.endOffset,3===u.nodeType&&0===d&&ty(u.parentNode)&&(u=u.parentNode,d=w.nodeIndex(u),u=u.parentNode),1!==u.nodeType)return null;if(h===d+1&&u===n.endContainer&&(s=u.childNodes[d]),!ty(s))return null;if(m=v=s.cloneNode(!0),(f=t.fire("ObjectSelected",{target:s,targetClone:m})).isDefaultPrevented())return null;a=bl(Ze.fromDom(t.getBody()),"#"+r).fold((function(){return b([])}),(function(t){return b([t.dom()])})),m=f.targetClone,0===a.length&&(a=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",r)).appendTo(t.getBody()),n=t.dom.createRng(),m===v&&Ui.ie?(a.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(m),n.setStartAfter(a[0].firstChild.firstChild),n.setEndAfter(m)):(a.empty().append("\xa0").append(m).append("\xa0"),n.setStart(a[0].firstChild,1),n.setEnd(a[0].lastChild,0)),a.css({top:w.getPos(s,t.getBody()).y}),a[0].focus(),(l=t.selection.getSel()).removeAllRanges(),l.addRange(n);var _=Ze.fromDom(s);return pt(pl(Ze.fromDom(t.getBody()),"*[data-mce-selected]"),(function(t){Bn(_,t)||kn(t,"data-mce-selected")})),t.dom.getAttrib(s,"data-mce-selected")||s.setAttribute("data-mce-selected","1"),e=s,y(),n},v=function(){e&&(e.removeAttribute("data-mce-selected"),bl(Ze.fromDom(t.getBody()),"#"+r).each(ha),e=null),bl(Ze.fromDom(t.getBody()),"#"+r).each(ha),e=null},b=function(){o.destroy(),e=null},y=function(){o.hide()};return Ui.ceFalse&&h(),{showCaret:c,showBlockCaretContainer:d,hideFakeCaret:y,destroy:b}},iy=0,oy=1,ry=2,sy=function(t,e){var n=t.length+e.length+2,i=new Array(n),o=new Array(n),r=function(t,e,n){return{start:t,end:e,diag:n}},s=function(n,i,o,r,a){var u=l(n,i,o,r);if(null===u||u.start===i&&u.diag===i-r||u.end===n&&u.diag===n-o)for(var c=n,d=o;c<i||d<r;)c<i&&d<r&&t[c]===e[d]?(a.push([iy,t[c]]),++c,++d):i-n>r-o?(a.push([ry,t[c]]),++c):(a.push([oy,e[d]]),++d);else{s(n,u.start,o,u.start-u.diag,a);for(var h=u.start;h<u.end;++h)a.push([iy,t[h]]);s(u.end,i,u.end-u.diag,r,a)}},a=function(n,i,o,s){for(var a=n;a-i<s&&a<o&&t[a]===e[a-i];)++a;return r(n,a,i)},l=function(n,r,s,l){var u=r-n,c=l-s;if(0===u||0===c)return null;var d,h,f,p,g,m=u-c,v=c+u,b=(v%2==0?v:v+1)/2;for(i[1+b]=n,o[1+b]=r+1,d=0;d<=b;++d){for(h=-d;h<=d;h+=2){for(f=h+b,h===-d||h!==d&&i[f-1]<i[f+1]?i[f]=i[f+1]:i[f]=i[f-1]+1,g=(p=i[f])-n+s-h;p<r&&g<l&&t[p]===e[g];)i[f]=++p,++g;if(m%2!=0&&m-d<=h&&h<=m+d&&o[f-m]<=i[f])return a(o[f-m],h+n-s,r,l)}for(h=m-d;h<=m+d;h+=2){for(f=h+b-m,h===m-d||h!==m+d&&o[f+1]<=o[f-1]?o[f]=o[f+1]-1:o[f]=o[f-1],g=(p=o[f]-1)-n+s-h;p>=n&&g>=s&&t[p]===e[g];)o[f]=p--,g--;if(m%2==0&&-d<=h&&h<=d&&o[f]<=i[f+m])return a(o[f],h+n-s,r,l)}}},u=[];return s(0,t.length,0,e.length,u),u},ay={KEEP:iy,DELETE:ry,INSERT:oy,diff:sy},ly=function(t){return Zt.isElement(t)?t.outerHTML:Zt.isText(t)?br.encodeRaw(t.data,!1):Zt.isComment(t)?"<!--"+t.data+"-->":""},uy=function(e){var n,i,o;for(o=t.document.createElement("div"),n=t.document.createDocumentFragment(),e&&(o.innerHTML=e);i=o.firstChild;)n.appendChild(i);return n},cy=function(t,e,n){var i=uy(e);if(t.hasChildNodes()&&n<t.childNodes.length){var o=t.childNodes[n];o.parentNode.insertBefore(i,o)}else t.appendChild(i)},dy=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},hy=function(t,e){var n=0;pt(t,(function(t){t[0]===ay.KEEP?n++:t[0]===ay.INSERT?(cy(e,t[1],n),n++):t[0]===ay.DELETE&&dy(e,n)}))},fy={read:function(t){return vt(ft(zt(t.childNodes),ly),(function(t){return t.length>0}))},write:function(t,e){var n=ft(zt(e.childNodes),ly);return hy(ay.diff(n,t),e),e}},py=te(X.none()),gy=function(){return py.get().getOrThunk((function(){var e=t.document.implementation.createHTMLDocument("undo");return py.set(X.some(e)),e}))},my=function(t){return-1!==t.indexOf("</iframe>")},vy=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},by=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},yy=function(t){var e,n,i;return e=fy.read(t.getBody()),n=(i=Ct(e,(function(e){var n=Pf.trimInternal(t.serializer,e);return n.length>0?[n]:[]}))).join(""),my(n)?vy(i):by(n)},wy=function(t,e,n){"fragmented"===e.type?fy.write(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},_y=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},xy=function(t){var e=Ze.fromTag("body",gy());return Ll(e,_y(t)),pt(pl(e,"*[data-mce-bogus]"),fa),Hl(e)},Cy=function(t,e){return _y(t)===_y(e)},ky=function(t,e){return xy(t)===xy(e)},Ty={createFragmentedLevel:vy,createCompleteLevel:by,createFromEditor:yy,applyToEditor:wy,isEq:function(t,e){return!(!t||!e)&&(!!Cy(t,e)||ky(t,e))}},Sy=function(t){return 0===t.get()},Ey=function(t,e,n){Sy(n)&&(t.typing=e)},Ny=function(t,e){t.typing&&(Ey(t,!1,e),t.add())},Dy=function(t){t.typing&&(t.typing=!1,t.add())},Ay=function(t,e,n){Sy(e)&&n.set(X.some(Lc.getUndoBookmark(t.selection)))},zy=function(t,e,n,i,o,r,s){var a=t.settings,l=Ty.createFromEditor(t);if(r=r||{},r=po.extend(r,l),!1===Sy(i)||t.removed)return null;var u=e.data[n.get()];if(t.fire("BeforeAddUndo",{level:r,lastLevel:u,originalEvent:s}).isDefaultPrevented())return null;if(u&&Ty.isEq(u,r))return null;if(e.data[n.get()]&&o.get().each((function(t){e.data[n.get()].beforeBookmark=t})),a.custom_undo_redo_levels&&e.data.length>a.custom_undo_redo_levels){for(var c=0;c<e.data.length-1;c++)e.data[c]=e.data[c+1];e.data.length--,n.set(e.data.length)}r.bookmark=Lc.getUndoBookmark(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(r),n.set(e.data.length-1);var d={level:r,lastLevel:u,originalEvent:s};return t.fire("AddUndo",d),n.get()>0&&(t.setDirty(!0),t.fire("change",d)),r},Py=function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.fire("ClearUndos")},My=function(t,e,n,i,o){if(e.transact(i)){var r=e.data[n.get()].bookmark,s=e.data[n.get()-1];Ty.applyToEditor(t,s,!0),e.transact(o)&&(e.data[n.get()-1].beforeBookmark=r)}},Iy=function(t,e,n){var i;return e.get()<n.length-1&&(e.set(e.get()+1),i=n[e.get()],Ty.applyToEditor(t,i,!1),t.setDirty(!0),t.fire("Redo",{level:i})),i},Ry=function(t,e,n,i){var o;return e.typing&&(e.add(),e.typing=!1,Ey(e,!1,n)),i.get()>0&&(i.set(i.get()-1),o=e.data[i.get()],Ty.applyToEditor(t,o,!0),t.setDirty(!0),t.fire("Undo",{level:o})),o},Oy=function(t){t.clear(),t.add()},Hy=function(t,e,n){return n.get()>0||e.typing&&e.data[0]&&!Ty.isEq(Ty.createFromEditor(t),e.data[0])},Ly=function(t,e){return e.get()<t.data.length-1&&!t.typing},Fy=function(t,e,n){return Ny(t,e),t.beforeChange(),t.ignore(n),t.add()},By=function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}},$y=function(t,e,n){var i=te(!1),o=function(t){Ey(e,!1,n),e.add({},t)};t.on("init",(function(){e.add()})),t.on("BeforeExecCommand",(function(t){var i=t.command;"Undo"!==i&&"Redo"!==i&&"mceRepaint"!==i&&(Ny(e,n),e.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&o(t)})),t.on("ObjectResizeStart cut",(function(){e.beforeChange()})),t.on("SaveContent ObjectResized blur",o),t.on("dragend",o),t.on("keyup",(function(n){var r=n.keyCode;n.isDefaultPrevented()||((r>=33&&r<=36||r>=37&&r<=40||45===r||n.ctrlKey)&&(o(),t.nodeChanged()),46!==r&&8!==r||t.nodeChanged(),i.get()&&e.typing&&!1===Ty.isEq(Ty.createFromEditor(t),e.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),i.set(!1),t.nodeChanged()))})),t.on("keydown",(function(t){var r=t.keyCode;if(!t.isDefaultPrevented())if(r>=33&&r<=36||r>=37&&r<=40||45===r)e.typing&&o(t);else{var s=t.ctrlKey&&!t.altKey||t.metaKey;!(r<16||r>20)||224===r||91===r||e.typing||s||(e.beforeChange(),Ey(e,!0,n),e.add({},t),i.set(!0))}})),t.on("mousedown",(function(t){e.typing&&o(t)}));var r=function(t){return"insertReplacementText"===t.inputType},s=function(t){return"insertText"===t.inputType&&null===t.data};t.on("input",(function(t){t.inputType&&(r(t)||s(t))&&o(t)})),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()}))},jy=function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},Vy=function(t){var e=te(X.none()),n=te(0),i=te(0),o={data:[],typing:!1,beforeChange:function(){Ay(t,n,e)},add:function(r,s){return zy(t,o,i,n,e,r,s)},undo:function(){return Ry(t,o,n,i)},redo:function(){return Iy(t,i,o.data)},clear:function(){Py(t,o,i)},reset:function(){Oy(o)},hasUndo:function(){return Hy(t,o,i)},hasRedo:function(){return Ly(o,i)},transact:function(t){return Fy(o,n,t)},ignore:function(t){By(n,t)},extra:function(e,n){My(t,o,i,e,n)}};return $y(t,o,n),jy(t),o},Uy=function(t){for(var e=[],n=t.dom();n;)e.push(Ze.fromDom(n)),n=n.lastChild;return e},qy=function(t){return ln(t)?"\xa0"===lf(t):No(t)},Wy={removeTrailingBr:function(t){var e=pl(t,"br"),n=vt(Uy(t).slice(-1),No);e.length===n.length&&pt(n,ha)},fillWithPaddingBr:function(t){da(t),aa(t,Ze.fromHtml('<br data-mce-bogus="1">'))},isPaddedElement:function(t){return 1===vt(Zn(t),qy).length},trimBlockTrailingBr:function(t){ni(t).each((function(e){Gn(e).each((function(n){To(t)&&No(e)&&To(n)&&ha(e)}))}))}},Yy=Fh.isEq,Ky=function(t,e,n){var i=t.formatter.get(n);if(i)for(var o=0;o<i.length;o++)if(!1===i[o].inherit&&t.dom.is(e,i[o].selector))return!0;return!1},Gy=function(t,e,n,i){var o=t.dom.getRoot();return e!==o&&(e=t.dom.getParent(e,(function(e){return!!Ky(t,e,n)||(e.parentNode===o||!!Jy(t,e,n,i,!0))})),Jy(t,e,n,i))},Xy=function(t,e,n){return!!Yy(e,n.inline)||(!!Yy(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0))},Qy=function(t,e,n,i,o,r){var s,a,l,u=n[i];if(n.onmatch)return n.onmatch(e,n,i);if(u)if(void 0===u.length){for(s in u)if(u.hasOwnProperty(s)){if(a="attributes"===i?t.getAttrib(e,s):Fh.getStyle(t,e,s),o&&!a&&!n.exact)return;if((!o||n.exact)&&!Yy(a,Fh.normalizeStyleValue(t,Fh.replaceVars(u[s],r),s)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?t.getAttrib(e,u[l]):Fh.getStyle(t,e,u[l]))return n;return n},Jy=function(t,e,n,i,o){var r,s,a,l,u=t.formatter.get(n),c=t.dom;if(u&&e)for(s=0;s<u.length;s++)if(r=u[s],Xy(t.dom,e,r)&&Qy(c,e,r,"attributes",o,i)&&Qy(c,e,r,"styles",o,i)){if(l=r.classes)for(a=0;a<l.length;a++)if(!t.dom.hasClass(e,l[a]))return;return r}},Zy=function(t,e,n,i){var o;return i?Gy(t,i,e,n):(i=t.selection.getNode(),!!Gy(t,i,e,n)||!((o=t.selection.getStart())===i||!Gy(t,o,e,n)))},tw=function(t,e,n){var i,o=[],r={};return i=t.selection.getStart(),t.dom.getParent(i,(function(i){var s,a;for(s=0;s<e.length;s++)a=e[s],!r[a]&&Jy(t,i,a,n)&&(r[a]=!0,o.push(a))}),t.dom.getRoot()),o},ew=function(t,e){var n,i,o,r,s,a=t.formatter.get(e),l=t.dom;if(a)for(n=t.selection.getStart(),i=Fh.getParents(l,n),r=a.length-1;r>=0;r--){if(!(s=a[r].selector)||a[r].defaultBlock)return!0;for(o=i.length-1;o>=0;o--)if(l.is(i[o],s))return!0}return!1},nw={matchNode:Jy,matchName:Xy,match:Zy,matchAll:tw,canApply:ew,matchesUnInheritedFormatSelector:Ky},iw=function(t,e){return t.splitText(e)},ow=function(t){var e=t.startContainer,n=t.startOffset,i=t.endContainer,o=t.endOffset;return e===i&&Zt.isText(e)?n>0&&n<e.nodeValue.length&&(e=(i=iw(e,n)).previousSibling,o>n?(e=i=iw(i,o-=n).previousSibling,o=i.nodeValue.length,n=0):o=0):(Zt.isText(e)&&n>0&&n<e.nodeValue.length&&(e=iw(e,n),n=0),Zt.isText(i)&&o>0&&o<i.nodeValue.length&&(o=(i=iw(i,o).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:i,endOffset:o}},rw=function(t){return-1!==" \f\n\r\t\v".indexOf(t)},sw=function(t,e,n){return yt(t,(function(i,o){return rw(o)||"\xa0"===o?i.previousCharIsSpace||""===i.str&&e||i.str.length===t.length-1&&n?{previousCharIsSpace:!1,str:i.str+"\xa0"}:{previousCharIsSpace:!0,str:i.str+" "}:{previousCharIsSpace:!1,str:i.str+o}}),{previousCharIsSpace:!1,str:""}).str},aw=function(t,e,n){if(0!==n){var i=t.data.slice(e,e+n),o=e+n>=t.data.length,r=0===e;t.replaceData(e,n,sw(i,r,o))}},lw=function(t,e){var n=t.data.slice(e),i=n.length-He(n).length;return aw(t,e,i)},uw=function(t,e){var n=t.data.slice(0,e),i=n.length-Le(n).length;return aw(t,e-i,i)},cw=function(t,e,n){var i=Le(t.data).length;return t.appendData(e.data),ha(Ze.fromDom(e)),n&&lw(t,i),t},dw=function(t,e,n){return vl(t,e,n).isSome()},hw=function(t,n){var i=Ze.fromDom(t),o=Ze.fromDom(n);return dw(o,"pre,code",e(Bn,i))},fw=function(t,e){return Zt.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===hw(t,e)},pw=function(t){return Zt.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")},gw=function(t,e){return du(e)&&!1===fw(t,e)||pw(e)||mw(e)},mw=Zt.hasAttribute("data-mce-bookmark"),vw=Zt.hasAttribute("data-mce-bogus"),bw=Zt.hasAttributeValue("data-mce-bogus","all"),yw=function(t){var e,n=0;if(gw(t,t))return!1;if(!(e=t.firstChild))return!0;var i=new ia(e,t);do{if(bw(e))e=i.next(!0);else if(vw(e))e=i.next();else if(Zt.isBr(e))n++,e=i.next();else{if(gw(t,e))return!1;e=i.next()}}while(e);return n<=1},ww={isEmpty:function(t){return yw(t.dom())}},_w=function(t,e){var n=t.container(),i=t.offset();return!1===oc.isTextPosition(t)&&n===e.parentNode&&i>oc.before(e).offset()},xw=function(t,e){return _w(e,t)?oc(e.container(),e.offset()-1):e},Cw=function(t){return Zt.isText(t)?oc(t,0):oc.before(t)},kw=function(t){return Zt.isText(t)?oc(t,t.data.length):oc.after(t)},Tw=function(t){return du(t.previousSibling)?X.some(kw(t.previousSibling)):t.previousSibling?sh.lastPositionIn(t.previousSibling):X.none()},Sw=function(t){return du(t.nextSibling)?X.some(Cw(t.nextSibling)):t.nextSibling?sh.firstPositionIn(t.nextSibling):X.none()},Ew=function(t,e){var n=oc.before(e.previousSibling?e.previousSibling:e.parentNode);return sh.prevPosition(t,n).fold((function(){return sh.nextPosition(t,oc.after(e))}),X.some)},Nw=function(t,e){return sh.nextPosition(t,oc.after(e)).fold((function(){return sh.prevPosition(t,oc.before(e))}),X.some)},Dw=function(t,e){return Tw(e).orThunk((function(){return Sw(e)})).orThunk((function(){return Ew(t,e)}))},Aw=function(t,e){return Sw(e).orThunk((function(){return Tw(e)})).orThunk((function(){return Nw(t,e)}))},zw=function(t,e,n){return t?Aw(e,n):Dw(e,n)},Pw=function(t,n,i){return zw(t,n,i).map(e(xw,i))},Mw=function(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))},Iw=function(t){return function(e){return e.dom()===t}},Rw=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(on(e))},Ow=function(t){if(ww.isEmpty(t)){var e=Ze.fromHtml('<br data-mce-bogus="1">');return da(t),aa(t,e),X.some(oc.before(e.dom()))}return X.none()},Hw=function(t,e,n){var i=Gn(t).filter(ln),o=Xn(t).filter(ln);return ha(t),zu(i,o,e,(function(t,e,i){var o=t.dom(),r=e.dom(),s=o.data.length;return cw(o,r,n),i.container()===r?oc(o,s):i})).orThunk((function(){return n&&(i.each((function(t){return uw(t.dom(),t.dom().length)})),o.each((function(t){return lw(t.dom(),0)}))),e}))},Lw=function(t,e){return mn(t.schema.getTextInlineElements(),on(e))},Fw=function(t,n,i,o){void 0===o&&(o=!0);var r=Pw(n,t.getBody(),i.dom()),s=gl(i,e(Rw,t),Iw(t.getBody())),a=Hw(i,r,Lw(t,i));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):s.bind(Ow).fold((function(){o&&Mw(t,n,a)}),(function(e){o&&Mw(t,n,X.some(e))}))},Bw={deleteElement:Fw},$w=Bl.ZWSP,jw="_mce_caret",Vw=function(t,e){return t.importNode(e,!0)},Uw=function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==$w||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e},qw=function(t){return Uw(t).length>0},Ww=function(t){if(t){var e=new ia(t,t);for(t=e.current();t;t=e.next())if(3===t.nodeType)return t}return null},Yw=function(t){var e=Ze.fromTag("span");return _n(e,{id:jw,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&aa(e,Ze.fromText($w)),e},Kw=function(t){var e=Ww(t);return e&&e.nodeValue.charAt(0)===$w&&e.deleteData(0,1),e},Gw=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,o=t.selection;if(qw(e))Bw.deleteElement(t,!1,Ze.fromDom(e),n);else{var r=o.getRng(),s=i.getParent(e,i.isBlock),a=Kw(e);r.startContainer===a&&r.startOffset>0&&r.setStart(a,r.startOffset-1),r.endContainer===a&&r.endOffset>0&&r.setEnd(a,r.endOffset-1),i.remove(e,!0),s&&i.isEmpty(s)&&Wy.fillWithPaddingBr(Ze.fromDom(s)),o.setRng(r)}},Xw=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,o=t.selection;if(e)Gw(t,e,n);else if(!(e=$c(t.getBody(),o.getStart())))for(;e=i.get(jw);)Gw(t,e,!1)},Qw=function(t,n,i){var o=t.dom,r=o.getParent(i,e(Fh.isTextBlock,t));r&&o.isEmpty(r)?i.parentNode.replaceChild(n,i):(Wy.removeTrailingBr(Ze.fromDom(i)),o.isEmpty(i)?i.parentNode.replaceChild(n,i):o.insertAfter(n,i))},Jw=function(t,e){return t.appendChild(e),e},Zw=function(t,e){var n=bt(t,(function(t,e){return Jw(t,e.cloneNode(!1))}),e);return Jw(n,n.ownerDocument.createTextNode($w))},t_=function(t,e,n){var i,o,r,s,a,l,u=t.selection;s=(i=u.getRng()).startOffset,l=i.startContainer.nodeValue,(o=$c(t.getBody(),u.getStart()))&&(r=Ww(o));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&s>0&&s<l.length&&c.test(l.charAt(s))&&c.test(l.charAt(s-1))?(a=u.getBookmark(),i.collapse(!0),i=tf.expandRng(t,i,t.formatter.get(e)),i=ow(i),t.formatter.apply(e,n,i),u.moveToBookmark(a)):(o&&r.nodeValue===$w||(r=(o=Vw(t.getDoc(),Yw(!0).dom())).firstChild,i.insertNode(o),s=1),t.formatter.apply(e,n,o),u.setCursorLocation(r,s))},e_=function(t,e,n,i){var o,r,s,a,l,u,c,d=t.dom,h=t.selection,f=[],p=h.getRng();for(o=p.startContainer,r=p.startOffset,l=o,3===o.nodeType&&(r!==o.nodeValue.length&&(a=!0),l=l.parentNode);l;){if(nw.matchNode(t,l,e,n,i)){u=l;break}l.nextSibling&&(a=!0),f.push(l),l=l.parentNode}if(u)if(a){s=h.getBookmark(),p.collapse(!0);var g=tf.expandRng(t,p,t.formatter.get(e),!0);g=ow(g),t.formatter.remove(e,n,g),h.moveToBookmark(s)}else{c=$c(t.getBody(),u);var m=Yw(!1).dom(),v=Zw(f,m);Qw(t,m,c||u),Gw(t,c,!1),h.setCursorLocation(v,1),d.isEmpty(u)&&d.remove(u)}},n_=function(t,e){var n=t.selection,i=t.getBody();Xw(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==$w||Xw(t,$c(i,n.getStart())),37!==e&&39!==e||Xw(t,$c(i,n.getStart()))},i_=function(t){t.on("mouseup keydown",(function(e){n_(t,e.keyCode)}))},o_=function(t,e){var n=Yw(!1),i=Zw(e,n.dom());return oa(Ze.fromDom(t),n),ha(Ze.fromDom(t)),oc(i,0)},r_=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(on(e))&&!Bc(e.dom())&&!Zt.isBogus(e.dom())},s_=function(t){return Bc(t.dom())&&qw(t.dom())},a_={},l_=to.filter,u_=to.each,c_=function(t,e){var n=a_[t];n||(a_[t]=n=[]),a_[t].push(e)},d_=function(t,e){u_(a_[t],(function(t){t(e)}))};c_("pre",(function(t){var e,n,i=t.selection.getRng(),o=function(t){return e(t.previousSibling)&&-1!==to.indexOf(n,t.previousSibling)},r=function(t,e){na(e).remove(),na(t).append("<br><br>").append(e.childNodes)};e=Zt.matchNodeNames(["pre"]),i.collapsed||(n=t.selection.getSelectedBlocks(),u_(l_(l_(n,e),o),(function(t){r(t.previousSibling,t)})))}));var h_={postProcess:d_},f_=po.each,p_=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var i=function(e){var n={};return f_(t.getAttribs(e),(function(i){var o=i.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=t.getAttrib(e,o))})),n},o=function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!==n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0};return!!o(i(e),i(n))&&(!!o(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))&&(!Eh.isBookmarkNode(e)&&!Eh.isBookmarkNode(n)))}},g_=/^(src|href|style)$/,m_=po.each,v_=Fh.isEq,b_=function(t){return/^(TH|TD)$/.test(t.nodeName)},y_=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},w_=function(t,e,n){var i,o,r;return i=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],Zt.isElement(i)&&(r=i.childNodes.length-1,!n&&o&&o--,i=i.childNodes[o>r?r:o]),Zt.isText(i)&&n&&o>=i.nodeValue.length&&(i=new ia(i,t.getBody()).next()||i),Zt.isText(i)&&!n&&0===o&&(i=new ia(i,t.getBody()).prev()||i),i},__=function(t,e,n,i){var o=t.create(n,i);return e.parentNode.insertBefore(o,e),o.appendChild(e),o},x_=function(t,e,n,i,o){var r=Ze.fromDom(e),s=Ze.fromDom(t.create(i,o)),a=n?Jn(r):Qn(r);return ca(s,a),n?(oa(r,s),sa(s,r)):(ra(r,s),aa(s,r)),s.dom()},C_=function(t,e,n){return!!v_(e,n.inline)||(!!v_(e,n.block)||(n.selector?Zt.isElement(e)&&t.is(e,n.selector):void 0))},k_=function(t,e){return e.links&&"A"===t.tagName},T_=function(t,e,n,i){return!(e=Fh.getNonWhiteSpaceSibling(e,n,i))||"BR"===e.nodeName||t.isBlock(e)},S_=function(t,e,n){var i,o=e.parentNode,r=t.dom,s=pp.getForcedRootBlock(t);n.block&&(s?o===r.getRoot()&&(n.list_block&&v_(e,n.list_block)||m_(po.grep(e.childNodes),(function(e){Fh.isValid(t,s,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=__(r,e,s),r.setAttribs(i,t.settings.forced_root_block_attrs)):i=0}))):r.isBlock(e)&&!r.isBlock(o)&&(T_(r,e,!1)||T_(r,e.firstChild,!0,1)||e.insertBefore(r.create("br"),e.firstChild),T_(r,e,!0)||T_(r,e.lastChild,!1,1)||e.appendChild(r.create("br")))),n.selector&&n.inline&&!v_(n.inline,e)||r.remove(e,1)},E_=function(t,e,n,i,o){var r,s,a,l=t.dom;if(!C_(l,i,e)&&!k_(i,e))return!1;if("all"!==e.remove)for(m_(e.styles,(function(t,r){t=Fh.normalizeStyleValue(l,Fh.replaceVars(t,n),r),"number"==typeof r&&(r=t,o=0),(e.remove_similar||!o||v_(Fh.getStyle(l,o,r),t))&&l.setStyle(i,r,""),a=1})),a&&""===l.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),m_(e.attributes,(function(t,r){var s;if(t=Fh.replaceVars(t,n),"number"==typeof r&&(r=t,o=0),e.remove_similar||!o||v_(l.getAttrib(o,r),t)){if("class"===r&&(t=l.getAttrib(i,r))&&(s="",m_(t.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(s+=(s?" ":"")+t)})),s))return void l.setAttrib(i,r,s);"class"===r&&i.removeAttribute("className"),g_.test(r)&&i.removeAttribute("data-mce-"+r),i.removeAttribute(r)}})),m_(e.classes,(function(t){t=Fh.replaceVars(t,n),o&&!l.hasClass(o,t)||l.removeClass(i,t)})),s=l.getAttribs(i),r=0;r<s.length;r++){var u=s[r].nodeName;if(0!==u.indexOf("_")&&0!==u.indexOf("data-"))return!1}return"none"!==e.remove?(S_(t,i,e),!0):void 0},N_=function(t,e,n,i,o){var r;return m_(Fh.getParents(t.dom,e.parentNode).reverse(),(function(e){var s;r||"_start"===e.id||"_end"===e.id||(s=nw.matchNode(t,e,n,i,o))&&!1!==s.split&&(r=e)})),r},D_=function(t,e,n,i,o,r,s,a){var l,u,c,d,h,f,p=t.dom;if(n){for(f=n.parentNode,l=i.parentNode;l&&l!==f;l=l.parentNode){for(u=p.clone(l,!1),h=0;h<e.length;h++)if(E_(t,e[h],a,u,u)){u=0;break}u&&(c&&u.appendChild(c),d||(d=u),c=u)}!r||s.mixed&&p.isBlock(n)||(i=p.split(n,i)),c&&(o.parentNode.insertBefore(c,o),d.appendChild(o))}return i},A_=function(t,e,n,i,o){var r,s,a=t.formatter.get(e),l=a[0],u=!0,c=t.dom,d=t.selection,h=function(i){var r=N_(t,i,e,n,o);return D_(t,a,r,i,i,!0,l,n)},f=function(t){
return Eh.isBookmarkNode(t)&&Zt.isElement(t)&&("_start"===t.id||"_end"===t.id)},p=function(e){var i,o,r,s,d;if(Zt.isElement(e)&&c.getContentEditable(e)&&(s=u,u="true"===c.getContentEditable(e),d=!0),i=po.grep(e.childNodes),u&&!d)for(o=0,r=a.length;o<r&&!E_(t,a[o],n,e,e);o++);if(l.deep&&i.length){for(o=0,r=i.length;o<r;o++)p(i[o]);d&&(u=s)}},g=function(t){var e=c.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return f(n)&&(n=n[t?"firstChild":"lastChild"]),Zt.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),c.remove(e,!0),n},m=function(e){var n,i,o=e.commonAncestorContainer;if(e=tf.expandRng(t,e,a,!0),l.split){if(e=ow(e),(n=w_(t,e,!0))!==(i=w_(t,e))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&b_(i)&&i.firstChild&&(i=i.firstChild||i),y_(c,n,i)){var r=X.from(n.firstChild).getOr(n);return h(x_(c,r,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void g(!0)}if(y_(c,i,n)){r=X.from(i.lastChild).getOr(i);return h(x_(c,r,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void g(!1)}n=__(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=__(c,i,"span",{id:"_end","data-mce-type":"bookmark"}),h(n),h(i),n=g(!0),i=g()}else n=i=h(n);e.startContainer=n.parentNode?n.parentNode:n,e.startOffset=c.nodeIndex(n),e.endContainer=i.parentNode?i.parentNode:i,e.endOffset=c.nodeIndex(i)+1}rf.walk(c,e,(function(e){m_(e,(function(e){p(e),Zt.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===Fh.getTextDecoration(c,e.parentNode)&&E_(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)}))}))};if(i)i.nodeType?((s=c.createRng()).setStartBefore(i),s.setEndAfter(i),m(s)):m(i);else if("false"!==c.getContentEditable(d.getNode()))d.isCollapsed()&&l.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?e_(t,e,n,o):(r=Lc.getPersistentBookmark(t.selection,!0),m(d.getRng()),d.moveToBookmark(r),l.inline&&nw.match(t,e,n,d.getStart())&&Fh.moveStart(c,d,d.getRng()),t.nodeChanged());else{i=d.getNode();for(var v=0,b=a.length;v<b&&(!a[v].ceFalseOverride||!E_(t,a[v],n,i,i));v++);}},z_={removeFormat:E_,remove:A_},P_=po.each,M_=function(t){return t&&1===t.nodeType&&!Eh.isBookmarkNode(t)&&!Bc(t)&&!Zt.isBogus(t)},I_=function(t,e){var n;for(n=t;n;n=n[e]){if(3===n.nodeType&&0!==n.nodeValue.length)return t;if(1===n.nodeType&&!Eh.isBookmarkNode(n))return n}return t},R_=function(t,e,n){var i,o,r=new p_(t);if(e&&n&&(e=I_(e,"previousSibling"),n=I_(n,"nextSibling"),r.compare(e,n))){for(i=e.nextSibling;i&&i!==n;)o=i,i=i.nextSibling,e.appendChild(o);return t.remove(n),po.each(po.grep(n.childNodes),(function(t){e.appendChild(t)})),e}return n},O_=function(t,e,n){P_(t.childNodes,(function(t){M_(t)&&(e(t)&&n(t),t.hasChildNodes()&&O_(t,e,n))}))},H_=function(t,n){return e((function(e,n){return!(!n||!Fh.getStyle(t,n,e))}),n)},L_=function(t,n,i){return e((function(e,n,i){t.setStyle(i,e,n),""===i.getAttribute("style")&&i.removeAttribute("style"),F_(t,i)}),n,i)},F_=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},B_=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=Fh.getTextDecoration(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},$_=function(t,n,i,o){(n.styles.color||n.styles.textDecoration)&&(po.walk(o,e(B_,t),"childNodes"),B_(t,o))},j_=function(t,e,n,i){e.styles&&e.styles.backgroundColor&&O_(i,H_(t,"fontSize"),L_(t,"backgroundColor",Fh.replaceVars(e.styles.backgroundColor,n)))},V_=function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(O_(i,H_(t,"fontSize"),L_(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},U_=function(t,e,n,i){i&&!1!==e.merge_siblings&&(i=R_(t,Fh.getNonWhiteSpaceSibling(i),i),i=R_(t,i,Fh.getNonWhiteSpaceSibling(i,!0)))},q_=function(t,e,n){if(e.clear_child_styles){var i=e.links?"*:not(a)":"*";P_(t.select(i,n),(function(n){M_(n)&&P_(e.styles,(function(e,i){t.setStyle(n,i,"")}))}))}},W_=function(t,e,n,i){P_(e,(function(e){P_(t.dom.select(e.inline,i),(function(i){M_(i)&&z_.removeFormat(t,e,n,i,e.exact?i:null)})),q_(t.dom,e,i)}))},Y_=function(t,e,n,i,o){nw.matchNode(t,o.parentNode,n,i)&&z_.removeFormat(t,e,i,o)||e.merge_with_parents&&t.dom.getParent(o.parentNode,(function(r){if(nw.matchNode(t,r,n,i))return z_.removeFormat(t,e,i,o),!0}))},K_={mergeWithChildren:W_,mergeUnderlineAndColor:$_,mergeBackgroundColorAndFontSize:j_,mergeSubSup:V_,mergeSiblings:U_,mergeWithParents:Y_},G_=function(e,n,i,o){var r=t.document.createRange();return r.setStart(e,n),r.setEnd(i,o),r},X_=function(t){var e=oc.fromRangeStart(t),n=oc.fromRangeEnd(t),i=t.commonAncestorContainer;return sh.fromPosition(!1,i,n).map((function(o){return!wd(e,n,i)&&wd(e,o,i)?G_(e.container(),e.offset(),o.container(),o.offset()):t})).getOr(t)},Q_={normalize:function(t){return t.collapsed?t:X_(t)}},J_=po.each,Z_=function(t){return t&&1===t.nodeType&&!Eh.isBookmarkNode(t)&&!Bc(t)&&!Zt.isBogus(t)},tx=function(t,e,n,i){var o,r,s=t.formatter.get(e),a=s[0],l=!i&&t.selection.isCollapsed(),u=t.dom,c=t.selection,d=function(t,e){if(e=e||a,t){if(e.onformat&&e.onformat(t,e,n,i),J_(e.styles,(function(e,i){u.setStyle(t,i,Fh.replaceVars(e,n))})),e.styles){var o=u.getAttrib(t,"style");o&&t.setAttribute("data-mce-style",o)}J_(e.attributes,(function(e,i){u.setAttrib(t,i,Fh.replaceVars(e,n))})),J_(e.classes,(function(e){e=Fh.replaceVars(e,n),u.hasClass(t,e)||u.addClass(t,e)}))}},h=function(t,e){var n=!1;return!!a.selector&&(J_(t,(function(t){if(!("collapsed"in t)||t.collapsed===l)return u.is(e,t.selector)&&!Bc(e)?(d(e,t),n=!0,!1):void 0})),n)},f=function(i,o,r,l){var u,c,f=[],p=!0;u=a.inline||a.block,c=i.create(u),d(c),rf.walk(i,o,(function(o){var r,g=function(o){var m,v,b,y;if(y=p,m=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&i.getContentEditable(o)&&(y=p,p="true"===i.getContentEditable(o),b=!0),Fh.isEq(m,"br"))return r=0,void(a.block&&i.remove(o));if(a.wrapper&&nw.matchNode(t,o,e,n))r=0;else{if(p&&!b&&a.block&&!a.wrapper&&Fh.isTextBlock(t,m)&&Fh.isValid(t,v,u))return o=i.rename(o,u),d(o),f.push(o),void(r=0);if(a.selector){var w=h(s,o);if(!a.inline||w)return void(r=0)}!p||b||!Fh.isValid(t,u,m)||!Fh.isValid(t,v,u)||!l&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Bc(o)||a.inline&&i.isBlock(o)?(r=0,J_(po.grep(o.childNodes),g),b&&(p=y),r=0):(r||(r=i.clone(c,!1),o.parentNode.insertBefore(r,o),f.push(r)),r.appendChild(o))}};J_(o,g)})),!0===a.links&&J_(f,(function(t){var e=function(t){"A"===t.nodeName&&d(t,a),J_(po.grep(t.childNodes),e)};e(t)})),J_(f,(function(o){var r,l=function(t){var e=0;return J_(t.childNodes,(function(t){Fh.isWhiteSpaceNode(t)||Eh.isBookmarkNode(t)||e++})),e},u=function(t){var e=!1;return J_(t.childNodes,(function(t){if(Z_(t))return e=t,!1})),e},c=function(t){var e,n;return(e=u(t))&&!Eh.isBookmarkNode(e)&&nw.matchName(i,e,a)&&(n=i.clone(e,!1),d(n),i.replace(n,t,!0),i.remove(e,1)),n||t};r=l(o),!(f.length>1)&&i.isBlock(o)||0!==r?(a.inline||a.wrapper)&&(a.exact||1!==r||(o=c(o)),K_.mergeWithChildren(t,s,n,o),K_.mergeWithParents(t,a,e,n,o),K_.mergeBackgroundColorAndFontSize(i,a,n,o),K_.mergeSubSup(i,a,n,o),K_.mergeSiblings(i,a,n,o)):i.remove(o,1)}))};if("false"!==u.getContentEditable(c.getNode())){if(a){if(i)i.nodeType?h(s,i)||((r=u.createRng()).setStartBefore(i),r.setEndAfter(i),f(u,tf.expandRng(t,r,s),null,!0)):f(u,i,null,!0);else if(l&&a.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length)t_(t,e,n);else{var p=t.selection.getNode();t.settings.forced_root_block||!s[0].defaultBlock||u.getParent(p,u.isBlock)||tx(t,s[0].defaultBlock),t.selection.setRng(Q_.normalize(t.selection.getRng())),o=Lc.getPersistentBookmark(t.selection,!0),f(u,tf.expandRng(t,c.getRng(),s)),a.styles&&K_.mergeUnderlineAndColor(u,a,n,p),c.moveToBookmark(o),Fh.moveStart(u,c,c.getRng()),t.nodeChanged()}h_.postProcess(e,t)}}else{i=c.getNode();for(var g=0,m=s.length;g<m;g++)if(s[g].ceFalseOverride&&u.is(i,s[g].selector))return void d(i,s[g])}},ex={applyFormat:tx},nx=function(t,e){var n=te({});t.set({}),e.on("NodeChange",(function(i){ix(e,i.element,n,t.get())}))},ix=function(t,e,n,i){var o=un(n.get()),r={},s={},a=vt(Fh.getParents(t.dom,e),(function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}));dn(i,(function(e,n){po.each(a,(function(i){return t.formatter.matchNode(i,n,{},e.similar)?(-1===o.indexOf(n)&&(pt(e.callbacks,(function(t){t(!0,{node:i,format:n,parents:a})})),r[n]=e.callbacks),s[n]=e.callbacks,!1):!nw.matchesUnInheritedFormatSelector(t,i,n)&&void 0}))}));var l=ox(n.get(),s,e,a);n.set(Pt(Pt({},r),l))},ox=function(t,e,n,i){return pn(t,(function(t,o){return!!mn(e,o)||(pt(t,(function(t){t(!1,{node:n,format:o,parents:i})})),!1)})).t},rx=function(t,e,n,i){var o=t.get();pt(e.split(","),(function(t){o[t]||(o[t]={similar:i,callbacks:[]}),o[t].callbacks.push(n)})),t.set(o)},sx=function(t,e,n){var i=t.get();pt(e.split(","),(function(t){i[t].callbacks=vt(i[t].callbacks,(function(t){return t!==n})),0===i[t].callbacks.length&&delete i[t]})),t.set(i)},ax=function(t,e,n,i,o){return null===e.get()&&nx(e,t),rx(e,n,i,o),{unbind:function(){return sx(e,n,i)}}},lx=function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,i){po.each(i,(function(n,i){t.setAttrib(e,i,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return po.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(t){e[t]={block:t,remove:"all"}})),e},ux={get:lx},cx=po.each,dx=Ia.DOM,hx=function(t,e){var n,i,r,s=e&&e.schema||o({}),a=function(t,e){e.classes.length&&dx.addClass(t,e.classes.join(" ")),dx.setAttribs(t,e.attrs)},l=function(t){var e;return i="string"==typeof t?{name:t,classes:[],attrs:{}}:t,e=dx.create(i.name),a(e,i),e},u=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,i=s.getElementRule(n),o=i&&i.parentsRequired;return!(!o||!o.length)&&(e&&-1!==po.inArray(o,e)?e:o[0])},c=function(t,e,n){var i,o,r,s=e.length>0&&e[0],a=s&&s.name;if(r=u(t,a))a===r?(o=e[0],e=e.slice(1)):o=r;else if(s)o=e[0],e=e.slice(1);else if(!n)return t;return o&&(i=l(o)).appendChild(t),n&&(i||(i=dx.create("div")).appendChild(t),po.each(n,(function(e){var n=l(e);i.insertBefore(n,t)}))),c(i,e,o&&o.siblings)};return t&&t.length?(i=t[0],n=l(i),(r=dx.create("div")).appendChild(c(n,t.slice(1),i.siblings)),r):""},fx=function(t,e){return hx(gx(t),e)},px=function(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=po.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,i,o,r){switch(e){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==po.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===o){var s=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""}))),n.name=e||"div",n},gx=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),po.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=po.map(t.split(/(?:~\+|~|\+)/),px),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[]},mx=function(t,e){var n,i,o,r,s,a,l="";if(!1===(a=t.settings.preview_styles))return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var u=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(a=e.preview)?"":(n=e.block||e.inline||"span",(r=gx(e.selector)).length?(r[0].name||(r[0].name=n),n=e.selector,i=hx(r,t)):i=hx([n],t),o=dx.select(n,i)[0]||i.firstChild,cx(e.styles,(function(t,e){(t=u(t))&&dx.setStyle(o,e,t)})),cx(e.attributes,(function(t,e){(t=u(t))&&dx.setAttrib(o,e,t)})),cx(e.classes,(function(t){t=u(t),dx.hasClass(o,t)||dx.addClass(o,t)})),t.fire("PreviewFormats"),dx.setStyles(i,{position:"absolute",left:-65535}),t.getBody().appendChild(i),s=dx.getStyle(t.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,cx(a.split(" "),(function(e){var n=dx.getStyle(o,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=dx.getStyle(t.getBody(),e,!0),"#ffffff"===dx.toHex(n).toLowerCase())||"color"===e&&"#000000"===dx.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===s)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*s+"px"}"border"===e&&n&&(l+="padding:0 2px;"),l+=e+":"+n+";"}})),t.fire("AfterPreviewFormats"),dx.remove(i),l)},vx={getCssText:mx,parseSelector:gx,selectorToHtml:fx},bx=function(t,e,n,i,o){var r=e.get(n);!nw.match(t,n,i,o)||"toggle"in r[0]&&!r[0].toggle?ex.applyFormat(t,n,i,o):z_.remove(t,n,i,o)},yx={toggle:bx},wx=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},_x={setup:wx},xx=function(t){var n=M(t),i=te(null);return _x.setup(t),i_(t),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:e(ex.applyFormat,t),remove:e(z_.remove,t),toggle:e(yx.toggle,t,n),match:e(nw.match,t),matchAll:e(nw.matchAll,t),matchNode:e(nw.matchNode,t),canApply:e(nw.canApply,t),formatChanged:e(ax,t,i),getCssText:e(vx.getCssText,t)}},Cx=function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){for(var n,i=t.length;i--;)(n=t[i]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)})),t.addAttributeFilter("src,href,style",(function(t,i){for(var o,r,s=t.length,a="data-mce-"+i,l=e.url_converter,u=e.url_converter_scope;s--;)void 0!==(r=(o=t[s]).attr(a))?(o.attr(i,r.length>0?r:null),o.attr(a,null)):(r=o.attr(i),"style"===i?r=n.serializeStyle(n.parseStyle(r),o.name):l&&(r=l.call(u,r,i,o.name)),o.attr(i,r.length>0?r:null))})),t.addAttributeFilter("class",(function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))})),t.addAttributeFilter("data-mce-type",(function(t,e,n){for(var i,o=t.length;o--;)if("bookmark"===(i=t[o]).attr("data-mce-type")&&!n.cleanup){var r=X.from(i.firstChild).exists((function(t){return!Bl.isZwsp(t.value)}));r?i.unwrap():i.remove()}})),t.addNodeFilter("noscript",(function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=br.decode(e.value))})),t.addNodeFilter("script,style",(function(t,n){for(var i,o,r,s=t.length,a=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};s--;)o=(i=t[s]).firstChild?i.firstChild.value:"","script"===n?((r=i.attr("type"))&&i.attr("type","mce-no/type"===r?null:r.replace(/^mce\-/,"")),"xhtml"===e.element_format&&o.length>0&&(i.firstChild.value="// <![CDATA[\n"+a(o)+"\n// ]]>")):"xhtml"===e.element_format&&o.length>0&&(i.firstChild.value="<!--\n"+a(o)+"\n-->")})),t.addNodeFilter("#comment",(function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))})),t.addNodeFilter("xml:namespace,input",(function(t,e){for(var n,i=t.length;i--;)7===(n=t[i]).type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))})),t.addAttributeFilter("data-mce-type",(function(e){pt(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}))},kx=function(t){var e,n,i=function(t){return t&&"br"===t.name};i(e=t.lastChild)&&i(n=e.prev)&&(e.remove(),n.remove())},Tx={register:Cx,trimTrailingBr:kx},Sx=function(e,n,i){var o,r,s,a=e.dom;return n=n.cloneNode(!0),(o=t.document.implementation).createHTMLDocument&&(r=o.createHTMLDocument(""),po.each("BODY"===n.nodeName?n.childNodes:[n],(function(t){r.body.appendChild(r.importNode(t,!0))})),n="BODY"!==n.nodeName?r.body.firstChild:r.body,s=a.doc,a.doc=r),Lg.firePreProcess(e,Qg(i,{node:n})),s&&(a.doc=s),n},Ex=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},Nx={process:function(t,e,n){return Ex(t,n)?Sx(t,e,n):e}},Dx=function(t,e){pt(e,(function(e){t.attr(e,null)}))},Ax=function(t,e,n){t.addNodeFilter("font",(function(t){pt(t,(function(t){var i=e.parse(t.attr("style")),o=t.attr("color"),r=t.attr("face"),s=t.attr("size");o&&(i.color=o),r&&(i["font-family"]=r),s&&(i["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(i)),Dx(t,["color","face","size"])}))}))},zx=function(t,e){t.addNodeFilter("strike",(function(t){pt(t,(function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))}))}))},Px=function(t,e){var n=Ar();e.convert_fonts_to_spans&&Ax(t,n,po.explode(e.font_size_legacy_values)),zx(t,n)},Mx={register:function(t,e){e.inline_styles&&Px(t,e)}},Ix=function(t,e,n,i){(t.padd_empty_with_br||e.insert)&&n[i.name]?i.empty().append(new wf("br",1)).shortEnded=!0:i.empty().append(new wf("#text",3)).value="\xa0"},Rx=function(t){return Ox(t,"#text")&&"\xa0"===t.firstChild.value},Ox=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},Hx=function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty},Lx=function(t,e,n,i){return i.isEmpty(e,n,(function(e){return Hx(t,e)}))},Fx=function(t,e){return t&&(e[t.name]||"br"===t.name)},Bx=function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",(function(t,i,o){var r,s,a,l,u,c,d,h,f=t.length,p=po.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),m=n.getNonEmptyElements();for(p.body=1,r=0;r<f;r++)if(a=(s=t[r]).parent,p[s.parent.name]&&s===a.lastChild){for(u=s.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==c)break;if("br"===c){s=null;break}}u=u.prev}s&&(s.remove(),Lx(n,g,m,a)&&(d=n.getElementRule(a.name))&&(d.removeEmpty?a.remove():d.paddEmpty&&Ix(e,o,p,a)))}else{for(l=s;a&&a.firstChild===l&&a.lastChild===l&&(l=a,!p[a.name]);)a=a.parent;l===a&&!0!==e.padd_empty_with_br&&((h=new wf("#text",3)).value="\xa0",s.replace(h))}})),t.addAttributeFilter("href",(function(t){var n,i=t.length,o=function(t){return t.split(" ").filter((function(t){return t.length>0})).concat(["noopener"]).sort().join(" ")},r=function(t){var e=t?po.trim(t):"";return/\b(noopener)\b/g.test(e)?e:o(e)};if(!e.allow_unsafe_link_target)for(;i--;)"a"===(n=t[i]).name&&"_blank"===n.attr("target")&&n.attr("rel",r(n.attr("rel")))})),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){for(var e,n,i,o,r=t.length;r--;)if("a"===(o=t[r]).name&&o.firstChild&&!o.attr("href")){i=o.parent,e=o.lastChild;do{n=e.prev,i.insert(e,o),e=n}while(e)}})),e.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){for(var e,n,i=t.length;i--;)if("ul"===(n=(e=t[i]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var o=new wf("li",1);o.attr("style","list-style-type: none"),e.wrap(o)}})),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",(function(t){for(var e,i,o,r,s,a,l,u=t.length,c=n.getValidClasses();u--;){for(i=(e=t[u]).attr("class").split(" "),s="",o=0;o<i.length;o++)r=i[o],l=!1,(a=c["*"])&&a[r]&&(l=!0),a=c[e.name],!l&&a&&a[r]&&(l=!0),l&&(s&&(s+=" "),s+=r);s.length||(s=null),e.attr("class",s)}}))},$x=po.makeMap,jx=po.each,Vx=po.explode,Ux=po.extend,qx=function(t,e){void 0===e&&(e=o());var n={},i=[],r={},s={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var a=function(t){var n,i,o,r,s,a,u,c,d,h,f,p,g,m,v,b;for(p=$x("tr,td,th,tbody,thead,tfoot,table"),h=e.getNonEmptyElements(),f=e.getWhiteSpaceElements(),g=e.getTextBlockElements(),m=e.getSpecialElements(),n=0;n<t.length;n++)if((i=t[n]).parent&&!i.fixed)if(g[i.name]&&"li"===i.parent.name){for(v=i.next;v&&g[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(r=[i],o=i.parent;o&&!e.isValidChild(o.name,i.name)&&!p[o.name];o=o.parent)r.push(o);if(o&&r.length>1){for(r.reverse(),s=a=l(r[0].clone()),d=0;d<r.length-1;d++){for(e.isValidChild(a.name,r[d].name)?(u=l(r[d].clone()),a.append(u)):u=a,c=r[d].firstChild;c&&c!==r[d+1];)b=c.next,u.append(c),c=b;a=u}Lx(e,h,f,s)?o.insert(i,r[0],!0):(o.insert(s,r[0],!0),o.insert(i,s)),o=r[0],(Lx(e,h,f,o)||Ox(o,"br"))&&o.empty().remove()}else if(i.parent){if("li"===i.name){if((v=i.prev)&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if((v=i.next)&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(l(new wf("ul",1)));continue}e.isValidChild(i.parent.name,"div")&&e.isValidChild("div",i.name)?i.wrap(l(new wf("div",1))):m[i.name]?i.empty().remove():i.unwrap()}}},l=function(t){var e,o,a;(o=t.name)in n&&((a=r[o])?a.push(t):r[o]=[t]),e=i.length;for(;e--;)(o=i[e].name)in t.attributes.map&&((a=s[o])?a.push(t):s[o]=[t]);return t},u=function(t,e){jx(Vx(t),(function(t){var i=n[t];i||(n[t]=i=[]),i.push(e)}))},c=function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},d=function(t,e){jx(Vx(t),(function(t){var n;for(n=0;n<i.length;n++)if(i[n].name===t)return void i[n].callbacks.push(e);i.push({name:t,callbacks:[e]})}))},h=function(o,l){var u,c,d,h,f,p,g,m,v,b,y,w=[],_=function(t){return!1===t?"":!0===t?"p":t};l=l||{},r={},s={},v=Ux($x("script,style,head,html,body,title,meta,param"),e.getBlockElements());var x=e.getNonEmptyElements(),C=e.children,k=t.validate,T=_("forced_root_block"in l?l.forced_root_block:t.forced_root_block),S=e.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,N=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;b=S.hasOwnProperty(l.context)||S.hasOwnProperty(t.root_name);var z=function(){var n,i,o=R.firstChild,r=function(t){t&&((o=t.firstChild)&&3===o.type&&(o.value=o.value.replace(E,"")),(o=t.lastChild)&&3===o.type&&(o.value=o.value.replace(N,"")))};if(e.isValidChild(R.name,T.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?(i||((i=P(T,1)).attr(t.forced_root_block_attrs),R.insert(i,o)),i.append(o)):(r(i),i=null),o=n;r(i)}},P=function(t,e){var i,o=new wf(t,e);return t in n&&((i=r[t])?i.push(o):r[t]=[o]),o},M=function(t){var n,i,o,r,s=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if((o=n.value.replace(N,"")).length>0)return void(n.value=o);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!s[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}r=n.prev,n.remove(),n=r}},I=function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n};u=Nf({validate:k,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,self_closing_elements:I(e.getSelfClosingElements()),cdata:function(t){y.append(P("#cdata",4)).value=t},text:function(t,e){var n;b||(t=t.replace(D," "),Fx(y.lastChild,v)&&(t=t.replace(E,""))),0!==t.length&&((n=P("#text",3)).raw=!!e,y.append(n).value=t)},comment:function(t){y.append(P("#comment",8)).value=t},pi:function(t,e){y.append(P(t,7)).value=e,M(y)},doctype:function(t){y.append(P("#doctype",10)).value=t,M(y)},start:function(t,n,o){var r,a,l,u,c;if(l=k?e.getElementRule(t):{}){for((r=P(l.outputName||t,1)).attributes=n,r.shortEnded=o,y.append(r),(c=C[y.name])&&C[r.name]&&!c[r.name]&&w.push(r),a=i.length;a--;)(u=i[a].name)in n.map&&((g=s[u])?g.push(r):s[u]=[r]);v[t]&&M(r),o||(y=r),!b&&S[t]&&(b=!0)}},end:function(n){var i,o,r,s,a;if(o=k?e.getElementRule(n):{}){if(v[n]&&!b){if((i=y.firstChild)&&3===i.type)if((r=i.value.replace(E,"")).length>0)i.value=r,i=i.next;else for(s=i.next,i.remove(),i=s;i&&3===i.type;)r=i.value,s=i.next,(0===r.length||A.test(r))&&(i.remove(),i=s),i=s;if((i=y.lastChild)&&3===i.type)if((r=i.value.replace(N,"")).length>0)i.value=r,i=i.prev;else for(s=i.prev,i.remove(),i=s;i&&3===i.type;)r=i.value,s=i.prev,(0===r.length||A.test(r))&&(i.remove(),i=s),i=s}if(b&&S[n]&&(b=!1),o.removeEmpty&&Lx(e,x,S,y)&&!y.attr("name")&&!y.attr("id"))return a=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=a);o.paddEmpty&&(Rx(y)||Lx(e,x,S,y))&&Ix(t,l,v,y),y=y.parent}}},e);var R=y=new wf(l.context||t.root_name,11);if(u.parse(o),k&&w.length&&(l.context?l.invalid=!0:a(w)),T&&("body"===R.name||l.isRootContent)&&z(),!l.invalid){for(m in r)if(r.hasOwnProperty(m)){for(g=n[m],f=(c=r[m]).length;f--;)c[f].parent||c.splice(f,1);for(d=0,h=g.length;d<h;d++)g[d](c,m,l)}for(d=0,h=i.length;d<h;d++)if((g=i[d]).name in s){for(f=(c=s[g.name]).length;f--;)c[f].parent||c.splice(f,1);for(f=0,p=g.callbacks.length;f<p;f++)g.callbacks[f](c,g.name,l)}}return R},f={schema:e,addAttributeFilter:d,getAttributeFilters:function(){return[].concat(i)},addNodeFilter:u,getNodeFilters:c,filterNode:l,parse:h};return Bx(f,t),Mx.register(f,t),f},Wx=function(t,e,n){-1===po.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})),e.push(n))},Yx=function(t,e,n){return!e.no_events&&t?Lg.firePostProcess(t,Qg(e,{content:n})).content:n},Kx=function(t,e,n){var i=Bl.trim(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||Ro(Ze.fromDom(e))?i:po.trim(i)},Gx=function(t,e,n){var i=n.selection?Qg({forced_root_block:!1},n):n,o=t.parse(e,i);return Tx.trimTrailingBr(o),o},Xx=function(t,e,n){return _p(t,e).serialize(n)},Qx=function(t,e,n,i,o){var r=Xx(e,n,i);return Yx(t,o,r)},Jx=function(t,n){var i,r,s,a=["data-mce-selected"];i=n&&n.dom?n.dom:Ia.DOM,r=n&&n.schema?n.schema:o(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,s=qx(t,r),Tx.register(s,t,i);var l=function(e,o){var a=Qg({format:"html"},o||{}),l=Nx.process(n,e,a),u=Kx(i,l,a),c=Gx(s,u,a);return"tree"===a.format?c:Qx(n,t,r,c,a)};return{schema:r,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:l,addRules:function(t){r.addValidElements(t)},setRules:function(t){r.setValidElements(t)},addTempAttr:e(Wx,s,a),getTempAttrs:function(){return a}}},Zx=function(t,e){var n=Jx(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}};!function(t){t.isBookmarkNode=Eh.isBookmarkNode}(I||(I={}));var tC,eC=I,nC=Zt.isContentEditableFalse,iC=Zt.isContentEditableTrue,oC=function(t,e){for(;e&&e!==t;){if(iC(e)||nC(e))return e;e=e.parentNode}return null},rC=function(e,n){var i,o,r,s,a,l,u,c,d,h,f,p,g,m,v,b,y,w=n.dom,_=po.each,x=n.getDoc(),C=t.document,k=Math.abs,T=Math.round,S=n.getBody();s={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var E=function(t){return t&&("IMG"===t.nodeName||n.dom.is(t,"figure.image"))},N=function(t,e){if("longpress"===t.type||0===t.type.indexOf("touch")){var n=t.touches[0];return E(t.target)&&!mb.isXYWithinRange(n.clientX,n.clientY,e)}return E(t.target)&&!mb.isXYWithinRange(t.clientX,t.clientY,e)},D=function(t){var e=t.target;N(t,n.selection.getRng())&&!t.isDefaultPrevented()&&n.selection.select(e)},A=function(t){return n.dom.is(t,"figure.image")?t.querySelector("img"):t},z=function(t){var e=n.settings.object_resizing;return!1!==e&&!Ui.iOS&&("string"!=typeof e&&(e="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&(t!==n.getBody()&&On(Ze.fromDom(t),e)))},P=function(t){var e,s,_,x;e=t.screenX-l,s=t.screenY-u,m=e*a[2]+h,v=s*a[3]+f,m=m<5?5:m,v=v<5?5:v,(E(i)&&!1!==n.settings.resize_img_proportional?!Av.modifierPressed(t):Av.modifierPressed(t)||E(i)&&a[2]*a[3]!=0)&&(k(e)>k(s)?(v=T(m*p),m=T(v/p)):(m=T(v/p),v=T(m*p))),w.setStyles(A(o),{width:m,height:v}),_=(_=a.startPos.x+e)>0?_:0,x=(x=a.startPos.y+s)>0?x:0,w.setStyles(r,{left:_,top:x,display:"block"}),r.innerHTML=m+" &times; "+v,a[2]<0&&o.clientWidth<=m&&w.setStyle(o,"left",c+(h-m)),a[3]<0&&o.clientHeight<=v&&w.setStyle(o,"top",d+(f-v)),(e=S.scrollWidth-b)+(s=S.scrollHeight-y)!==0&&w.setStyles(r,{left:_-e,top:x-s}),g||(Lg.fireObjectResizeStart(n,i,h,f),g=!0)},M=function(){g=!1;var t=function(t,e){e&&(i.style[t]||!n.schema.isValid(i.nodeName.toLowerCase(),t)?w.setStyle(A(i),t,e):w.setAttrib(A(i),t,e))};t("width",m),t("height",v),w.unbind(x,"mousemove",P),w.unbind(x,"mouseup",M),C!==x&&(w.unbind(C,"mousemove",P),w.unbind(C,"mouseup",M)),w.remove(o),w.remove(r),I(i),Lg.fireObjectResized(n,i,m,v),w.setAttrib(i,"style",w.getAttrib(i,"style")),n.nodeChanged()},I=function(t){var e,g,k,T,E;R(),L(),e=w.getPos(t,S),c=e.x,d=e.y,E=t.getBoundingClientRect(),g=E.width||E.right-E.left,k=E.height||E.bottom-E.top,i!==t&&(i=t,m=v=0),T=n.fire("ObjectSelected",{target:t}),z(t)&&!T.isDefaultPrevented()?_(s,(function(t,e){var n,s=function(e){l=e.screenX,u=e.screenY,h=A(i).clientWidth,f=A(i).clientHeight,p=f/h,a=t,t.startPos={x:g*t[0]+c,y:k*t[1]+d},b=S.scrollWidth,y=S.scrollHeight,o=i.cloneNode(!0),w.addClass(o,"mce-clonedresizable"),w.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,w.setStyles(o,{left:c,top:d,margin:0}),o.removeAttribute("data-mce-selected"),S.appendChild(o),w.bind(x,"mousemove",P),w.bind(x,"mouseup",M),C!==x&&(w.bind(C,"mousemove",P),w.bind(C,"mouseup",M)),r=w.add(S,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},h+" &times; "+f)};(n=w.get("mceResizeHandle"+e))&&w.remove(n),
n=w.add(S,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===Ui.ie&&(n.contentEditable=!1),w.bind(n,"mousedown",(function(t){t.stopImmediatePropagation(),t.preventDefault(),s(t)})),t.elm=n,w.setStyles(n,{left:g*t[0]+c-n.offsetWidth/2,top:k*t[1]+d-n.offsetHeight/2})})):R(),i.setAttribute("data-mce-selected","1")},R=function(){var t,e;for(t in L(),i&&i.removeAttribute("data-mce-selected"),s)(e=w.get("mceResizeHandle"+t))&&(w.unbind(e),w.remove(e))},O=function(t){var i,o=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};g||n.removed||(_(w.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute("data-mce-selected")})),i="mousedown"===t.type?t.target:e.getNode(),o(i=w.$(i).closest("table,img,figure.image,hr")[0],S)&&(F(),o(e.getStart(!0),i)&&o(e.getEnd(!0),i))?I(i):R())},H=function(t){return nC(oC(n.getBody(),t))},L=function(){for(var t in s){var e=s[t];e.elm&&(w.unbind(e.elm),delete e.elm)}},F=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};return n.on("init",(function(){F(),(Ui.browser.isIE()||Ui.browser.isEdge())&&(n.on("mousedown click",(function(t){var e=t.target,i=e.nodeName;g||!/^(TABLE|IMG|HR)$/.test(i)||H(e)||(2!==t.button&&n.selection.select(e,"TABLE"===i),"mousedown"===t.type&&n.nodeChanged())})),n.dom.bind(S,"mscontrolselect",(function(t){var e=function(t){Ri.setEditorTimeout(n,(function(){n.selection.select(t)}))};if(H(t.target))return t.preventDefault(),void e(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&e(t.target))})));var t=Ri.throttle((function(t){n.composing||O(t)}));n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),n.on("keyup compositionend",(function(e){i&&"TABLE"===i.nodeName&&t(e)})),n.on("hide blur",R),n.on("contextmenu longpress",D,!0)})),n.on("remove",L),{isResizable:z,showResizeRect:I,hideResizeRect:R,updateResizeRect:O,destroy:function(){i=o=null}}},sC=R("height",(function(t){var e=t.dom();return bn(t)?e.getBoundingClientRect().height:e.offsetHeight})),aC=function(t){return sC.get(t)},lC=function(t,e){return t.view(e).fold(B([]),(function(e){var n=t.owner(e),i=lC(t,n);return[e].concat(i)}))},uC=function(t,e){var n=e.owner(t);return lC(e,n)},cC=function(e){return(e.dom()===t.document?X.none():X.from(e.dom().defaultView.frameElement)).map(Ze.fromDom)},dC=function(t){return Un(t)},hC=Object.freeze({view:cC,owner:dC}),fC=function(e){var n=Ze.fromDom(t.document),i=_a(n),o=uC(e,hC),r=ya(e),s=bt(o,(function(t,e){var n=ya(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return ga(s.left+r.left()+i.left(),s.top+r.top()+i.top())},pC=function(t){return"textarea"===on(t)},gC=function(t,e){var n=Zn(t);if(0===n.length||pC(t))return{element:t,offset:e};if(e<n.length&&!pC(n[e]))return{element:n[e],offset:0};var i=n[n.length-1];return pC(i)?{element:t,offset:e}:"img"===on(i)?{element:i,offset:1}:ln(i)?{element:i,offset:lf(i).length}:{element:i,offset:Zn(i).length}},mC=function(t,e){var n=ba(t),i=aC(t);return{element:t,bottom:n.top()+i,pos:n,cleanup:e}},vC=function(t,e){var n=gC(t,e),i=Ze.fromHtml('<span data-mce-bogus="all">'+Bl.ZWSP+"</span>");return oa(n.element,i),mC(i,(function(){return ha(i)}))},bC=function(t){return mC(Ze.fromDom(t),L)},yC=function(t,e,n,i){xC(t,(function(){return wC(t,e,n,i)}),n)},wC=function(t,e,n,i){var o=Ze.fromDom(t.getBody()),r=Ze.fromDom(t.getDoc());Nn(o);var s=_a(r).top(),a=vC(Ze.fromDom(n.startContainer),n.startOffset);e(r,s,a,i),a.cleanup()},_C=function(t,e,n,i){var o=Ze.fromDom(t.getDoc());n(o,_a(o).top(),e,i)},xC=function(t,e,n){var i=n.startContainer,o=n.startOffset,r=n.endContainer,s=n.endOffset;e(Ze.fromDom(i),Ze.fromDom(r));var a=t.dom.createRng();a.setStart(i,o),a.setEnd(r,s),t.selection.setRng(n)},CC=function(t,e,n){return t.fire("ScrollIntoView",{elm:e,alignToTop:n}).isDefaultPrevented()},kC=function(t,e,n,i){var o=t.pos;if(n)xa(o.left(),o.top(),i);else{var r=o.top()-e+(t.bottom-o.top());xa(o.left(),r,i)}},TC=function(t,e,n,i,o){i.pos.top()<e?kC(i,n,!1!==o,t):i.bottom>n+e&&kC(i,n,!0===o,t)},SC=function(t,e,n,i){var o=t.dom().defaultView.innerHeight;TC(t,e,o,n,i)},EC=function(e,n,i,o,r){var s=n.dom().defaultView.innerHeight;TC(n,i,s,o,r);var a=fC(o.element),l=Ta(t.window);a.top()<l.y()?Ca(o.element,!1!==r):a.top()>l.bottom()&&Ca(o.element,!0===r)},NC=function(t,n,i){return yC(t,e(SC),n,i)},DC=function(t,n,i){return _C(t,bC(n),e(SC),i)},AC=function(t,n,i){return yC(t,e(EC,t),n,i)},zC=function(t,n,i){return _C(t,bC(n),e(EC,t),i)},PC={scrollElementIntoView:function(t,e,n){CC(t,e,n)||(t.inline?DC:zC)(t,e,n)},scrollRangeIntoView:function(t,e,n){(t.inline?NC:AC)(t,e,n)}},MC=function(t){return Zt.isContentEditableTrue(t)||Zt.isContentEditableFalse(t)},IC=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},RC=function(t,e,n){var i,o,r;if(i=n.elementFromPoint(t,e),o=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),o.moveToElementText(i),(r=(r=po.toArray(o.getClientRects())).sort((function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-(n=Math.abs(Math.max(n.top-e,n.bottom-e)))}))).length>0){e=(r[0].bottom+r[0].top)/2;try{return o.moveToPoint(t,e),o.collapse(!0),o}catch(t){}}return null},OC=function(t,e){var n=t&&t.parentElement?t.parentElement():null;return Zt.isContentEditableFalse(IC(n,e,MC))?null:t},HC=function(t,e,n){var i,o,r=n;if(r.caretPositionFromPoint)(o=r.caretPositionFromPoint(t,e))&&((i=n.createRange()).setStart(o.offsetNode,o.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(r.body.createTextRange){i=r.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(o){i=RC(t,e,n)}return OC(i,n.body)}return i},LC={fromPoint:HC},FC=function(t,e){return ft(e,(function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},BC={processRanges:FC},$C=function(e,n){var i=(n||t.document).createDocumentFragment();return pt(e,(function(t){i.appendChild(t.dom())})),Ze.fromDom(i)},jC=Dn("element","width","rows"),VC=Dn("element","cells"),UC=Dn("x","y"),qC=function(t,e){var n=parseInt(xn(t,e),10);return isNaN(n)?1:n},WC=function(t,e,n,i,o){for(var r=qC(o,"rowspan"),s=qC(o,"colspan"),a=t.rows(),l=n;l<n+r;l++){a[l]||(a[l]=VC(Rl(i),[]));for(var u=e;u<e+s;u++){a[l].cells()[u]=l===n&&u===e?o:Il(o)}}},YC=function(t,e,n){var i=t.rows();return!!(i[n]?i[n].cells():[])[e]},KC=function(t,e,n){for(;YC(t,e,n);)e++;return e},GC=function(t){return yt(t,(function(t,e){return e.cells().length>t?e.cells().length:t}),0)},XC=function(t,e){for(var n=t.rows(),i=0;i<n.length;i++)for(var o=n[i].cells(),r=0;r<o.length;r++)if(Bn(o[r],e))return X.some(UC(r,i));return X.none()},QC=function(t,e,n,i,o){for(var r=[],s=t.rows(),a=n;a<=o;a++){var l=s[a].cells(),u=e<i?l.slice(e,i+1):l.slice(i,e+1);r.push(VC(s[a].element(),u))}return r},JC=function(t,e,n){var i=e.x(),o=e.y(),r=n.x(),s=n.y(),a=o<s?QC(t,i,o,r,s):QC(t,i,s,r,o);return jC(t.element(),GC(a),a)},ZC=function(t,e){var n=Il(t.element()),i=Ze.fromTag("tbody");return ca(i,e),aa(n,i),n},tk=function(t){return ft(t.rows(),(function(t){var e=ft(t.cells(),(function(t){var e=Rl(t);return kn(e,"colspan"),kn(e,"rowspan"),e})),n=Il(t.element());return ca(n,e),n}))},ek={fromDom:function(t){var e=jC(Il(t),0,[]);return pt(pl(t,"tr"),(function(t,n){pt(pl(t,"td,th"),(function(i,o){WC(e,KC(e,o,n),n,t,i)}))})),jC(e.element(),GC(e.rows()),e.rows())},toDom:function(t){return ZC(t,tk(t))},subsection:function(t,e,n){return XC(t,e).bind((function(e){return XC(t,n).map((function(n){return JC(t,e,n)}))}))}},nk=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},ik=function(t){return Ct(t,(function(t){var e=Su(t);return e?[Ze.fromDom(e)]:[]}))},ok=function(t){return nk(t).length>1},rk={getRanges:nk,getSelectedNodes:ik,hasMultipleRanges:ok},sk=function(t){return vt(rk.getSelectedNodes(t),Io)},ak=function(t){return pl(t,"td[data-mce-selected],th[data-mce-selected]")},lk=function(t,e){var n=ak(e),i=sk(t);return n.length>0?n:i},uk=function(t){return lk(rk.getRanges(t.selection.getSel()),Ze.fromDom(t.getBody()))},ck={getCellsFromRanges:sk,getCellsFromElement:ak,getCellsFromElementOrRanges:lk,getCellsFromEditor:uk},dk=function(t){return wt(t,(function(t){return"ul"===on(t)||"ol"===on(t)}))},hk=function(t,e){return wt(t,(function(t){return"li"===on(t)&&Sv(t,e)})).fold(B([]),(function(){return dk(t).map((function(t){return[Ze.fromTag("li"),Ze.fromTag(on(t))]})).getOr([])}))},fk=function(t,e){var n=yt(e,(function(t,e){return aa(e,t),e}),t);return e.length>0?$C([n]):n},pk=function(t){return zo(t)?Yn(t).filter(Ao).fold(B([]),(function(e){return[t,e]})):Ao(t)?[t]:[]},gk=function(t,e){var n=Ze.fromDom(e.commonAncestorContainer),i=pv.parentsAndSelf(n,t),o=vt(i,(function(t){return Eo(t)||ko(t)})),r=hk(i,e),s=o.concat(r.length?r:pk(n));return ft(s,Il)},mk=function(){return $C([])},vk=function(t,e){return fk(Ze.fromDom(e.cloneContents()),gk(t,e))},bk=function(t,n){return vl(n,"table",e(Bn,t))},yk=function(t,e){return bk(t,e[0]).bind((function(t){var n=e[0],i=e[e.length-1],o=ek.fromDom(t);return ek.subsection(o,n,i).map((function(t){return $C([ek.toDom(t)])}))})).getOrThunk(mk)},wk=function(t,e){return e.length>0&&e[0].collapsed?mk():vk(t,e[0])},_k={read:function(t,e){var n=ck.getCellsFromElementOrRanges(e,t);return n.length>0?yk(t,n):wk(t,e)}},xk=function(t){return X.from(t.selection.getRng()).map((function(e){var n=t.dom.add(t.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),i=Bl.trim(n.innerText);return t.dom.remove(n),i})).getOr("")},Ck=function(t,e){var n,i=t.selection.getRng(),o=t.dom.create("body"),r=t.selection.getSel(),s=BC.processRanges(t,rk.getRanges(r));return(n=e.contextual?_k.read(Ze.fromDom(t.getBody()),s).dom():i.cloneContents())&&o.appendChild(n),t.selection.serializer.serialize(o,e)},kk={getContent:function(t,e){if(void 0===e&&(e={}),e.get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return xk(t);e.getInner=!0;var n=Ck(t,e);return"tree"===e.format?n:(e.content=t.selection.isCollapsed()?"":n,t.fire("GetContent",e),e.content)}},Tk=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},Sk=function(t,e,n){return null!==Tk(t,e,n)},Ek=function(t,e,n){return Sk(t,e,(function(t){return t.nodeName===n}))},Nk=function(t){return t&&"TABLE"===t.nodeName},Dk=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Ak=function(t,e){return ql(t)&&!1===Sk(t,e,Bc)},zk=function(t,e,n){for(var i=new ia(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=i[n?"prev":"next"]();)if(Zt.isBr(e))return!0},Pk=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},Mk=function(t,e){for(;e&&e!==t;){if(Zt.isContentEditableFalse(e))return!0;e=e.parentNode}return!1},Ik=function(t,e,n,i,o){var r,s,a=t.getRoot(),l=t.schema.getNonEmptyElements(),u=t.getParent(o.parentNode,t.isBlock)||a;if(i&&Zt.isBr(o)&&e&&t.isEmpty(u))return X.some(k(o.parentNode,t.nodeIndex(o)));for(var c=new ia(o,u);s=c[i?"prev":"next"]();){if("false"===t.getContentEditableParent(s)||Ak(s,a))return X.none();if(Zt.isText(s)&&s.nodeValue.length>0)return!1===Ek(s,a,"A")?X.some(k(s,i?s.nodeValue.length:0)):X.none();if(t.isBlock(s)||l[s.nodeName.toLowerCase()])return X.none();r=s}return n&&r?X.some(k(r,0)):X.none()},Rk=function(t,e,n,i){var o,r,s,a,l,u,c=t.getRoot(),d=!1;if(o=i[(n?"start":"end")+"Container"],r=i[(n?"start":"end")+"Offset"],u=Zt.isElement(o)&&r===o.childNodes.length,a=t.schema.getNonEmptyElements(),l=n,ql(o))return X.none();if(Zt.isElement(o)&&r>o.childNodes.length-1&&(l=!1),Zt.isDocument(o)&&(o=c,r=0),o===c){if(l&&(s=o.childNodes[r>0?r-1:0])){if(ql(s))return X.none();if(a[s.nodeName]||Nk(s))return X.none()}if(o.hasChildNodes()){if(r=Math.min(!l&&r>0?r-1:r,o.childNodes.length-1),o=o.childNodes[r],r=Zt.isText(o)&&u?o.data.length:0,!e&&o===c.lastChild&&Nk(o))return X.none();if(Mk(c,o)||ql(o))return X.none();if(o.hasChildNodes()&&!1===Nk(o)){s=o;var h=new ia(o,c);do{if(Zt.isContentEditableFalse(s)||ql(s)){d=!1;break}if(Zt.isText(s)&&s.nodeValue.length>0){r=l?0:s.nodeValue.length,o=s,d=!0;break}if(a[s.nodeName.toLowerCase()]&&!Dk(s)){r=t.nodeIndex(s),o=s.parentNode,l||r++,d=!0;break}}while(s=l?h.next():h.prev())}}}return e&&(Zt.isText(o)&&0===r&&Ik(t,u,e,!0,o).each((function(t){o=t.container(),r=t.offset(),d=!0})),Zt.isElement(o)&&((s=o.childNodes[r])||(s=o.childNodes[r-1]),!s||!Zt.isBr(s)||Pk(s,"A")||zk(t,s,!1)||zk(t,s,!0)||Ik(t,u,e,!0,s).each((function(t){o=t.container(),r=t.offset(),d=!0})))),l&&!e&&Zt.isText(o)&&r===o.nodeValue.length&&Ik(t,u,e,!1,o).each((function(t){o=t.container(),r=t.offset(),d=!0})),d?X.some(k(o,r)):X.none()},Ok=function(t,e){var n=e.collapsed,i=e.cloneRange(),o=k.fromRangeStart(e);return Rk(t,n,!0,i).each((function(t){n&&k.isAbove(o,t)||i.setStart(t.container(),t.offset())})),n||Rk(t,n,!1,i).each((function(t){i.setEnd(t.container(),t.offset())})),n&&i.collapse(!0),_v.isEq(e,i)?X.none():X.some(i)},Hk={normalize:Ok},Lk=function(t,e){t.insertData(0,e)},Fk=function(t){return 0===t.dom().length?(ha(t),X.none()):X.some(t)},Bk=function(t,e){var n=X.from(e.firstChild).map(Ze.fromDom),i=X.from(e.lastChild).map(Ze.fromDom);t.deleteContents(),t.insertNode(e);var o=n.bind(Gn).filter(ln).bind(Fk),r=i.bind(Xn).filter(ln).bind(Fk);Au(o,n.filter(ln),(function(t,e){Lk(e.dom(),t.dom().data),ha(t)})),Au(r,i.filter(ln),(function(e,n){var i=n.dom().length;n.dom().appendData(e.dom().data),t.setEnd(n.dom(),i),ha(e)})),t.collapse(!1)},$k=function(t,e){return(t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t},jk={setContent:function(t,e,n){if((n=$k(n,e)).no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){var i=t.selection.getRng();Bk(i,i.createContextualFragment(n.content)),t.selection.setRng(i),PC.scrollRangeIntoView(t,i),n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)}},Vk=function(t,e,n,i,o){var r=n?e.startContainer:e.endContainer,s=n?e.startOffset:e.endOffset;return X.from(r).map(Ze.fromDom).map((function(t){return i&&e.collapsed?t:ti(t,o(t,s)).getOr(t)})).bind((function(t){return an(t)?X.some(t):Yn(t)})).map((function(t){return t.dom()})).getOr(t)},Uk=function(t,e,n){return Vk(t,e,!0,n,(function(t,e){return Math.min(ii(t),e)}))},qk=function(t,e,n){return Vk(t,e,!1,n,(function(t,e){return e>0?e-1:e}))},Wk=function(t,e){for(var n=t;t&&Zt.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},Yk=function(t,e){var n,i,o,r,s;return e?(i=e.startContainer,o=e.endContainer,r=e.startOffset,s=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(i===o&&s-r<2&&i.hasChildNodes()&&(n=i.childNodes[r]),3===i.nodeType&&3===o.nodeType&&(i=i.length===r?Wk(i.nextSibling,!0):i.parentNode,o=0===s?Wk(o.previousSibling,!1):o.parentNode,i&&i===o))?i:n&&3===n.nodeType?n.parentNode:n):t},Kk=function(t,e,n,i){var o,r,s=[];if(r=t.getRoot(),n=t.getParent(n||Uk(r,e,e.collapsed),t.isBlock),i=t.getParent(i||qk(r,e,e.collapsed),t.isBlock),n&&n!==r&&s.push(n),n&&i&&n!==i){o=n;for(var a=new ia(n,r);(o=a.next())&&o!==i;)t.isBlock(o)&&s.push(o)}return i&&n!==i&&i!==r&&s.push(i),s},Gk=function(t,e,n){return X.from(e).map((function(e){var i=t.nodeIndex(e),o=t.createRng();return o.setStart(e.parentNode,i),o.setEnd(e.parentNode,i+1),n&&(Ev(t,o,e,!0),Ev(t,o,e,!1)),o}))},Xk=function(t,e,n){if(t&&t.hasOwnProperty(e)){var i=vt(t[e],(function(t){return t!==n}));0===i.length?delete t[e]:t[e]=i}},Qk=function(t){return!!t.select},Jk=function(t){return!(!t||!t.ownerDocument)&&Vn(Ze.fromDom(t.ownerDocument),Ze.fromDom(t))},Zk=function(t){return!!t&&(!!Qk(t)||Jk(t.startContainer)&&Jk(t.endContainer))},tT=function(t,e,n,i){var o,r,s,a,l=O(t,i).selectorChangedWithUnbind,u=function(e,n){var o=t.createRng();e?(o.setStart(e,n),o.setEnd(e,n),y(o),m(!1)):(Ev(t,o,i.getBody(),!0),y(o))},c=function(t,e){return jk.setContent(i,t,e)},d=function(t){return Uk(i.getBody(),b(),t)},h=function(t){return qk(i.getBody(),b(),t)},f=function(t,e){return o.getBookmark(t,e)},p=function(e,n){return Gk(t,e,n).each(y),e},g=function(){var t=b(),e=v();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},m=function(t){var e=b();e.collapse(!!t),y(e)},v=function(){return e.getSelection?e.getSelection():e.document.selection},b=function(){var n,o,r,l,u=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(t){return-1}};if(!e)return null;if(null==(l=e.document))return null;if(void 0!==i.bookmark&&!1===Ag.hasFocus(i)){var c=ng.getRng(i);if(c.isSome())return c.map((function(t){return BC.processRanges(i,[t])[0]})).getOr(l.createRange())}try{(n=v())&&!Zt.isRestrictedNode(n.anchorNode)&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(t){}return(o=BC.processRanges(i,[o])[0])||(o=l.createRange?l.createRange():l.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(r=t.getRoot(),o.setStart(r,0),o.setEnd(r,0)),s&&a&&(0===u(o.START_TO_START,o,s)&&0===u(o.END_TO_END,o,s)?o=a:(s=null,a=null)),o},y=function(t,e){var n,o;if(Zk(t)){var r=Qk(t)?t:null;if(r){a=null;try{r.select()}catch(t){}}else{if(n=v(),t=i.fire("SetSelectionRange",{range:t,forward:e}).range,n){a=t;try{n.removeAllRanges(),n.addRange(t)}catch(t){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),s=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||Ui.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(o=t.startContainer.childNodes[t.startOffset])&&"IMG"===o.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(o,0,o,1)),i.fire("AfterSetSelectionRange",{range:t,forward:e})}}},w=function(e){return c(t.getOuterHTML(e)),e},_=function(){return Yk(i.getBody(),b())},x=function(e,n){return Kk(t,b(),e,n)},C=function(){var e,n,i=v();return!(i&&i.anchorNode&&i.focusNode)||((e=t.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(i.focusNode,i.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)},k=function(){var e=b(),n=v();if(!rk.hasMultipleRanges(n)&&Nv(i)){var o=Hk.normalize(t,e);return o.each((function(t){y(t,C())})),o.getOr(e)}return e},T=function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},S=function(t,e){return y(LC.fromPoint(t,e,i.getDoc()))},E=function(){var t=b();return t.collapsed?oc.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},N=function(){e=s=a=null,r.destroy()},D={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:i,collapse:m,setCursorLocation:u,getContent:function(t){return kk.getContent(i,t)},setContent:c,getBookmark:f,moveToBookmark:function(t){return o.moveToBookmark(t)},select:p,isCollapsed:g,isForward:C,setNode:w,getNode:_,getSel:v,setRng:y,getRng:b,getStart:d,getEnd:h,getSelectedBlocks:x,normalize:k,selectorChanged:function(t,e){return l(t,e),D},selectorChangedWithUnbind:l,getScrollContainer:T,scrollIntoView:function(t,e){return PC.scrollElementIntoView(i,t,e)},placeCaretAt:S,getBoundingClientRect:E,destroy:N};return o=eC(D),r=rC(D,i),D.bookmarkManager=o,D.controlSelection=r,D},eT=Zt.isText,nT=function(t){return eT(t)&&t.data[0]===Bl.ZWSP},iT=function(t){return eT(t)&&t.data[t.data.length-1]===Bl.ZWSP},oT=function(t){return t.ownerDocument.createTextNode(Bl.ZWSP)},rT=function(t){if(eT(t.previousSibling))return iT(t.previousSibling)||t.previousSibling.appendData(Bl.ZWSP),t.previousSibling;if(eT(t))return nT(t)||t.insertData(0,Bl.ZWSP),t;var e=oT(t);return t.parentNode.insertBefore(e,t),e},sT=function(t){if(eT(t.nextSibling))return nT(t.nextSibling)||t.nextSibling.insertData(0,Bl.ZWSP),t.nextSibling;if(eT(t))return iT(t)||t.appendData(Bl.ZWSP),t;var e=oT(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},aT=function(t,e){return t?rT(e):sT(e)},lT=e(aT,!0),uT=e(aT,!1),cT=function(t,e){return Zt.isText(t.container())?aT(e,t.container()):aT(e,t.getNode())},dT=function(t,e){var n=e.get();return n&&t.container()===n&&Ul(n)},hT={renderCaret:function(t,e){return e.fold((function(e){td.remove(t.get());var n=lT(e);return t.set(n),X.some(oc(n,n.length-1))}),(function(e){return sh.firstPositionIn(e).map((function(e){if(dT(e,t))return oc(t.get(),1);td.remove(t.get());var n=cT(e,!0);return t.set(n),oc(n,1)}))}),(function(e){return sh.lastPositionIn(e).map((function(e){if(dT(e,t))return oc(t.get(),t.get().length-1);td.remove(t.get());var n=cT(e,!1);return t.set(n),oc(n,n.length-1)}))}),(function(e){td.remove(t.get());var n=uT(e);return t.set(n),X.some(oc(n,1))}))}},fT=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,pT=function(t){return fT.test(t)},gT=function(t,e,n){return vt(Ia.DOM.getParents(n.container(),"*",e),t)},mT=function(t,e,n){var i=gT(t,e,n);return X.from(i[i.length-1])},vT=function(t,e,n){var i=yd(e,t),o=yd(n,t);return i&&i===o},bT=function(t,e){if(!e)return e;var n=e.container(),i=e.offset();return t?Ul(n)?Zt.isText(n.nextSibling)?oc(n.nextSibling,0):oc.after(n):Kl(e)?oc(n,i+1):e:Ul(n)?Zt.isText(n.previousSibling)?oc(n.previousSibling,n.previousSibling.data.length):oc.before(n):Gl(e)?oc(n,i-1):e},yT={isInlineTarget:function(t,e){return On(Ze.fromDom(e),pp.getInlineBoundarySelector(t))},findRootInline:mT,isRtl:function(t){return"rtl"===Ia.DOM.getStyle(t,"direction",!0)||pT(t.textContent)},isAtZwsp:function(t){return Kl(t)||Gl(t)},normalizePosition:bT,normalizeForwards:e(bT,!0),normalizeBackwards:e(bT,!1),hasSameParentBlock:vT},wT=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].apply(null,e);if(i.isSome())return i}return X.none()},_T={evaluateUntil:wT},xT=Dp.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),CT=function(t,e){var n=yd(e,t);return n||t},kT=function(t,n,i){var o=yT.normalizeForwards(i),r=CT(n,o.container());return yT.findRootInline(t,r,o).fold((function(){return sh.nextPosition(r,o).bind(e(yT.findRootInline,t,r)).map((function(t){return xT.before(t)}))}),X.none)},TT=function(t,e){return null===$c(t,e)},ST=function(t,n,i){return yT.findRootInline(t,n,i).filter(e(TT,n))},ET=function(t,e,n){var i=yT.normalizeBackwards(n);return ST(t,e,i).bind((function(t){return sh.prevPosition(t,i).isNone()?X.some(xT.start(t)):X.none()}))},NT=function(t,e,n){var i=yT.normalizeForwards(n);return ST(t,e,i).bind((function(t){return sh.nextPosition(t,i).isNone()?X.some(xT.end(t)):X.none()}))},DT=function(t,n,i){var o=yT.normalizeBackwards(i),r=CT(n,o.container());return yT.findRootInline(t,r,o).fold((function(){return sh.prevPosition(r,o).bind(e(yT.findRootInline,t,r)).map((function(t){return xT.after(t)}))}),X.none)},AT=function(t){return!1===yT.isRtl(PT(t))},zT=function(t,e,n){return _T.evaluateUntil([kT,ET,NT,DT],[t,e,n]).filter(AT)},PT=function(t){return t.fold($,$,$,$)},MT=function(t){return t.fold(B("before"),B("start"),B("end"),B("after"))},IT=function(t){return t.fold(xT.before,xT.before,xT.after,xT.after)},RT=function(t){return t.fold(xT.start,xT.start,xT.end,xT.end)},OT=function(t,e){return MT(t)===MT(e)&&PT(t)===PT(e)},HT=function(t,e,n,i,o,r){return Au(yT.findRootInline(e,n,i),yT.findRootInline(e,n,o),(function(e,i){return e!==i&&yT.hasSameParentBlock(n,e,i)?xT.after(t?e:i):r})).getOr(r)},LT=function(t,e){return t.fold(B(!0),(function(t){return!OT(t,e)}))},FT=function(t,n,i,o,r){var s=yT.normalizePosition(t,r);return sh.fromPosition(t,i,s).map(e(yT.normalizePosition,t)).fold((function(){return o.map(IT)}),(function(r){return zT(n,i,r).map(e(HT,t,n,i,s,r)).filter(e(LT,o))})).filter(AT)},BT=function(t,e){return t?e.fold(F(X.some,xT.start),X.none,F(X.some,xT.after),X.none):e.fold(X.none,F(X.some,xT.before),X.none,F(X.some,xT.end))},$T=function(t,n,i,o){var r=yT.normalizePosition(t,o),s=zT(n,i,r);return zT(n,i,r).bind(e(BT,t)).orThunk((function(){return FT(t,n,i,s,o)}))},jT={readLocation:zT,findLocation:$T,prevLocation:e($T,!1),nextLocation:e($T,!0),getElement:PT,outside:IT,inside:RT},VT=function(t){return ot(t.selection.getSel().modify)},UT=function(t,e,n){var i=t?1:-1;return e.setRng(oc(n.container(),n.offset()+i).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},qT=function(t,e){var n=e.selection.getRng(),i=t?oc.fromRangeEnd(n):oc.fromRangeStart(n);return!!VT(e)&&(t&&Kl(i)?UT(!0,e.selection,i):!(t||!Gl(i))&&UT(!1,e.selection,i))},WT={hasSelectionModifyApi:VT,moveByWord:qT},YT=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},KT=function(t){return!1!==t.settings.inline_boundaries},GT=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},XT=function(t,e,n){return hT.renderCaret(e,n).map((function(e){return YT(t,e),n}))},QT=function(t,n,i){var o=t.getBody(),r=oc.fromRangeStart(t.selection.getRng()),s=e(yT.isInlineTarget,t);return jT.findLocation(i,s,o,r).bind((function(e){return XT(t,n,e)}))},JT=function(t,n,i){var o=vt(n.select('*[data-mce-selected="inline-boundary"]'),t),r=vt(i,t);pt(St(o,r),e(GT,!1)),pt(St(r,o),e(GT,!0))},ZT=function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=oc.fromRangeStart(t.selection.getRng());oc.isTextPosition(n)&&!1===yT.isAtZwsp(n)&&(YT(t,td.removeAndReposition(e.get(),n)),e.set(null))}},tS=function(t,e,n,i){if(e.selection.isCollapsed()){var o=vt(i,t);pt(o,(function(){var i=oc.fromRangeStart(e.selection.getRng());jT.readLocation(t,e.getBody(),i).bind((function(t){return XT(e,n,t)}))}))}},eS=function(t,e){return function(){return!!KT(e)&&WT.moveByWord(t,e)}},nS=function(t){var n=te(null),i=e(yT.isInlineTarget,t);return t.on("NodeChange",(function(e){KT(t)&&(JT(i,t.dom,e.parents),ZT(t,n),tS(i,t,n,e.parents))})),n},iS={move:function(t,e,n){return function(){return!!KT(t)&&QT(t,e,n).isSome()}},moveNextWord:e(eS,!0),movePrevWord:e(eS,!1),setupSelectedState:nS,setCaretPosition:YT};!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(tC||(tC={}));var oS,rS,sS=function(t,e){return t===ic.Backwards?e.reverse():e},aS=function(t,e,n){return t===ic.Forwards?e.next(n):e.prev(n)},lS=function(t,e,n,i){return Zt.isBr(i.getNode(e===ic.Forwards))?tC.Br:!1===wd(n,i)?tC.Block:tC.Wrap},uS=function(t,e,n,i){for(var o,r=Wd(n),s=i,a=[];s&&(o=aS(e,r,s));){if(Zt.isBr(o.getNode(!1)))return e===ic.Forwards?{positions:sS(e,a).concat([o]),breakType:tC.Br,breakAt:X.some(o)}:{positions:sS(e,a),breakType:tC.Br,breakAt:X.some(o)};if(o.isVisible()){if(t(s,o)){var l=lS(n,e,s,o);return{positions:sS(e,a),breakType:l,breakAt:X.some(o)}}a.push(o),s=o}else s=o}return{positions:sS(e,a),breakType:tC.Eol,breakAt:X.none()}},cS=function(t,e,n,i){return e(n,i).breakAt.map((function(i){var o=e(n,i).positions;return t===ic.Backwards?o.concat(i):[i].concat(o)})).getOr([])},dS=function(t,e){return yt(t,(function(t,n){return t.fold((function(){return X.some(n)}),(function(i){return Au(Dt(i.getClientRects()),Dt(n.getClientRects()),(function(t,o){var r=Math.abs(e-t.left);return Math.abs(e-o.left)<=r?n:i})).or(t)}))}),X.none())},hS=function(t,e){return Dt(e.getClientRects()).bind((function(e){return dS(t,e.left)}))},fS=e(uS,k.isAbove,-1),pS=e(uS,k.isBelow,1),gS=function(t,e){return fS(t,e).breakAt.isNone()},mS=function(t,e){return pS(t,e).breakAt.isNone()},vS=e(cS,-1,fS),bS=e(cS,1,pS),yS=function(t){return sh.firstPositionIn(t).map((function(e){return[e].concat(pS(t,e).positions)})).getOr([])},wS=function(t){return sh.lastPositionIn(t).map((function(e){return fS(t,e).positions.concat(e)})).getOr([])},_S=Zt.isContentEditableFalse,xS=Su,CS=function(t,e,n,i){var o=t===ic.Forwards,r=o?qv:Wv;if(!i.collapsed){var s=xS(i);if(_S(s))return Yb(t,e,s,t===ic.Backwards,!0)}var a=nu(i),l=Dd(t,e.getBody(),i);if(r(l))return Gb(e,l.getNode(!o));var u=yT.normalizePosition(o,n(l));if(!u)return a?i:null;if(r(u))return Yb(t,e,u.getNode(!o),o,!0);var c=n(u);return c&&r(c)&&Md(u,c)?Yb(t,e,c.getNode(!o),o,!0):a?Qb(e,u.toRange(),!0):null},kS=function(t,e,n,i){var o,r,s,a,l,u,c,d,h;if(h=xS(i),o=Dd(t,e.getBody(),i),r=n(e.getBody(),nb(1),o),s=vt(r,ib(1)),l=to.last(o.getClientRects()),(qv(o)||Vv(o))&&(h=o.getNode()),(Wv(o)||Uv(o))&&(h=o.getNode(!0)),!l)return null;if(u=l.left,(a=ub(s,u))&&_S(a.node))return c=Math.abs(u-a.left),d=Math.abs(u-a.right),Yb(t,e,a.node,c<d,!0);if(h){var f=eb(t,e.getBody(),nb(1),h);if(a=ub(vt(f,ib(1)),u))return Qb(e,a.position.toRange(),!0);if(a=to.last(vt(f,ib(0))))return Qb(e,a.position.toRange(),!0)}},TS=function(t){var e=t.dom.create(pp.getForcedRootBlock(t));return(!Ui.ie||Ui.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e},SS=function(t,n,i){var o,r,s=Wd(t.getBody()),a=e(Pd,s.next),l=e(Pd,s.prev);if(i.collapsed&&t.settings.forced_root_block){if(!(o=t.dom.getParent(i.startContainer,"PRE")))return;(1===n?a(oc.fromRangeStart(i)):l(oc.fromRangeStart(i)))||(r=TS(t),1===n?t.$(o).after(r):t.$(o).before(r),t.selection.select(r,!0),t.selection.collapse())}},ES=function(t,n){var i,o=Wd(t.getBody()),r=e(Pd,o.next),s=e(Pd,o.prev),a=n?ic.Forwards:ic.Backwards,l=n?r:s,u=t.selection.getRng();return(i=CS(a,t,l,u))?i:(i=SS(t,a,u))||null},NS=function(t,e){var n,i=e?1:-1,o=e?tb:Zv,r=t.selection.getRng();return(n=kS(i,t,o,r))?n:(n=SS(t,i,r))||null},DS=function(t,e){return function(){var n=ES(t,e);return!!n&&(t.selection.setRng(n),!0)}},AS=function(t,e){return function(){var n=NS(t,e);return!!n&&(t.selection.setRng(n),!0)}},zS=function(t){return function(e){return t?Wv(e):qv(e)}},PS=function(t,e){return function(){var n=e?oc.fromRangeEnd(t.selection.getRng()):oc.fromRangeStart(t.selection.getRng()),i=e?pS(t.getBody(),n):fS(t.getBody(),n);return(e?At(i.positions):Dt(i.positions)).filter(zS(e)).fold(B(!1),(function(e){return t.selection.setRng(e.toRange()),!0}))}},MS=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}},IS=function(t,e){return Ct(e,(function(e){var n=MS(yu(e.getBoundingClientRect()),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]}))},RS=function(t,e,n){return yt(t,(function(t,i){return t.fold((function(){return X.some(i)}),(function(t){var o=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),r=Math.sqrt(Math.abs(i.x-e)+Math.abs(i.y-n));return X.some(r<o?i:t)}))}),X.none())},OS=function(t,e,n,i,o){var r=pl(Ze.fromDom(n),"td,th,caption").map((function(t){return t.dom()})),s=vt(IS(t,r),(function(t){return e(t,o)}));return RS(s,i,o).map((function(t){return t.cell}))},HS=function(t){return t.bottom},LS=function(t){return t.top},FS=function(t,e){return t.y<e},BS=function(t,e){return t.y>e},$S=e(OS,HS,FS),jS=e(OS,LS,BS),VS=function(t,e){return Dt(e.getClientRects()).bind((function(e){return $S(t,e.left,e.top)})).bind((function(t){return hS(wS(t),e)}))},US=function(t,e){return At(e.getClientRects()).bind((function(e){return jS(t,e.left,e.top)})).bind((function(t){return hS(yS(t),e)}))},qS=function(t,e){t.selection.setRng(e),PC.scrollRangeIntoView(t,e)},WS=function(t,e,n){return n.breakAt.map((function(n){return t(e,n).breakAt.isSome()})).getOr(!1)},YS=function(t){return t.breakType===tC.Wrap&&0===t.positions.length},KS=function(t){return t.breakType===tC.Br&&1===t.positions.length},GS=function(t,e,n){var i=t(e,n);return YS(i)||!Zt.isBr(n.getNode())&&KS(i)?!WS(t,e,i):i.breakAt.isNone()},XS=e(GS,fS),QS=e(GS,pS),JS=function(t,e,n){var i=oc.fromRangeStart(e);return sh.positionIn(!t,n).map((function(t){return t.isEqual(i)})).getOr(!1)},ZS=function(t,e,n){var i=t.selection.getRng(),o=e?1:-1;if(ad()&&JS(e,i,n)){var r=Yb(o,t,n,!e,!0);return qS(t,r),!0}return!1},tE=function(t,e,n){return VS(e,n).orThunk((function(){return Dt(n.getClientRects()).bind((function(n){return dS(vS(t,oc.before(e)),n.left)}))})).getOr(oc.before(e))},eE=function(t,e,n){return US(e,n).orThunk((function(){return Dt(n.getClientRects()).bind((function(n){return dS(bS(t,oc.after(e)),n.left)}))})).getOr(oc.after(e))},nE=function(t,e){var n=e.getNode(t);return Zt.isElement(n)&&"TABLE"===n.nodeName?X.some(n):X.none()},iE=function(t,e,n,i){var o=pp.getForcedRootBlock(e);o?e.undoManager.transact((function(){var i=Ze.fromTag(o);_n(i,pp.getForcedRootBlockAttrs(e)),aa(i,Ze.fromTag("br")),t?ra(Ze.fromDom(n),i):oa(Ze.fromDom(n),i);var r=e.dom.createRng();r.setStart(i.dom(),0),r.setEnd(i.dom(),0),qS(e,r)})):qS(e,i.toRange())},oE=function(t,e,n){var i=nE(!!e,n),o=!1===e;i.fold((function(){return qS(t,n.toRange())}),(function(i){return sh.positionIn(o,t.getBody()).filter((function(t){
return t.isEqual(n)})).fold((function(){return qS(t,n.toRange())}),(function(){return iE(e,t,i,n)}))}))},rE=function(t,e,n,i){var o=t.selection.getRng(),r=oc.fromRangeStart(o),s=t.getBody();if(!e&&XS(i,r)){var a=tE(s,n,r);return oE(t,e,a),!0}if(e&&QS(i,r)){a=eE(s,n,r);return oE(t,e,a),!0}return!1},sE=function(t,e){return function(){return X.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return X.from(t.dom.getParent(n,"table")).map((function(n){return ZS(t,e,n)}))})).getOr(!1)}},aE=function(t,e){return function(){return X.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return X.from(t.dom.getParent(n,"table")).map((function(i){return rE(t,e,i,n)}))})).getOr(!1)}},lE=function(t){return dt(["figcaption"],on(t))},uE=function(e){var n=t.document.createRange();return n.setStartBefore(e.dom()),n.setEndBefore(e.dom()),n},cE=function(t,e,n){n?aa(t,e):sa(t,e)},dE=function(t,e){var n=Ze.fromTag("br");return cE(t,n,e),uE(n)},hE=function(t,e,n,i){var o=Ze.fromTag(n),r=Ze.fromTag("br");return _n(o,i),aa(o,r),cE(t,o,e),uE(r)},fE=function(t,e,n,i){return""===e?dE(t,i):hE(t,i,e,n)},pE=function(t,n){var i=e(Bn,n);return ml(Ze.fromDom(t.container()),To,i).filter(lE)},gE=function(t,e,n){return e?mS(t.dom(),n):gS(t.dom(),n)},mE=function(t,e){var n=Ze.fromDom(t.getBody()),i=oc.fromRangeStart(t.selection.getRng()),o=pp.getForcedRootBlock(t),r=pp.getForcedRootBlockAttrs(t);return pE(i,n).exists((function(){if(gE(n,e,i)){var s=fE(n,o,r,e);return t.selection.setRng(s),!0}return!1}))},vE=function(t,e){return function(){return!!t.selection.isCollapsed()&&mE(t,e)}},bE=function(t){return ft(t,(function(t){return Qg({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:L},t)}))},yE=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},wE=function(t,e){return Ct(bE(t),(function(t){return yE(t,e)?[t]:[]}))},_E=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,i)}},xE=function(t,e){return wt(wE(t,e),(function(t){return t.action()}))},CE={match:wE,action:_E,execute:xE},kE=function(t,e,n){var i=Ye().os;CE.execute([{keyCode:Av.RIGHT,action:DS(t,!0)},{keyCode:Av.LEFT,action:DS(t,!1)},{keyCode:Av.UP,action:AS(t,!1)},{keyCode:Av.DOWN,action:AS(t,!0)},{keyCode:Av.RIGHT,action:sE(t,!0)},{keyCode:Av.LEFT,action:sE(t,!1)},{keyCode:Av.UP,action:aE(t,!1)},{keyCode:Av.DOWN,action:aE(t,!0)},{keyCode:Av.RIGHT,action:iS.move(t,e,!0)},{keyCode:Av.LEFT,action:iS.move(t,e,!1)},{keyCode:Av.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:iS.moveNextWord(t,e)},{keyCode:Av.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:iS.movePrevWord(t,e)},{keyCode:Av.UP,action:vE(t,!1)},{keyCode:Av.DOWN,action:vE(t,!0)}],n).each((function(){n.preventDefault()}))},TE=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&kE(t,e,n)}))},SE={setup:TE},EE=function(t){return function(e){return Bn(t,Ze.fromDom(e.dom().parentNode))}},NE=function(t,e){return Vn(t,e)?ml(e,(function(t){return Do(t)||zo(t)}),EE(t)):X.none()},DE=function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)},AE=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),DE(t))},zE=function(t,e,n){return Au(sh.firstPositionIn(n),sh.lastPositionIn(n),(function(i,o){var r=yT.normalizePosition(!0,i),s=yT.normalizePosition(!1,o),a=yT.normalizePosition(!1,e);return t?sh.nextPosition(n,a).map((function(t){return t.isEqual(s)&&e.isEqual(r)})).getOr(!1):sh.prevPosition(n,a).map((function(t){return t.isEqual(r)&&e.isEqual(s)})).getOr(!1)})).getOr(!0)},PE={getParentBlock:NE,paddEmptyBody:AE,willDeleteLastPositionInElement:zE},ME=function(t,e){return{block:B(t),position:B(e)}},IE=function(t,e){return{from:B(t),to:B(e)}},RE=function(t,e){var n=Ze.fromDom(t),i=Ze.fromDom(e.container());return PE.getParentBlock(n,i).map((function(t){return ME(t,e)}))},OE=function(t){return!1===Bn(t.from().block(),t.to().block())},HE=function(t){return Yn(t.from().block()).bind((function(e){return Yn(t.to().block()).filter((function(t){return Bn(e,t)}))})).isSome()},LE=function(t){return!1===Zt.isContentEditableFalse(t.from().block().dom())&&!1===Zt.isContentEditableFalse(t.to().block().dom())},FE=function(t,e,n){return Zt.isBr(n.position().getNode())&&!1===ww.isEmpty(n.block())?sh.positionIn(!1,n.block().dom()).bind((function(i){return i.isEqual(n.position())?sh.fromPosition(e,t,i).bind((function(e){return RE(t,e)})):X.some(n)})).getOr(n):n},BE=function(t,e,n){var i=RE(t,oc.fromRangeStart(n)),o=i.bind((function(n){return sh.fromPosition(e,t,n.position()).bind((function(n){return RE(t,n).map((function(n){return FE(t,e,n)}))}))}));return Au(i,o,IE).filter((function(t){return OE(t)&&HE(t)&&LE(t)}))},$E=function(t,e,n){return n.collapsed?BE(t,e,n):X.none()},jE={read:$E},VE=function(t){var e=Zn(t);return _t(e,To).fold((function(){return e}),(function(t){return e.slice(0,t)}))},UE=function(t){var e=VE(t);return pt(e,ha),e},qE=function(t,e){var n=pv.parentsAndSelf(e,t);return wt(n.reverse(),ww.isEmpty).each(ha)},WE=function(t){return 0===vt(Qn(t),(function(t){return!ww.isEmpty(t)})).length},YE=function(t,e,n,i){if(ww.isEmpty(n))return Wy.fillWithPaddingBr(n),sh.firstPositionIn(n.dom());WE(i)&&ww.isEmpty(e)&&oa(i,Ze.fromTag("br"));var o=sh.prevPosition(n.dom(),oc.before(i.dom()));return pt(UE(e),(function(t){oa(i,t)})),qE(t,e),o},KE=function(t,e,n){if(ww.isEmpty(n))return ha(n),ww.isEmpty(e)&&Wy.fillWithPaddingBr(e),sh.firstPositionIn(e.dom());var i=sh.lastPositionIn(n.dom());return pt(UE(e),(function(t){aa(n,t)})),qE(t,e),i},GE=function(t,e){var n=pv.parentsAndSelf(e,t);return X.from(n[n.length-1])},XE=function(t,e){return Vn(e,t)?GE(e,t):X.none()},QE=function(t,e){sh.positionIn(t,e.dom()).map((function(t){return t.getNode()})).map(Ze.fromDom).filter(No).each(ha)},JE=function(t,n,i){return QE(!0,n),QE(!1,i),XE(n,i).fold(e(KE,t,n,i),e(YE,t,n,i))},ZE=function(t,e,n,i){return e?JE(t,i,n):JE(t,n,i)},tN={mergeBlocks:ZE},eN=function(t,e){var n=Ze.fromDom(t.getBody()),i=jE.read(n.dom(),e,t.selection.getRng()).bind((function(t){return tN.mergeBlocks(n,e,t.from().block(),t.to().block())}));return i.each((function(e){t.selection.setRng(e.toRange())})),i.isSome()},nN={backspaceDelete:eN},iN=function(t,e){var n=e.getRng();return Au(PE.getParentBlock(t,Ze.fromDom(n.startContainer)),PE.getParentBlock(t,Ze.fromDom(n.endContainer)),(function(i,o){return!1===Bn(i,o)&&(n.deleteContents(),tN.mergeBlocks(t,!0,i,o).each((function(t){e.setRng(t.toRange())})),!0)})).getOr(!1)},oN=function(t,n){var i=Ze.fromDom(n),o=e(Bn,t);return gl(i,Io,o).isSome()},rN=function(t,e){return oN(t,e.startContainer)||oN(t,e.endContainer)},sN=function(t,e){var n=sh.prevPosition(t.dom(),oc.fromRangeStart(e)).isNone(),i=sh.nextPosition(t.dom(),oc.fromRangeEnd(e)).isNone();return!rN(t,e)&&n&&i},aN=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},lN=function(t){var e=Ze.fromDom(t.getBody()),n=t.selection.getRng();return sN(e,n)?aN(t):iN(e,t.selection)},uN=function(t){return!t.selection.isCollapsed()&&lN(t)},cN={backspaceDelete:uN},dN=function(t){return Ad(t).exists(No)},hN=function(t,e,n){var i=vt(pv.parentsAndSelf(Ze.fromDom(n.container()),e),To),o=Dt(i).getOr(e);return sh.fromPosition(t,o.dom(),n).filter(dN)},fN=function(t,e){return Ad(e).exists(No)||hN(!0,t,e).isSome()},pN=function(t,e){return zd(e).exists(No)||hN(!1,t,e).isSome()},gN=e(hN,!1),mN=e(hN,!0),vN=function(t){return Io(Ze.fromDom(t))||zo(Ze.fromDom(t))},bN=Dp.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),yN=function(t,e){var n=e.getNode(!1===t),i=t?"after":"before";return Zt.isElement(n)&&n.getAttribute("data-mce-caret")===i},wN=function(t,e,n,i){var o=function(e){return Eo(Ze.fromDom(e))&&!wd(n,i,t)};return Nd(!e,n).fold((function(){return Nd(e,i).fold(B(!1),o)}),o)},_N=function(t,e,n,i){var o=i.getNode(!1===e);return PE.getParentBlock(Ze.fromDom(t),Ze.fromDom(n.getNode())).map((function(t){return ww.isEmpty(t)?bN.remove(t.dom()):bN.moveToElement(o)})).orThunk((function(){return X.some(bN.moveToElement(o))}))},xN=function(t,e,n){return sh.fromPosition(e,t,n).bind((function(i){return vN(i.getNode())||wN(t,e,n,i)?X.none():e&&Zt.isContentEditableFalse(i.getNode())||!1===e&&Zt.isContentEditableFalse(i.getNode(!0))?_N(t,e,n,i):e&&Wv(n)||!1===e&&qv(n)?X.some(bN.moveToPosition(i)):X.none()}))},CN=function(t,e){return t&&Zt.isContentEditableFalse(e.nextSibling)?X.some(bN.moveToElement(e.nextSibling)):!1===t&&Zt.isContentEditableFalse(e.previousSibling)?X.some(bN.moveToElement(e.previousSibling)):X.none()},kN=function(t,e,n){return n.fold((function(t){return X.some(bN.remove(t))}),(function(t){return X.some(bN.moveToElement(t))}),(function(n){return wd(e,n,t)?X.none():X.some(bN.moveToPosition(n))}))},TN=function(t,e,n){return yN(e,n)?CN(e,n.getNode(!1===e)).fold((function(){return xN(t,e,n)}),X.some):xN(t,e,n).bind((function(e){return kN(t,n,e)}))},SN=function(t,e,n){var i=Ed(e?1:-1,t,n),o=oc.fromRangeStart(i),r=Ze.fromDom(t);return!1===e&&Wv(o)?X.some(bN.remove(o.getNode(!0))):e&&qv(o)?X.some(bN.remove(o.getNode())):!1===e&&qv(o)&&pN(r,o)?gN(r,o).map((function(t){return bN.remove(t.getNode())})):e&&Wv(o)&&fN(r,o)?mN(r,o).map((function(t){return bN.remove(t.getNode())})):TN(t,e,o)},EN=function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),Bw.deleteElement(t,e,Ze.fromDom(n)),!0}},NN=function(t,e){return function(n){var i=e?oc.before(n):oc.after(n);return t.selection.setRng(i.toRange()),!0}},DN=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},AN=function(t,e){return X.from(IN(t.getBody(),e))},zN=function(t,e){var n=t.selection.getNode();return AN(t,n).filter(Zt.isContentEditableFalse).fold((function(){var n=SN(t.getBody(),e,t.selection.getRng()).map((function(n){return n.fold(EN(t,e),NN(t,e),DN(t))}));return n.getOr(!1)}),(function(){return!0}))},PN=function(t){pt(pl(t,".mce-offscreen-selection"),ha)},MN=function(t,e){var n=t.selection.getNode();return!!Zt.isContentEditableFalse(n)&&AN(t,n.parentNode).filter(Zt.isContentEditableFalse).fold((function(){return PN(Ze.fromDom(t.getBody())),Bw.deleteElement(t,e,Ze.fromDom(t.selection.getNode())),PE.paddEmptyBody(t),!0}),(function(){return!0}))},IN=function(t,e){for(;e&&e!==t;){if(Zt.isContentEditableTrue(e)||Zt.isContentEditableFalse(e))return e;e=e.parentNode}return null},RN=function(t){var e,n=IN(t.getBody(),t.selection.getNode());return Zt.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(oc.before(e).toRange())),!0},ON=function(t,e){return t.selection.isCollapsed()?zN(t,e):MN(t,e)},HN={backspaceDelete:ON,paddEmptyElement:RN},LN=function(t,e){Zt.isText(e)&&0===e.data.length&&t.remove(e)},FN=function(t,e,n,i,o,r){var s=Yb(i,t,r.getNode(!o),o,!0);if(e.collapsed){var a=e.cloneRange();o?a.setEnd(s.startContainer,s.startOffset):a.setStart(s.endContainer,s.endOffset),a.deleteContents()}else e.deleteContents();return t.selection.setRng(s),LN(t.dom,n),!0},BN=function(t,n){var i=t.selection.getRng();if(!Zt.isText(i.commonAncestorContainer))return!1;var o=n?ic.Forwards:ic.Backwards,r=Wd(t.getBody()),s=e(Pd,r.next),a=e(Pd,r.prev),l=n?s:a,u=n?qv:Wv,c=Dd(o,t.getBody(),i),d=yT.normalizePosition(n,l(c));if(!d||!Md(c,d))return!1;if(u(d))return FN(t,i,c.getNode(),o,n,d);var h=l(d);return!!(h&&u(h)&&Md(d,h))&&FN(t,i,c.getNode(),o,n,h)},$N=function(t,e){return BN(t,e)},jN={backspaceDelete:$N},VN=function(t){return!1!==t.settings.inline_boundaries},UN=function(e,n){var i=t.document.createRange();return i.setStart(e.container(),e.offset()),i.setEnd(n.container(),n.offset()),i},qN=function(t){return Au(sh.firstPositionIn(t),sh.lastPositionIn(t),(function(e,n){var i=yT.normalizePosition(!0,e),o=yT.normalizePosition(!1,n);return sh.nextPosition(t,i).map((function(t){return t.isEqual(o)})).getOr(!0)})).getOr(!0)},WN=function(t,e){return function(n){return hT.renderCaret(e,n).map((function(e){return iS.setCaretPosition(t,e),!0})).getOr(!1)}},YN=function(t,n,i,o){var r=t.getBody(),s=e(yT.isInlineTarget,t);t.undoManager.ignore((function(){t.selection.setRng(UN(i,o)),t.execCommand("Delete"),jT.readLocation(s,r,oc.fromRangeStart(t.selection.getRng())).map(jT.inside).map(WN(t,n))})),t.nodeChanged()},KN=function(t,e){var n=yd(e,t);return n||t},GN=function(t,n,i,o){var r=KN(t.getBody(),o.container()),s=e(yT.isInlineTarget,t),a=jT.readLocation(s,r,o);return a.bind((function(t){return i?t.fold(B(X.some(jT.inside(t))),X.none,B(X.some(jT.outside(t))),X.none):t.fold(X.none,B(X.some(jT.outside(t))),X.none,B(X.some(jT.inside(t))))})).map(WN(t,n)).getOrThunk((function(){var e=sh.navigate(i,r,o),l=e.bind((function(t){return jT.readLocation(s,r,t)}));return a.isSome()&&l.isSome()?yT.findRootInline(s,r,o).map((function(e){return!!qN(e)&&(Bw.deleteElement(t,i,Ze.fromDom(e)),!0)})).getOr(!1):l.bind((function(){return e.map((function(e){return i?YN(t,n,o,e):YN(t,n,e,o),!0}))})).getOr(!1)}))},XN=function(t,e,n){if(t.selection.isCollapsed()&&VN(t)){var i=oc.fromRangeStart(t.selection.getRng());return GN(t,e,n,i)}return!1},QN={backspaceDelete:XN},JN=function(t,e){var n=pv.parentsAndSelf(e,t);return _t(n,To).fold(B(n),(function(t){return n.slice(0,t)}))},ZN=function(t){return 1===Zn(t).length},tD=function(t,n,i,o){var r=e(r_,n),s=ft(vt(o,r),(function(t){return t.dom()}));if(0===s.length)Bw.deleteElement(n,t,i);else{var a=o_(i.dom(),s);n.selection.setRng(a.toRange())}},eD=function(t,e){var n=Ze.fromDom(t.getBody()),i=Ze.fromDom(t.selection.getStart()),o=vt(JN(n,i),ZN);return At(o).map((function(n){var i=oc.fromRangeStart(t.selection.getRng());return!(!PE.willDeleteLastPositionInElement(e,i,n.dom())||s_(n))&&(tD(e,t,n,o),!0)})).getOr(!1)},nD=function(t,e){return!!t.selection.isCollapsed()&&eD(t,e)},iD={backspaceDelete:nD},oD=function(t,e){return{start:B(t),end:B(e)}},rD=function(t,e,n){return{rng:B(t),table:B(e),cells:B(n)}},sD=Dp.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),aD=function(t){return function(e){return Bn(t,e)}},lD=function(t,e){return yl(Ze.fromDom(t),"td,th",e)},uD=function(t,e){return vl(t,"table",e)},cD=function(t){return!1===Bn(t.start(),t.end())},dD=function(t,e){return uD(t.start(),e).bind((function(n){return uD(t.end(),e).bind((function(t){return Pu(Bn(n,t),n)}))}))},hD=function(t){return pl(t,"td,th")},fD=function(t,e){return uD(t.start(),e).bind((function(e){return At(hD(e)).map((function(e){return oD(t.start(),e)}))}))},pD=function(t,e){var n=lD(e.startContainer,t),i=lD(e.endContainer,t);return e.collapsed?X.none():Au(n,i,oD).fold((function(){return n.fold((function(){return i.bind((function(e){return uD(e,t).bind((function(t){return Dt(hD(t)).map((function(t){return oD(t,e)}))}))}))}),(function(e){return uD(e,t).bind((function(t){return At(hD(t)).map((function(t){return oD(e,t)}))}))}))}),(function(e){return gD(t,e)?X.none():fD(e,t)}))},gD=function(t,e){return dD(e,t).isSome()},mD=function(t,e){var n=lD(t.startContainer,e),i=lD(t.endContainer,e);return Au(n,i,oD).filter(cD).filter((function(t){return gD(e,t)})).orThunk((function(){return pD(e,t)}))},vD=function(t,e){return dD(t,e).map((function(e){return rD(t,e,hD(e))}))},bD=function(t,e){var n=aD(t);return mD(e,n).bind((function(t){return vD(t,n)}))},yD=function(t,e){return _t(t,(function(t){return Bn(t,e)}))},wD=function(t){return Au(yD(t.cells(),t.rng().start()),yD(t.cells(),t.rng().end()),(function(e,n){return t.cells().slice(e,n+1)}))},_D=function(t){return wD(t).map((function(e){var n=t.cells();return e.length===n.length?sD.removeTable(t.table()):sD.emptyCells(e)}))},xD=function(t,e){return bD(t,e).bind(_D)},CD=function(t,e){return pt(e,Wy.fillWithPaddingBr),t.selection.setCursorLocation(e[0].dom(),0),!0},kD=function(t,e){return Bw.deleteElement(t,!1,e),!0},TD=function(t,n,i){return xD(n,i).map((function(n){return n.fold(e(kD,t),e(CD,t))}))},SD=function(t,e){return PD(t,e)},ED=function(t,e,n,i){return AD(e,i).fold((function(){return TD(t,e,n)}),(function(e){return SD(t,e)})).getOr(!1)},ND=function(t,e){var n=Ze.fromDom(t.getBody()),i=t.selection.getRng(),o=ck.getCellsFromEditor(t);return 0!==o.length?CD(t,o):ED(t,n,i,e)},DD=function(t,e){return wt(pv.parentsAndSelf(e,t),Io)},AD=function(t,e){return wt(pv.parentsAndSelf(e,t),(function(t){return"caption"===on(t)}))},zD=function(t,e,n,i,o){return sh.navigate(n,t.getBody(),o).bind((function(t){return DD(e,Ze.fromDom(t.getNode())).map((function(t){return!1===Bn(t,i)}))}))},PD=function(t,e){return Wy.fillWithPaddingBr(e),t.selection.setCursorLocation(e.dom(),0),X.some(!0)},MD=function(t,e,n,i){return sh.firstPositionIn(t.dom()).bind((function(o){return sh.lastPositionIn(t.dom()).map((function(t){return e?n.isEqual(o)&&i.isEqual(t):n.isEqual(t)&&i.isEqual(o)}))})).getOr(!0)},ID=function(t,e){return PD(t,e)},RD=function(t,e,n){return AD(t,Ze.fromDom(n.getNode())).map((function(t){return!1===Bn(t,e)}))},OD=function(t,e,n,i,o){return sh.navigate(n,t.getBody(),o).bind((function(r){return MD(i,n,o,r)?ID(t,i):RD(e,i,r)})).or(X.some(!0))},HD=function(t,e,n,i){var o=oc.fromRangeStart(t.selection.getRng());return DD(n,i).bind((function(i){return ww.isEmpty(i)?PD(t,i):zD(t,n,e,i,o)})).getOr(!1)},LD=function(t,e,n,i){var o=oc.fromRangeStart(t.selection.getRng());return ww.isEmpty(i)?PD(t,i):OD(t,n,e,i,o)},FD=function(t,e){return t?Vv(e):Uv(e)},BD=function(t,e){var n=oc.fromRangeStart(t.selection.getRng());return FD(e,n)||sh.fromPosition(e,t.getBody(),n).map((function(t){return FD(e,t)})).getOr(!1)},$D=function(t,e,n){var i=Ze.fromDom(t.getBody());return AD(i,n).fold((function(){return HD(t,e,i,n)||BD(t,e)}),(function(n){return LD(t,e,i,n).getOr(!1)}))},jD=function(t,e){var n=Ze.fromDom(t.selection.getStart(!0)),i=ck.getCellsFromEditor(t);return t.selection.isCollapsed()&&0===i.length?$D(t,e,n):ND(t,n)},VD={backspaceDelete:jD},UD=function(t,e){var n=oc.fromRangeStart(t.selection.getRng());return sh.fromPosition(e,t.getBody(),n).filter((function(t){return e?$v(t):jv(t)})).bind((function(t){return X.from(_d(e?0:-1,t))})).map((function(e){return t.selection.select(e),!0})).getOr(!1)},qD=function(t,e){return!!t.selection.isCollapsed()&&UD(t,e)},WD={backspaceDelete:qD},YD=function(t){return ml(t,(function(t){return Zt.isContentEditableTrue(t.dom())||Zt.isContentEditableFalse(t.dom())})).exists((function(t){return Zt.isContentEditableTrue(t.dom())}))},KD=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},GD=function(t,e){return(t||So(e)?"margin":"padding")+("rtl"===Tn(e,"direction")?"-right":"-left")},XD=function(t,e,n,i,o,r){var s=GD(n,Ze.fromDom(r));if("outdent"===e){var a=Math.max(0,KD(r.style[s])-i);t.setStyle(r,s,a?a+o:"")}else{a=KD(r.style[s])+i+o;t.setStyle(r,s,a)}},QD=function(t,e){return kt(e,(function(e){var n=GD(pp.shouldIndentUseMargin(t),e),i=En(e,n).map(KD).getOr(0);return"false"!==t.dom.getContentEditable(e.dom())&&i>0}))},JD=function(t){var e=eA(t);return!0!==t.readonly&&(e.length>1||QD(t,e))},ZD=function(t){return Ao(t)||zo(t)},tA=function(t){return Yn(t).map(ZD).getOr(!1)},eA=function(t){return vt(ft(t.selection.getSelectedBlocks(),Ze.fromDom),(function(t){return!ZD(t)&&!tA(t)&&YD(t)}))},nA=function(t,e){var n=t.dom,i=t.selection,o=t.formatter,r=pp.getIndentation(t),s=/[a-z%]+$/i.exec(r)[0],a=parseInt(r,10),l=pp.shouldIndentUseMargin(t),u=pp.getForcedRootBlock(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==u||n.getParent(i.getNode(),n.isBlock)||o.apply("div"),pt(eA(t),(function(t){XD(n,e,l,a,s,t.dom())}))},iA=function(t,e,n){return sh.navigateIgnore(t,e,n,Hv)},oA=function(t,e){return wt(pv.parentsAndSelf(Ze.fromDom(e.container()),t),To)},rA=function(t,e,n){return iA(t,e.dom(),n).forall((function(t){return oA(e,n).fold((function(){return!1===wd(t,n,e.dom())}),(function(i){return!1===wd(t,n,e.dom())&&Vn(i,Ze.fromDom(t.container()))}))}))},sA=function(t,e,n){return oA(e,n).fold((function(){return iA(t,e.dom(),n).forall((function(t){return!1===wd(t,n,e.dom())}))}),(function(e){return iA(t,e.dom(),n).isNone()}))},aA=e(sA,!1),lA=e(sA,!0),uA=e(rA,!1),cA=e(rA,!0),dA=function(t){if(t.selection.isCollapsed()&&JD(t)){var e=t.dom,n=t.selection.getRng(),i=oc.fromRangeStart(n),o=e.getParent(n.startContainer,e.isBlock);if(null!==o&&aA(Ze.fromDom(o),i))return nA(t,"outdent"),!0}return!1},hA={backspaceDelete:dA},fA=function(t,e,n){CE.execute([{keyCode:Av.BACKSPACE,action:CE.action(hA.backspaceDelete,t,!1)},{keyCode:Av.BACKSPACE,action:CE.action(HN.backspaceDelete,t,!1)},{keyCode:Av.DELETE,action:CE.action(HN.backspaceDelete,t,!0)},{keyCode:Av.BACKSPACE,action:CE.action(jN.backspaceDelete,t,!1)},{keyCode:Av.DELETE,action:CE.action(jN.backspaceDelete,t,!0)},{keyCode:Av.BACKSPACE,action:CE.action(QN.backspaceDelete,t,e,!1)},{keyCode:Av.DELETE,action:CE.action(QN.backspaceDelete,t,e,!0)},{keyCode:Av.BACKSPACE,action:CE.action(VD.backspaceDelete,t,!1)},{keyCode:Av.DELETE,action:CE.action(VD.backspaceDelete,t,!0)},{keyCode:Av.BACKSPACE,action:CE.action(WD.backspaceDelete,t,!1)},{keyCode:Av.DELETE,action:CE.action(WD.backspaceDelete,t,!0)},{keyCode:Av.BACKSPACE,action:CE.action(cN.backspaceDelete,t,!1)},{keyCode:Av.DELETE,action:CE.action(cN.backspaceDelete,t,!0)},{keyCode:Av.BACKSPACE,action:CE.action(nN.backspaceDelete,t,!1)},{keyCode:Av.DELETE,action:CE.action(nN.backspaceDelete,t,!0)},{keyCode:Av.BACKSPACE,action:CE.action(iD.backspaceDelete,t,!1)},{keyCode:Av.DELETE,action:CE.action(iD.backspaceDelete,t,!0)}],n).each((function(){n.preventDefault()}))},pA=function(t,e){CE.execute([{keyCode:Av.BACKSPACE,action:CE.action(HN.paddEmptyElement,t)},{keyCode:Av.DELETE,action:CE.action(HN.paddEmptyElement,t)}],e)},gA=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&fA(t,e,n)})),t.on("keyup",(function(e){!1===e.isDefaultPrevented()&&pA(t,e)}))},mA={setup:gA},vA=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},bA=function(t,e){var n,i,o=e,r=t.dom,s=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var a=vA(e.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&e.insertBefore(r.doc.createTextNode("\xa0"),e.firstChild)}if(i=r.createRng(),e.normalize(),e.hasChildNodes()){for(var l=new ia(e,e);n=l.current();){if(Zt.isText(n)){i.setStart(n,0),i.setEnd(n,0);break}if(s[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}o=n,n=l.next()}n||(i.setStart(o,0),i.setEnd(o,0))}else Zt.isBr(e)?e.nextSibling&&r.isBlock(e.nextSibling)?(i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)):(i.setStart(e,0),i.setEnd(e,0));t.selection.setRng(i),t.selection.scrollIntoView(e)}},yA=function(t,e){var n,i,o=t.getRoot();for(n=e;n!==o&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==o?i:o},wA=function(t){return X.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},_A=function(t){return wA(t).fold(B(""),(function(t){return t.nodeName.toUpperCase()}))},xA=function(t){return wA(t).filter((function(t){return zo(Ze.fromDom(t))})).isSome()},CA={moveToCaretPosition:bA,getEditableRoot:yA,getParentBlock:wA,getParentBlockName:_A,isListItemParentBlock:xA},kA=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},TA=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},SA=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},EA=function(t){return SA(t)&&SA(t.parentNode)},NA=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},DA=function(t,e,n){for(var i=t[n?"firstChild":"lastChild"];i&&!Zt.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===e},AA=function(t,e,n,i,o){var r=t.dom,s=t.selection.getRng();if(n!==t.getBody()){EA(n)&&(o="LI");var a=o?e(o):r.create("BR");if(DA(n,i,!0)&&DA(n,i,!1))TA(n,"LI")?r.insertAfter(a,NA(n)):r.replace(a,n);else if(DA(n,i,!0))TA(n,"LI")?(r.insertAfter(a,NA(n)),a.appendChild(r.doc.createTextNode(" ")),a.appendChild(n)):n.parentNode.insertBefore(a,n);else if(DA(n,i,!1))r.insertAfter(a,NA(n));else{n=NA(n);var l=s.cloneRange();l.setStartAfter(i),l.setEndAfter(n);var u=l.extractContents();"LI"===o&&kA(u,"LI")?(a=u.firstChild,r.insertAfter(u,n)):(r.insertAfter(u,n),r.insertAfter(a,n))}r.remove(i),CA.moveToCaretPosition(t,a)}},zA={insert:AA},PA=function(t){pt(fl(Ze.fromDom(t),ln),(function(t){var e=t.dom();e.nodeValue=Bl.trim(e.nodeValue)}))},MA=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},IA=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},RA=function(t){t.innerHTML='<br data-mce-bogus="1">'},OA=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},HA=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},LA=function(t,e,n){var i,o=n,r=[];if(o){for(;o=o.firstChild;){if(t.isBlock(o))return;Zt.isElement(o)&&!e[o.nodeName.toLowerCase()]&&r.push(o)}for(i=r.length;i--;)(!(o=r[i]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||MA(t,o))&&t.remove(o)}},FA=function(t,e,n){return!1===Zt.isText(e)?n:t?1===n&&e.data.charAt(n-1)===Bl.ZWSP?0:n:n===e.data.length-1&&e.data.charAt(n)===Bl.ZWSP?e.data.length:n},BA=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,FA(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,FA(!1,t.endContainer,t.endOffset)),e},$A=function(t){do{Zt.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)},jA=function(t,e){var n,i,o=t.getRoot();for(n=e;n!==o&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==o?i:o},VA=function(t,e){var n=pp.getForcedRootBlock(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,pp.getForcedRootBlockAttrs(t))},UA=function(t,e,n,i,o){var r,s,a,l,u,c,d=e||"P",h=t.dom,f=jA(h,i);if(!(s=h.getParent(i,h.isBlock))||!HA(h,s)){if(c=(s=s||f)===t.getBody()||IA(s)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return r=h.create(d),VA(t,r),s.appendChild(r),n.setStart(r,0),n.setEnd(r,0),r;for(l=i;l.parentNode!==s;)l=l.parentNode;for(;l&&!h.isBlock(l);)a=l,l=l.previousSibling;if(a&&t.schema.isValidChild(c,d.toLowerCase())){for(r=h.create(d),VA(t,r),a.parentNode.insertBefore(r,a),l=a;l&&!h.isBlock(l);)u=l.nextSibling,r.appendChild(l),l=u;n.setStart(i,o),n.setEnd(i,o)}}return i},qA=function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")},WA=function(t,e){var n,i,o,r,s,a,l,u,c,d,h,f,p,g=t.dom,m=t.schema,v=m.getNonEmptyElements(),b=t.selection.getRng(),y=function(e){var n,r,a,l=o,u=m.getTextInlineElements();if(e||"TABLE"===d||"HR"===d?(n=g.create(e||f),VA(t,n)):n=s.cloneNode(!1),a=n,!1===pp.shouldKeepStyles(t))g.setAttrib(n,"style",null),g.setAttrib(n,"class",null);else do{if(u[l.nodeName]){if(Bc(l)||Eh.isBookmarkNode(l))continue;r=l.cloneNode(!1),g.setAttrib(r,"id",""),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(a=r,n.appendChild(r))}}while((l=l.parentNode)&&l!==i);return RA(a),n},w=function(t){var e,n,i=FA(t,o,r);if(Zt.isText(o)&&(t?i>0:i<o.nodeValue.length))return!1;if(o.parentNode===s&&p&&!t)return!0;if(t&&Zt.isElement(o)&&o===s.firstChild)return!0;if(OA(o,"TABLE")||OA(o,"HR"))return p&&!t||!p&&t;var a=new ia(o,s);for(Zt.isText(o)&&(t&&0===i?a.prev():t||i!==o.nodeValue.length||a.next());e=a.current();){if(Zt.isElement(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),v[n]&&"br"!==n))return!1}else if(Zt.isText(e)&&!/^[ \t\r\n]*$/.test(e.nodeValue))return!1;t?a.prev():a.next()}return!0},_=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==h?y(f):y(),pp.shouldEndContainerOnEmptyBlock(t)&&HA(g,c)&&g.isEmpty(s)?l=g.split(c,s):g.insertAfter(l,s),CA.moveToCaretPosition(t,l)};Hk.normalize(g,b).each((function(t){b.setStart(t.startContainer,t.startOffset),b.setEnd(t.endContainer,t.endOffset)})),o=b.startContainer,r=b.startOffset,f=pp.getForcedRootBlock(t),a=!(!e||!e.shiftKey);var x=!(!e||!e.ctrlKey);Zt.isElement(o)&&o.hasChildNodes()&&(p=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,r=p&&Zt.isText(o)?o.nodeValue.length:0),(i=jA(g,o))&&((f&&!a||!f&&a)&&(o=UA(t,f,b,o,r)),s=g.getParent(o,g.isBlock),c=s?g.getParent(s.parentNode,g.isBlock):null,d=s?s.nodeName.toUpperCase():"","LI"!==(h=c?c.nodeName.toUpperCase():"")||x||(s=c,c=c.parentNode,d=h),/^(LI|DT|DD)$/.test(d)&&g.isEmpty(s)?zA.insert(t,y,c,s,f):f&&s===t.getBody()||(f=f||"P",Vl(s)?(l=eu(s),g.isEmpty(s)&&RA(s),CA.moveToCaretPosition(t,l)):w()?_():w(!0)?(l=s.parentNode.insertBefore(y(),s),CA.moveToCaretPosition(t,OA(s,"HR")?l:s)):((n=BA(b).cloneRange()).setEndAfter(s),u=n.extractContents(),PA(u),$A(u),l=u.firstChild,g.insertAfter(u,s),LA(g,v,l),qA(g,s),g.isEmpty(s)&&RA(s),l.normalize(),g.isEmpty(l)?(g.remove(l),_()):CA.moveToCaretPosition(t,l)),g.setAttrib(l,"id",""),t.fire("NewBlock",{newBlock:l})))},YA={insert:WA},KA=function(t,e,n){for(var i,o=new ia(e,n),r=t.getNonEmptyElements();i=o.next();)if(r[i.nodeName.toLowerCase()]||i.length>0)return!0},GA=function(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)},XA=function(t,e,n,i){var o=t.createRng();i?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),e.setRng(o)},QA=function(t,e){var n,i,o=t.selection,r=t.dom,s=o.getRng();Hk.normalize(r,s).each((function(t){s.setStart(t.startContainer,t.startOffset),s.setEnd(t.endContainer,t.endOffset)}));var a=s.startOffset,l=s.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=u&&3===l.nodeType?l.nodeValue.length:0}var c=r.getParent(l,r.isBlock),d=c?r.getParent(c.parentNode,r.isBlock):null,h=d?d.nodeName.toUpperCase():"",f=!(!e||!e.ctrlKey);"LI"!==h||f||(c=d),l&&3===l.nodeType&&a>=l.nodeValue.length&&(KA(t.schema,l,c)||(n=r.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),i=!0)),n=r.create("br"),xc(r,s,n),GA(r,o,n),XA(r,o,n,i),t.undoManager.add()},JA=function(t,e){var n=Ze.fromTag("br");oa(Ze.fromDom(e),n),t.undoManager.add()},ZA=function(t,e){ez(t.getBody(),e)||ra(Ze.fromDom(e),Ze.fromTag("br"));var n=Ze.fromTag("br");ra(Ze.fromDom(e),n),GA(t.dom,t.selection,n.dom()),XA(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},tz=function(t){return Zt.isBr(t.getNode())},ez=function(t,e){return!!tz(oc.after(e))||sh.nextPosition(t,oc.after(e)).map((function(t){return Zt.isBr(t.getNode())})).getOr(!1)},nz=function(t){return t&&"A"===t.nodeName&&"href"in t},iz=function(t){return t.fold(B(!1),nz,nz,B(!1))},oz=function(t){var n=e(yT.isInlineTarget,t),i=oc.fromRangeStart(t.selection.getRng());return jT.readLocation(n,t.getBody(),i).filter(iz)},rz=function(t,n){n.fold(L,e(JA,t),e(ZA,t),L)},sz=function(t,n){var i=oz(t);i.isSome()?i.each(e(rz,t)):QA(t,n)},az={insert:sz},lz=function(t,e){return CA.getParentBlock(t).filter((function(t){return e.length>0&&On(Ze.fromDom(t),e)})).isSome()},uz=function(t){return lz(t,pp.getBrNewLineSelector(t))},cz=function(t){return lz(t,pp.getNoNewLineSelector(t))},dz={shouldInsertBr:uz,shouldBlockNewLine:cz},hz=Dp.generate([{br:[]},{block:[]},{none:[]}]),fz=function(t){return dz.shouldBlockNewLine(t)},pz=function(t){return function(e){return""===pp.getForcedRootBlock(e)===t}},gz=function(t){return function(e){return CA.isListItemParentBlock(e)===t}},mz=function(t,e){return function(n){return CA.getParentBlockName(n)===t.toUpperCase()===e}},vz=function(t){return mz("pre",t)},bz=function(){return mz("summary",!0)},yz=function(t){return function(e){return pp.shouldPutBrInPre(e)===t}},wz=function(t){return dz.shouldInsertBr(t)},_z=function(t,e){return e},xz=function(t){var e=pp.getForcedRootBlock(t),n=CA.getEditableRoot(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},Cz=function(t,e){return function(n,i){return yt(t,(function(t,e){return t&&e(n,i)}),!0)?X.some(e):X.none()}},kz=function(t,e){return _T.evaluateUntil([Cz([fz],hz.none()),Cz([bz()],hz.br()),Cz([vz(!0),yz(!1),_z],hz.br()),Cz([vz(!0),yz(!1)],hz.block()),Cz([vz(!0),yz(!0),_z],hz.block()),Cz([vz(!0),yz(!0)],hz.br()),Cz([gz(!0),_z],hz.br()),Cz([gz(!0)],hz.block()),Cz([pz(!0),_z,xz],hz.block()),Cz([pz(!0)],hz.br()),Cz([wz],hz.br()),Cz([pz(!1),_z],hz.br()),Cz([xz],hz.block())],[t,!(!e||!e.shiftKey)]).getOr(hz.none())},Tz={getAction:kz},Sz=function(t,e){Tz.getAction(t,e).fold((function(){az.insert(t,e)}),(function(){YA.insert(t,e)}),L)},Ez={insert:Sz},Nz=function(t,e){
e.isDefaultPrevented()||(e.preventDefault(),Dy(t.undoManager),t.undoManager.transact((function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),Ez.insert(t,e)})))},Dz=function(t){t.on("keydown",(function(e){e.keyCode===Av.ENTER&&Nz(t,e)}))},Az={setup:Dz},zz=function(t,e){var n=e.container(),i=e.offset();return Zt.isText(n)?(n.insertData(i,t),X.some(k(n,i+t.length))):Ad(e).map((function(n){var i=Ze.fromText(t);return e.isAtEnd()?ra(n,i):oa(n,i),k(i.dom(),t.length)}))},Pz=e(zz,"\xa0"),Mz=e(zz," "),Iz="\xa0",Rz=function(t){return k.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},Oz=function(t,e){var n=vt(pv.parentsAndSelf(Ze.fromDom(e.container()),t),To);return Dt(n).getOr(t)},Hz=function(t,e){return Rz(e)?Ov(e):Ov(e)||sh.prevPosition(Oz(t,e).dom(),e).exists(Ov)},Lz=function(t,e){return Rz(e)?Rv(e):Rv(e)||sh.nextPosition(Oz(t,e).dom(),e).exists(Rv)},Fz=function(t){return dt(["pre","pre-wrap"],t)},Bz=function(t){return Ad(t).bind((function(t){return ml(t,an)})).exists((function(t){return Fz(Tn(t,"white-space"))}))},$z=function(t,e){return sh.prevPosition(t.dom(),e).isNone()},jz=function(t,e){return sh.nextPosition(t.dom(),e).isNone()},Vz=function(t,e){return $z(t,e)||jz(t,e)||aA(t,e)||lA(t,e)||pN(t,e)||fN(t,e)},Uz=function(t,e){return!Bz(e)&&(Vz(t,e)||Hz(t,e)||Lz(t,e))},qz=function(t,e){return!Bz(e)&&(aA(t,e)||uA(t,e)||pN(t,e)||Hz(t,e))},Wz=function(t){var e=t.container(),n=t.offset();return Zt.isText(e)&&n<e.data.length?k(e,n+1):t},Yz=function(t,e){var n=Wz(e);return!Bz(n)&&(lA(t,n)||cA(t,n)||fN(t,n)||Lz(t,n))},Kz=function(t,e){return qz(t,e)||Yz(t,e)},Gz=function(t,e){return zv(t.charAt(e))},Xz=function(t){var e=t.container();return Zt.isText(e)&&Ie(e.data,Iz)},Qz=function(t){var e=t.split("");return ft(e,(function(t,n){return zv(t)&&n>0&&n<e.length-1&&Mv(e[n-1])&&Mv(e[n+1])?" ":t})).join("")},Jz=function(t,e){var n=e.data,i=k(e,0);return!(!Gz(n,0)||Kz(t,i))&&(e.data=" "+n.slice(1),!0)},Zz=function(t){var e=t.data,n=Qz(e);return n!==e&&(t.data=n,!0)},tP=function(t,e){var n=e.data,i=k(e,n.length-1);return!(!Gz(n,n.length-1)||Kz(t,i))&&(e.data=n.slice(0,-1)+" ",!0)},eP=function(t,e){return X.some(e).filter(Xz).bind((function(e){var n=e.container();return Jz(t,n)||Zz(n)||tP(t,n)?X.some(e):X.none()}))},nP=function(t){var e=Ze.fromDom(t.getBody());t.selection.isCollapsed()&&eP(e,k.fromRangeStart(t.selection.getRng())).each((function(e){t.selection.setRng(e.toRange())}))},iP=function(t){return function(e){return e.fold((function(e){return sh.prevPosition(t.dom(),oc.before(e))}),(function(t){return sh.firstPositionIn(t)}),(function(t){return sh.lastPositionIn(t)}),(function(e){return sh.nextPosition(t.dom(),oc.after(e))}))}},oP=function(t,e){return function(n){return Uz(t,n)?Pz(e):Mz(e)}},rP=function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}},sP=function(t){var n=oc.fromRangeStart(t.selection.getRng()),i=Ze.fromDom(t.getBody());if(t.selection.isCollapsed()){var o=e(yT.isInlineTarget,t),r=oc.fromRangeStart(t.selection.getRng());return jT.readLocation(o,t.getBody(),r).bind(iP(i)).bind(oP(i,n)).exists(rP(t))}return!1},aP=function(t,e){CE.execute([{keyCode:Av.SPACEBAR,action:CE.action(sP,t)}],e).each((function(){e.preventDefault()}))},lP={setup:function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&aP(t,e)}))}},uP=function(t){return bl(Ze.fromDom(t.getBody()),"*[data-mce-caret]").fold(B(null),(function(t){return t.dom()}))},cP=function(t){t.selection.setRng(t.selection.getRng())},dP=function(t,e){e.hasAttribute("data-mce-caret")&&(eu(e),cP(t),t.selection.scrollIntoView(e))},hP=function(t,e){var n=uP(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void dP(t,n)):void(Wl(n)&&(dP(t,n),t.undoManager.add()))},fP={setup:function(t){t.on("keyup compositionstart",e(hP,t))}},pP=Ye().browser,gP=function(t){var e=tl((function(){t.composing||nP(t)}),0);pP.isIE()&&(t.on("keypress",(function(){e.throttle()})),t.on("remove",(function(){e.cancel()})))},mP=function(t){gP(t),t.on("input",(function(e){!1===e.isComposing&&nP(t)}))},vP=function(t,e){CE.execute([{keyCode:Av.END,action:PS(t,!0)},{keyCode:Av.HOME,action:PS(t,!1)}],e).each((function(){e.preventDefault()}))},bP={setup:function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&vP(t,e)}))}},yP={setup:function(t){var e=iS.setupSelectedState(t);fP.setup(t),SE.setup(t,e),mA.setup(t,e),Az.setup(t),lP.setup(t),mP(t),bP.setup(t)}},wP=function(e){var n=po.each,i=Av.BACKSPACE,o=Av.DELETE,r=e.dom,s=e.selection,a=e.settings,l=e.parser,u=Ui.gecko,c=Ui.ie,d=Ui.webkit,h="data:text/mce-internal,",f=c?"Text":"URL",p=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(t){}},g=function(t){return t.isDefaultPrevented()},m=function(t){var n,i;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&s.select(t.target),(n=e.selection.getContent()).length>0&&(i=h+escape(e.id)+","+escape(n),t.dataTransfer.setData(f,i)))},v=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(f))&&e.indexOf(h)>=0?(e=e.substr(h.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},b=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},y=function(){var t=function(t){var e=r.create("body"),n=t.cloneContents();return e.appendChild(n),s.serializer.serialize(e,{format:"html"})},n=function(n){var i=t(n),o=r.createRng();return o.selectNode(e.getBody()),i===t(o)};e.on("keydown",(function(t){var s,a,l=t.keyCode;if(!g(t)&&(l===o||l===i)){if(s=e.selection.isCollapsed(),a=e.getBody(),s&&!r.isEmpty(a))return;if(!s&&!n(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),a.firstChild&&r.isBlock(a.firstChild)?e.selection.setCursorLocation(a.firstChild,0):e.selection.setCursorLocation(a,0),e.nodeChanged()}}))},w=function(){e.shortcuts.add("meta+a",null,"SelectAll")},_=function(){e.inline||r.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=s.getRng(),e.getBody().focus(),"mousedown"===t.type){if(ql(n.startContainer))return;s.placeCaretAt(t.clientX,t.clientY)}else s.setRng(n)}))},x=function(){e.on("keydown",(function(t){if(!g(t)&&t.keyCode===i){if(!e.getBody().getElementsByTagName("hr").length)return;if(s.isCollapsed()&&0===s.getRng().startOffset){var n=s.getNode(),o=n.previousSibling;if("HR"===n.nodeName)return r.remove(n),void t.preventDefault();o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(r.remove(o),t.preventDefault())}}}))},C=function(){t.Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!g(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Ri.setEditorTimeout(e,(function(){n.focus()}))}}))},k=function(){e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==r.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&r.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),s.select(n))}))},T=function(){var t=function(){var t=r.getAttribs(s.getStart().cloneNode(!1));return function(){var i=s.getStart();i!==e.getBody()&&(r.setAttrib(i,"style",null),n(t,(function(t){i.setAttributeNode(t.cloneNode(!0))})))}},i=function(){return!s.isCollapsed()&&r.getParent(s.getStart(),r.isBlock)!==r.getParent(s.getEnd(),r.isBlock)};e.on("keypress",(function(n){var o;if(!g(n)&&(8===n.keyCode||46===n.keyCode)&&i())return o=t(),e.getDoc().execCommand("delete",!1,null),o(),n.preventDefault(),!1})),r.bind(e.getDoc(),"cut",(function(n){var o;!g(n)&&i()&&(o=t(),Ri.setEditorTimeout(e,(function(){o()})))}))},S=function(){e.on("keydown",(function(t){if(!g(t)&&t.keyCode===i&&s.isCollapsed()&&0===s.getRng().startOffset){var e=s.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}}))},E=function(){e.on("keydown",(function(t){var n,i,o,a,l;if(!g(t)&&t.keyCode===Av.BACKSPACE&&(i=(n=s.getRng()).startContainer,o=n.startOffset,a=r.getRoot(),l=i,n.collapsed&&0===o)){for(;l&&l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.tagName&&(e.formatter.toggle("blockquote",null,l),(n=r.createRng()).setStart(i,0),n.setEnd(i,0),s.setRng(n))}}))},N=function(){var t=function(){p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),a.object_resizing||p("enableObjectResizing",!1)};a.readonly||e.on("BeforeExecCommand mousedown",t)},D=function(){var t=function(){n(r.select("a"),(function(t){var e=t.parentNode,n=r.getRoot();if(e.lastChild===t){for(;e&&!r.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}r.add(e,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||t()}))},A=function(){a.forced_root_block&&e.on("init",(function(){p("DefaultParagraphSeparator",pp.getForcedRootBlock(e))}))},z=function(){e.on("keyup focusin mouseup",(function(t){Av.modifierPressed(t)||s.normalize()}),!0)},P=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},M=function(){e.inline||e.on("keydown",(function(){t.document.activeElement===t.document.body&&e.getWin().focus()}))},I=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(Ui.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))},R=function(){Ui.mac&&e.on("keydown",(function(t){!Av.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))},O=function(){p("AutoUrlDetect",!1)},H=function(){e.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},L=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(t){t.preventDefault()}))}))},F=function(){l.addNodeFilter("br",(function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()}))},B=function(){e.on("dragstart",(function(t){m(t)})),e.on("drop",(function(t){if(!g(t)){var n=v(t);if(n&&n.id!==e.id){t.preventDefault();var i=LC.fromPoint(t.x,t.y,e.getDoc());s.setRng(i),b(n.html,!0)}}}))},$=function(){},j=function(){var t;return!(!u||e.removed)&&(!(t=e.selection.getSel())||!t.rangeCount||0===t.rangeCount)};return E(),y(),Ui.windowsPhone||z(),d&&(_(),k(),A(),L(),S(),F(),Ui.iOS?(M(),I(),H()):w()),Ui.ie>=11&&(I(),S()),Ui.ie&&(w(),O(),B()),u&&(x(),C(),T(),N(),D(),P(),R(),S()),{refreshContentEditable:$,isHidden:j}},_P=function(t){return Zt.isElement(t)&&Do(Ze.fromDom(t))},xP=function(t){var e=t.selection.getRng(),n=k.fromRangeStart(e),i=k.fromRangeEnd(e);if(k.isElementPosition(n)){var o=n.container();_P(o)&&sh.firstPositionIn(o).each((function(t){return e.setStart(t.container(),t.offset())}))}if(k.isElementPosition(i)){o=n.container();_P(o)&&sh.lastPositionIn(o).each((function(t){return e.setEnd(t.container(),t.offset())}))}t.selection.setRng(Q_.normalize(e))},CP=function(t){t.on("click",(function(e){e.detail>=3&&xP(t)}))},kP=function(t){t.on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}))},TP=function(t){t.parser.addNodeFilter("details",(function(t){pt(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){pt(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",Z(e)?e:null),t.attr("data-mce-open",null)}))}))},SP=function(t){kP(t),TP(t)},EP=Ia.DOM,NP=function(t,e){var n=Ze.fromDom(t.getDoc().head),i=Ze.fromTag("style");wn(i,"type","text/css"),aa(i,Ze.fromText(e)),aa(n,i)},DP=function(t){var e=qx(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",(function(e,n){for(var i,o,r,s=e.length,a=t.dom;s--;)if(o=(i=e[s]).attr(n),r="data-mce-"+n,!i.attr(r)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?((o=a.serializeStyle(a.parseStyle(o),i.name)).length||(o=null),i.attr(r,o),i.attr(n,o)):"tabindex"===n?(i.attr(r,o),i.attr(n,null)):i.attr(r,t.convertURL(o,n,i.name))}})),e.addNodeFilter("script",(function(t){for(var e,n,i=t.length;i--;)0!==(n=(e=t[i]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)})),e.addNodeFilter("#cdata",(function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"})),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var n,i=e.length,o=t.schema.getNonEmptyElements();i--;)(n=e[i]).isEmpty(o)&&0===n.getAll("br").length&&(n.append(new wf("br",1)).shortEnded=!0)})),e},AP=function(t){t.settings.auto_focus&&Ri.setEditorTimeout(t,(function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()}),100)},zP=function(t){t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),AP(t)},PP=function(t){return t.inline?EP.styleSheetLoader:t.dom.styleSheetLoader},MP=function(e,n){var i,r,s=e.settings,a=e.getElement(),l=e.getDoc();s.inline||(e.getElement().style.visibility=e.orgVisibility),n||e.inline||(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&(e.on("remove",(function(){var t=this.getBody();EP.removeClass(t,"mce-content-body"),EP.removeClass(t,"mce-edit-focus"),EP.setAttrib(t,"contentEditable",null)})),EP.addClass(a,"mce-content-body"),e.contentDocument=l=t.document,e.contentWindow=t.window,e.bodyElement=a,e.contentAreaContainer=a,s.root_name=a.nodeName.toLowerCase()),(i=e.getBody()).disabled=!0,e.readonly=s.readonly,e.readonly||(e.inline&&"static"===EP.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=uv(e),e.schema=o(s),e.dom=Ia(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:s.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:pp.shouldUseContentCssCors(e),referrerPolicy:pp.getReferrerPolicy(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=DP(e),e.serializer=Zx(s,e),e.selection=tT(e.dom,e.getWin(),e.serializer,e),e.annotator=mf(e),e.formatter=xx(e),e.undoManager=Vy(e),e._nodeChangeDispatcher=new Dv(e),e._selectionOverrides=ny(e),SP(e),CP(e),yP.setup(e),wv.setup(e),e.fire("PreInit"),s.browser_spellcheck||s.gecko_spellcheck||(l.body.spellcheck=!1,EP.setAttrib(i,"spellcheck","false")),e.quirks=wP(e),e.fire("PostRender");var u=pp.getDirectionality(e);void 0!==u&&(i.dir=u),s.protect&&e.on("BeforeSetContent",(function(t){po.each(s.protect,(function(e){t.content=t.content.replace(e,(function(t){return"<!--mce:protected "+escape(t)+"-->"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),e.contentStyles.length>0&&(r="",po.each(e.contentStyles,(function(t){r+=t+"\r\n"})),e.dom.addStyle(r)),PP(e).loadAll(e.contentCSS,(function(){zP(e)}),(function(){zP(e)})),s.content_style&&NP(e,s.content_style)},IP={initContentBody:MP},RP=Ia.DOM,OP=function(e,n){if(t.document.domain!==t.window.location.hostname&&Ui.browser.isIE()){var i=av.uuid("mce");e[i]=function(){IP.initContentBody(e)};var o='javascript:(function(){document.open();document.domain="'+t.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+i+"(true);})()";return RP.setAttrib(n,"src",o),!0}return!1},HP=function(t,e,n,i){var o=Ze.fromTag("iframe");return _n(o,i),_n(o,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),ul(o,"tox-edit-area__iframe"),o},LP=function(t){var e,n,i;return i=pp.getDocType(t)+"<html><head>",pp.getDocumentBaseUrl(t)!==t.documentBaseUrl&&(i+='<base href="'+t.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=pp.getBodyId(t),n=pp.getBodyClass(t),pp.getContentSecurityPolicy(t)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+pp.getContentSecurityPolicy(t)+'" />'),i+='</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'},FP=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),i=HP(t.id,n,e.height,pp.getIframeAttrs(t)).dom();i.onload=function(){i.onload=null,t.fire("load")};var o=OP(t,i);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=i,t.iframeHTML=LP(t),RP.add(e.iframeContainer,i),o},BP={init:function(t,e){var n=FP(t,e);e.editorContainer&&(RP.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=RP.isHidden(e.editorContainer)),t.getElement().style.display="none",RP.setAttrib(t.id,"aria-hidden","true"),n||IP.initContentBody(t)}},$P=function(t){return/^[a-z0-9\-]+$/i.test(t)},jP=function(t){var e=pp.getContentCss(t),n=t.editorManager.baseURL+"/skins/content",i="content"+t.editorManager.suffix+".css",o=!0===t.inline;return ft(e,(function(e){return $P(e)&&!o?n+"/"+e+"/"+i:t.documentBaseURI.toAbsolute(e)}))},VP=function(t){t.contentCSS=t.contentCSS.concat(jP(t))},UP=Ia.DOM,qP=function(t,e,n){var i=Km.get(n),o=Km.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=po.trim(n),i&&-1===po.inArray(e,n)){if(po.each(Km.dependencies(n),(function(n){qP(t,e,n)})),t.plugins[n])return;try{var r=new i(t,o,t.$);t.plugins[n]=r,r.init&&(r.init(t,o),e.push(n))}catch(e){qm.pluginInitError(t,n,e)}}},WP=function(t){return t.replace(/^\-/,"")},YP=function(t){var e=[];po.each(t.settings.plugins.split(/[ ,]/),(function(n){qP(t,e,WP(n))}))},KP=function(t){var e=po.trim(t.settings.icons),n=t.ui.registry.getAll().icons,i=Wm(),o=Pt(Pt({},i),Ym.get(e).icons);dn(o,(function(e,i){mn(n,i)||t.ui.registry.addIcon(i,e)}))},GP=function(t){var e=t.settings.theme;if(Z(e)){t.settings.theme=WP(e);var n=Gm.get(e);t.theme=new n(t,Gm.urls[e]),t.theme.init&&t.theme.init(t,Gm.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}},XP=function(t){return t.theme.renderUI()},QP=function(t){var e=t.getElement(),n=(0,t.settings.theme)(t,e);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:e.offsetHeight,n},JP=function(t){return{editorContainer:t,iframeContainer:t}},ZP=function(t){var e=UP.create("div");return UP.insertAfter(e,t),JP(e)},tM=function(t){var e=t.getElement();return t.inline?JP(null):ZP(e)},eM=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,Z(t.settings.theme)?XP(t):ot(t.settings.theme)?QP(t):tM(t)},nM={init:function(t){t.fire("ScriptsLoaded"),KP(t),GP(t),YP(t);var e=eM(t);return t.editorContainer=e.editorContainer?e.editorContainer:null,VP(t),t.inline?IP.initContentBody(t):BP.init(t,e)}},iM=Ia.DOM,oM=function(t){return"-"===t.charAt(0)},rM=function(t,e){var n=pp.getLanguageCode(e),i=pp.getLanguageUrl(e);if(!1===Qa.hasCode(n)&&"en"!==n){var o=""!==i?i:e.editorManager.baseURL+"/langs/"+n+".js";t.add(o,L,void 0,(function(){qm.languageLoadError(o,n)}))}},sM=function(t,e,n,i){var o=e.settings,r=o.theme;if(Z(r)){if(!oM(r)&&!Gm.urls.hasOwnProperty(r)){var s=o.theme_url;s?Gm.load(r,e.documentBaseURI.toAbsolute(s)):Gm.load(r,"themes/"+r+"/theme"+n+".js")}t.loadQueue((function(){Gm.waitFor(r,i)}))}else i()},aM=function(t){return X.from(pp.getIconsUrl(t)).filter((function(t){return t.length>0})).map((function(t){return{url:t,name:X.none()}}))},lM=function(t){return X.from(pp.getIconPackName(t)).filter((function(t){return t.length>0&&!Ym.has(t)})).map((function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons.js",name:X.some(e)}}))},uM=function(t,e){aM(e).orThunk((function(){return lM(e)})).each((function(e){t.add(e.url,L,void 0,(function(){qm.iconsLoadError(e.url,e.name.getOrUndefined())}))}))},cM=function(t,e){et(t.plugins)&&(t.plugins=t.plugins.join(" ")),po.each(t.external_plugins,(function(e,n){Km.load(n,e,L,void 0,(function(){qm.pluginLoadError(n,e)})),t.plugins+=" "+n})),po.each(t.plugins.split(/[ ,]/),(function(t){if((t=po.trim(t))&&!Km.urls[t])if(oM(t)){t=t.substr(1,t.length);var n=Km.dependencies(t);po.each(n,(function(t){var n={prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"};t=Km.createUrl(n,t),Km.load(t.resource,t,L,void 0,(function(){qm.pluginLoadError(t.prefix+t.resource+t.suffix,t.resource)}))}))}else{var i={prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"};Km.load(t,i,L,void 0,(function(){qm.pluginLoadError(i.prefix+i.resource+i.suffix,t)}))}}))},dM=function(t,e){var n=ja.ScriptLoader;sM(n,t,e,(function(){rM(n,t),uM(n,t),cM(t.settings,e),n.loadQueue((function(){t.removed||nM.init(t)}),t,(function(){t.removed||nM.init(t)}))}))},hM={render:function(e){var n=e.settings,i=e.id;Qa.setCode(pp.getLanguageCode(e));var o=function(){iM.unbind(t.window,"ready",o),e.render()};if(jr.Event.domLoaded){if(e.getElement()&&Ui.contentEditable){n.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var r=e.getElement().form||iM.getParent(i,"form");r&&(e.formElement=r,n.hidden_input&&!Zt.isTextareaOrInput(e.getElement())&&(iM.insertAfter(iM.create("input",{type:"hidden",name:i}),i),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},iM.bind(r,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!n.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)})),e.windowManager=Rm(e),e.notificationManager=N(e),"xml"===n.encoding&&e.on("GetContent",(function(t){t.save&&(t.content=iM.encode(t.content))})),n.add_form_submit_trigger&&e.on("submit",(function(){e.initialized&&e.save()})),n.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),dM(e,e.suffix)}}else iM.bind(t.window,"ready",o)}},fM="data-mce-contenteditable",pM=function(t,e,n){hl(t,e)&&!1===n?dl(t,e):n&&ul(t,e)},gM=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},mM=function(t,e){t.dom().contentEditable=e?"true":"false"},vM=function(t){pt(pl(t,'*[contenteditable="true"]'),(function(t){wn(t,fM,"true"),mM(t,!1)}))},bM=function(t){pt(pl(t,"*["+fM+'="true"]'),(function(t){kn(t,fM),mM(t,!0)}))},yM=function(t){X.from(t.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")}))},wM=function(t){t.selection.setRng(t.selection.getRng())},_M=function(t,e){var n=Ze.fromDom(t.getBody());pM(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),yM(t),t.readonly=!0,mM(n,!1),vM(n)):(t.readonly=!1,mM(n,!0),bM(n),gM(t,"StyleWithCSS",!1),gM(t,"enableInlineTableEditing",!1),gM(t,"enableObjectResizing",!1),Ag.hasEditorOrUiFocus(t)&&t.focus(),wM(t),t.nodeChanged())},xM=function(t){return!0===t.readonly},CM=function(t){t.parser.addAttributeFilter("contenteditable",(function(e){xM(t)&&pt(e,(function(t){t.attr(fM,t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter(fM,(function(e){xM(t)&&pt(e,(function(t){t.attr("contenteditable",t.attr(fM))}))})),t.serializer.addTempAttr(fM)},kM=function(t){t.serializer?CM(t):t.on("PreInit",(function(){CM(t)}))},TM=function(t){return"click"===t.type},SM=function(t){var e=t.target;TM(t)&&"A"===e.tagName&&!Av.metaKeyPressed(t)&&t.preventDefault()},EM=function(t){t.on("ShowCaret",(function(e){xM(t)&&e.preventDefault()})),t.on("ObjectSelected",(function(e){xM(t)&&e.preventDefault()}))},NM=["design","readonly"],DM=function(e,n,i,o){var r=i[n.get()],s=i[o];try{s.activate()}catch(e){return void t.console.error("problem while activating editor mode "+o+":",e)}r.deactivate(),r.editorReadOnly!==s.editorReadOnly&&_M(e,s.editorReadOnly),n.set(o),Lg.fireSwitchMode(e,o)},AM=function(t,e,n,i){if(i!==n.get()){if(!mn(e,i))throw new Error("Editor mode '"+i+"' is invalid");t.initialized?DM(t,n,e,i):t.on("init",(function(){return DM(t,n,e,i)}))}},zM=function(e,n,i){var o;if(dt(NM,n))throw new Error("Cannot override default mode "+n);return Pt(Pt({},e),((o={})[n]=Pt(Pt({},i),{deactivate:function(){try{i.deactivate()}catch(e){t.console.error("problem while deactivating editor mode "+n+":",e)}}}),o))},PM=function(t){var e=te("design"),n=te({design:{activate:L,deactivate:L,editorReadOnly:!1},readonly:{activate:L,deactivate:L,editorReadOnly:!0}});return kM(t),EM(t),{isReadOnly:function(){return xM(t)},set:function(i){return AM(t,n.get(),e,i)},get:function(){return e.get()},register:function(t,e){n.set(zM(n.get(),t,e))}}},MM=function(t){return t.firstChild&&t.firstChild===t.lastChild},IM=function(t){return"br"===t.name||"\xa0"===t.value},RM=function(t,e){return t.getBlockElements()[e.name]&&MM(e)&&IM(e.firstChild)},OM=function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||RM(t,e))},HM=function(t,e){var n=e.firstChild,i=e.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),OM(t,i)&&(i=i.prev),!(!n||n!==i)&&("ul"===n.name||"ol"===n.name)},LM=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},FM=function(t,e,n){var i=e.serialize(n),o=t.createFragment(i);return LM(o)},BM=function(t){return po.grep(t.childNodes,(function(t){return"LI"===t.nodeName}))},$M=function(t){return"\xa0"===t.data||Zt.isBr(t)},jM=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&$M(t.firstChild)},VM=function(t){return!t.firstChild||jM(t)},UM=function(t){return t.length>0&&VM(t[t.length-1])?t.slice(0,-1):t},qM=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},WM=function(t,e){return!!qM(t,e)},YM=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]},KM=function(t,e){var n=oc.before(t),i=Wd(e).next(n);return i?i.toRange():null},GM=function(t,e){var n=oc.after(t),i=Wd(e).prev(n);return i?i.toRange():null},XM=function(t,e,n,i){var o=YM(t,i),r=t.parentNode;return r.insertBefore(o[0],t),po.each(e,(function(e){r.insertBefore(e,t)})),r.insertBefore(o[1],t),r.removeChild(t),GM(e[e.length-1],n)},QM=function(t,e,n){var i=t.parentNode;return po.each(e,(function(e){i.insertBefore(e,t)})),KM(t,n)},JM=function(t,e,n,i){return i.insertAfter(e.reverse(),t),GM(e[0],n)},ZM=function(t,e,n,i){var o=FM(e,t,i),r=qM(e,n.startContainer),s=UM(BM(o.firstChild)),a=1,l=2,u=e.getRoot(),c=function(t){var i=oc.fromRangeStart(n),o=Wd(e.getRoot()),s=t===a?o.prev(i):o.next(i);return!s||qM(e,s.getNode())!==r};return c(a)?QM(r,s,u):c(l)?JM(r,s,u,e):XM(r,s,u,n)},tI={isListFragment:HM,insertAtCaret:ZM,isParentBlockLi:WM,trimListItems:UM,listItems:BM},eI=function(t,e){return Zt.isText(t)&&"\xa0"===t.nodeValue[e-1]},nI=function(t,e){var n,i;n=t.startContainer,i=t.startOffset;var o=function(t){return n[t]&&3===n[t].nodeType};return 3===n.nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e},iI=function(t,e){var n,i;return n=t.startContainer,i=t.startOffset,3===n.nodeType&&t.collapsed&&("\xa0"===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"\xa0"===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))),e},oI=Zt.matchNodeNames(["td","th"]),rI=function(t,e){var n=t.selection.getRng(),i=n.startContainer,o=n.startOffset;n.collapsed&&eI(i,o)&&Zt.isText(i)&&(i.insertData(o-1," "),i.deleteData(o,1),n.setStart(i,o),n.setEnd(i,o),t.selection.setRng(n)),t.selection.setContent(e)},sI=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,o=n.lastChild;!i||i===o&&"BR"===i.nodeName?t.dom.setHTML(n,e):rI(t,e)}},aI=function(t,e){X.from(t.getParent(e,"td,th")).map(Ze.fromDom).each(Wy.trimBlockTrailingBr)},lI=function(t,e){var n=t.schema.getTextInlineElements(),i=t.dom;if(e){var o=t.getBody(),r=new p_(i);po.each(i.select("*[data-mce-fragment]"),(function(t){for(var e=t.parentNode;e&&e!==o;e=e.parentNode)n[t.nodeName.toLowerCase()]&&r.compare(e,t)&&i.remove(t,!0)}))}},uI=function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")},cI=function(t){po.each(t.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")}))},dI=function(t){return!!t.getAttribute("data-mce-fragment")},hI=function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},fI=function(t,e){var n,i,o,r,s,a=t.dom,l=t.selection,u=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null};if(e){if(t.selection.scrollIntoView(e),n=u(e))return a.remove(e),void l.select(n);var c=a.createRng();(r=e.previousSibling)&&3===r.nodeType?(c.setStart(r,r.nodeValue.length),Ui.ie||(s=e.nextSibling)&&3===s.nodeType&&(r.appendData(s.data),s.parentNode.removeChild(s))):(c.setStartBefore(e),c.setEndBefore(e));var d=function(e){var n=oc.fromRangeStart(e);if(n=Wd(t.getBody()).next(n))return n.toRange()};i=a.getParent(e,a.isBlock),a.remove(e),i&&a.isEmpty(i)&&(t.$(i).empty(),c.setStart(i,0),c.setEnd(i,0),oI(i)||dI(i)||!(o=d(c))?a.add(i,a.create("br",{"data-mce-bogus":"1"})):(c=o,a.remove(i))),l.setRng(c)}},pI=function(t,e,n){var i,o,r,s,a,l,u,c,d,h,f,p=t.selection,g=t.dom;if(/^ | $/.test(e)&&(e=nI(p.getRng(),e)),i=t.parser,f=n.merge,o=_p({validate:t.settings.validate},t.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:e,format:"html",selection:!0,paste:n.paste},(l=t.fire("BeforeSetContent",l)).isDefaultPrevented())t.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=l.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,h);var m=(c=p.getRng()).startContainer||(c.parentElement?c.parentElement():null),v=t.getBody();m===v&&p.isCollapsed()&&g.isBlock(v.firstChild)&&hI(t,v.firstChild)&&g.isEmpty(v.firstChild)&&((c=g.createRng()).setStart(v.firstChild,0),c.setEnd(v.firstChild,0),p.setRng(c)),p.isCollapsed()||(t.selection.setRng(Q_.normalize(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),e=iI(t.selection.getRng(),e));var b={context:(r=p.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(a=i.parse(e,b),!0===n.paste&&tI.isListFragment(t.schema,a)&&tI.isParentBlockLi(g,r))return c=tI.insertAtCaret(o,g,t.selection.getRng(),a),t.selection.setRng(c),void t.fire("SetContent",l);if(uI(a),"mce_marker"===(d=a.lastChild).attr("id"))for(u=d,d=d.prev;d;d=d.walk(!0))if(3===d.type||!g.isBlock(d.name)){t.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(u,d,"br"===d.name);break}if(t._selectionOverrides.showBlockCaretContainer(r),b.invalid){for(rI(t,h),r=p.getNode(),s=t.getBody(),9===r.nodeType?r=d=s:d=r;d!==s;)r=d,d=d.parentNode;e=r===s?s.innerHTML:g.getOuterHTML(r),e=o.serialize(i.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return o.serialize(a)})))),r===s?g.setHTML(s,e):g.setOuterHTML(r,e)}else e=o.serialize(a),sI(t,e,r);lI(t,f),fI(t,g.get("mce_marker")),cI(t.getBody()),aI(t.dom,t.selection.getStart()),t.fire("SetContent",l),t.addVisual()}},gI=function(t){var e;return"string"!=typeof t?(e=po.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}},mI=function(t,e){var n=gI(e);pI(t,n.content,n.details)},vI={insertAtCaret:mI},bI=function(t,e){t.getDoc().execCommand(e,!1,null)},yI={deleteCommand:function(t){hA.backspaceDelete(t,!1)||HN.backspaceDelete(t,!1)||jN.backspaceDelete(t,!1)||QN.backspaceDelete(t,!1)||nN.backspaceDelete(t,!1)||VD.backspaceDelete(t)||cN.backspaceDelete(t,!1)||iD.backspaceDelete(t,!1)||(bI(t,"Delete"),PE.paddEmptyBody(t))},forwardDeleteCommand:function(t){HN.backspaceDelete(t,!0)||jN.backspaceDelete(t,!0)||QN.backspaceDelete(t,!0)||nN.backspaceDelete(t,!0)||VD.backspaceDelete(t)||cN.backspaceDelete(t,!0)||iD.backspaceDelete(t,!0)||bI(t,"ForwardDelete")}},wI=function(t,e,n){var i=function(e){return En(e,t)},o=function(t){return Bn(Ze.fromDom(e),t)};return ml(Ze.fromDom(n),(function(t){return i(t).isSome()}),o).bind(i)},_I=function(t,e){
var n=Math.pow(10,e);return Math.round(t*n)/n},xI=function(t,e){return/[0-9.]+px$/.test(t)?_I(72*parseInt(t,10)/96,e||0)+"pt":t},CI=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},kI=function(t,e){return X.from(Ia.DOM.getStyle(e,t,!0))},TI=function(t){return function(e,n){return X.from(n).map(Ze.fromDom).filter(an).bind((function(n){return wI(t,e,n.dom()).or(kI(t,n.dom()))})).getOr("")}},SI={getFontSize:TI("font-size"),getFontFamily:F(CI,TI("font-family")),toPt:xI},EI=function(t){return sh.firstPositionIn(t.getBody()).map((function(t){var e=t.container();return Zt.isText(e)?e.parentNode:e}))},NI=function(t,e){return t.startContainer===e&&0===t.startOffset},DI=function(t){return X.from(t.selection.getRng()).bind((function(e){var n=t.getBody();return NI(e,n)?X.none():X.from(t.selection.getStart(!0))}))},AI=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var i=pp.getFontStyleValues(t),o=pp.getFontSizeClasses(t);return o?o[n-1]||e:i[n-1]||e}return e}return e},zI=function(t){var e=t.split(/\s*,\s*/);return ft(e,(function(t){return-1===t.indexOf(" ")||Re(t,'"')||Re(t,"'")?t:"'"+t+"'"})).join(",")},PI=function(t,e){var n=AI(t,e);t.formatter.toggle("fontname",{value:zI(n)}),t.nodeChanged()},MI=function(t){return DI(t).fold((function(){return EI(t).map((function(e){return SI.getFontFamily(t.getBody(),e)})).getOr("")}),(function(e){return SI.getFontFamily(t.getBody(),e)}))},II=function(t,e){t.formatter.toggle("fontsize",{value:AI(t,e)}),t.nodeChanged()},RI=function(t){return DI(t).fold((function(){return EI(t).map((function(e){return SI.getFontSize(t.getBody(),e)})).getOr("")}),(function(e){return SI.getFontSize(t.getBody(),e)}))},OI=po.each,HI=po.map,LI=po.inArray,FI=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(t,e,n,i){var o,r,s=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||i&&i.skip_focus?ng.restore(a.editor):a.editor.focus(),(i=a.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n})).isDefaultPrevented())return!1;if(r=t.toLowerCase(),o=a.commands.exec[r])return o(r,e,n),a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(OI(this.editor.plugins,(function(i){if(i.execCommand&&i.execCommand(t,e,n))return a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),s=!0,!1})),s)return s;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(t,e,n))return a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{s=a.editor.getDoc().execCommand(t,e,n)}catch(t){}return!!s&&(a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},t.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(t){}return!1}},t.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(t){}}},t.prototype.addCommands=function(t,e){var n=this;e=e||"exec",OI(t,(function(t,i){OI(i.toLowerCase().split(","),(function(i){n.commands[e][i]=t}))}))},t.prototype.addCommand=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,o,r,s){return e.call(n||i.editor,o,r,s)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(t){}return!1},t.prototype.addQueryStateHandler=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||i.editor)}},t.prototype.addQueryValueHandler=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||i.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:void 0),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(t){var e=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(n){var i,o=t.getDoc();try{e.execNativeCommand(n)}catch(t){i=!0}if("paste"!==n||o.queryCommandEnabled(n)||(i=!0),i||!o.queryCommandSupported(n)){var r=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Ui.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var i=n.substring(7);"full"===i&&(i="justify"),OI("left,center,right,justify".split(","),(function(e){i!==e&&t.formatter.remove("align"+e)})),"none"!==i&&e.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(n){var i,o;e.execNativeCommand(n),(i=t.dom.getParent(t.selection.getNode(),"ol,ul"))&&(o=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(e.storeSelection(),t.dom.split(o,i),e.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,i){e.toggleFormat(t,i)},FontName:function(e,n,i){PI(t,i)},FontSize:function(e,n,i){II(t,i)},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,i){return e.toggleFormat(i||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,i,o){var r=o||t.selection.getNode();r!==t.getBody()&&(e.storeSelection(),t.dom.remove(r,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,i){var o=0;t.dom.getParent(t.selection.getNode(),(function(e){if(1===e.nodeType&&o++===i)return t.selection.select(e),!1}),t.getBody())},mceSelectNode:function(e,n,i){t.selection.select(i)},mceInsertContent:function(e,n,i){vI.insertAtCaret(t,i)},mceInsertRawHTML:function(e,n,i){t.selection.setContent("tiny_mce_marker");var o=t.getContent();t.setContent(o.replace(/tiny_mce_marker/g,(function(){return i})))},mceInsertNewLine:function(e,n,i){Ez.insert(t,i)},mceToggleFormat:function(t,n,i){e.toggleFormat(i)},mceSetContent:function(e,n,i){t.setContent(i)},"Indent,Outdent":function(e){nA(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,i){t.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,i){var o;"string"==typeof i&&(i={href:i}),o=t.dom.getParent(t.selection.getNode(),"a"),i.href=i.href.replace(/ /g,"%20"),o&&i.href||t.formatter.remove("link"),i.href&&t.formatter.apply("link",i,o)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),Zt.isContentEditableTrue);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},delete:function(){yI.deleteCommand(t)},forwardDelete:function(){yI.forwardDeleteCommand(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,i){return az.insert(t,i),!0}});var n=function(e){return function(){var n=t.selection.isCollapsed()?[t.dom.getParent(t.selection.getNode(),t.dom.isBlock)]:t.selection.getSelectedBlocks(),i=HI(n,(function(n){return!!t.formatter.matchNode(n,e)}));return-1!==LI(i,!0)}};e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return JD(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",(function(){return MI(t)}),this),e.addQueryValueHandler("FontSize",(function(){return RI(t)}),this)},t}(),BI=po.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),$I=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||U}return t.isNative=function(t){return!!BI[t.toLowerCase()]},t.prototype.fire=function(t,e){var n,i,o,r;if(t=t.toLowerCase(),(e=e||{}).type=t,e.target||(e.target=this.scope),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=q},e.stopPropagation=function(){e.isPropagationStopped=q},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=q},e.isDefaultPrevented=U,e.isPropagationStopped=U,e.isImmediatePropagationStopped=U),this.settings.beforeFire&&this.settings.beforeFire(e),n=this.bindings[t])for(i=0,o=n.length;i<o;i++){if((r=n[i]).once&&this.off(t,r.func),e.isImmediatePropagationStopped())return e.stopPropagation(),e;if(!1===r.func.call(this.scope,e))return e.preventDefault(),e}return e},t.prototype.on=function(t,e,n,i){var o,r,s;if(!1===e&&(e=U),e){var a={func:e};for(i&&po.extend(a,i),s=(r=t.toLowerCase().split(" ")).length;s--;)t=r[s],(o=this.bindings[t])||(o=this.bindings[t]=[],this.toggleEvent(t,!0)),n?o.unshift(a):o.push(a)}return this},t.prototype.off=function(t,e){var n,i,o,r,s;if(t)for(n=(r=t.toLowerCase().split(" ")).length;n--;){if(t=r[n],i=this.bindings[t],!t){for(o in this.bindings)this.toggleEvent(o,!1),delete this.bindings[o];return this}if(i){if(e)for(s=i.length;s--;)i[s].func===e&&(i=i.slice(0,s).concat(i.slice(s+1)),this.bindings[t]=i);else i.length=0;i.length||(this.toggleEvent(t,!1),delete this.bindings[t])}}else{for(t in this.bindings)this.toggleEvent(t,!1);this.bindings={}}return this},t.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),jI=function(t){return t._eventDispatcher||(t._eventDispatcher=new $I({scope:t,toggleEvent:function(e,n){$I.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},VI={fire:function(t,e,n){var i=this;if(i.removed&&"remove"!==t&&"detach"!==t)return e;var o=jI(i).fire(t,e);if(!1!==n&&i.parent)for(var r=i.parent();r&&!o.isPropagationStopped();)r.fire(t,o,!1),r=r.parent();return o},on:function(t,e,n){return jI(this).on(t,e,n)},off:function(t,e){return jI(this).off(t,e)},once:function(t,e){return jI(this).once(t,e)},hasEventListeners:function(t){return jI(this).has(t)}},UI=Ia.DOM,qI=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=UI.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},WI=function(t){return!t.hidden&&!xM(t)},YI=function(t,e,n){WI(t)?t.fire(e,n):xM(t)&&SM(n)},KI=function(t,e){var n,i;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=qI(t,e),t.settings.event_root){if(oS||(oS={},t.editorManager.on("removeEditor",(function(){var e;if(!t.editorManager.activeEditor&&oS){for(e in oS)t.dom.unbind(qI(t,e));oS=null}}))),oS[e])return;i=function(n){for(var i=n.target,o=t.editorManager.get(),r=o.length;r--;){var s=o[r].getBody();(s===i||UI.isChildOf(i,s))&&YI(o[r],e,n)}},oS[e]=i,UI.bind(n,e,i)}else i=function(n){YI(t,e,n)},UI.bind(n,e,i),t.delegates[e]=i},GI=Pt(Pt({},VI),{bindPendingEventDelegates:function(){var t=this;po.each(t._pendingNativeEvents,(function(e){KI(t,e)}))},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?KI(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(qI(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this,n=e.getBody(),i=e.dom;if(e.delegates){for(t in e.delegates)e.dom.unbind(qI(e,t),t,e.delegates[t]);delete e.delegates}!e.inline&&n&&i&&(n.onload=null,i.unbind(e.getWin()),i.unbind(e.getDoc())),i&&(i.unbind(n),i.unbind(e.getContainer()))}}),XI=po.each,QI=po.explode,JI={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},ZI=po.makeMap("alt,ctrl,shift,meta,access"),tR=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",(function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||(XI(e.shortcuts,(function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0})),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))}))}return t.prototype.add=function(t,e,n,i){var o,r=this;return o=n,"string"==typeof n?n=function(){r.editor.execCommand(o,!1,null)}:po.isArray(o)&&(n=function(){r.editor.execCommand(o[0],o[1],o[2])}),XI(QI(po.trim(t)),(function(t){var o=r.createShortcut(t,e,n,i);r.shortcuts[o.id]=o})),!0},t.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},t.prototype.parseShortcut=function(t){var e,n,i={};for(n in XI(QI(t.toLowerCase(),"+"),(function(t){t in ZI?i[t]=!0:/^[0-9]{2,}$/.test(t)?i.keyCode=parseInt(t,10):(i.charCode=t.charCodeAt(0),i.keyCode=JI[t]||t.toUpperCase().charCodeAt(0))})),e=[i.keyCode],ZI)i[n]?e.push(n):i[n]=!1;return i.id=e.join(","),i.access&&(i.alt=!0,Ui.mac?i.ctrl=!0:i.shift=!0),i.meta&&(Ui.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},t.prototype.createShortcut=function(t,e,n,i){var o;return(o=po.map(QI(t,">"),this.parseShortcut))[o.length-1]=po.extend(o[o.length-1],{func:n,scope:i||this.editor}),po.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},t.prototype.matchShortcut=function(t,e){return!!e&&(e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&(e.alt===t.altKey&&e.shift===t.shiftKey&&(!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0))))},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),eR=po.each,nR=po.trim,iR="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),oR={ftp:21,http:80,https:443,mailto:25},rR=function(){function e(n,i){n=nR(n),this.settings=i||{};var o=this.settings.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n))r.source=n;else{var s=0===n.indexOf("//");if(0!==n.indexOf("/")||s||(n=(o&&o.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var a=this.settings.base_uri?this.settings.base_uri.path:new e(t.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)n="//mce_host"+r.toAbsPath(a,n);else{var l=/([^#?]*)([#?]?.*)/.exec(n);n=(o&&o.protocol||"http")+"://mce_host"+r.toAbsPath(a,l[1])+l[2]}}n=n.replace(/@@/g,"(mce_at)");var u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);eR(iR,(function(t,e){var n=u[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[t]=n})),o&&(r.protocol||(r.protocol=o.protocol),r.userInfo||(r.userInfo=o.userInfo),r.port||"mce_host"!==r.host||(r.port=o.port),r.host&&"mce_host"!==r.host||(r.host=o.host),r.source=""),s&&(r.protocol="")}}return e.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(e=i[1]),{type:e,data:n[1]}},e.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},e.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var i=new e(t,{base_uri:this});if("mce_host"!==i.host&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&""!==i.protocol)return i.getURI();var o=this.getURI(),r=i.getURI();return o===r||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===r?o:(n=this.toRelPath(this.path,i.path),i.query&&(n+="?"+i.query),i.anchor&&(n+="#"+i.anchor),n)},e.prototype.toAbsolute=function(t,n){var i=new e(t,{base_uri:this});return i.getURI(n&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=oR[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},e.prototype.toRelPath=function(t,e){var n,i,o,r=0,s="",a=t.substring(0,t.lastIndexOf("/")).split("/");if(n=e.split("/"),a.length>=n.length)for(i=0,o=a.length;i<o;i++)if(i>=n.length||a[i]!==n[i]){r=i+1;break}if(a.length<n.length)for(i=0,o=n.length;i<o;i++)if(i>=a.length||a[i]!==n[i]){r=i+1;break}if(1===r)return e;for(i=0,o=a.length-(r-1);i<o;i++)s+="../";for(i=r-1,o=n.length;i<o;i++)s+=i!==r-1?"/"+n[i]:n[i];return s},e.prototype.toAbsPath=function(t,e){var n,i,o,r=0,s=[];i=/\/$/.test(e)?"/":"";var a=t.split("/"),l=e.split("/");for(eR(a,(function(t){t&&s.push(t)})),a=s,n=l.length-1,s=[];n>=0;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?r>0?r--:s.push(l[n]):r++);return 0!==(o=(n=a.length-r)<=0?s.reverse().join("/"):a.slice(0,n).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(o="/"+o),i&&o.lastIndexOf("/")!==o.length-1&&(o+=i),o},e.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},e}(),sR=function(){var t={},e={},n={},i={},o={},r={},s={},a=function(t,e){return function(n,i){return t[n.toLowerCase()]=Pt(Pt({},i),{type:e})}},l=function(t,e){return i[t.toLowerCase()]=e};return{addButton:a(t,"button"),addToggleButton:a(t,"togglebutton"),addMenuButton:a(t,"menubutton"),addSplitButton:a(t,"splitbutton"),addMenuItem:a(e,"menuitem"),addNestedMenuItem:a(e,"nestedmenuitem"),addToggleMenuItem:a(e,"togglemenuitem"),addAutocompleter:a(n,"autocompleter"),addContextMenu:a(o,"contextmenu"),addContextToolbar:a(r,"contexttoolbar"),addContextForm:a(r,"contextform"),addSidebar:a(s,"sidebar"),addIcon:l,getAll:function(){return{buttons:t,menuItems:e,icons:i,popups:n,contextMenus:o,contextToolbars:r,sidebars:s}}}},aR=function(){var t=sR();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},lR=Ia.DOM,uR=po.extend,cR=po.each,dR=po.resolve,hR=Ui.ie,fR=function(){function t(t,e,n){var i=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,uR(this,GI),this.settings=ym(this,t,this.documentBaseUrl,n.defaultSettings,e),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(ja.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ia.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Za.languageLoad=this.settings.language_load,Za.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new rR(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new tR(this),this.editorCommands=new FI(this),this.settings.cache_suffix&&(Ui.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:aR()};var o=PM(this);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=na.overrideDefaults((function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}}))}return t.prototype.render=function(){hM.render(this)},t.prototype.focus=function(t){Ag.focus(this,t)},t.prototype.hasFocus=function(){return Ag.hasFocus(this)},t.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,o=this,r=o.settings[t];if(r)return o.callbackLookup&&(i=o.callbackLookup[t])&&(r=i.func,i=i.scope),"string"==typeof r&&(i=(i=r.replace(/\.\w+$/,""))?dR(i):0,r=dR(r),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[t]={func:r,scope:i}),r.apply(i||o,Array.prototype.slice.call(arguments,1))},t.prototype.translate=function(t){return Qa.translate(t)},t.prototype.getParam=function(t,e,n){return Cm(this,t,e,n)},t.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},t.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},t.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},t.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},t.prototype.addShortcut=function(t,e,n,i){this.shortcuts.add(t,e,n,i)},t.prototype.execCommand=function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},t.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},t.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},t.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},t.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(lR.show(t.getContainer()),lR.hide(t.id)),t.load(),t.fire("show"))},t.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(hR&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(lR.hide(t.getContainer()),lR.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},t.prototype.load=function(t){var e,n=this,i=n.getElement();if(n.removed)return"";if(i){(t=t||{}).load=!0;var o=Zt.isTextareaOrInput(i)?i.value:i.innerHTML;return e=n.setContent(o,t),t.element=i,t.no_events||n.fire("LoadContent",t),t.element=i=null,e}},t.prototype.save=function(t){var e,n,i=this,o=i.getElement();if(o&&i.initialized&&!i.removed)return(t=t||{}).save=!0,t.element=o,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"===t.format&&i.fire("RawSaveContent",t),e=t.content,Zt.isTextareaOrInput(o)?o.value=e:(!t.is_removing&&i.inline||(o.innerHTML=e),(n=lR.getParent(i.id,"form"))&&cR(n.elements,(function(t){if(t.name===i.id)return t.value=e,!1}))),t.element=o=null,!1!==t.set_dirty&&i.setDirty(!1),e},t.prototype.setContent=function(t,e){return Hg(this,t,e)},t.prototype.getContent=function(t){return bp(this,t)},t.prototype.insertContent=function(t,e){e&&(t=uR({content:t},e)),this.execCommand("mceInsertContent",!1,t)},t.prototype.resetContent=function(t){void 0===t?Hg(this,this.startContent,{format:"raw"}):Hg(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},t.prototype.getContainer=function(){var t=this;return t.container||(t.container=lR.get(t.editorContainer||t.id+"_parent")),t.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=lR.get(this.id)),this.targetElm},t.prototype.getWin=function(){var t,e=this;return e.contentWindow||(t=e.iframeElement)&&(e.contentWindow=t.contentWindow),e.contentWindow},t.prototype.getDoc=function(){var t,e=this;return e.contentDocument||(t=e.getWin())&&(e.contentDocument=t.document),e.contentDocument},t.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},t.prototype.convertURL=function(t,e,n){var i=this,o=i.settings;return o.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!o.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:o.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,o.remove_script_host)},t.prototype.addVisual=function(t){var e,n=this,i=n.settings,o=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),cR(o.select("table,a",t),(function(t){var r;switch(t.nodeName){case"TABLE":return e=i.visual_table_class||"mce-item-table",void((r=o.getAttrib(t,"border"))&&"0"!==r||!n.hasVisual?o.removeClass(t,e):o.addClass(t,e));case"A":return void(o.getAttrib(t,"href")||(r=o.getAttrib(t,"name")||t.id,e=i.visual_anchor_class||"mce-item-anchor",r&&n.hasVisual?o.addClass(t,e):o.removeClass(t,e)))}})),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},t.prototype.remove=function(){Ug(this)},t.prototype.destroy=function(t){qg(this,t)},t.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),pR=Ia.DOM,gR=po.explode,mR=po.each,vR=po.extend,bR=0,yR=!1,wR=[],_R=[],xR=function(t){return"length"!==t},CR=function(t){var e=t.type;mR(NR.get(),(function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}}))},kR=function(t){t!==yR&&(t?na(window).on("resize scroll",CR):na(window).off("resize scroll",CR),yR=t)},TR=function(t){var e=_R;delete wR[t.id];for(var n=0;n<wR.length;n++)if(wR[n]===t){wR.splice(n,1);break}return _R=vt(_R,(function(e){return t!==e})),NR.activeEditor===t&&(NR.activeEditor=_R.length>0?_R[0]:null),NR.focusedEditor===t&&(NR.focusedEditor=null),e.length!==_R.length},SR=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(TR(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t},ER="CSS1Compat"!==t.document.compatMode,NR=Pt(Pt({},VI),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:na,majorVersion:"5",minorVersion:"1.4",releaseDate:"2019-12-11",editors:wR,i18n:Qa,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,n,i=this,o="";n=rR.getDocumentBaseUrl(t.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var r=window.tinymce||window.tinyMCEPreInit;if(r)e=r.base||r.baseURL,o=r.suffix;else{for(var s=t.document.getElementsByTagName("script"),a=0;a<s.length;a++){var l;if(""!==(l=s[a].src||"")){var u=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){-1!==u.indexOf(".min")&&(o=".min"),e=l.substring(0,l.lastIndexOf("/"));break}}}if(!e&&t.document.currentScript)-1!==(l=t.document.currentScript.src).indexOf(".min")&&(o=".min"),e=l.substring(0,l.lastIndexOf("/"))}i.baseURL=new rR(n).toAbsolute(e),i.documentBaseURL=n,i.baseURI=new rR(i.baseURL),i.suffix=o,mg.setup(i)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&this._setBaseUrl(e),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t;var i=t.plugin_base_urls;for(var o in i)Za.PluginManager.urls[o]=i[o]},init:function(e){var n,i,o=this;i=po.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var r=function(t,e){return t.inline&&e.tagName.toLowerCase()in i},s=function(t){var e=t.id;return e||(e=(e=t.name)&&!pR.get(e)?t.name:pR.uniqueId(),t.setAttribute("id",e)),e},a=function(t){var n=e[t];if(n)return n.apply(o,Array.prototype.slice.call(arguments,2))},l=function(t,e){return e.constructor===RegExp?e.test(t.className):pR.hasClass(t,e)},u=function(e){var n,i=[];if(Ui.browser.isIE()&&Ui.browser.version.major<11)return qm.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(ER)return qm.initError("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return mR(e.types,(function(t){i=i.concat(pR.select(t.selector))})),i;if(e.selector)return pR.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(n=e.elements||"").length>0&&mR(gR(n),(function(e){var n;(n=pR.get(e))?i.push(n):mR(t.document.forms,(function(t){mR(t.elements,(function(t){t.name===e&&(e="mce_editor_"+bR++,pR.setAttrib(t,"id",e),i.push(t))}))}))}));break;case"textareas":case"specific_textareas":mR(pR.select("textarea"),(function(t){e.editor_deselector&&l(t,e.editor_deselector)||e.editor_selector&&!l(t,e.editor_selector)||i.push(t)}))}return i},c=function(t){n=t},d=function(){var t,n=0,i=[],l=function(e,r,s){var a=new fR(e,r,o);i.push(a),a.on("init",(function(){++n===t.length&&c(i)})),a.targetElm=a.targetElm||s,a.render()};pR.unbind(window,"ready",d),a("onpageload"),t=na.unique(u(e)),e.types?mR(e.types,(function(n){po.each(t,(function(t){return!pR.is(t,n.selector)||(l(s(t),vR({},e,n),t),!1)}))})):(po.each(t,(function(t){SR(o.get(t.id))})),0===(t=po.grep(t,(function(t){return!o.get(t.id)}))).length?c([]):mR(t,(function(t){r(e,t)?qm.initError("Could not initialize inline editor on invalid inline target element",t):l(s(t),e,t)})))};return o.settings=e,pR.bind(window,"ready",d),new Ai((function(t){n?t(n):c=function(e){t(e)}}))},get:function(t){return 0===arguments.length?_R.slice(0):Z(t)?wt(_R,(function(e){return e.id===t})).getOr(null):rt(t)&&_R[t]?_R[t]:null},add:function(t){var e=this;return wR[t.id]===t||(null===e.get(t.id)&&(xR(t.id)&&(wR[t.id]=t),wR.push(t),_R.push(t)),kR(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),rS||(rS=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",rS))),t},createEditor:function(t,e){return this.add(new fR(t,e,this))},remove:function(t){var e,n,i=this;if(t){if(!Z(t))return n=t,nt(i.get(n.id))?null:(TR(n)&&i.fire("RemoveEditor",{editor:n}),0===_R.length&&window.removeEventListener("beforeunload",rS),
n.remove(),kR(_R.length>0),n);mR(pR.select(t),(function(t){(n=i.get(t.id))&&i.remove(n)}))}else for(e=_R.length-1;e>=0;e--)i.remove(_R[e])},execCommand:function(t,e,n){var i=this,o=i.get(n);switch(t){case"mceAddEditor":return i.get(n)||new fR(n,i.settings,i).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(i.execCommand("mceAddEditor",0,n),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,e,n)},triggerSave:function(){mR(_R,(function(t){t.save()}))},addI18n:function(t,e){Qa.add(t,e)},translate:function(t){return Qa.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new rR(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new rR(this.baseURL)}});NR.setup(),function(t){t.compareRanges=_v.isEq,t.getCaretRangeFromPoint=LC.fromPoint,t.getSelectedNode=Su,t.getNode=Eu}(H||(H={}));var DR,AR,zR=H,PR=function(e,n,i){void 0===i&&(i=1e3);var o=!1,r=null,s=function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];o||(o=!0,null!==r&&(t.clearTimeout(r),r=null),e.apply(null,n))}},a=s(e),l=s(n),u=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o||null!==r||(r=t.setTimeout((function(){return l.apply(null,e)}),i))};return{start:u,resolve:a,reject:l}},MR=function(){var t={},e={},n=function(n,i){var o='Script at URL "'+i+'" failed to load',r='Script at URL "'+i+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==t[n])return t[n];var s=new Ai((function(t,s){var a=PR(t,s);e[n]=a.resolve,ja.ScriptLoader.loadScript(i,(function(){return a.start(r)}),(function(){return a.reject(o)}))}));return t[n]=s,s},i=function(n,i){void 0!==e[n]&&(e[n](i),delete e[n]),t[n]=Ai.resolve(i)};return{load:n,add:i}},IR=MR(),RR=Math.min,OR=Math.max,HR=Math.round,LR=function(t,e,n){var i,o,r,s,a,l;return i=e.x,o=e.y,r=t.w,s=t.h,a=e.w,l=e.h,"b"===(n=(n||"").split(""))[0]&&(o+=l),"r"===n[1]&&(i+=a),"c"===n[0]&&(o+=HR(l/2)),"c"===n[1]&&(i+=HR(a/2)),"b"===n[3]&&(o-=s),"r"===n[4]&&(i-=r),"c"===n[3]&&(o-=HR(s/2)),"c"===n[4]&&(i-=HR(r/2)),VR(i,o,r,s)},FR=function(t,e,n,i){var o,r;for(r=0;r<i.length;r++)if((o=LR(t,e,i[r])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return i[r];return null},BR=function(t,e,n){return VR(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},$R=function(t,e){var n,i,o,r;return n=OR(t.x,e.x),i=OR(t.y,e.y),o=RR(t.x+t.w,e.x+e.w),r=RR(t.y+t.h,e.y+e.h),o-n<0||r-i<0?null:VR(n,i,o-n,r-i)},jR=function(t,e,n){var i,o,r,s,a,l,u,c,d,h;return a=t.x,l=t.y,u=t.x+t.w,c=t.y+t.h,d=e.x+e.w,h=e.y+e.h,i=OR(0,e.x-a),o=OR(0,e.y-l),r=OR(0,u-d),s=OR(0,c-h),a+=i,l+=o,n&&(u+=i,c+=o,a-=r,l-=s),VR(a,l,(u-=r)-a,(c-=s)-l)},VR=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},UR=function(t){return VR(t.left,t.top,t.width,t.height)},qR={inflate:BR,relativePosition:LR,findBestRelativePosition:FR,intersect:$R,clamp:jR,create:VR,fromClientRect:UR},WR=po.each,YR=po.extend,KR=function(){};KR.extend=DR=function(t){var e,n,i,o=this,r=o.prototype,s=function(){var t,e,n,i=this;if(!AR&&(i.init&&i.init.apply(i,arguments),e=i.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(i,arguments)},a=function(){return this},l=function(t,e){return function(){var n,i=this,o=i._super;return i._super=r[t],n=e.apply(i,arguments),i._super=o,n}};for(n in AR=!0,e=new o,AR=!1,t.Mixins&&(WR(t.Mixins,(function(e){for(var n in e)"init"!==n&&(t[n]=e[n])})),r.Mixins&&(t.Mixins=r.Mixins.concat(t.Mixins))),t.Methods&&WR(t.Methods.split(","),(function(e){t[e]=a})),t.Properties&&WR(t.Properties.split(","),(function(e){var n="_"+e;t[e]=function(t){var e=this;return void 0!==t?(e[n]=t,e):e[n]}})),t.Statics&&WR(t.Statics,(function(t,e){s[e]=t})),t.Defaults&&r.Defaults&&(t.Defaults=YR({},r.Defaults,t.Defaults)),t)"function"==typeof(i=t[n])&&r[n]?e[n]=l(n,i):e[n]=i;return s.prototype=e,s.constructor=s,s.extend=DR,s};var GR,XR=Math.min,QR=Math.max,JR=Math.round,ZR=function(t){var e={},n=0,i=0,o=0,r=function(t,e,n){var i,o,r,s;return 0,i=0,o=0,(r=XR(t/=255,XR(e/=255,n/=255)))===(s=QR(t,QR(e,n)))?{h:0,s:0,v:100*(o=r)}:(i=(s-r)/s,o=s,{h:JR(60*((t===r?3:n===r?1:5)-(t===r?e-n:n===r?t-e:n-t)/(s-r))),s:JR(100*i),v:JR(100*o)})},s=function(t,e,r){var s,a,l,u;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,r=parseInt(r,10)/100,e=QR(0,XR(e,1)),r=QR(0,XR(r,1)),0!==e){switch(s=t/60,l=(a=r*e)*(1-Math.abs(s%2-1)),u=r-a,Math.floor(s)){case 0:n=a,i=l,o=0;break;case 1:n=l,i=a,o=0;break;case 2:n=0,i=a,o=l;break;case 3:n=0,i=l,o=a;break;case 4:n=l,i=0,o=a;break;case 5:n=a,i=0,o=l;break;default:n=i=o=0}n=JR(255*(n+u)),i=JR(255*(i+u)),o=JR(255*(o+u))}else n=i=o=JR(255*r)},a=function(){var t=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+t(n)+t(i)+t(o)},l=function(){return{r:n,g:i,b:o}},u=function(){return r(n,i,o)},c=function(t){var r;return"object"==typeof t?"r"in t?(n=t.r,i=t.g,o=t.b):"v"in t&&s(t.h,t.s,t.v):(r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(r[1],10),i=parseInt(r[2],10),o=parseInt(r[3],10)):(r=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(r[1],16),i=parseInt(r[2],16),o=parseInt(r[3],16)):(r=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(r[1]+r[1],16),i=parseInt(r[2]+r[2],16),o=parseInt(r[3]+r[3],16)),n=n<0?0:n>255?255:n,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,e};return t&&c(t),e.toRgb=l,e.toHsv=u,e.toHex=a,e.parse=c,e},tO=function(t){var e=JSON.stringify(t);return Z(e)?e.replace(/[\u0080-\uFFFF]/g,(function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e})):e},eO={serialize:tO,parse:function(t){try{return JSON.parse(t)}catch(t){}}},nO={callbacks:{},count:0,send:function(t){var e=this,n=Ia.DOM,i=void 0!==t.count?t.count:e.count,o="tinymce_jsonp_"+i;e.callbacks[i]=function(r){n.remove(o),delete e.callbacks[i],t.callback(r)},n.add(n.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),e.count++}},iO=Pt(Pt({},VI),{send:function(e){var n,i=0,o=function(){!e.async||4===n.readyState||i++>1e4?(e.success&&i<1e4&&200===n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,i>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Ri.setTimeout(o,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",iO.fire("beforeInitialize",{settings:e}),n=new t.XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&po.each(e.requestheaders,(function(t){n.setRequestHeader(t.key,t.value)})),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=iO.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return o();Ri.setTimeout(o,10)}}}),oO=po.extend,rO=function(){function t(t){this.settings=oO({},t),this.count=0}return t.sendRPC=function(e){return(new t).send(e)},t.prototype.send=function(t){var e=t.error,n=t.success,i=oO(this.settings,t);i.success=function(t,o){void 0===(t=eO.parse(t))&&(t={error:"JSON Parse error."}),t.error?e.call(i.error_scope||i.scope,t.error,o):n.call(i.success_scope||i.scope,t.result)},i.error=function(t,n){e&&e.call(i.error_scope||i.scope,t,n)},i.data=eO.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),i.content_type="application/json",iO.send(i)},t}(),sO=function(){return function(){var t={},e=[],n={getItem:function(e){var n=t[e];return n||null},setItem:function(n,i){e.push(n),t[n]=String(i)},key:function(t){return e[t]},removeItem:function(n){e=e.filter((function(t){return t===n})),delete t[n]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n}()};try{GR=t.window.localStorage}catch(t){GR=sO()}var aO={geom:{Rect:qR},util:{Promise:Ai,Delay:Ri,Tools:po,VK:Av,URI:rR,Class:KR,EventDispatcher:$I,Observable:VI,I18n:Qa,XHR:iO,JSON:eO,JSONRequest:rO,JSONP:nO,LocalStorage:GR,Color:ZR},dom:{EventUtils:jr,Sizzle:Ss,DomQuery:na,TreeWalker:ia,DOMUtils:Ia,ScriptLoader:ja,RangeUtils:zR,Serializer:Zx,ControlSelection:rC,BookmarkManager:eC,Selection:tT,Event:jr.Event},html:{Styles:Ar,Entities:br,Node:wf,Schema:o,SaxParser:Nf,DomParser:qx,Writer:wp,Serializer:_p},Env:Ui,AddOnManager:Za,Annotator:mf,Formatter:xx,UndoManager:Vy,EditorCommands:FI,WindowManager:Rm,NotificationManager:N,EditorObservable:GI,Shortcuts:tR,Editor:fR,FocusManager:ig,EditorManager:NR,DOM:Ia.DOM,ScriptLoader:ja.ScriptLoader,PluginManager:Za.PluginManager,ThemeManager:Za.ThemeManager,IconManager:Ym,Resource:IR,trim:po.trim,isArray:po.isArray,is:po.is,toArray:po.toArray,makeMap:po.makeMap,each:po.each,map:po.map,grep:po.grep,inArray:po.inArray,extend:po.extend,create:po.create,walk:po.walk,createNS:po.createNS,resolve:po.resolve,explode:po.explode,_addCacheSuffix:po._addCacheSuffix,isOpera:Ui.opera,isWebKit:Ui.webkit,isIE:Ui.ie,isGecko:Ui.gecko,isMac:Ui.mac},lO=po.extend(NR,aO),uO=function(t){if("object"==typeof module)try{module.exports=t}catch(t){}},cO=function(t){window.tinymce=t,window.tinyMCE=t};cO(lO),uO(lO)}(window),function(t,e){if("object"==typeof exports&&exports)e(exports);else{var n={};e(n),"function"==typeof define&&define.amd?define(n):t.Mustache=n}}(this,(function(t){function e(t,e){return y.call(t,e)}function n(t){return!e(g,t)}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t){return String(t).replace(/[&<>"'\/]/g,(function(t){return x[t]}))}function r(t){this.string=t,this.tail=t,this.pos=0}function s(t,e){this.view=t||{},this.parent=e,this._cache={}}function a(){this.clearCache()}function l(e,n,i,o){for(var r,s,a,u="",c=0,d=e.length;c<d;++c)switch(s=(r=e[c])[1],r[0]){case"#":if("object"==typeof(a=i.lookup(s)))if(_(a))for(var h=0,f=a.length;h<f;++h)u+=l(r[4],n,i.push(a[h]),o);else a&&(u+=l(r[4],n,i.push(a),o));else if("function"==typeof a){var p=null==o?null:o.slice(r[3],r[5]);a=a.call(i.view,p,(function(t){return n.render(t,i)})),null!=a&&(u+=a)}else a&&(u+=l(r[4],n,i,o));break;case"^":(!(a=i.lookup(s))||_(a)&&0===a.length)&&(u+=l(r[4],n,i,o));break;case">":"function"==typeof(a=n.getPartial(s))&&(u+=a(i));break;case"&":null!=(a=i.lookup(s))&&(u+=a);break;case"name":null!=(a=i.lookup(s))&&(u+=t.escape(a));break;case"text":u+=s}return u}function u(t){for(var e,n=[],i=n,o=[],r=0,s=t.length;r<s;++r)switch((e=t[r])[0]){case"#":case"^":o.push(e),i.push(e),i=e[4]=[];break;case"/":o.pop()[5]=e[2],i=o.length>0?o[o.length-1][4]:n;break;default:i.push(e)}return n}function c(t){for(var e,n,i=[],o=0,r=t.length;o<r;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(n=e,i.push(e)));return i}function d(t){return[new RegExp(i(t[0])+"\\s*"),new RegExp("\\s*"+i(t[1]))]}function h(e,o){function s(){if(T&&!S)for(;k.length;)delete C[k.pop()];else k=[];T=!1,S=!1}if(e=e||"","string"==typeof(o=o||t.tags)&&(o=o.split(p)),2!==o.length)throw new Error("Invalid tags: "+o.join(", "));for(var a,l,h,g,y,w=d(o),_=new r(e),x=[],C=[],k=[],T=!1,S=!1;!_.eos();){if(a=_.pos,h=_.scanUntil(w[0]))for(var E=0,N=h.length;E<N;++E)n(g=h.charAt(E))?k.push(C.length):S=!0,C.push(["text",g,a,a+1]),a+=1,"\n"==g&&s();if(!_.scan(w[0]))break;if(T=!0,l=_.scan(b)||"name",_.scan(f),"="===l?(h=_.scanUntil(m),_.scan(m),_.scanUntil(w[1])):"{"===l?(h=_.scanUntil(new RegExp("\\s*"+i("}"+o[1]))),_.scan(v),_.scanUntil(w[1]),l="&"):h=_.scanUntil(w[1]),!_.scan(w[1]))throw new Error("Unclosed tag at "+_.pos);if(y=[l,h,a,_.pos],C.push(y),"#"===l||"^"===l)x.push(y);else if("/"===l){if(0===x.length)throw new Error('Unopened section "'+h+'" at '+a);if((D=x.pop())[1]!==h)throw new Error('Unclosed section "'+D[1]+'" at '+a)}else if("name"===l||"{"===l||"&"===l)S=!0;else if("="===l){if(2!==(o=h.split(p)).length)throw new Error("Invalid tags at "+a+": "+o.join(", "));w=d(o)}}var D;if(D=x.pop())throw new Error('Unclosed section "'+D[1]+'" at '+_.pos);return u(C=c(C))}var f=/\s*/,p=/\s+/,g=/\S/,m=/\s*=/,v=/\s*\}/,b=/#|\^|\/|>|\{|&|=|!/,y=RegExp.prototype.test,w=Object.prototype.toString,_=Array.isArray||function(t){return"[object Array]"===w.call(t)},x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};r.prototype.eos=function(){return""===this.tail},r.prototype.scan=function(t){var e=this.tail.match(t);return e&&0===e.index?(this.tail=this.tail.substring(e[0].length),this.pos+=e[0].length,e[0]):""},r.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return e},s.make=function(t){return t instanceof s?t:new s(t)},s.prototype.push=function(t){return new s(t,this)},s.prototype.lookup=function(t){var e=this._cache[t];if(!e){if("."==t)e=this.view;else for(var n=this;n;){if(t.indexOf(".")>0){e=n.view;for(var i=t.split("."),o=0;e&&o<i.length;)e=e[i[o++]]}else e=n.view[t];if(null!=e)break;n=n.parent}this._cache[t]=e}return"function"==typeof e&&(e=e.call(this.view)),e},a.prototype.clearCache=function(){this._cache={},this._partialCache={}},a.prototype.compile=function(e,n){var i=this._cache[e];if(!i){var o=t.parse(e,n);i=this._cache[e]=this.compileTokens(o,e)}return i},a.prototype.compilePartial=function(t,e,n){var i=this.compile(e,n);return this._partialCache[t]=i,i},a.prototype.getPartial=function(t){return!(t in this._partialCache)&&this._loadPartial&&this.compilePartial(t,this._loadPartial(t)),this._partialCache[t]},a.prototype.compileTokens=function(t,e){var n=this;return function(i,o){if(o)if("function"==typeof o)n._loadPartial=o;else for(var r in o)n.compilePartial(r,o[r]);return l(t,n,s.make(i),e)}},a.prototype.render=function(t,e,n){return this.compile(t)(e,n)},t.name="mustache.js",t.version="0.7.2",t.tags=["{{","}}"],t.Scanner=r,t.Context=s,t.Writer=a,t.parse=h,t.escape=o;var C=new a;t.clearCache=function(){return C.clearCache()},t.compile=function(t,e){return C.compile(t,e)},t.compilePartial=function(t,e,n){return C.compilePartial(t,e,n)},t.compileTokens=function(t,e){return C.compileTokens(t,e)},t.render=function(t,e,n){return C.render(t,e,n)},t.to_html=function(e,n,i,o){var r=t.render(e,n,i);if("function"!=typeof o)return r;o(r)}})),function(t,e,n){function i(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}}function o(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b","i").test(t.className)}function r(t,e){t.classList?t.classList.add(e):o(t,e)||(t.className+=" "+e)}function s(t,e){if(t.classList)t.classList.remove(e);else if(o(t,e)){var n=new RegExp("\\b"+e+"\\b","i");t.className=t.className.split(n).join("")}}function a(t){for(var e in this)0===e.indexOf("_on")&&"function"==typeof this[e]&&(this[e]=i(this[e],this));this.options=t=t||{},this.root=t.root||n.documentElement,this.prefix=(t.prefix||"highlighter")+"-",this.throttle=t.throttle||1e3/60,this.selected=null,this.handles={start:this.createHandle("start"),end:this.createHandle("end")},!1!==t.enable&&this.enable()}a.prototype={constructor:a,get:function(){return e.getSelection()},enable:function(){return this.enabled||(this.bind(this.root,{click:"_onClick"}),this.bind(n,{tapstart:"_onDocumentDown",mousedown:"_onDocumentDown"}),this.options.highlightStyles&&(this.style=this.createStyle(),n.getElementsByTagName("head")[0].appendChild(this.style)),n.body.appendChild(this.handles.start),n.body.appendChild(this.handles.end),this.hideHandles(),this.enabled=!0),this},disable:function(){this.enabled&&(this.unbind(this.root,{click:"_onClick"}),this.unbind(n,{tapstart:"_onDocumentDown",mousedown:"_onDocumentDown"}),this.style&&this.style.parentNode.removeChild(this.style),n.body.removeChild(this.handles.start),n.body.removeChild(this.handles.end),this.get().removeAllRanges(),this.showHandles(),this.enabled=!1)},isEnabled:function(){return this.enabled},select:function(t){var n=this.get(),i=e.scrollY,o=e.scrollX,r=t.getClientRects(),s=r[0],a=r[r.length-1];return n.removeAllRanges(),n.addRange(t),this.positionHandles({x:s.left+o,y:s.top+i+s.height/2},{x:a.left+a.width+o,y:a.top+i+a.height/2}),this.selected=t,this.showHandles()},deselect:function(){var t=this.get();return t&&(this.selected=null,t.removeAllRanges()),this.hideHandles()},selectWord:function(t){var e=this.createRange(t);return e&&(e.expand("word"),e.toString().trim()&&this.select(e)),this},selectRange:function(t,e){var i=n.createRange();return i.setStart(t.startContainer,t.startOffset),i.setEnd(e.endContainer,e.endOffset),this.select(i)},expandStart:function(t){var e=this.selected;return e&&(e.startContainer!==t.startContainer||e.startOffset!==t.startOffset)&&this.selectRange(t,e),this},expandEnd:function(t){var e=this.selected;return e&&(t.expand("character"),(e.endContainer!==t.endContainer||e.endOffset!==t.endOffset)&&this.selectRange(e,t)),this},createRange:function(t){return n.caretRangeFromPoint(t.x,t.y)},showHandles:function(){return s(n.documentElement,this.prefix+"hide"),this},hideHandles:function(){return r(n.documentElement,this.prefix+"hide"),this},getFirstPosition:function(t){var e=t.touches?t.touches[0]:t;return e?{x:e.clientX,y:e.clientY}:null},bind:function(t,e){var n,i;for(n in e)e.hasOwnProperty(n)&&("string"==typeof(i=e[n])&&(i=this[i]),t.addEventListener(n,i,!1));return this},unbind:function(t,e){var n,i;for(n in e)e.hasOwnProperty(n)&&("string"==typeof(i=e[n])&&(i=this[i]),t.removeEventListener(n,i,!1));return this},updatePositionByHandle:function(t){var e,n,i,o;return this.hideHandles(),n=this.createRange(t),this.showHandles(),n&&(e=this.selected,i=!this._isStartHandle&&1===e.compareBoundaryPoints(Range.START_TO_START,n),o=this._isStartHandle&&-1===e.compareBoundaryPoints(Range.END_TO_END,n),i||o?(this._isStartHandle=!this._isStartHandle,e.collapse(i),i?this.selectRange(n,e):this.selectRange(e,n)):this[this._isStartHandle?"expandStart":"expandEnd"](n)),this},isHandle:function(t){return t===this.handles.start||t===this.handles.end},positionHandles:function(t,e){return e=e||{},(t=t||{}).y&&(this.handles.start.style.top=t.y+"px"),t.x&&(this.handles.start.style.left=t.x+"px"),e.y&&(this.handles.end.style.top=e.y+"px"),e.x&&(this.handles.end.style.left=e.x+"px"),this},createHandle:function(t){var e=n.createElement("span");return r(e,this.prefix+"handle"),r(e,this.prefix+t),this.bind(e,{touchstart:"_onHandleDown",mousedown:"_onHandleDown"}),e},createStyle:function(){var t="::selection {$} ::-moz-selection {$} ::-webkit-selection {$}",e=n.createElement("style"),i="string"==typeof this.options.highlightStyles,o=this.options.highlightStyles;return o=i?o:"background-color: rgb(180, 213, 254)",t=t.replace(/\$/g,o),e.appendChild(n.createTextNode(t)),e},_onClick:function(t){if(!this.selected&&!this._cleared){var e=this.getFirstPosition(t);e&&this.selectWord(e),t.preventDefault()}},_onDocumentDown:function(t){var e,n,i,o=this.getFirstPosition(t),r=this.selected;delete this._cleared,this.selected&&o&&!this.isHandle(t.target)&&(n=-1===(e=this.createRange(o)).compareBoundaryPoints(Range.START_TO_END,r),i=1===e.compareBoundaryPoints(Range.END_TO_START,r),(n||i)&&(this._cleared=!0,this.deselect())),this.isEnabled()&&t.preventDefault()},_onHandleDown:function(t){var i=this.getFirstPosition(t);i&&this.selected&&(this._offset={y:i.y-parseFloat(t.target.style.top)+e.scrollY,x:i.x-parseFloat(t.target.style.left)+e.scrollX},this._startPosition=this._endPosition=i,this._isStartHandle=t.target===this.handles.start,this.bind(n,{mousemove:"_onHandleMove",mouseup:"_onHandleUp",touchmove:"_onHandleMove",touchend:"_onHandleUp"})),t.stopPropagation(),t.preventDefault()},_onHandleMove:function(t){var e,n=this;t.stopPropagation(),t.preventDefault(),this._throttled||(this._throttled=setTimeout((function(){n._throttled=null}),this.throttle),this._startPosition&&(e=this.getFirstPosition(t))&&(e={y:e.y-this._offset.y,x:e.x-this._offset.x},this.updatePositionByHandle(e,this._isStartHandle)))},_onHandleUp:function(){clearTimeout(this._throttled),delete this._isStartHandle,delete this._startPosition,delete this._endPosition,delete this._throttled,delete this._offset,this.unbind(n,{mousemove:"_onHandleMove",mouseup:"_onHandleUp",touchmove:"_onHandleMove",touchend:"_onHandleUp"})}},t.exports?t.exports=a:t.Highlighter=a}("undefined"!=typeof module?module:this,this,this.document),function(){var t,e,n,i,o,r,s,a,l,u,c,d,h,f,p,g,m,v,b,y,w,_,x,C,k,T,S,E,N,D,A,z=[].slice,P={}.hasOwnProperty,M=function(t,e){function n(){this.constructor=t}for(var i in e)P.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},I=function(t,e){return function(){return t.apply(e,arguments)}},R=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};if(v=function(e){return this.map((function(){var n,i,o,r;for(o="",n=this;(null!=n?n.nodeType:void 0)===Node.ELEMENT_NODE&&n!==e;)r=n.tagName.replace(":","\\:"),i="["+(i=t(n.parentNode).children(r).index(n)+1)+"]",o="/"+n.tagName.toLowerCase()+i+o,n=n.parentNode;return o})).get()},b=function(t){var e,n,i;return e=function(t){return f(t)+"["+p(t)+"]"},i=t,n=function(t){var n;for(n="";t!==i;){if(null==t)throw new Error("Called getPathTo on a node which was not a descendant of @rootNode. "+i);n=e(t)+"/"+n,t=t.parentNode}return(n="/"+n).replace(/\/$/,"")},this.map((function(){return n(this)})).get()},u=function(t,e,n){var i,o,r,s,a;if(!t.hasChildNodes())throw new Error("XPath error: node has no children!");for(r=0,s=0,a=(o=t.childNodes).length;s<a;s++)if(i=o[s],f(i)===e&&(r+=1)===n)return i;throw new Error("XPath error: wanted child not found.")},f=function(t){var e;switch(e=t.nodeName.toLowerCase()){case"#text":return"text()";case"#comment":return"comment()";case"#cdata-section":return"cdata-section()";default:return e}},p=function(t){var e,n;for(e=0,n=t;n;)n.nodeName===t.nodeName&&e++,n=n.previousSibling;return e},g=null,"undefined"!=typeof Gettext&&null!==Gettext?(w=new Gettext({domain:"annotator"}),g=function(t){return w.gettext(t)}):g=function(t){return t},E=function(t){return g(t)},("undefined"!=typeof jQuery&&null!==jQuery&&null!=(T=jQuery.fn)?T.jquery:void 0)||console.error(E("Annotator requires jQuery: have you included lib/vendor/jquery.js?")),JSON&&JSON.parse&&JSON.stringify||console.error(E("Annotator requires a JSON implementation: have you included lib/vendor/json2.js?")),t=jQuery,(r={}).flatten=function(e){var n;return(n=function(e){var i,o,r,s;for(o=[],r=0,s=e.length;r<s;r++)i=e[r],o=o.concat(i&&t.isArray(i)?n(i):i);return o})(e)},r.contains=function(t,e){var n;for(n=e;null!=n;){if(n===t)return!0;n=n.parentNode}return!1},r.getTextNodes=function(t){var e;return e=function(t){var n;if(t&&t.nodeType!==Node.TEXT_NODE){if(n=[],t.nodeType!==Node.COMMENT_NODE)for(t=t.lastChild;t;)n.push(e(t)),t=t.previousSibling;return n.reverse()}return t},t.map((function(){return r.flatten(e(this))}))},r.getLastTextNodeUpTo=function(t){var e;switch(t.nodeType){case Node.TEXT_NODE:return t;case Node.ELEMENT_NODE:if(null!=t.lastChild&&null!=(e=r.getLastTextNodeUpTo(t.lastChild)))return e}return null!=(t=t.previousSibling)?r.getLastTextNodeUpTo(t):null},r.getFirstTextNodeNotBefore=function(t){var e;switch(t.nodeType){case Node.TEXT_NODE:return t;case Node.ELEMENT_NODE:if(null!=t.firstChild&&null!=(e=r.getFirstTextNodeNotBefore(t.firstChild)))return e}return null!=(t=t.nextSibling)?r.getFirstTextNodeNotBefore(t):null},r.readRangeViaSelection=function(t){var e;return(e=r.getGlobal().getSelection()).removeAllRanges(),e.addRange(t.toRange()),e.toString()},r.xpathFromNode=function(t,e){var n;try{n=v.call(t,e)}catch(i){console.log("jQuery-based XPath construction failed! Falling back to manual."),n=b.call(t,e)}return n},r.nodeFromXPath=function(t,e){var n,i,o,r,s,a,l;for(o=e,s=0,a=(r=t.substring(1).split("/")).length;s<a;s++)i=(l=r[s].split("["))[0],n=null!=(n=l[1])?parseInt((null!=n?n.split("]"):void 0)[0]):1,o=u(o,i.toLowerCase(),n);return o},r.escape=function(t){return t.replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},r.uuid=(N=0,function(){return N++}),r.getGlobal=function(){return function(){return this}()},r.maxZIndex=function(e){var n,i;return n=function(){var n,o,r;for(r=[],n=0,o=e.length;n<o;n++)i=e[n],"static"===t(i).css("position")?r.push(-1):r.push(parseInt(t(i).css("z-index"),10)||-1);return r}(),Math.max.apply(Math,n)},r.mousePosition=function(e,n){var i,o;return"absolute"!==(o=t(n).css("position"))&&"fixed"!==o&&"relative"!==o&&(n=t(n).offsetParent()[0]),i=t(n).offset(),{top:e.pageY-i.top,left:e.pageX-i.left}},r.preventEventDefault=function(t){return null!=t&&"function"==typeof t.preventDefault?t.preventDefault():void 0},d=["log","debug","info","warn","exception","assert","dir","dirxml","trace","group","groupEnd","groupCollapsed","time","timeEnd","profile","profileEnd","count","clear","table","error","notifyFirebug","firebug","userObjects"],"undefined"!=typeof console&&null!==console)for(null==console.group&&(console.group=function(t){return console.log("GROUP: ",t)}),null==console.groupCollapsed&&(console.groupCollapsed=console.group),_=0,C=d.length;_<C;_++)c=d[_],null==console[c]&&(console[c]=function(){return console.log(E("Not implemented:")+" console."+name)});else{for(this.console={},x=0,k=d.length;x<k;x++)c=d[x],this.console[c]=function(){};this.console.error=function(){var t;return t=1<=arguments.length?z.call(arguments,0):[],alert("ERROR: "+t.join(", "))},this.console.warn=function(){var t;return t=1<=arguments.length?z.call(arguments,0):[],alert("WARNING: "+t.join(", "))}}(n=function(){function e(e,n){this.options=t.extend(!0,{},this.options,n),this.element=t(e),this._closures={},this.on=this.subscribe,this.addEvents()}return e.prototype.events={},e.prototype.options={},e.prototype.element=null,e.prototype.addEvents=function(){var t,n,i,o,r;for(r=[],n=0,i=(o=e._parseEvents(this.events)).length;n<i;n++)t=o[n],r.push(this._addEvent(t.selector,t.event,t.functionName));return r},e.prototype.removeEvents=function(){var t,n,i,o,r;for(r=[],n=0,i=(o=e._parseEvents(this.events)).length;n<i;n++)t=o[n],r.push(this._removeEvent(t.selector,t.event,t.functionName));return r},e.prototype._addEvent=function(t,n,i){var o,r;return r=this,o=function(){return r[i].apply(r,arguments)},""===t&&e._isCustomEvent(n)?this.subscribe(n,o):this.element.delegate(t,n,o),this._closures[t+"/"+n+"/"+i]=o,this},e.prototype._removeEvent=function(t,n,i){var o;return o=this._closures[t+"/"+n+"/"+i],""===t&&e._isCustomEvent(n)?this.unsubscribe(n,o):this.element.undelegate(t,n,o),delete this._closures[t+"/"+n+"/"+i],this},e.prototype.publish=function(){return this.element.triggerHandler.apply(this.element,arguments),this},e.prototype.subscribe=function(e,n){var i;return(i=function(){return n.apply(this,[].slice.call(arguments,1))}).guid=n.guid=t.guid+=1,this.element.bind(e,i),this},e.prototype.unsubscribe=function(){return this.element.unbind.apply(this.element,arguments),this},e}())._parseEvents=function(t){var e,n,i,o,r,s,a;for(o in n=[],t)i=t[o],r=2<=(a=o.split(" ")).length?z.call(a,0,s=a.length-1):(s=0,[]),e=a[s++],n.push({selector:r.join(" "),event:e,functionName:i});return n},n.natives=(A=function(){var t,e;for(D in e=[],t=jQuery.event.special)P.call(t,D)&&(t[D],e.push(D));return e}(),"blur focus focusin focusout load resize scroll unload click dblclick\nmousedown mouseup mousemove mouseover mouseout mouseenter mouseleave\nchange select submit keydown keypress keyup error".split(/[^a-z]+/).concat(A)),n._isCustomEvent=function(e){return e=e.split(".")[0],-1===t.inArray(e,n.natives)},(o={}).sniff=function(t){return null!=t.commonAncestorContainer?new o.BrowserRange(t):"string"==typeof t.start?new o.SerializedRange(t):t.start&&"object"==typeof t.start?new o.NormalizedRange(t):(console.error(E("Could not sniff range type")),!1)},o.nodeFromXPath=function(e,n){var i,o,s,a,l;return null==n&&(n=document),o=function(t,e){null==e&&(e=null);try{return document.evaluate("."+t,n,e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(e){return console.log("XPath evaluation failed."),console.log("Trying fallback..."),r.nodeFromXPath(t,n)}},t.isXMLDoc(document.documentElement)?(i=document.createNSResolver(null===document.ownerDocument?document.documentElement:document.ownerDocument.documentElement),(a=o(e,i))||(e=function(){var t,n,i,o;for(o=[],t=0,n=(i=e.split("/")).length;t<n;t++)(l=i[t])&&-1===l.indexOf(":")?o.push(l.replace(/^([a-z]+)/,"xhtml:$1")):o.push(l);return o}().join("/"),s=document.lookupNamespaceURI(null),a=o(e,i=function(t){return"xhtml"===t?s:document.documentElement.getAttribute("xmlns:"+t)})),a):o(e)},o.RangeError=function(t){function e(t,n,i){this.type=t,this.message=n,this.parent=null!=i?i:null,e.__super__.constructor.call(this,this.message)}return M(e,t),e}(Error),o.BrowserRange=function(){function t(t){this.commonAncestorContainer=t.commonAncestorContainer,this.startContainer=t.startContainer,this.startOffset=t.startOffset,this.endContainer=t.endContainer,this.endOffset=t.endOffset}return t.prototype.normalize=function(){var t,e,n,i;if(this.tainted)return console.error(E("You may only call normalize() once on a BrowserRange!")),!1;if(this.tainted=!0,i={},this.startContainer.nodeType===Node.ELEMENT_NODE?(i.start=r.getFirstTextNodeNotBefore(this.startContainer.childNodes[this.startOffset]),i.startOffset=0):(i.start=this.startContainer,i.startOffset=this.startOffset),this.endContainer.nodeType===Node.ELEMENT_NODE){if(null!=(e=this.endContainer.childNodes[this.endOffset])){for(t=e;null!=t&&t.nodeType!==Node.TEXT_NODE;)t=t.firstChild;null!=t&&(i.end=t,i.endOffset=0)}null==i.end&&(e=this.endContainer.childNodes[this.endOffset-1],i.end=r.getLastTextNodeUpTo(e),i.endOffset=i.end.nodeValue.length)}else i.end=this.endContainer,i.endOffset=this.endOffset;for(n={},i.startOffset>0?i.start.nodeValue.length>i.startOffset?n.start=i.start.splitText(i.startOffset):n.start=i.start.nextSibling:n.start=i.start,i.start===i.end?(n.start.nodeValue.length>i.endOffset-i.startOffset&&n.start.splitText(i.endOffset-i.startOffset),n.end=n.start):(i.end.nodeValue.length>i.endOffset&&i.end.splitText(i.endOffset),n.end=i.end),n.commonAncestor=this.commonAncestorContainer;n.commonAncestor.nodeType!==Node.ELEMENT_NODE;)n.commonAncestor=n.commonAncestor.parentNode;return new o.NormalizedRange(n)},t.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},t}(),o.NormalizedRange=function(){function e(t){this.commonAncestor=t.commonAncestor,this.start=t.start,this.end=t.end}return e.prototype.normalize=function(){return this},e.prototype.limit=function(e){var n,i,o,r,s,a;if(!(n=t.grep(this.textNodes(),(function(n){return n.parentNode===e||t.contains(e,n.parentNode)}))).length)return null;for(this.start=n[0],this.end=n[n.length-1],o=t(this.start).parents(),r=0,s=(a=t(this.end).parents()).length;r<s;r++)if(i=a[r],-1!==o.index(i)){this.commonAncestor=i;break}return this},e.prototype.serialize=function(e,n){var i,s,a;return a=(s=function(i,o){var s,a,l,u,c,d,h;for(l=n?t(i).parents(":not("+n+")").eq(0):t(i).parent(),c=r.xpathFromNode(l,e)[0],a=0,d=0,h=(s=(u=r.getTextNodes(l)).slice(0,u.index(i))).length;d<h;d++)a+=s[d].nodeValue.length;return o?[c,a+i.nodeValue.length]:[c,a]})(this.start),i=s(this.end,!0),new o.SerializedRange({start:a[0],end:i[0],startOffset:a[1],endOffset:i[1]})},e.prototype.text=function(){var t;return function(){var e,n,i,o;for(o=[],e=0,n=(i=this.textNodes()).length;e<n;e++)t=i[e],o.push(t.nodeValue);return o}.call(this).join("")},e.prototype.textNodes=function(){var e,n,i,o;return n=(o=[(i=r.getTextNodes(t(this.commonAncestor))).index(this.start),i.index(this.end)])[0],e=o[1],t.makeArray(i.slice(n,+e+1||9e9))},e.prototype.toRange=function(){var t;return(t=document.createRange()).setStartBefore(this.start),t.setEndAfter(this.end),t},e}(),o.SerializedRange=function(){function e(t){this.start=t.start,this.startOffset=t.startOffset,this.end=t.end,this.endOffset=t.endOffset}return e.prototype.normalize=function(e){var n,i,s,a,l,u,c,d,h,f,p,g,m,v;for(u={},h=0,p=(m=["start","end"]).length;h<p;h++){l=m[h];try{a=o.nodeFromXPath(this[l],e)}catch(t){throw i=t,new o.RangeError(l,"Error while finding "+l+" node: "+this[l]+": "+i,i)}if(!a)throw new o.RangeError(l,"Couldn't find "+l+" node: "+this[l]);for(s=0,c=this[l+"Offset"],"end"===l&&c--,f=0,g=(v=r.getTextNodes(t(a))).length;f<g;f++){if(s+(d=v[f]).nodeValue.length>c){u[l+"Container"]=d,u[l+"Offset"]=this[l+"Offset"]-s;break}s+=d.nodeValue.length}
if(null==u[l+"Offset"])throw new o.RangeError(l+"offset","Couldn't find offset "+this[l+"Offset"]+" in element "+this[l])}return n=null==document.compareDocumentPosition?function(t,e){return t.contains(e)}:function(t,e){return 16&t.compareDocumentPosition(e)},t(u.startContainer).parents().each((function(){if(n(this,u.endContainer))return u.commonAncestorContainer=this,!1})),new o.BrowserRange(u).normalize(e)},e.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},e.prototype.toObject=function(){return{start:this.start,startOffset:this.startOffset,end:this.end,endOffset:this.endOffset}},e}(),y=this.Annotator,(e=function(){function e(n,i){if(this.onDeleteAnnotation=I(this.onDeleteAnnotation,this),this.onEditAnnotation=I(this.onEditAnnotation,this),this.onAdderClick=I(this.onAdderClick,this),this.onAdderMousedown=I(this.onAdderMousedown,this),this.onHighlightMouseover=I(this.onHighlightMouseover,this),this.checkForEndSelection=I(this.checkForEndSelection,this),this.checkForStartSelection=I(this.checkForStartSelection,this),this.clearViewerHideTimer=I(this.clearViewerHideTimer,this),this.startViewerHideTimer=I(this.startViewerHideTimer,this),this.showViewer=I(this.showViewer,this),this.onEditorSubmit=I(this.onEditorSubmit,this),this.onEditorHide=I(this.onEditorHide,this),this.showEditor=I(this.showEditor,this),e.__super__.constructor.apply(this,arguments),this.plugins={},!e.supported())return this;this.options.readOnly||this._setupDocumentEvents(),this._setupWrapper()._setupViewer()._setupEditor(),this._setupDynamicStyle(),this.adder=t(this.html.adder).appendTo(this.wrapper).hide(),e._instances.push(this)}return M(e,n),e.prototype.events={".annotator-adder button click":"onAdderClick",".annotator-adder button mousedown":"onAdderMousedown",".annotator-hl mouseover":"onHighlightMouseover",".annotator-hl mouseout":"startViewerHideTimer"},e.prototype.html={adder:'<div class="annotator-adder"><button>'+E("Annotate")+"</button></div>",wrapper:'<div class="annotator-wrapper"></div>'},e.prototype.options={readOnly:!1},e.prototype.plugins={},e.prototype.editor=null,e.prototype.viewer=null,e.prototype.selectedRanges=null,e.prototype.mouseIsDown=!1,e.prototype.ignoreMouseup=!1,e.prototype.viewerHideTimer=null,e.prototype._setupWrapper=function(){return this.wrapper=t(this.html.wrapper),this.element.find("script").remove(),this.element.wrapInner(this.wrapper),this.wrapper=this.element.find(".annotator-wrapper"),this},e.prototype._setupViewer=function(){var n;return this.viewer=new e.Viewer({readOnly:this.options.readOnly}),this.viewer.hide().on("edit",this.onEditAnnotation).on("delete",this.onDeleteAnnotation).addField({load:(n=this,function(e,i){return i.text?t(e).html(r.escape(i.text)):t(e).html("<i>"+E("No Comment")+"</i>"),n.publish("annotationViewerTextField",[e,i])})}).element.appendTo(this.wrapper).bind({mouseover:this.clearViewerHideTimer,mouseout:this.startViewerHideTimer}),this},e.prototype._setupEditor=function(){return this.editor=new e.Editor,this.editor.hide().on("hide",this.onEditorHide).on("save",this.onEditorSubmit).addField({type:"textarea",label:E("Comments")+"\u2026",load:function(e,n){return t(e).find("textarea").val(n.text||"")},submit:function(e,n){return n.text=t(e).find("textarea").val()}}),this.editor.element.appendTo(this.wrapper),this},e.prototype._setupDocumentEvents=function(){return t(document).bind({mouseup:this.checkForEndSelection,mousedown:this.checkForStartSelection}),this},e.prototype._setupDynamicStyle=function(){var e,n,i,o;return(i=t("#annotator-dynamic-style")).length||(i=t('<style id="annotator-dynamic-style"></style>').appendTo(document.head)),n="*"+function(){var t,e,n,i;for(i=[],t=0,e=(n=["adder","outer","notice","filter"]).length;t<e;t++)o=n[t],i.push(":not(.annotator-"+o+")");return i}().join(""),e=r.maxZIndex(t(document.body).find(n)),e=Math.max(e,1e3),i.text([".annotator-adder, .annotator-outer, .annotator-notice {","  z-index: "+(e+20)+";","}",".annotator-filter {","  z-index: "+(e+10)+";","}"].join("\n")),this},e.prototype.destroy=function(){var n,i,o;for(i in t(document).unbind({mouseup:this.checkForEndSelection,mousedown:this.checkForStartSelection}),t("#annotator-dynamic-style").remove(),this.adder.remove(),this.viewer.destroy(),this.editor.destroy(),this.wrapper.find(".annotator-hl").each((function(){return t(this).contents().insertBefore(this),t(this).remove()})),this.wrapper.contents().insertBefore(this.wrapper),this.wrapper.remove(),this.element.data("annotator",null),o=this.plugins)o[i],this.plugins[i].destroy();if(this.removeEvents(),-1!==(n=e._instances.indexOf(this)))return e._instances.splice(n,1)},e.prototype.getSelectedRanges=function(){var e,n,i,s,a,l,u,c,d;for(u=r.getGlobal().getSelection(),a=[],l=[],u.isCollapsed||(a=function(){var t,r,a;for(a=[],n=t=0,r=u.rangeCount;0<=r?t<r:t>r;n=0<=r?++t:--t)s=u.getRangeAt(n),e=new o.BrowserRange(s),null===(i=e.normalize().limit(this.wrapper[0]))&&l.push(s),a.push(i);return a}.call(this),u.removeAllRanges()),c=0,d=l.length;c<d;c++)s=l[c],u.addRange(s);return t.grep(a,(function(t){return t&&u.addRange(t.toRange()),t}))},e.prototype.createAnnotation=function(){var t;return t={},this.publish("beforeAnnotationCreated",[t]),t},e.prototype.setupAnnotation=function(e){var n,i,r,s,a,l,u,c,d,h;for(a=this.wrapper[0],e.ranges||(e.ranges=this.selectedRanges),r=[],l=0,c=(h=e.ranges).length;l<c;l++){s=h[l];try{r.push(o.sniff(s).normalize(a))}catch(t){if(!((n=t)instanceof o.RangeError))throw n;this.publish("rangeNormalizeFail",[e,s,n])}}for(e.quote=[],e.ranges=[],e.highlights=[],u=0,d=r.length;u<d;u++)i=r[u],e.quote.push(t.trim(i.text())),e.ranges.push(i.serialize(this.wrapper[0],".annotator-hl")),t.merge(e.highlights,this.highlightRange(i));return e.quote=e.quote.join(" / "),t(e.highlights).data("annotation",e),e},e.prototype.updateAnnotation=function(t){return this.publish("beforeAnnotationUpdated",[t]),this.publish("annotationUpdated",[t]),t},e.prototype.deleteAnnotation=function(e){var n,i,o,r;if(null!=e.highlights)for(i=0,o=(r=e.highlights).length;i<o;i++)null!=(n=r[i]).parentNode&&(n.childNodes[0],t(n).replaceWith(n.childNodes));return this.publish("annotationDeleted",[e]),e},e.prototype.loadAnnotations=function(t){var e,n,i;return null==t&&(t=[]),i=this,n=function(t){var o,r,s,a;for(null==t&&(t=[]),s=0,a=(r=t.splice(0,10)).length;s<a;s++)o=r[s],i.setupAnnotation(o);return t.length>0?setTimeout((function(){return n(t)}),10):i.publish("annotationsLoaded",[e])},e=t.slice(),n(t),this},e.prototype.dumpAnnotations=function(){return this.plugins.Store?this.plugins.Store.dumpAnnotations():(console.warn(E("Can't dump annotations without Store plugin.")),!1)},e.prototype.highlightRange=function(e,n){var i,o,r,s,a,l,u;for(null==n&&(n="annotator-hl"),r=/^\s*$/,i=t("<span class='"+n+"'></span>"),u=[],s=0,a=(l=e.textNodes()).length;s<a;s++)o=l[s],r.test(o.nodeValue)||u.push(t(o).wrapAll(i).parent().show()[0]);return u},e.prototype.highlightRanges=function(e,n){var i,o,r,s;for(null==n&&(n="annotator-hl"),i=[],r=0,s=e.length;r<s;r++)o=e[r],t.merge(i,this.highlightRange(o,n));return i},e.prototype.addPlugin=function(t,n){var i,o;return this.plugins[t]?console.error(E("You cannot have more than one instance of any plugin.")):"function"==typeof(i=e.Plugin[t])?(this.plugins[t]=new i(this.element[0],n),this.plugins[t].annotator=this,"function"==typeof(o=this.plugins[t]).pluginInit&&o.pluginInit()):console.error(E("Could not load ")+t+E(" plugin. Have you included the appropriate <script> tag?")),this},e.prototype.showEditor=function(t,e){return this.editor.element.css(e),this.editor.load(t),this.publish("annotationEditorShown",[this.editor,t]),this},e.prototype.onEditorHide=function(){return this.publish("annotationEditorHidden",[this.editor]),this.ignoreMouseup=!1},e.prototype.onEditorSubmit=function(t){return this.publish("annotationEditorSubmit",[this.editor,t])},e.prototype.showViewer=function(t,e){return this.viewer.element.css(e),this.viewer.load(t),this.publish("annotationViewerShown",[this.viewer,t])},e.prototype.startViewerHideTimer=function(){if(!this.viewerHideTimer)return this.viewerHideTimer=setTimeout(this.viewer.hide,250)},e.prototype.clearViewerHideTimer=function(){return clearTimeout(this.viewerHideTimer),this.viewerHideTimer=!1},e.prototype.checkForStartSelection=function(t){return t&&this.isAnnotator(t.target)||this.startViewerHideTimer(),this.mouseIsDown=!0},e.prototype.checkForEndSelection=function(e){var n,i,o,s;if(this.mouseIsDown=!1,!this.ignoreMouseup){for(this.selectedRanges=this.getSelectedRanges(),i=0,o=(s=this.selectedRanges).length;i<o;i++)if(n=s[i].commonAncestor,t(n).hasClass("annotator-hl")&&(n=t(n).parents("[class!=annotator-hl]")[0]),this.isAnnotator(n))return;return e&&this.selectedRanges.length?this.adder.css(r.mousePosition(e,this.wrapper[0])).show():this.adder.hide()}},e.prototype.isAnnotator=function(e){return!!t(e).parents().addBack().filter("[class^=annotator-]").not(this.wrapper).length},e.prototype.onHighlightMouseover=function(e){var n;return this.clearViewerHideTimer(),!this.mouseIsDown&&!this.viewer.isShown()&&(n=t(e.target).parents(".annotator-hl").addBack().map((function(){return t(this).data("annotation")})),this.showViewer(t.makeArray(n),r.mousePosition(e,this.wrapper[0])))},e.prototype.onAdderMousedown=function(t){return null!=t&&t.preventDefault(),this.ignoreMouseup=!0},e.prototype.onAdderClick=function(e){var n,i,o,r,s,a;return null!=e&&e.preventDefault(),r=this.adder.position(),this.adder.hide(),n=this.setupAnnotation(this.createAnnotation()),t(n.highlights).addClass("annotator-hl-temporary"),a=this,s=function(){return o(),t(n.highlights).removeClass("annotator-hl-temporary"),a.publish("annotationCreated",[n])},i=function(t){return function(){return o(),t.deleteAnnotation(n)}}(this),o=function(t){return function(){return t.unsubscribe("annotationEditorHidden",i),t.unsubscribe("annotationEditorSubmit",s)}}(this),this.subscribe("annotationEditorHidden",i),this.subscribe("annotationEditorSubmit",s),this.showEditor(n,r)},e.prototype.onEditAnnotation=function(t){var e,n,i,o;return n=this.viewer.element.position(),o=this,i=function(){return e(),o.updateAnnotation(t)},e=function(t){return function(){return t.unsubscribe("annotationEditorHidden",e),t.unsubscribe("annotationEditorSubmit",i)}}(this),this.subscribe("annotationEditorHidden",e),this.subscribe("annotationEditorSubmit",i),this.viewer.hide(),this.showEditor(t,n)},e.prototype.onDeleteAnnotation=function(t){return this.viewer.hide(),this.deleteAnnotation(t)},e}()).Plugin=function(){function t(e,n){t.__super__.constructor.apply(this,arguments)}return M(t,n),t.prototype.pluginInit=function(){},t.prototype.destroy=function(){return this.removeEvents()},t}(),null==(null!=(S=(h=r.getGlobal()).document)?S.evaluate:void 0)&&t.getScript("http://assets.annotateit.org/vendor/xpath.min.js"),null==h.getSelection&&t.getScript("http://assets.annotateit.org/vendor/ierange.min.js"),null==h.JSON&&t.getScript("http://assets.annotateit.org/vendor/json2.min.js"),null==h.Node&&(h.Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}),e.$=t,e.Delegator=n,e.Range=o,e.Util=r,e._instances=[],e._t=E,e.supported=function(){return function(){return!!this.getSelection}()},e.noConflict=function(){return r.getGlobal().Annotator=y,this},t.fn.annotator=function(n){var i;return i=Array.prototype.slice.call(arguments,1),this.each((function(){var o;return(o=t.data(this,"annotator"))?n&&o[n].apply(o,i):(o=new e(this,n),t.data(this,"annotator",o))}))},this.Annotator=e,e.Widget=function(){function i(n,o){i.__super__.constructor.apply(this,arguments),this.classes=t.extend({},e.Widget.prototype.classes,this.classes)}return M(i,n),i.prototype.classes={hide:"annotator-hide",invert:{x:"annotator-invert-x",y:"annotator-invert-y"}},i.prototype.destroy=function(){return this.removeEvents(),this.element.remove()},i.prototype.checkOrientation=function(){var n,i,o,r,s;return this.resetOrientation(),s=t(e.Util.getGlobal()),i=(r=this.element.children(":first")).offset(),o={top:s.scrollTop(),right:s.width()+s.scrollLeft()},(n={top:i.top,right:i.left+r.width()}).top-o.top<0&&this.invertY(),n.right-o.right>0&&this.invertX(),this},i.prototype.resetOrientation=function(){return this.element.removeClass(this.classes.invert.x).removeClass(this.classes.invert.y),this},i.prototype.invertX=function(){return this.element.addClass(this.classes.invert.x),this},i.prototype.invertY=function(){return this.element.addClass(this.classes.invert.y),this},i.prototype.isInvertedY=function(){return this.element.hasClass(this.classes.invert.y)},i.prototype.isInvertedX=function(){return this.element.hasClass(this.classes.invert.x)},i}(),e.Editor=function(n){function i(e){this.onCancelButtonMouseover=I(this.onCancelButtonMouseover,this),this.processKeypress=I(this.processKeypress,this),this.submit=I(this.submit,this),this.load=I(this.load,this),this.hide=I(this.hide,this),this.show=I(this.show,this),i.__super__.constructor.call(this,t(this.html)[0],e),this.fields=[],this.annotation={}}return M(i,n),i.prototype.events={"form submit":"submit",".annotator-save click":"submit",".annotator-cancel click":"hide",".annotator-cancel mouseover":"onCancelButtonMouseover","textarea keydown":"processKeypress"},i.prototype.classes={hide:"annotator-hide",focus:"annotator-focus"},i.prototype.html='<div class="annotator-outer annotator-editor">\n  <form class="annotator-widget">\n    <ul class="annotator-listing"></ul>\n    <div class="annotator-controls">\n      <a href="#cancel" class="annotator-cancel">'+E("Cancel")+'</a>\n<a href="#save" class="annotator-save annotator-focus">'+E("Save")+"</a>\n    </div>\n  </form>\n</div>",i.prototype.options={},i.prototype.show=function(t){return e.Util.preventEventDefault(t),this.element.removeClass(this.classes.hide),this.element.find(".annotator-save").addClass(this.classes.focus),this.checkOrientation(),this.element.find(":input:first").focus(),this.setupDraggables(),this.publish("show")},i.prototype.hide=function(t){return e.Util.preventEventDefault(t),this.element.addClass(this.classes.hide),this.publish("hide")},i.prototype.load=function(t){var e,n,i,o;for(this.annotation=t,this.publish("load",[this.annotation]),n=0,i=(o=this.fields).length;n<i;n++)(e=o[n]).load(e.element,this.annotation);return this.show()},i.prototype.submit=function(t){var n,i,o,r;for(e.Util.preventEventDefault(t),i=0,o=(r=this.fields).length;i<o;i++)(n=r[i]).submit(n.element,this.annotation);return this.publish("save",[this.annotation]),this.hide()},i.prototype.addField=function(n){var i,o,r;switch(o=t.extend({id:"annotator-field-"+e.Util.uuid(),type:"input",label:"",load:function(){},submit:function(){}},n),r=null,i=t('<li class="annotator-item" />'),o.element=i[0],o.type){case"textarea":r=t("<textarea />");break;case"input":case"checkbox":r=t("<input />");break;case"select":r=t("<select />")}return i.append(r),r.attr({id:o.id,placeholder:o.label}),"checkbox"===o.type&&(r[0].type="checkbox",i.addClass("annotator-checkbox"),i.append(t("<label />",{for:o.id,html:o.label}))),this.element.find("ul:first").append(i),this.fields.push(o),o.element},i.prototype.checkOrientation=function(){var t,e;return i.__super__.checkOrientation.apply(this,arguments),e=this.element.find("ul"),t=this.element.find(".annotator-controls"),this.element.hasClass(this.classes.invert.y)?t.insertBefore(e):t.is(":first-child")&&t.insertAfter(e),this},i.prototype.processKeypress=function(t){return 27===t.keyCode?this.hide():13!==t.keyCode||t.shiftKey?void 0:this.submit()},i.prototype.onCancelButtonMouseover=function(){return this.element.find("."+this.classes.focus).removeClass(this.classes.focus)},i.prototype.setupDraggables=function(){var e,n,i,o,r,s,a,l,u,c,d;return this.element.find(".annotator-resize").remove(),(i=this.element.hasClass(this.classes.invert.y)?this.element.find(".annotator-item:last"):this.element.find(".annotator-item:first"))&&t('<span class="annotator-resize"></span>').appendTo(i),r=null,e=this.classes,o=this.element,c=null,u=o.find(".annotator-resize"),n=o.find(".annotator-controls"),d=!1,s=function(e){if(e.target===this)return r={element:this,top:e.pageY,left:e.pageX},c=o.find("textarea:first"),t(window).bind({"mouseup.annotator-editor-resize":l,"mousemove.annotator-editor-resize":a}),e.preventDefault()},l=function(){return r=null,t(window).unbind(".annotator-editor-resize")},a=function(t){var i,s,a,l,h;if(r&&!1===d)return i={top:t.pageY-r.top,left:t.pageX-r.left},r.element===u[0]?(l=c.outerHeight(),h=c.outerWidth(),s=o.hasClass(e.invert.x)?-1:1,a=o.hasClass(e.invert.y)?1:-1,c.height(l+i.top*a),c.width(h+i.left*s),c.outerHeight()!==l&&(r.top=t.pageY),c.outerWidth()!==h&&(r.left=t.pageX)):r.element===n[0]&&(o.css({top:parseInt(o.css("top"),10)+i.top,left:parseInt(o.css("left"),10)+i.left}),r.top=t.pageY,r.left=t.pageX),d=!0,setTimeout((function(){return d=!1}),1e3/60)},u.bind("mousedown",s),n.bind("mousedown",s)},i}(e.Widget),e.Viewer=function(n){function o(e){this.onDeleteClick=I(this.onDeleteClick,this),this.onEditClick=I(this.onEditClick,this),this.load=I(this.load,this),this.hide=I(this.hide,this),this.show=I(this.show,this),o.__super__.constructor.call(this,t(this.html.element)[0],e),this.item=t(this.html.item)[0],this.fields=[],this.annotations=[]}return M(o,n),o.prototype.events={".annotator-edit click":"onEditClick",".annotator-delete click":"onDeleteClick"},o.prototype.classes={hide:"annotator-hide",showControls:"annotator-visible"},o.prototype.html={element:'<div class="annotator-outer annotator-viewer">\n  <ul class="annotator-widget annotator-listing"></ul>\n</div>',item:'<li class="annotator-annotation annotator-item">\n  <span class="annotator-controls">\n    <a href="#" title="View as webpage" class="annotator-link">View as webpage</a>\n    <button title="Edit" class="annotator-edit">Edit</button>\n    <button title="Delete" class="annotator-delete">Delete</button>\n  </span>\n</li>'},o.prototype.options={readOnly:!1},o.prototype.show=function(t){var n,i;return e.Util.preventEventDefault(t),n=this.element.find(".annotator-controls").addClass(this.classes.showControls),setTimeout((i=this,function(){return n.removeClass(i.classes.showControls)}),500),this.element.removeClass(this.classes.hide),this.checkOrientation().publish("show")},o.prototype.isShown=function(){return!this.element.hasClass(this.classes.hide)},o.prototype.hide=function(t){return e.Util.preventEventDefault(t),this.element.addClass(this.classes.hide),this.publish("hide")},o.prototype.load=function(e){var n,o,r,s,a,l,u,c,d,h,f,p,g,m,v,b,y;for(this.annotations=e||[],f=this.element.find("ul:first").empty(),p=0,m=(b=this.annotations).length;p<m;p++)for(n=b[p],d=(r=(c=t(this.item).clone().appendTo(f).data("annotation",n)).find(".annotator-controls")).find(".annotator-link"),a=r.find(".annotator-edit"),s=r.find(".annotator-delete"),0===(h=new i(n.links||[]).get("alternate",{type:"text/html"})).length||null==h[0].href?d.remove():d.attr("href",h[0].href),this.options.readOnly?(a.remove(),s.remove()):o={showEdit:function(){return a.removeAttr("disabled")},hideEdit:function(){return a.attr("disabled","disabled")},showDelete:function(){return s.removeAttr("disabled")},hideDelete:function(){return s.attr("disabled","disabled")}},g=0,v=(y=this.fields).length;g<v;g++)u=y[g],l=t(u.element).clone().appendTo(c)[0],u.load(l,n,o);return this.publish("load",[this.annotations]),this.show()},o.prototype.addField=function(e){var n;return(n=t.extend({load:function(){}},e)).element=t("<div />")[0],this.fields.push(n),n.element,this},o.prototype.onEditClick=function(t){return this.onButtonClick(t,"edit")},o.prototype.onDeleteClick=function(t){if(1==confirm("Are you sure you want to delete this annotation?"))return this.onButtonClick(t,"delete")},o.prototype.onButtonClick=function(e,n){var i;return i=t(e.target).parents(".annotator-annotation"),this.publish(n,[i.data("annotation")])},o}(e.Widget),i=function(){function e(t){this.data=t}return e.prototype.get=function(e,n){var i,o,r,s,a,l,u;for(null==n&&(n={}),n=t.extend({},n,{rel:e}),r=function(){var t;for(o in t=[],n)P.call(n,o)&&(n[o],t.push(o));return t}(),u=[],s=0,a=(l=this.data).length;s<a;s++)i=l[s],r.reduce((function(t,e){return t&&i[e]===n[e]}),!0)&&u.push(i);return u},e}(),(e=e||{}).Notification=function(){function i(e){this.hide=I(this.hide,this),this.show=I(this.show,this),i.__super__.constructor.call(this,t(this.options.html).appendTo(document.body)[0],e)}return M(i,n),i.prototype.events={click:"hide"},i.prototype.options={html:"<div class='annotator-notice'></div>",classes:{show:"annotator-notice-show",info:"annotator-notice-info",success:"annotator-notice-success",error:"annotator-notice-error"}},i.prototype.show=function(n,i){return null==i&&(i=e.Notification.INFO),this.currentStatus=i,t(this.element).addClass(this.options.classes.show).addClass(this.options.classes[this.currentStatus]).html(r.escape(n||"")),setTimeout(this.hide,5e3),this},i.prototype.hide=function(){return null==this.currentStatus&&(this.currentStatus=e.Notification.INFO),t(this.element).removeClass(this.options.classes.show).removeClass(this.options.classes[this.currentStatus]),this},i}(),e.Notification.INFO="info",e.Notification.SUCCESS="success",e.Notification.ERROR="error",t((function(){var t;return t=new e.Notification,e.showNotification=t.show,e.hideNotification=t.hide})),e.Plugin.Unsupported=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return M(i,n),i.prototype.options={message:e._t("Sorry your current browser does not support the Annotator")},i.prototype.pluginInit=function(){if(!e.supported())return t((n=this,function(){if(e.showNotification(n.options.message),void 0===window.XMLHttpRequest&&void 0!==ActiveXObject)return t("html").addClass("ie6")}));var n},i}(e.Plugin),l=function(t){var e,n,i,o,r;return e=t.match(new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),i=0,n=new Date(e[1],0,1),e[3]&&n.setMonth(e[3]-1),e[5]&&n.setDate(e[5]),e[7]&&n.setHours(e[7]),e[8]&&n.setMinutes(e[8]),e[10]&&n.setSeconds(e[10]),e[12]&&n.setMilliseconds(1e3*Number("0."+e[12])),e[14]&&(i=60*Number(e[16])+Number(e[17]),i*=null!=(r="-"===e[15])?r:{1:-1}),i-=n.getTimezoneOffset(),o=Number(n)+60*i*1e3,n.setTime(Number(o)),n},s=function(t){var e,n,i,o,r,s,a,l,u,c;if("undefined"!=typeof atob&&null!==atob)return atob(t);if(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,e=0,c=[],!t)return t;for(t+="";s<t.length;)a=(i=n.indexOf(t.charAt(s++))<<18|n.indexOf(t.charAt(s++))<<12|(o=n.indexOf(t.charAt(s++)))<<6|(r=n.indexOf(t.charAt(s++))))>>16&255,l=i>>8&255,u=255&i,c[e++]=64===o?String.fromCharCode(a):64===r?String.fromCharCode(a,l):String.fromCharCode(a,l,u);return c.join("")},a=function(t){var e,n,i;if(0!=(e=t.length%4))for(n=0,i=4-e;0<=i?n<i:n>i;0<=i?++n:--n)t+="=";return t=(t=t.replace(/-/g,"+")).replace(/_/g,"/"),s(t)},m=function(t){var e,n;return(n=t.split("."))[0],e=n[1],n[2],JSON.parse(a(e))},e.Plugin.Auth=function(n){function i(t,e){i.__super__.constructor.apply(this,arguments),this.waitingForToken=[],this.options.token?this.setToken(this.options.token):this.requestToken()}return M(i,n),i.prototype.options={token:null,tokenUrl:"/auth/token",autoFetch:!0},i.prototype.requestToken=function(){return this.requestInProgress=!0,t.ajax({url:this.options.tokenUrl,dataType:"text",xhrFields:{withCredentials:!0}}).done((n=this,function(t){return n.setToken(t)})).fail((function(t,n,i){var o;return o=e._t("Your session has expired; please log in again."),console.error(o+" "+i,t),e.showNotification(o,e.Notification.ERROR)})).always(function(t){return function(){return t.requestInProgress=!1}}(this));var n},i.prototype.setToken=function(t){var n,i;if(this.token=t,this._unsafeToken=m(t),this.haveValidToken()){for(this.options.autoFetch&&(this.refreshTimeout=setTimeout((i=this,function(){return i.requestToken()}),1e3*(this.timeToExpiry()-2))),this.updateHeaders(),n=[];this.waitingForToken.length>0;)n.push(this.waitingForToken.pop()(this._unsafeToken));return n}if(console.warn(e._t("Didn't get a valid token.")),this.options.autoFetch)return console.warn(e._t("Getting a new token in 10s.")),setTimeout(function(t){return function(){return t.requestToken()}}(this),1e4)},i.prototype.haveValidToken=function(){return!!(this._unsafeToken&&this._unsafeToken.issuedAt&&this._unsafeToken.ttl&&this._unsafeToken.consumerKey&&this.timeToExpiry()>0)},i.prototype.timeToExpiry=function(){var t,e;return t=(new Date).getTime()/1e3,(e=l(this._unsafeToken.issuedAt).getTime()/1e3+this._unsafeToken.ttl-t)>0?e:0},i.prototype.updateHeaders=function(){var e;return e=this.element.data("annotator:headers"),this.element.data("annotator:headers",t.extend(e,{"x-annotator-auth-token":this.token}))},i.prototype.withToken=function(t){if(null!=t)return this.haveValidToken()?t(this._unsafeToken):(this.waitingForToken.push(t),this.requestInProgress?void 0:this.requestToken())},i}(e.Plugin),e.Plugin.Store=function(n){function i(t,e){this._onError=I(this._onError,this),this._onLoadAnnotationsFromSearch=I(this._onLoadAnnotationsFromSearch,this),this._onLoadAnnotations=I(this._onLoadAnnotations,this),this._getAnnotations=I(this._getAnnotations,this),i.__super__.constructor.apply(this,arguments),this.annotations=[]}return M(i,n),i.prototype.events={annotationCreated:"annotationCreated",annotationDeleted:"annotationDeleted",annotationUpdated:"annotationUpdated"},i.prototype.options={annotationData:{},emulateHTTP:!1,loadFromSearch:!1,prefix:"/store",urls:{create:"/annotations",read:"/annotations/:id",update:"/annotations/:id",destroy:"/annotations/:id",search:"/search"}},i.prototype.pluginInit=function(){if(e.supported())return this.annotator.plugins.Auth?this.annotator.plugins.Auth.withToken(this._getAnnotations):this._getAnnotations()},i.prototype._getAnnotations=function(){return this.options.loadFromSearch?this.loadAnnotationsFromSearch(this.options.loadFromSearch):this.loadAnnotations()},i.prototype.annotationCreated=function(t){return R.call(this.annotations,t)<0?(this.registerAnnotation(t),this._apiRequest("create",t,(n=this,function(i){return null==i.id&&console.warn(e._t("Warning: No ID returned from server for annotation "),t),n.updateAnnotation(t,i)}))):this.updateAnnotation(t,{});var n},i.prototype.annotationUpdated=function(t){if(R.call(this.annotations,t)>=0)return this._apiRequest("update",t,(e=this,function(n){return e.updateAnnotation(t,n)}));var e},i.prototype.annotationDeleted=function(t){if(R.call(this.annotations,t)>=0)return this._apiRequest("destroy",t,(e=this,function(){return e.unregisterAnnotation(t)}));var e},i.prototype.registerAnnotation=function(t){return this.annotations.push(t)},i.prototype.unregisterAnnotation=function(t){return this.annotations.splice(this.annotations.indexOf(t),1)},i.prototype.updateAnnotation=function(n,i){return R.call(this.annotations,n)<0?console.error(e._t("Trying to update unregistered annotation!")):t.extend(n,i),t(n.highlights).data("annotation",n)},i.prototype.loadAnnotations=function(){return this._apiRequest("read",null,this._onLoadAnnotations)},i.prototype._onLoadAnnotations=function(t){var e,n,i,o,r,s,a,l,u;for(null==t&&(t=[]),i={},r=0,a=(u=this.annotations).length;r<a;r++)i[(e=u[r]).id]=e;for(o=[],s=0,l=t.length;s<l;s++)i[(e=t[s]).id]?(n=i[e.id],this.updateAnnotation(n,e)):o.push(e);return this.annotations=this.annotations.concat(o),this.annotator.loadAnnotations(o.slice())},i.prototype.loadAnnotationsFromSearch=function(t){return this._apiRequest("search",t,this._onLoadAnnotationsFromSearch)},i.prototype._onLoadAnnotationsFromSearch=function(t){return null==t&&(t={}),this._onLoadAnnotations(t.rows||[])},i.prototype.dumpAnnotations=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.annotations).length;e<n;e++)t=i[e],o.push(JSON.parse(this._dataFor(t)));return o},i.prototype._apiRequest=function(e,n,i){var o,r,s,a;return o=n&&n.id,a=this._urlFor(e,o),r=this._apiRequestOptions(e,n,i),(s=t.ajax(a,r))._id=o,s._action=e,s},i.prototype._apiRequestOptions=function(e,n,i){var o,r,s;return s={type:r=this._methodFor(e),headers:this.element.data("annotator:headers"),dataType:"json",success:i||function(){},error:this._onError},!this.options.emulateHTTP||"PUT"!==r&&"DELETE"!==r||(s.headers=t.extend(s.headers,{"X-HTTP-Method-Override":r}),s.type="POST"),"search"===e?s=t.extend(s,{data:n}):(o=n&&this._dataFor(n),this.options.emulateJSON?(s.data={json:o},this.options.emulateHTTP&&(s.data._method=r),s):s=t.extend(s,{data:o,contentType:"application/json; charset=utf-8"}))},i.prototype._urlFor=function(t,e){var n;return n=null!=this.options.prefix?this.options.prefix:"",(n=(n+=this.options.urls[t]).replace(/\/:id/,null!=e?"/"+e:"")).replace(/:id/,null!=e?e:"")},i.prototype._methodFor=function(t){return{create:"POST",read:"GET",update:"PUT",destroy:"DELETE",search:"GET"}[t]},i.prototype._dataFor=function(e){var n,i;return i=e.highlights,delete e.highlights,t.extend(e,this.options.annotationData),n=JSON.stringify(e),i&&(e.highlights=i),n},i.prototype._onError=function(t){var n,i;switch(n=t._action,i=e._t("Sorry we could not ")+n+e._t(" this annotation"),"search"===t._action?i=e._t("Sorry we could not search the store for annotations"):"read"!==t._action||t._id||(i=e._t("Sorry we could not ")+n+e._t(" the annotations from the store")),t.status){case 401:i=e._t("Sorry you are not allowed to ")+n+e._t(" this annotation");break;case 404:i=e._t("Sorry we could not connect to the annotations store");break;case 500:i=e._t("Sorry something went wrong with the annotation store")}return e.showNotification(i,e.Notification.ERROR),console.error(e._t("API request failed:")+" '"+t.status+"'")},i}(e.Plugin),e.Plugin.Permissions=function(n){function i(t,e){this._setAuthFromToken=I(this._setAuthFromToken,this),this.updateViewer=I(this.updateViewer,this),this.updateAnnotationPermissions=I(this.updateAnnotationPermissions,this),this.updatePermissionsField=I(this.updatePermissionsField,this),this.addFieldsToAnnotation=I(this.addFieldsToAnnotation,this),i.__super__.constructor.apply(this,arguments),this.options.user&&(this.setUser(this.options.user),delete this.options.user)}return M(i,n),i.prototype.events={beforeAnnotationCreated:"addFieldsToAnnotation"},i.prototype.options={showViewPermissionsCheckbox:!0,showEditPermissionsCheckbox:!0,userId:function(t){return t},userString:function(t){return t},userAuthorize:function(t,e,n){var i,o,r,s;if(e.permissions){if(0===(o=e.permissions[t]||[]).length)return!0;for(r=0,s=o.length;r<s;r++)if(i=o[r],this.userId(n)===i)return!0;return!1}return!e.user||!!n&&this.userId(n)===this.userId(e.user)},user:"",permissions:{read:[],update:[],delete:[],admin:[]}},i.prototype.pluginInit=function(){var t,n,i;if(e.supported())return n=this,t=function(t,e){return function(i,o){return n[t].call(n,e,i,o)}},!this.user&&this.annotator.plugins.Auth&&this.annotator.plugins.Auth.withToken(this._setAuthFromToken),!0===this.options.showViewPermissionsCheckbox&&this.annotator.editor.addField({type:"checkbox",label:e._t("Allow anyone to <strong>view</strong> this annotation"),load:t("updatePermissionsField","read"),submit:t("updateAnnotationPermissions","read")}),!0===this.options.showEditPermissionsCheckbox&&this.annotator.editor.addField({type:"checkbox",label:e._t("Allow anyone to <strong>edit</strong> this annotation"),load:t("updatePermissionsField","update"),submit:t("updateAnnotationPermissions","update")}),this.annotator.viewer.addField({load:this.updateViewer}),this.annotator.plugins.Filter?this.annotator.plugins.Filter.addFilter({label:e._t("User"),property:"user",isFiltered:(i=this,function(t,e){var n,o,r,s;if(e=i.options.userString(e),!t||!e)return!1;for(o=0,r=(s=t.split(/\s*/)).length;o<r;o++)if(n=s[o],-1===e.indexOf(n))return!1;return!0})}):void 0},i.prototype.setUser=function(t){return this.user=t},i.prototype.addFieldsToAnnotation=function(t){if(t&&(t.permissions=this.options.permissions,this.user))return t.user=this.user},i.prototype.authorize=function(t,e,n){return void 0===n&&(n=this.user),!this.options.userAuthorize||this.options.userAuthorize.call(this.options,t,e,n)},i.prototype.updatePermissionsField=function(e,n,i){var o;return o=(n=t(n).show()).find("input").removeAttr("disabled"),this.authorize("admin",i)||n.hide(),this.authorize(e,i||{},null)?o.attr("checked","checked"):o.removeAttr("checked")},i.prototype.updateAnnotationPermissions=function(e,n,i){return i.permissions||(i.permissions=this.options.permissions),
t(n).find("input").is(":checked")?i.permissions[e]=[]:i.permissions[e]=[this.options.userId(this.user)]},i.prototype.updateViewer=function(n,i,o){var r,s;if(n=t(n),s=this.options.userString(i.user),i.user&&s&&"string"==typeof s?(r=e.Util.escape(this.options.userString(i.user)),n.html(r).addClass("annotator-user")):n.remove(),o&&(this.authorize("update",i)||o.hideEdit(),!this.authorize("delete",i)))return o.hideDelete()},i.prototype._setAuthFromToken=function(t){return this.setUser(t.userId)},i}(e.Plugin),e.Plugin.AnnotateItPermissions=function(e){function n(){return this._setAuthFromToken=I(this._setAuthFromToken,this),this.updateAnnotationPermissions=I(this.updateAnnotationPermissions,this),this.updatePermissionsField=I(this.updatePermissionsField,this),this.addFieldsToAnnotation=I(this.addFieldsToAnnotation,this),n.__super__.constructor.apply(this,arguments)}return M(n,e),n.prototype.options={showViewPermissionsCheckbox:!0,showEditPermissionsCheckbox:!0,groups:{world:"group:__world__",authenticated:"group:__authenticated__",consumer:"group:__consumer__"},userId:function(t){return t.userId},userString:function(t){return t.userId},userAuthorize:function(t,e,n){var i,o,r,s,a;return i=(e.permissions||{})[t]||[],o=this.groups.world,R.call(i,o)>=0||null!=n&&null!=n.userId&&null!=n.consumerKey&&(n.userId===e.user&&n.consumerKey===e.consumer||(r=this.groups.authenticated,R.call(i,r)>=0||n.consumerKey===e.consumer&&(s=this.groups.consumer,R.call(i,s)>=0)||n.consumerKey===e.consumer&&(a=n.userId,R.call(i,a)>=0)||!(n.consumerKey!==e.consumer||!n.admin)))},permissions:{read:["group:__world__"],update:[],delete:[],admin:[]}},n.prototype.addFieldsToAnnotation=function(t){if(t&&(t.permissions=this.options.permissions,this.user))return t.user=this.user.userId,t.consumer=this.user.consumerKey},n.prototype.updatePermissionsField=function(e,n,i){var o;return o=(n=t(n).show()).find("input").removeAttr("disabled"),this.authorize("admin",i)||n.hide(),this.user&&this.authorize(e,i||{},{userId:"__nonexistentuser__",consumerKey:this.user.consumerKey})?o.attr("checked","checked"):o.removeAttr("checked")},n.prototype.updateAnnotationPermissions=function(e,n,i){return i.permissions||(i.permissions=this.options.permissions),t(n).find("input").is(":checked")?i.permissions[e]=["read"===e?this.options.groups.world:this.options.groups.consumer]:i.permissions[e]=[]},n.prototype._setAuthFromToken=function(t){return this.setUser(t)},n}(e.Plugin.Permissions),e.Plugin.Filter=function(n){function i(e,n){var o;this._onPreviousClick=I(this._onPreviousClick,this),this._onNextClick=I(this._onNextClick,this),this._onFilterKeyup=I(this._onFilterKeyup,this),this._onFilterBlur=I(this._onFilterBlur,this),this._onFilterFocus=I(this._onFilterFocus,this),this.updateHighlights=I(this.updateHighlights,this),e=t(this.html.element).appendTo((null!=n?n.appendTo:void 0)||this.options.appendTo),i.__super__.constructor.call(this,e,n),(o=this.options).filters||(o.filters=[]),this.filter=t(this.html.filter),this.filters=[],this.current=0}return M(i,n),i.prototype.events={".annotator-filter-property input focus":"_onFilterFocus",".annotator-filter-property input blur":"_onFilterBlur",".annotator-filter-property input keyup":"_onFilterKeyup",".annotator-filter-previous click":"_onPreviousClick",".annotator-filter-next click":"_onNextClick",".annotator-filter-clear click":"_onClearClick"},i.prototype.classes={active:"annotator-filter-active",hl:{hide:"annotator-hl-filtered",active:"annotator-hl-active"}},i.prototype.html={element:'<div class="annotator-filter">\n  <strong>'+e._t("Navigate:")+'</strong>\n<span class="annotator-filter-navigation">\n  <button class="annotator-filter-previous">'+e._t("Previous")+'</button>\n<button class="annotator-filter-next">'+e._t("Next")+"</button>\n</span>\n<strong>"+e._t("Filter by:")+"</strong>\n</div>",filter:'<span class="annotator-filter-property">\n  <label></label>\n  <input/>\n  <button class="annotator-filter-clear">'+e._t("Clear")+"</button>\n</span>"},i.prototype.options={appendTo:"body",filters:[],addAnnotationFilter:!0,isFiltered:function(t,e){var n,i,o,r;if(!t||!e)return!1;for(i=0,o=(r=t.split(/\s+/)).length;i<o;i++)if(n=r[i],-1===e.indexOf(n))return!1;return!0}},i.prototype.pluginInit=function(){var t,n,i,o;for(n=0,i=(o=this.options.filters).length;n<i;n++)t=o[n],this.addFilter(t);if(this.updateHighlights(),this._setupListeners()._insertSpacer(),!0===this.options.addAnnotationFilter)return this.addFilter({label:e._t("Annotation"),property:"text"})},i.prototype.destroy=function(){var e,n;return i.__super__.destroy.apply(this,arguments),n=t("html"),e=parseInt(n.css("padding-top"),10)||0,n.css("padding-top",e-this.element.outerHeight()),this.element.remove()},i.prototype._insertSpacer=function(){var e,n;return n=t("html"),e=parseInt(n.css("padding-top"),10)||0,n.css("padding-top",e+this.element.outerHeight()),this},i.prototype._setupListeners=function(){var t,e,n,i;for(n=0,i=(e=["annotationsLoaded","annotationCreated","annotationUpdated","annotationDeleted"]).length;n<i;n++)t=e[n],this.annotator.subscribe(t,this.updateHighlights);return this},i.prototype.addFilter=function(n){var i,o;return o=t.extend({label:"",property:"",isFiltered:this.options.isFiltered},n),function(){var t,e,n,r;for(r=[],t=0,e=(n=this.filters).length;t<e;t++)(i=n[t]).property===o.property&&r.push(i);return r}.call(this).length||(o.id="annotator-filter-"+o.property,o.annotations=[],o.element=this.filter.clone().appendTo(this.element),o.element.find("label").html(o.label).attr("for",o.id),o.element.find("input").attr({id:o.id,placeholder:e._t("Filter by ")+o.label+"\u2026"}),o.element.find("button").hide(),o.element.data("filter",o),this.filters.push(o)),this},i.prototype.updateFilter=function(e){var n,i,o,r,s,a,l;if(e.annotations=[],this.updateHighlights(),this.resetHighlights(),o=t.trim(e.element.find("input").val())){for(i=this.highlights.map((function(){return t(this).data("annotation")})),s=0,a=(l=t.makeArray(i)).length;s<a;s++)r=(n=l[s])[e.property],e.isFiltered(o,r)&&e.annotations.push(n);return this.filterHighlights()}},i.prototype.updateHighlights=function(){return this.highlights=this.annotator.element.find(".annotator-hl:visible"),this.filtered=this.highlights.not(this.classes.hl.hide)},i.prototype.filterHighlights=function(){var e,n,i,o,r,s,a,l,u,c;for(e=t.grep(this.filters,(function(t){return!!t.annotations.length})),o=(null!=(c=e[0])?c.annotations:void 0)||[],e.length>1&&(i=[],t.each(e,(function(){return t.merge(i,this.annotations)})),a=[],o=[],t.each(i,(function(){return-1===t.inArray(this,a)?a.push(this):o.push(this)}))),r=this.highlights,s=l=0,u=o.length;l<u;s=++l)n=o[s],r=r.not(n.highlights);return r.addClass(this.classes.hl.hide),this.filtered=this.highlights.not(this.classes.hl.hide),this},i.prototype.resetHighlights=function(){return this.highlights.removeClass(this.classes.hl.hide),this.filtered=this.highlights,this},i.prototype._onFilterFocus=function(e){var n;return(n=t(e.target)).parent().addClass(this.classes.active),n.next("button").show()},i.prototype._onFilterBlur=function(e){var n;if(!e.target.value)return(n=t(e.target)).parent().removeClass(this.classes.active),n.next("button").hide()},i.prototype._onFilterKeyup=function(e){var n;if(n=t(e.target).parent().data("filter"))return this.updateFilter(n)},i.prototype._findNextHighlight=function(t){var e,n,i,o,r,s,a,l;return this.highlights.length?(s=t?0:-1,l=t?-1:0,a=t?"lt":"gt",(i=(e=this.highlights.not("."+this.classes.hl.hide)).filter("."+this.classes.hl.active)).length||(i=e.eq(s)),n=i.data("annotation"),o=e.index(i[0]),(r=e.filter(":"+a+"("+o+")").not(n.highlights).eq(l)).length||(r=e.eq(l)),this._scrollToHighlight(r.data("annotation").highlights)):this},i.prototype._onNextClick=function(){return this._findNextHighlight()},i.prototype._onPreviousClick=function(){return this._findNextHighlight(!0)},i.prototype._scrollToHighlight=function(e){return e=t(e),this.highlights.removeClass(this.classes.hl.active),e.addClass(this.classes.hl.active),t("html, body").animate({scrollTop:e.offset().top-(this.element.height()+20)},150)},i.prototype._onClearClick=function(e){return t(e.target).prev("input").val("").keyup().blur()},i}(e.Plugin),e.Plugin.Markdown=function(n){function i(t,n){this.updateTextField=I(this.updateTextField,this),null!=(null!=Showdown?Showdown.converter:void 0)?(i.__super__.constructor.apply(this,arguments),this.converter=new Showdown.converter):console.error(e._t("To use the Markdown plugin, you must include Showdown into the page first."))}return M(i,n),i.prototype.events={annotationViewerTextField:"updateTextField"},i.prototype.updateTextField=function(n,i){var o;return o=e.Util.escape(i.text||""),t(n).html(this.convert(o))},i.prototype.convert=function(t){return this.converter.makeHtml(t)},i}(e.Plugin),e.Plugin.Tags=function(n){function i(){return this.setAnnotationTags=I(this.setAnnotationTags,this),this.updateField=I(this.updateField,this),i.__super__.constructor.apply(this,arguments)}return M(i,n),i.prototype.options={parseTags:function(e){var n;return n=[],(e=t.trim(e))&&(n=e.split(/\s+/)),n},stringifyTags:function(t){return t.join(" ")}},i.prototype.field=null,i.prototype.input=null,i.prototype.pluginInit=function(){if(e.supported())return this.field=this.annotator.editor.addField({label:e._t("Add some tags here")+"\u2026",load:this.updateField,submit:this.setAnnotationTags}),this.annotator.viewer.addField({load:this.updateViewer}),this.annotator.plugins.Filter&&this.annotator.plugins.Filter.addFilter({label:e._t("Tag"),property:"tags",isFiltered:e.Plugin.Tags.filterCallback}),this.input=t(this.field).find(":input")},i.prototype.parseTags=function(t){return this.options.parseTags(t)},i.prototype.stringifyTags=function(t){return this.options.stringifyTags(t)},i.prototype.updateField=function(t,e){var n;return n="",e.tags&&(n=this.stringifyTags(e.tags)),this.input.val(n)},i.prototype.setAnnotationTags=function(t,e){return e.tags=this.parseTags(this.input.val())},i.prototype.updateViewer=function(n,i){return n=t(n),i.tags&&t.isArray(i.tags)&&i.tags.length?n.addClass("annotator-tags").html((function(){return t.map(i.tags,(function(t){return'<span class="annotator-tag">'+e.Util.escape(t)+"</span>"})).join(" ")})):n.remove()},i}(e.Plugin),e.Plugin.Tags.filterCallback=function(t,e){var n,i,o,r,s,a,l;if(null==e&&(e=[]),o=0,i=[],t)for(r=0,a=(i=t.split(/\s+/g)).length;r<a;r++)if(n=i[r],e.length)for(s=0,l=e.length;s<l;s++)-1!==e[s].indexOf(n)&&(o+=1);return o===i.length},e.prototype.setupPlugins=function(n,i){var o,r,s,a,l,u,c,d;for(o in null==n&&(n={}),null==i&&(i={}),s=["Unsupported","Auth","Tags","Filter","Store","AnnotateItPermissions"],(l=e.Util.getGlobal()).Showdown&&s.push("Markdown"),a=l.location.href.split(/#|\?/).shift()||"",r={Tags:{},Filter:{filters:[{label:e._t("User"),property:"user"},{label:e._t("Tags"),property:"tags"}]},Auth:{tokenUrl:n.tokenUrl||"http://annotateit.org/api/token"},Store:{prefix:n.storeUrl||"http://annotateit.org/api",annotationData:{uri:a},loadFromSearch:{uri:a}}},i)P.call(i,o)&&(i[o],R.call(s,o)<0&&s.push(o));for(t.extend(!0,r,i),d=[],u=0,c=s.length;u<c;u++)(o=s[u])in r&&!r[o]?d.push(void 0):d.push(this.addPlugin(o,r[o]));return d}}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=Object.prototype.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Annotator.Plugin.Touch=function(e){function i(e,n){this._onDocumentTap=t(this._onDocumentTap,this),this._onHighlightTap=t(this._onHighlightTap,this),this._onAdderTap=t(this._onAdderTap,this),this._onToggleTap=t(this._onToggleTap,this),this._onSelection=t(this._onSelection,this),this._watchForSelection=t(this._watchForSelection,this),i.__super__.constructor.apply(this,arguments),this.utils=Annotator.Plugin.Touch.utils,this.selection=null,this.document=o(document)}var o,r;return n(i,e),r=Annotator._t,o=Annotator.$,i.states={ON:"on",OFF:"off"},i.prototype.template='<div class="annotator-touch-widget annotator-touch-controls annotator-touch-hide">\n  <div class="annotator-touch-widget-inner">\n    <a class="annotator-button annotator-add annotator-focus">'+r("Annotate")+'</a>\n<a class="annotator-button annotator-touch-toggle" data-state="off">'+r("Start Annotating")+"</a>\n  </div>\n</div>",i.prototype.classes={hide:"annotator-touch-hide"},i.prototype.options={force:!1,useHighlighter:!1},i.prototype.pluginInit=function(){if(Annotator.supported()&&(this.options.force||i.isTouchDevice()))return this._setupControls(),this.options.useHighlighter&&(this.showControls(),this.highlighter=new Highlighter({root:this.element[0],prefix:"annotator-selection",enable:!1,highlightStyles:!0})),this.document.delegate(".annotator-hl","tap",{preventDefault:!1},this._onHighlightTap),this.subscribe("selection",this._onSelection),this._unbindAnnotatorEvents(),this._setupAnnotatorEvents(),this._watchForSelection()},i.prototype.pluginDestroy=function(){if(this.controls&&this.controls.remove(),this.highlighter&&this.highlighter.disable(),this.annotator)return this.annotator.editor.unsubscribe("hide",this._watchForSelection)},i.prototype.startAnnotating=function(){return this.highlighter&&this.highlighter.enable(),this.toggle.attr("data-state",i.states.ON),this.toggle.html("Stop Annotating"),this},i.prototype.stopAnnotating=function(){return this.highlighter&&this.highlighter.disable(),this.toggle.attr("data-state",i.states.OFF),this.toggle.html("Start Annotating"),this},i.prototype.isAnnotating=function(){return!this.options.useHighlighter||this.toggle.attr("data-state")===i.states.ON},i.prototype.showEditor=function(t){return this.annotator.showEditor(t,{}),this.hideControls(),this},i.prototype.showControls=function(){return this.controls.removeClass(this.classes.hide),this},i.prototype.hideControls=function(){return this.options.useHighlighter||this.controls.addClass(this.classes.hide),this},i.prototype._setupControls=function(){if(this.annotator.adder.remove(),this.controls=o(this.template).appendTo("body"),this.adder=this.controls.find(".annotator-add"),this.adder.bind("tap",{onTapDown:function(t){return t.stopPropagation()}},this._onAdderTap),this.toggle=this.controls.find(".annotator-touch-toggle"),this.toggle.bind({tap:this._onToggleTap}),!this.options.useHighlighter)return this.toggle.hide()},i.prototype._setupAnnotatorEvents=function(){var t=this;return this.editor=new i.Editor(this.annotator.editor),this.viewer=new i.Viewer(this.annotator.viewer),this.annotator.editor.on("show",(function(){if(t._clearWatchForSelection(),t.annotator.onAdderMousedown(),t.highlighter)return t.highlighter.disable()})),this.annotator.viewer.on("show",(function(){if(t.highlighter)return t.highlighter.disable()})),this.annotator.editor.on("hide",(function(){return t.utils.nextTick((function(){return t.highlighter&&t.highlighter.enable().deselect(),t._watchForSelection()}))})),this.annotator.viewer.on("hide",(function(){return t.utils.nextTick((function(){if(t.highlighter)return t.highlighter.enable().deselect()}))}))},i.prototype._unbindAnnotatorEvents=function(){return this.document.unbind({mouseup:this.annotator.checkForEndSelection,mousedown:this.annotator.checkForStartSelection}),this.element.unbind("click mousedown mouseover mouseout")},i.prototype._watchForSelection=function(){var t,e,n,o=this;if(!this.timer)return t=i.isAndroid()?300:1e3/60,e=(new Date).getTime(),(n=function(){return(new Date).getTime()-e>t&&(e=(new Date).getTime(),o._checkSelection()),o.timer=o.utils.requestAnimationFrame.call(window,n)})()},i.prototype._clearWatchForSelection=function(){return this.utils.cancelAnimationFrame.call(window,this.timer),this.timer=null},i.prototype._checkSelection=function(){var t,e,n;if(e=window.getSelection(),t=this.selectionString,n=o.trim(e+""),e.rangeCount&&n!==this.selectionString&&(this.range=e.getRangeAt(0),this.selectionString=n),(0===e.rangeCount||this.range&&this.range.collapsed)&&(this.range=null,this.selectionString=""),this.selectionString!==t)return this.publish("selection",[this.range,this])},i.prototype._onSelection=function(){return this.isAnnotating()&&this.range&&this._isValidSelection(this.range)?(this.adder.removeAttr("disabled"),this.showControls()):(this.adder.attr("disabled",""),this.hideControls())},i.prototype._isValidSelection=function(t){var e,n,i;return e=function(t){return o(t).parents(".annotator-wrapper").length},i=t.startOffset<t.startContainer.length&&e(t.startContainer),n=t.endOffset>0&&e(t.endContainer),i||n},i.prototype._onToggleTap=function(t){return t.preventDefault(),this.isAnnotating()?this.stopAnnotating():this.startAnnotating()},i.prototype._onAdderTap=function(t){var e,n,i,o=this;if(t.preventDefault(),this.range&&(e=new Annotator.Range.BrowserRange(this.range),(i=e.normalize().limit(this.element[0]))&&!this.annotator.isAnnotator(i.commonAncestor)))return n=function(t){return o.annotator.unsubscribe("beforeAnnotationCreated",n),t.quote=i.toString(),t.ranges=[i]},this.annotator.subscribe("beforeAnnotationCreated",n),this.annotator.onAdderClick(t)},i.prototype._onHighlightTap=function(t){var e;if(!o(t.currentTarget).parents().filter((function(){return o(this).is("a, [data-annotator-clickable]")})).length)return o.contains(this.element[0],t.currentTarget)?((e=t.originalEvent)&&e.touches&&(t.pageX=e.touches[0].pageX,t.pageY=e.touches[0].pageY),this.annotator.viewer.isShown()&&this.annotator.viewer.hide(),this.annotator.onHighlightMouseover(t),this.document.unbind("tap",this._onDocumentTap),this.document.bind("tap",{preventDefault:!1},this._onDocumentTap)):void 0},i.prototype._onDocumentTap=function(t){if(this.annotator.isAnnotator(t.target)||this.annotator.viewer.hide(),!this.annotator.viewer.isShown())return this.document.unbind("tap",this._onDocumentTap)},i.isTouchDevice=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},i.isAndroid=function(){return/Android/i.test(window.navigator.userAgent)},i}(Annotator.Plugin),Annotator.Plugin.Touch.Editor=function(e){function i(e,n){var o=this;this.editor=e,this._onOverlayTap=t(this._onOverlayTap,this),this._onCancel=t(this._onCancel,this),this._onSubmit=t(this._onSubmit,this),this._onExpandTap=t(this._onExpandTap,this),this._triggerAndroidRedraw=t(this._triggerAndroidRedraw,this),i.__super__.constructor.call(this,this.editor.element[0],n),this.element.addClass("annotator-touch-editor"),this.element.wrapInner('<div class="annotator-touch-widget" />'),this.element.find("form").addClass("annotator-touch-widget-inner"),this.element.find(".annotator-controls a").addClass("annotator-button"),this.element.undelegate("textarea","keydown"),this.on("hide",(function(){return o.element.find(":focus").blur()})),this._setupQuoteField(),this._setupAndroidRedrawHack()}var o,r,s;return n(i,e),s=Annotator._t,r=Annotator.$,o=Annotator.Plugin.Touch,i.prototype.events={click:"_onOverlayTap",".annotator-save tap":"_onSubmit",".annotator-cancel tap":"_onCancel",".annotator-quote-toggle tap":"_onExpandTap"},i.prototype.classes={expand:"annotator-touch-expand"},i.prototype.templates={quote:'<button class="annotator-quote-toggle">'+s("expand")+'</button>\n<span class="quote"></span>'},i.prototype.showQuote=function(){return this.quote.addClass(this.classes.expand),this.quote.find("button").text(s("Collapse")),this},i.prototype.hideQuote=function(){return this.quote.removeClass(this.classes.expand),this.quote.find("button").text(s("Expand")),this},i.prototype.isQuoteHidden=function(){return!this.quote.hasClass(this.classes.expand)},i.prototype._setupQuoteField=function(){var t=this;return this.quote=r(this.editor.addField({id:"quote",load:function(e,n){return t.hideQuote(),t.quote.find("span").html(Annotator.Util.escape(n.quote||"")),t.quote.find("button").toggle(t._isTruncated())}})),this.quote.empty().addClass("annotator-item-quote"),this.quote.append(this.templates.quote)},i.prototype._setupAndroidRedrawHack=function(){var t,e,n=this;if(o.isAndroid())return e=null,t=function(){return e=null,n._triggerAndroidRedraw()},r(window).bind("scroll",(function(){if(!e)return e=setTimeout(t,100)}))},i.prototype._triggerAndroidRedraw=function(){return this._input||(this._input=this.element.find(":input:first")),this._default||(this._default=parseFloat(this._input.css("padding-top"))),this._multiplier=-1*(this._multiplier||1),this._input[0].style.paddingTop=this._default+this._multiplier+"px",this._input[0].style.paddingTop=this._default-this._multiplier+"px"},i.prototype._isTruncated=function(){var t,e,n;return(e=this.isQuoteHidden())||this.hideQuote(),n=this.quote.height(),this.showQuote(),t=this.quote.height(),e?this.hideQuote():this.showQuote(),t>n},i.prototype._onExpandTap=function(t){return t.preventDefault(),t.stopPropagation(),this.isQuoteHidden()?this.showQuote():this.hideQuote()},i.prototype._onSubmit=function(t){return t.preventDefault(),this.editor.submit()},i.prototype._onCancel=function(t){return t.preventDefault(),this.editor.hide()},i.prototype._onOverlayTap=function(t){if(t.target===this.element[0])return this.editor.hide()},i}(Annotator.Delegator),jQuery.event.special.tap={add:function(t){var e,n,i,o;return n=t.data=t.data||{},e=this,o=function(t){return!1!==n.preventDefault&&t.preventDefault(),n.onTapDown&&n.onTapDown.apply(this,arguments),n.event=t,n.touched=setTimeout((function(){return n.touched=null}),n.timeout||300),jQuery(document).bind({touchend:i,mouseup:i})},i=function(o){return null!=n.touched&&(clearTimeout(n.touched),(o.target===e||jQuery.contains(e,o.target))&&(t.origHandler||t.handler).call(this,n.event),n.touched=null),n.onTapUp&&n.onTapUp.apply(this,arguments),jQuery(document).unbind({touchstart:i,mousedown:i})},n.tapHandlers={touchstart:o,mousedown:o},t.selector?jQuery(e).delegate(t.selector,n.tapHandlers):jQuery(e).bind(n.tapHandlers)},remove:function(t){return jQuery(this).unbind(t.data.tapHandlers)}},Annotator.Delegator.natives.push("touchstart","touchmove","touchend","tap"),Annotator.Plugin.Touch.utils=function(){var t,e,n,i,o,r,s;for(o=["ms","moz","webkit","o"],i=window.requestAnimationFrame,t=window.cancelAnimationFrame,r=0,s=o.length;r<s;r++)n=o[r],i||(i=window[n+"RequestAnimationFrame"],t=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]);return i||(e=0,i=function(t){var n,i;return n=(new Date).getTime(),i=Math.max(0,16-(n-e)),e=n+i,window.setTimeout((function(){return t(n+i)}),i)}),t||(t=function(t){return clearTimeout(t)}),{requestAnimationFrame:i,cancelAnimationFrame:t,nextTick:function(t){return setTimeout(t,0)}}}(),Annotator.Plugin.Touch.Viewer=function(e){function i(e,n){this.viewer=e,this._onLoad=t(this._onLoad,this),i.__super__.constructor.call(this,this.viewer.element[0],n),this.element.unbind("click"),this.element.addClass("annotator-touch-widget annotator-touch-viewer"),this.on("load",this._onLoad)}var o;return n(i,e),o=Annotator.$,i.prototype.events={".annotator-item tap":"_onTap",".annotator-edit tap":"_onEdit",".annotator-delete tap":"_onDelete"},i.prototype.hideAllControls=function(){return this.element.find(".annotator-item").removeClass(this.viewer.classes.showControls),this},i.prototype._onLoad=function(){var t;return(t=this.element.find(".annotator-controls")).toggleClass("annotator-controls annotator-touch-controls"),t.find("button").addClass("annotator-button")},i.prototype._onTap=function(t){var e,n;if(e=(n=o(t.currentTarget)).hasClass(this.viewer.classes.showControls),this.hideAllControls(),!e)return n.addClass(this.viewer.classes.showControls)},i.prototype._onEdit=function(t){return t.preventDefault(),this.viewer.onEditClick(t)},i.prototype._onDelete=function(t){return t.preventDefault(),this.viewer.onDeleteClick(t)},i}(Annotator.Delegator)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;Annotator.Plugin.RichText=function(n){function i(){return this.mdConvert=t(this.mdConvert,this),this.updateViewer=t(this.updateViewer,this),this.updateEditor=t(this.updateEditor,this),i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.options={editor_enabled:!0,tinymce:{selector:"li.annotator-item textarea",plugins:"media image link code melcatalog paste",link_list:!1,target_list:!1,rel_list:!1,paste_as_text:!0,menubar:!1,statusbar:!1,toolbar_items_size:"small",extended_valid_elements:"iframe[src|frameborder|style|scrolling|class|width|height|name|align|id]",toolbar:"undo redo | styleselect | bold italic | link image media | code"}},i.prototype.mdconverter=null!=Showdown?new Showdown.converter:null,i.prototype.pluginInit=function(){var t,e;if(t=this.annotator,e=this.annotator.editor,Annotator.supported()&&(t.viewer.addField({load:this.updateViewer}),this.options.editor_enabled))return t.editor.addField({type:"input",load:this.updateEditor}),t.subscribe("annotationEditorShown",(function(){return $(t.editor.element).find(".mce-container").css("z-index",3e9),t.editor.checkOrientation()})),t.subscribe("annotationEditorHidden",(function(){})),this.options.tinymce.setup=function(t){return t.on("change",(function(){return $(e.element).find("textarea")[0].value=tinymce.activeEditor.getContent()})),t.on("Init",(function(){return $(".mce-container").css("z-index","3090000000000000000")}))},tinymce.init(this.options.tinymce)},i.prototype.updateEditor=function(t,e){var n;return n=null!=e.text?e.text:"",tinymce.activeEditor.setContent(this.mdConvert(n)),$(t).remove()},i.prototype.updateViewer=function(t,e){var n;return(n=$(t.parentNode).find("div:first-of-type")[0]).innerHTML=this.mdConvert(e.text),$(n).addClass("richText-annotation"),$(t).remove()},i.prototype.mdConvert=function(t){return null!=this.mdconverter&&""!==t?this.mdconverter.makeHtml(t):t},i}(Annotator.Plugin)}.call(this),tinymce.PluginManager.add("melcatalog",(function(t){function e(e,i){var o="catalog?term="+encodeURI(i)+"&onlyimages="+("image"==e?"true":"false");t.windowManager.open({width:650,height:650,url:o,title:"Search Melville Electronic Library",resizable:!0,buttons:[{text:"Close",onclick:"submit"}],onClose:function(){n(e)}})}function n(t){var e=s();if(void 0!==e&&0!=e.length){var n=e.split("|");"image"==t?o(n[0],n[1],n[2]):i(n[0],n[1])}}function i(e,n){var i="/documents/catalog/reference/"+e,o='<a class="catalog-popup" data-parent data-gallery="remoteload" data-title="'+t.dom.encode(n)+'" href="'+i+'">'+t.dom.encode(n)+"</a>";t.insertContent(o)}function o(e,n,i){var o="/documents/catalog/image/"+e,r='<a class="catalog-popup" data-parent data-gallery="remoteload" data-title="'+t.dom.encode(n)+'"href="'+o+'"><img src="'+i+'"/></a>';t.insertContent(r)}function r(){var t=$("div")[0];return jQuery.data(t,"annotation")}function s(){var t=$("div")[0],e=jQuery.data(t,"catalog");return jQuery.data(t,"catalog",""),e}function a(){return tinymce.activeEditor.selection.getContent({format:"text"})}function l(){var t=r(),e=a();return e.length>0&&(t=e),t}t.ui.registry.addButton("mellink",{image:icons.external_link,tooltip:"Insert/edit link to MEL Catalog object",onclick:function(){e("reference",l())}}),t.ui.registry.addButton("melimage",{image:icons.file_image,tooltip:"Insert/edit image from MEL Catalog",onclick:function(){e("image",l())}})}));var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__hasProp={}.hasOwnProperty,Sidebar,sidebar,subscriber,studio;Annotator.Plugin.Categories=function(t){function e(t,e){this.loadCategories=__bind(this.loadCategories,this),this.updateField=__bind(this.updateField,this),this.updateViewer=__bind(this.updateViewer,this),this.addHighlightMarkup=__bind(this.addHighlightMarkup,this),this.updateHighlightMarkup=__bind(this.updateHighlightMarkup,this),this.updateHighlightRules=__bind(this.updateHighlightRules,this),this.options.categories=e}return __extends(e,t),e.prototype.field=null,e.prototype.input=null,e.prototype.options={categories:{}},e.prototype.pluginInit=function(){if(Annotator.supported()){var t,e;if(this.annotator.subscribe("annotationEditorSubmit",this.setAnnotationCat),this.annotator.subscribe("annotationCreated",this.addHighlightMarkup),this.annotator.subscribe("annotationUpdated",this.updateHighlightMarkup),this.annotator.subscribe("annotationsLoaded",this.loadCategories),0,e=this.options.categories,Object.keys(e).length>0){this.annotator.editor.addField({id:"annotation-category",label:"category",type:"input",load:this.updateField}),$("head").append($("<style/>",{id:"annotator-category-styles",html:""}));var n=$("#annotation-category").parent();for(t in n.attr("id","annotation-category-selection"),e){var i=e[t],o=$("<button>").attr("class","btn btn-default").attr("value",t).text(i.name);o.data("active-color",$.xcolor.opacity("#FFFFFF",i.hex,.4).getHex()),o.click((function(t){t.preventDefault(),$(this).toggleClass("active").removeAttr("style"),$(this).hasClass("active")&&$(this).css("background-color",$(this).data("active-color"))})),n.append(o)}$("#annotation-category").hide()}return this.viewer=this.annotator.viewer.addField({load:this.updateViewer}),this.annotator.plugins.Filter&&this.annotator.plugins.Filter.addFilter({label:"Categories",property:"category",isFiltered:Annotator.Plugin.Categories.filterCallback}),this.input=$(this.field).find(":input")}},e.prototype.loadCategories=function(t){var e=this.options.categories;$.each(t,(function(t,n){if(void 0!==n.annotation_categories){var i="";$.each(n.annotation_categories,(function(t,n){i+=" annotation_category-"+n,void 0!==e[n].css_classes&&""!=e[n].css_classes&&(i+=" "+e[n].css_classes)})),$(n.highlights).addClass(i)}})),this.updateHighlightRules()},e.prototype.setViewer=function(t){return t},e.prototype.updateField=function(t,e){$("#annotation-category-selection button").removeClass("active").removeAttr("style"),void 0!==e.annotation_categories&&$.each(e.annotation_categories,(function(t,e){var n=$('#annotation-category-selection button[value="'+e+'"]');n.addClass("active").removeAttr("style").css("background-color",n.data("active-color"))}))},e.prototype.addHighlightMarkup=function(t){var e,n,i,o,r,s=this.options.categories;if(n=t.highlights,void 0!==t.annotation_categories)for(r=[],i=0,o=n.length;i<o;i++){e=n[i];var a="";$.each(t.annotation_categories,(function(t,e){a+=" annotation_category-"+e,void 0!==s[e].css_classes&&""!=s[e].css_classes&&(a+=" "+s[e].css_classes)})),r.push(e.className=e.className+a)}this.updateHighlightRules()},e.prototype.updateHighlightMarkup=function(t){$(t.highlights).attr("class","annotator-hl"),this.addHighlightMarkup(t)},e.prototype.updateHighlightRules=function(){_ref=this.options.categories;var t=new Array;$.each($(".annotator-wrapper .annotator-hl"),(function(e,n){for(var i="",o="",r=$(n).attr("class").split(" "),s=0;s<r.length;s++)r[s].match(/^annotation_category-/)&&(o+="."+r[s]);""!=o&&(i=o),$.each($(n).parentsUntil(".annotator-wrapper"),(function(t,e){if($(e).is("span.annotator-hl")){var n="",o=$(e).attr("class").split(" ");for(t=0;t<o.length;t++)o[t].match(/^annotation_category-/)&&(n+="."+o[t]);""!=n&&(i=n+" "+i)}})),""!=i&&t.push(i.replace(/ $/,""))}));for(var e={},n=0;n<t.length;n++)e[t[n]]=0;var i="";for(n=0;n<t.length;n++){var o=t[n];if(0==e[o]){for(var r={},s=o.split(" "),a=0;a<s.length;a++)for(var l=s[a].split("."),u=0;u<l.length;u++){var c=l[u].replace(/^annotation_category-/,"");""!=c&&(r[c]=1)}var d="#FFFFFF",h=0;$.each(r,(function(){h++}));var f=.4/h;$.each(r,(function(t){hex=_ref[t].hex;var e=$.xcolor.opacity(d,hex,f);d=e.getHex()})),i+=o+" { background-color: "+d+"; } ",e[o]=1}}$.each(_ref,(function(t,n){void 0===e["annotation_category-"+t]&&(i+=".annotation_category-"+t+" { background-color: "+$.xcolor.opacity("#FFFFFF",n.hex,.4).getHex()+"; } ")})),$("style#annotator-category-styles").html(i);var p=new Array;$.each(e,(function(t){p.push(t)}))},e.prototype.setAnnotationCat=function(t){t.annotation.annotation_categories=[],$.each($("#annotation-category-selection button"),(function(e,n){$(n).hasClass("active")&&t.annotation.annotation_categories.push(parseInt($(n).val()))}))},e.prototype.updateViewer=function(t,e){t=$(t);var n=this.options.categories;return t.addClass("annotator-category"),void 0!==e.annotation_categories&&e.annotation_categories.length>0?t.addClass("annotator-category").html((function(){var t="";return $.each(e.annotation_categories,(function(e,i){
t+='<span class="annotation_category_viewer-'+i+'">'+n[i].name+'</span><span class="viewer_indicator annotation_category-'+i+'"></span>'})),t})):t.remove()},e}(Annotator.Plugin),function(){"use strict";var t,e;t=jQuery,(e=function(e,n){var i,o,r=this;return this.options=t.extend({title:null,footer:null,remote:null},t.fn.ekkoLightbox.defaults,n||{}),this.$element=t(e),"",this.modal_id=this.options.modal_id?this.options.modal_id:"ekkoLightbox-"+Math.floor(1e3*Math.random()+1),o='<div class="modal-header"'+(this.options.title||this.options.always_show_close?"":' style="display:none"')+'><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">'+(this.options.title||"&nbsp;")+"</h4></div>",i='<div class="modal-footer"'+(this.options.footer?"":' style="display:none"')+">"+this.options.footer+"</div>",t(document.body).append('<div id="'+this.modal_id+'" class="ekko-lightbox modal fade" tabindex="-1"><div class="modal-dialog"><div class="modal-content">'+o+'<div class="modal-body"><div class="ekko-lightbox-container"><div></div></div></div>'+i+"</div></div></div>"),this.modal=t("#"+this.modal_id),this.modal_dialog=this.modal.find(".modal-dialog").first(),this.modal_content=this.modal.find(".modal-content").first(),this.modal_body=this.modal.find(".modal-body").first(),this.lightbox_container=this.modal_body.find(".ekko-lightbox-container").first(),this.lightbox_body=this.lightbox_container.find("> div:first-child").first(),this.showLoading(),this.modal_arrows=null,this.border={top:parseFloat(this.modal_dialog.css("border-top-width"))+parseFloat(this.modal_content.css("border-top-width"))+parseFloat(this.modal_body.css("border-top-width")),right:parseFloat(this.modal_dialog.css("border-right-width"))+parseFloat(this.modal_content.css("border-right-width"))+parseFloat(this.modal_body.css("border-right-width")),bottom:parseFloat(this.modal_dialog.css("border-bottom-width"))+parseFloat(this.modal_content.css("border-bottom-width"))+parseFloat(this.modal_body.css("border-bottom-width")),left:parseFloat(this.modal_dialog.css("border-left-width"))+parseFloat(this.modal_content.css("border-left-width"))+parseFloat(this.modal_body.css("border-left-width"))},this.padding={top:parseFloat(this.modal_dialog.css("padding-top"))+parseFloat(this.modal_content.css("padding-top"))+parseFloat(this.modal_body.css("padding-top")),right:parseFloat(this.modal_dialog.css("padding-right"))+parseFloat(this.modal_content.css("padding-right"))+parseFloat(this.modal_body.css("padding-right")),bottom:parseFloat(this.modal_dialog.css("padding-bottom"))+parseFloat(this.modal_content.css("padding-bottom"))+parseFloat(this.modal_body.css("padding-bottom")),left:parseFloat(this.modal_dialog.css("padding-left"))+parseFloat(this.modal_content.css("padding-left"))+parseFloat(this.modal_body.css("padding-left"))},this.modal.on("show.bs.modal",this.options.onShow.bind(this)).on("shown.bs.modal",(function(){return r.modal_shown(),r.options.onShown.call(r)})).on("hide.bs.modal",this.options.onHide.bind(this)).on("hidden.bs.modal",(function(){return r.gallery&&t(document).off("keydown.ekkoLightbox"),r.modal.remove(),r.options.onHidden.call(r)})).modal("show",n),this.modal}).prototype={modal_shown:function(){var e,n=this;return this.options.remote?(this.gallery=this.$element.data("gallery"),this.gallery&&(this.gallery_items="document.body"===this.options.gallery_parent_selector||""===this.options.gallery_parent_selector?t(document.body).find('*[data-toggle="lightbox"][data-gallery="'+this.gallery+'"]'):this.$element.parents(this.options.gallery_parent_selector).first().find('*[data-toggle="lightbox"][data-gallery="'+this.gallery+'"]'),this.gallery_index=this.gallery_items.index(this.$element),t(document).on("keydown.ekkoLightbox",this.navigate.bind(this)),this.options.directional_arrows&&this.gallery_items.length>1&&(this.lightbox_container.prepend('<div class="ekko-lightbox-nav-overlay"><a href="#" class="'+this.strip_stops(this.options.left_arrow_class)+'"></a><a href="#" class="'+this.strip_stops(this.options.right_arrow_class)+'"></a></div>'),this.modal_arrows=this.lightbox_container.find("div.ekko-lightbox-nav-overlay").first(),this.lightbox_container.find("a"+this.strip_spaces(this.options.left_arrow_class)).on("click",(function(t){return t.preventDefault(),n.navigate_left()})),this.lightbox_container.find("a"+this.strip_spaces(this.options.right_arrow_class)).on("click",(function(t){return t.preventDefault(),n.navigate_right()})))),this.options.type?"image"===this.options.type?this.preloadImage(this.options.remote,!0):"youtube"===this.options.type&&(e=this.getYoutubeId(this.options.remote))?this.showYoutubeVideo(e):"vimeo"===this.options.type?this.showVimeoVideo(this.options.remote):"instagram"===this.options.type||"url"===this.options.type?this.showInstagramVideo(this.options.remote):this.error('Could not detect remote target type. Force the type using data-type="image|youtube|vimeo|url"'):this.detectRemoteType(this.options.remote)):this.error("No remote target given")},strip_stops:function(t){return t.replace(/\./g,"")},strip_spaces:function(t){return t.replace(/\s/g,"")},isImage:function(t){return t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSwf:function(t){return t.match(/\.(swf)((\?|#).*)?$/i)},getYoutubeId:function(t){var e;return!(!(e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))||11!==e[2].length)&&e[2]},getVimeoId:function(t){return t.indexOf("vimeo")>0&&t},getInstagramId:function(t){return t.indexOf("instagram")>0&&t},navigate:function(t){if(39===(t=t||window.event).keyCode||37===t.keyCode){if(39===t.keyCode)return this.navigate_right();if(37===t.keyCode)return this.navigate_left()}},navigate_left:function(){var e;if(1!==this.gallery_items.length)return this.showLoading(),0===this.gallery_index?this.gallery_index=this.gallery_items.length-1:this.gallery_index--,this.options.onNavigate("left",this.gallery_index),this.$element=t(this.gallery_items.get(this.gallery_index)),this.updateTitleAndFooter(),e=this.$element.attr("data-remote")||this.$element.attr("href"),this.detectRemoteType(e,this.$element.attr("data-type"))},navigate_right:function(){var e,n;if(1!==this.gallery_items.length)return this.showLoading(),this.gallery_index===this.gallery_items.length-1?this.gallery_index=0:this.gallery_index++,this.options.onNavigate("right",this.gallery_index),this.$element=t(this.gallery_items.get(this.gallery_index)),n=this.$element.attr("data-remote")||this.$element.attr("href"),this.updateTitleAndFooter(),this.detectRemoteType(n,this.$element.attr("data-type")),this.gallery_index+1<this.gallery_items.length&&(n=(e=t(this.gallery_items.get(this.gallery_index+1),!1)).attr("data-remote")||e.attr("href"),"image"===e.attr("data-type")||this.isImage(n))?this.preloadImage(n,!1):void 0},detectRemoteType:function(t,e){var n;return"image"===e||this.isImage(t)?(this.options.type="image",this.preloadImage(t,!0)):"youtube"===e||(n=this.getYoutubeId(t))?(this.options.type="youtube",this.showYoutubeVideo(n)):"vimeo"===e||(n=this.getVimeoId(t))?(this.options.type="vimeo",this.showVimeoVideo(n)):"instagram"===e||(n=this.getInstagramId(t))||"url"===e||(n=this.getInstagramId(t))?(this.options.type="instagram",this.showInstagramVideo(n)):(this.options.type="url",this.loadRemoteContent(t))},updateTitleAndFooter:function(){var t,e,n,i;return n=this.modal_content.find(".modal-header"),e=this.modal_content.find(".modal-footer"),i=this.$element.data("title")||"",t=this.$element.data("footer")||"",i||this.options.always_show_close?n.css("display","").find(".modal-title").html(i||"&nbsp;"):n.css("display","none"),t?e.css("display","").html(t):e.css("display","none"),this},showLoading:function(){return this.lightbox_body.html('<div class="modal-loading">Loading..</div>'),this},showYoutubeVideo:function(t){var e,n,i;return e=560/315,i=this.$element.data("width")||560,n=(i=this.checkDimensions(i))/e,this.resize(i),this.lightbox_body.html('<iframe width="'+i+'" height="'+n+'" src="//www.youtube.com/embed/'+t+'?badge=0&autoplay=1&html5=1" frameborder="0" allowfullscreen></iframe>'),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},showVimeoVideo:function(t){var e,n,i;return e=500/281,i=this.$element.data("width")||560,n=(i=this.checkDimensions(i))/e,this.resize(i),this.lightbox_body.html('<iframe width="'+i+'" height="'+n+'" src="'+t+'?autoplay=1" frameborder="0" allowfullscreen></iframe>'),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},showInstagramVideo:function(t){var e;return e=this.$element.data("width")||612,e=this.checkDimensions(e),this.resize(e),this.lightbox_body.html('<iframe width="'+e+'" height="'+e+'" src="'+this.addTrailingSlash(t)+'embed/" frameborder="0" allowfullscreen></iframe>'),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},loadRemoteContent:function(e){var n,i,o=this;return i=this.$element.data("width")||560,this.resize(i),n=this.$element.data("disableExternalCheck")||!1,console.log(n,this.isExternal(e)),n||this.isExternal(e)?this.lightbox_body.html('<iframe width="'+i+'" height="'+i+'" src="'+e+'" frameborder="0" allowfullscreen></iframe>'):this.lightbox_body.load(e,t.proxy((function(){return o.$element.trigger("loaded.bs.modal")}))),this.modal_arrows?this.modal_arrows.css("display","block"):void 0},isExternal:function(t){var e;return"string"==typeof(e=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/))[1]&&e[1].length>0&&e[1].toLowerCase()!==location.protocol||"string"==typeof e[2]&&e[2].length>0&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host},error:function(t){return this.lightbox_body.html(t),this},preloadImage:function(e,n){var i,o=this;return i=new Image,(null==n||!0===n)&&(i.onload=function(){var e;return(e=t("<img />")).attr("src",i.src),e.addClass("img-responsive"),o.lightbox_body.html(e),o.modal_arrows&&o.modal_arrows.css("display","block"),o.resize(i.width)},i.onerror=function(){return o.error("Failed to load image: "+e)}),i.src=e,i},resize:function(e){var n;return n=e+this.border.left+this.padding.left+this.padding.right+this.border.right,this.modal_dialog.css("width","auto").css("max-width",n),this.lightbox_container.find("a").css("padding-top",(function(){return t(this).parent().height()/2})),this},checkDimensions:function(t){return t+this.border.left+this.padding.left+this.padding.right+this.border.right>document.body.clientWidth&&(t=this.modal_body.width()),t},close:function(){return this.modal.modal("hide")},addTrailingSlash:function(t){return"/"!==t.substr(-1)&&(t+="/"),t}},t.fn.ekkoLightbox=function(n){return this.each((function(){var i;return i=t(this),n=t.extend({remote:i.attr("data-remote")||i.attr("href"),gallery_parent_selector:i.attr("data-parent"),type:i.attr("data-type")},n,i.data()),new e(this,n),this}))},t.fn.ekkoLightbox.defaults={gallery_parent_selector:"*:not(.row)",left_arrow_class:".glyphicon .glyphicon-chevron-left",right_arrow_class:".glyphicon .glyphicon-chevron-right",directional_arrows:!0,type:null,always_show_close:!0,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){}}}.call(this),jQuery((function(t){function e(e){var n=t("div")[0];jQuery.data(n,"annotation",e)}Annotator.Plugin.MelCatalogue=function(){return{pluginInit:function(){this.annotator.subscribe("annotationEditorShown",(function(t){e(t.annotation.quote)})).subscribe("annotationViewerShown",(function(){t(".catalog-popup").off().attr("target","_blank"),t(".catalog-popup").on("click",(function(e){e.preventDefault(),t(".ekko-lightbox").remove(),t(this).ekkoLightbox(),t(".ekko-lightbox .modal-dialog").draggable().resizable()}))}))}}}}));var annotation_studio={initialize_annotator:function(){(sidebar=new Sidebar.App).token=token;var t=$("#textcontent").annotator(annotatorOptions).annotator("setupPlugins",{},plugin_options()),e={editor_enabled:annotationStudioConfig.enableRichTextEditor,tinymce:{toolbar:annotationStudioConfig.tinyMCEToolbar,image_dimensions:!1}};t.annotator("addPlugin","MelCatalogue"),subscriber=$("#textcontent").annotator().data("annotator"),mobile_device?t.annotator("addPlugin","Touch"):t.annotator("addPlugin","RichText",e),subscriber.subscribe("annotationsLoaded",annotation_studio.loadSidebar),subscriber.subscribe("annotationsLoaded",annotation_studio.stopSpinner),subscriber.subscribe("annotationsLoaded",annotation_studio.handleHash),subscriber.subscribe("annotationEditorShown",annotation_studio.parentIndex),subscriber.subscribe("annotationsLoaded",__bind((function(t){t.map(inlineData)}),this)),subscriber.subscribe("beforeAnnotationCreated",annotation_studio.createUuid),subscriber.subscribe("beforeAnnotationCreated",annotation_studio.addUserName),subscriber.subscribe("annotationCreated",annotation_studio.loadSidebar),subscriber.subscribe("annotationCreated",inlineData),subscriber.subscribe("annotationUpdated",annotation_studio.loadSidebar),subscriber.subscribe("annotationDeleted",annotation_studio.deleteFromSidebar),$(".annotator-checkbox label").text("My groups can view this annotation"),sidebar.filtered=$("#visibleannotations").hasClass("active"),sidebar.sort_editable=sidebar_sort_editable,sidebar.subscriber=subscriber},selectedTags:[],loadOptions:function(t,e){var n=[];if($.each($("#category-chooser button.active"),(function(t,e){n.push($(e).data("annotation_category_id"))})),e)var i={limit:admin_filter_user?null:1e3,groups:groups,subgroups:subgroups,user:e,currentUser:filter_user,adminUser:admin_filter_user,mode:"user",context:search_context,uri:[location.protocol,"//",location.host,location.pathname].join(""),annotation_categories:n};else i={limit:admin_filter_user?null:1e3,groups:groups,subgroups:subgroups,user:filter_user,adminUser:admin_filter_user,mode:annotation_studio.getMode(),context:search_context,uri:[location.protocol,"//",location.host,location.pathname].join(""),annotation_categories:n};return $("#tagsearchbox").length&&""!=$("#tagsearchbox").val()&&(i.tags=$("#tagsearchbox").val()),$.each(t,(function(t,e){i[t]=e})),i},refreshAnnotations:function(){subscriber.loadAnnotations(subscriber.plugins.Store.annotations),$("#spinnermodal").modal("show")},filterAnnotations:function(t,e){console.log("*** the user select is"),console.log(e);var n=annotation_studio.loadOptions(t,e),i=annotation_studio.reloadAnnotations(n),o=annotation_studio.cleanupDocument();$.when(i).then(o).done(annotation_studio.refreshAnnotations(),annotation_studio.loadSidebar())},modeFilter:function(t){console.log("*** went into mode filter");var e={mode:t.target.id};annotation_studio.filterAnnotations(e)},resetByUser:function(){$(".by-user").val("")},userFilter:function(t){console.log("*** went into user filter"),"All Users"===$("#users option:selected").text()?$("label.who-made:nth-child(3)").addClass("active"):$("label.who-made").removeClass("active");var e={};console.log("*** event is"),console.log(t),console.log("*** target is"),console.log(t.target),console.log("*** value is"),console.log(t.target.value),annotation_studio.filterAnnotations(e,t.target.value)},tagFilter:function(){$('*[data-role="remove"]').hide();var t={};annotation_studio.filterAnnotations(t)},tagFilterCheck:function(){for(var t=$("#annotation-tag-list").find("input:checkbox:checked"),e=[],n=0;n<t.length;n++)e.push(t[n].value);annotation_studio.selectedTags=e;var i={};annotation_studio.filterAnnotations(i)},categoryFilter:function(t){$(t.currentTarget).toggleClass("active").removeAttr("style"),$(t.currentTarget).hasClass("active")&&$(t.currentTarget).css("background-color",$(t.currentTarget).data("active-color"));var e={};annotation_studio.filterAnnotations(e)},sortUpdate:function(){sidebar.listAnnotations(subscriber.dumpAnnotations())},stopSpinner:function(){$("#spinnermodal").modal("hide")},startSpinner:function(){$("#spinnermodal").modal("show")},loadSidebar:function(){setTimeout((function(){sidebar.listAnnotations(subscriber.dumpAnnotations())}),100)},deleteFromSidebar:function(){$(".glyphicon-comment").remove(),setTimeout((function(){sidebar.listAnnotations(subscriber.dumpAnnotations())}),100)},removeHilites:function(){$(".glyphicon-comment").remove();var t=$(".annotator-hl");return t.length>0&&(t.children().unwrap(),t.contents().unwrap()),!0},handleHash:function(){var t=window.location.hash;t.length>0&&$(t).length>0&&(console.info(t),setTimeout((function(){$("html,body").animate({scrollTop:$(t).offset().top-150},500)}),1e3))},createUuid:function(t){null==t.uuid?(t.uuid=Math.uuid(8,16),console.info("New uuid for annotation: '"+t.quote+"': "+t.uuid)):console.info("Existing uuid for annotation: '"+t.quote+"': "+t.uuid)},cleanupDocument:function(){var t=new $.Deferred;return annotation_studio.removeHilites()?t.resolve("Cleanup complete."):t.reject("Cleanup failed."),t.promise()},reloadAnnotations:function(t){var e=new $.Deferred;return subscriber.plugins.Store.annotations=[],subscriber.plugins.Store.loadAnnotationsFromSearch(t)?setTimeout((function(){e.resolve("Reload complete.")}),100):e.reject("Reload failed."),e.promise()},getMode:function(){return $("label.viewchoice.active").attr("id")||"user"},addUserName:function(t){null==t.username&&(t.username=annotation_username,console.info("New username for annotation: "+annotation_username))},parentIndex:function(t,e){if(!e.parentIndex>0){var n=$(".annotator-hl-temporary").parent()[0],i=$("#textcontent").find("*").index(n);e.parentIndex=i}},set_document_state:function(t){$.each(t,(function(t,e){var n=$("#"+e);n.length>0&&!n.hasClass("active")&&(n.parent().hasClass("btn-group")&&n.siblings().removeClass("active"),n.addClass("active"),n.attr("id").match(/^annotation_category/)&&n.css("background-color",$.xcolor.opacity("#FFFFFF",n.data("hex"),.4).getHex()))}))},retrieve_document_state:function(){var t=[];return $.each($("#toolsmenu .btn.active"),(function(e,n){t.push($(n).attr("id"))})),t},initialize_default_state_behavior:function(){annotation_studio.set_document_state(default_state),$("#default_state").on("click",(function(t){t.preventDefault();var e=annotation_studio.retrieve_document_state();$.ajax({url:"/documents/"+document_slug+"/set_default_state",type:"POST",data:{default_state:JSON.stringify(e)}}).done((function(){$("#default_state").removeClass("active")}))}))}};jQuery((function(t){if("documents"==t("body").attr("id")&&"show annotable"==t("body").attr("class")){annotation_studio.startSpinner(),annotation_studio.initialize_default_state_behavior(),annotation_studio.initialize_annotator(),snapshot.initialize(),t(".annotator-button").on("tap",(function(){console.log("button tapped"),t(".annotator-item").removeClass("hide")})),t(".annotator-adder").on("click",(function(){t(".annotator-item").removeClass("hide")})),t(".annotator-edit").on("tap",(function(){t(".annotator-item").removeClass("hide")})),t(".viewchoice").on("click",annotation_studio.modeFilter),t(".who-made").on("click",annotation_studio.resetByUser),t("#users").on("change",annotation_studio.userFilter);t("#annotation-tag-list");t("body").on("click","#annotation-tag-list input",annotation_studio.tagFilterCheck),t("#tagsearchbox").tagsinput(),t("#tagsearchbox").on("itemAdded",annotation_studio.tagFilter),t("#tagsearchbox").on("itemRemoved",annotation_studio.tagFilter),t(window).scroll(lazyShowAndHideAnnotations),t("#visibleannotations").on("click",(function(){sidebar.filtered=!0,sidebar.showAndHideAnnotations()})),t("#allannotations").on("click",(function(){sidebar.filtered=!1,sidebar.showAllAnnotations()})),t.each(t("#category-chooser button"),(function(e,n){t(n).data("active-color",t.xcolor.opacity("#FFFFFF",t(n).data("hex"),.4).getHex()),t(n).on("click",annotation_studio.categoryFilter)})),t("#textpositionsort").on("click",{},annotation_studio.sortUpdate),t("#customsort").on("click",{},annotation_studio.sortUpdate)}}));var lazyShowAndHideAnnotations=_.debounce((function(){sidebar.showAndHideAnnotations()}),30),__bind=function(t,e){return function(){return t.apply(e,arguments)}},inlineData=__bind((function(t){if(null!=t.highlights[0]){highlightCount=t.highlights.length;for(var e=0;e<highlightCount;e++)t.highlights[e].dataset.uuid=t.uuid;t.highlights[0].id="hl"+t.uuid,t.highlights[0].title=t.user,t.highlights[0].dataset.tags=t.tags.join(","),t.highlights[0].dataset.annotation_categories=t.annotation_categories.join(","),t.highlights[0].dataset.groups=t.groups.join(","),t.highlights[0].dataset.subgroups=t.subgroups.join(","),t.highlights[0].dataset.username=t.username,t.highlights[0].dataset.user=t.user}else console.info("Annotation: "+t.uuid+"has no highlights.")}),this),snapshot={save:function(t){var e=$.ajax({url:"/documents/"+document_slug+"/snapshot",type:"POST",data:{snapshot:t.html()}}).done((function(){console.log("Saved snapshot"),$("#snapshot-progress").modal("hide"),console.log("Removed spinner")})).fail((function(){console.log("Failed to save snapshot")}));return Promise.resolve(e)},addHTML:function(){return new Promise((function(t,e){var n=$("#snapshot").html();n.length?t(n):e("Failed to add HTML.")}))},addJSON:function(){var t='<script type="text/javascript" id="json-archive">var annotations = '+JSON.stringify(subscriber.dumpAnnotations())+"</script>";return new Promise((function(e,n){t.length?e(t):n("Failed to add JSON.")}))},addCSS:function(){var t=$("#annotator-category-styles")[0].textContent,e='<style type="text/css">';return e+=".annotator-hl { background: rgba(255, 255, 10, 0.3) } .annotator-hl-active { background: rgba(255, 255, 10, 0.8) }.annotator-hl-filtered { background-color: transparent }",e+=t,e+="</style>",new Promise((function(t,n){e.length?t(e):n("Failed to add CSS.")}))},addFilters:function(){var t=["tags","annotation_categories","user"];return _.map(t,(function(t){var e=doc_uri+"/annotations/field/"+t+".json";return Promise.resolve($.get(e))}))},initialize:function(){$("#snapshot_trigger").click((function(t){t.preventDefault(),$("#snapshot-progress").modal("show"),$(".glyphicon-comment").remove(),console.log("Started spinner");var e=$("#snapshot-staging");e.html("");var n=snapshot.addCSS(e),i=snapshot.addHTML(e),o=snapshot.addJSON(e),r=snapshot.addFilters(e),s=[n,i,o];Promise.all(s).then((function(t){t.forEach((function(t){e.append(t)}))})).then((function(){return Promise.all(r)})).then((function(t){var n={},i="";t.forEach((function(t){$.extend(n,t)})),i='<script type="text/javascript" id="filter-lists">var filterLists = '+JSON.stringify(n)+"</script>",e.append(i)})).then((function(){snapshot.save(e)})).catch((function(t){console.log("Argh, broken: "+t.message)}))}))}},Sidebar=Sidebar||{};Sidebar.Annotation=Backbone.Model.extend({initialize:function(){},defaults:{user:null,quote:null,text:null,id:null}});var Sidebar=Sidebar||{};Sidebar.AnnotationRows=Backbone.Model.extend({defaults:{rows:null}});var Sidebar=Sidebar||{};Sidebar.LocalAnnotationList=Backbone.Collection.extend({model:Sidebar.Annotation});var Sidebar=Sidebar||{};Sidebar.RemoteAnnotationList=Backbone.Collection.extend({model:Sidebar.Annotation,url:"http://localhost:3000/api/search",initialize:function(t){this.fetch({data:t,success:this.fetchSuccess,error:this.fetchError}),this.deferred=new $.Deferred},deferred:Function.constructor.prototype,fetchSuccess:function(t){t.deferred.resolve()},fetchError:function(){throw new Error("Fetch did not get annotations from the API")}});var Sidebar=Sidebar||{};Sidebar.AnnotationListView=Backbone.View.extend({el:$("div#annotation-well"),initialize:function(){this.template=$("#annotation-template").html();var t=this;sidebar.sort_editable&&$("ul#annotation-list").sortable({handle:".handle",containment:"parent",update:function(){t.listUpdate()}})},listUpdate:function(){var t={},e=0;$.each($("li.annotation-item"),(function(n,i){t[$(i).find("span.highlightlink").attr("data-highlight").replace(/#hl/,"")]=e,e+=1}));$.ajax({url:annotationStudioConfig.apiURL+"/annotations/positions",type:"POST",data:{sort_positions:t},headers:{"x-annotator-auth-token":sidebar.token}}).done((function(){$.each(sidebar.subscriber.plugins.Store.annotations,(function(e,n){n.sort_position=t[n.uuid]}))}))},render:function(){var t=this.collection;$("ul#annotation-list").find(".annotation-item").remove(),$("#textpositionsort").hasClass("active")?(sorted_ids=$(".annotator-hl").map((function(t,e){return e.id.substring(2)})).toArray(),t.each((function(t){t.set("order",sorted_ids.indexOf(t.get("uuid")))})),t.comparator=function(t){return t.get("order")}):t.comparator=function(t){return t.get("sort_position")},t.sort(),t.each((function(t){var e=new Sidebar.AnnotationView({model:t});$("ul#annotation-list").append(e.render().el)})),$("li.annotation-item span").tooltip(),$("span.annotator-hl").click((function(){$("ul#annotation-list li").removeClass("hover"),$("span.highlightlink").tooltip("hide");var t="#sb"+this.id.toString().match(/(hl)(.+)/).slice(1)[1];$("div#annotation-well").animate({scrollTop:$(t).offset().top},100,(function(){console.info("Scroll to: "+t),$(t).trigger("click")}))})),$("li.annotation-item").click((function(){if(!$(this).hasClass("focuswhite")){var t=$(this).find("span.highlightlink").attr("data-highlight");$("ul#annotation-list li").removeClass("hover"),$("#annotation-well ul#annotation-list li").removeClass("focuswhite"),$("ul#annotation-list li .details").hide(),$("ul#annotation-list li .highlightlink.comment, ul#annotation-list li .highlightlink.highlight").show(),$(this).find(".comment, .highlight").hide(),$(this).find(".details").show(200),$(this).addClass("focuswhite"),$("span.highlightlink").tooltip("hide"),$(t).length>0&&($("html,body").animate({scrollTop:$(t).offset().top-150},500),$(".glyphicon-comment").remove(),$(t).prepend('<i class="glyphicon glyphicon-comment"></i>'))}})),annotationStudioConfig.melCatalogEnabled&&$("li.annotation-item a.catalog-popup").unbind("click").on("click",(function(){$("li.annotation-item a.catalog-popup").unbind("click").attr("target","_blank")})),sidebar.sort_editable&&($("#customsort").hasClass("active")?$("ul#annotation-list").sortable("enable").addClass("sorting_on"):$("ul#annotation-list").sortable("disable").removeClass("sorting_on")),sidebar.showAndHideAnnotations()}});var Sidebar=Sidebar||{};Sidebar.AnnotationView=Backbone.View.extend({tagName:"li",className:"annotation-item",initialize:function(){this.commenttemplate=$("#comment-template").html(),this.highlighttemplate=$("#highlight-template").html(),this.mdconverter=new Showdown.converter,this.href="#full"+this.model.get("uuid")},render:function(){return $(this.el).find("highlight.comment img").addClass("thumbnail"),""!=this.model.get("text")?(this.mdConvert(),$(this.el).html(Mustache.to_html(this.commenttemplate,this.model.toJSON()))):$(this.el).html(Mustache.to_html(this.highlighttemplate,this.model.toJSON())),$(this.el).find(".details").hide(),$(this.el).addClass(this.displayCategories()),$(this.el).find("a").click((function(){return window.open(this.href,"_blank"),!1})),this},mdConvert:function(){var t=this.model.get("text");if(""!=t){var e=this.mdconverter.makeHtml(t);$(e).text();this.model.set("text",e)}return this},displayCategories:function(){var t=this.model.get("annotation_categories");return _.map(t,(function(t){return"annotation_category-"+t})).join(" ")}});var Sidebar=Sidebar||{};Sidebar.App=Backbone.Router.extend({routes:{list:"listAnnotations",update:"updateAnnotations"},listAnnotations:function(t){Sidebar.annotations=new Sidebar.LocalAnnotationList(t),new Sidebar.AnnotationListView({container:$("#annotation-well"),collection:Sidebar.annotations}).render()},updateAnnotations:function(t){Sidebar.annotations=new Sidebar.RemoteAnnotationList(t);var e=new Sidebar.AnnotationListView({container:$("#annotation-well"),collection:Sidebar.annotations});Sidebar.annotations.deferred.done((function(){e.render()}))},showAndHideAnnotations:function(){this.filtered&&$("ul#annotation-list li").each((function(t,e){highlight_id=$(e).find("span.highlightlink").data("highlight"),isScrolledIntoView($(highlight_id))?$(e).show():$(e).hide()}))},showAllAnnotations:function(){$("ul#annotation-list li").show()}}),$((function(){"use strict";setTimeout((function(){$(".self_removing").alert("close")}),5e3)})),$((function(){"use strict";function t(){var t=localStorage.tabs?JSON.parse(localStorage.tabs):{};for(var e in t)if(t.hasOwnProperty(e)){var n=e.split(":"),i=$("body#"+n[0]+" #"+n[1]);if(i.length>0){var o=i.find("a[href="+t[e]+"]");o.length>0&&o.tab("show")}}}var e=$("body");t(),e.on("shown.bs.tab",'a[data-toggle="tab"]',(function(t){var n=$(t.target),i=n.closest("ul").attr("id"),o=n.attr("href"),r=e.attr("id")+":"+i,s=localStorage.tabs?JSON.parse(localStorage.tabs):{};s[r]=o,localStorage.tabs=JSON.stringify(s)}))})),$((function(){"use strict";var t=$("body");t.on("click",".show-password-fields",(function(){var t='<label for="user_current_password">Current Password</label>\n<input class="form-control" id="user_current_password" name="user[current_password]" size="30" type="password">';return t+='<label for="user_password">New Password</label>\n<input class="form-control" id="user_password" name="user[password]" size="30" type="password">',t+='<label for="user_password_confirmation">Confirm Password</label>\n<input class="form-control" id="user_password_confirmation" name="user[password_confirmation]" size="30" type="password">',t+='<button class="cancel-password-fields btn btn-default">Cancel Change Password</button>',$(this).closest(".form-group").html(t),!1})),t.on("click",".cancel-password-fields",(function(){var t='<button class="show-password-fields btn btn-default">Change Password</button>';return $(this).closest(".form-group").html(t),!1}))})),window.formatDateTime=function(t){"use strict";function e(t){return t<10?"0"+t:""+t}var n=(t=new Date(Date.parse(t))).getDate(),i=t.getMonth()+1,o=t.getFullYear(),r=t.getHours()+1,s=t.getMinutes()+1;return e(i)+"/"+e(n)+"/"+o+" "+e(r)+":"+e(s)},$((function(){"use strict";$(".dont-overflow").on("shown.bs.dropdown",(function(){var t=$(this).find(".dropdown-menu");t.css("height",""),t.css("overflow",""),t.css("width","");var e=t.height(),n=t.offset();n=n.top;var i=$(window).height();i<n+e&&(t.css("height",i-n+"px"),t.css("overflow","auto"),t.css("width","+=20"))}))})),$((function(){"use strict";var t,e=$("body");e.on("change",".confirm-changes input,.confirm-changes select",(function(){var e=$(this).closest("form").find("input[type=submit]").val();t='You have unsaved changes on this page. You will lose them unless you stay on this page and click "'+e+'".'})),e.on("submit",".confirm-changes",(function(){var e=$(this).find(".bootstrap-tagsinput input");if(e.length>0)for(var n=0;n<e.length;n++){var i=$(e[n]).val();if(i.length>0)return alert("You haven't finished creating the class. Put the cursor after the word \""+i+'" and type the "enter" key to get it recognized.'),!1}t=void 0})),$(window).on("beforeunload",(function(){return t}))})),$((function(){$("#manual-login-toggle").click((function(t){return t.preventDefault(),$("#manual-login").slideToggle(),!1}))}));