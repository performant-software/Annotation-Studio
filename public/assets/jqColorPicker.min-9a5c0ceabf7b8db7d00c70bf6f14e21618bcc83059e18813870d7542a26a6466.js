!function(r,t){"use strict";function o(r,o,e,n,s){if("string"==typeof o)e=(o=m.txt2color(o)).type,p[e]=o[e],s=s!==t?s:o.alpha;else if(o)for(var a in o)r[e][a]=h(o[a]/u[e][a][1],0,1);return s!==t&&(r.alpha=+s),i(e,n?r:t)}function e(r,t,o){var e=g.options.grey,i={};return i.RGB={r:r.r,g:r.g,b:r.b},i.rgb={r:t.r,g:t.g,b:t.b},i.alpha=o,i.equivalentGrey=Math.round(e.r*r.r+e.g*r.g+e.b*r.b),i.rgbaMixBlack=c(t,{r:0,g:0,b:0},o,1),i.rgbaMixWhite=c(t,{r:1,g:1,b:1},o,1),i.rgbaMixBlack.luminance=a(i.rgbaMixBlack,!0),i.rgbaMixWhite.luminance=a(i.rgbaMixWhite,!0),g.options.customBG&&(i.rgbaMixCustom=c(t,g.options.customBG,o,1),i.rgbaMixCustom.luminance=a(i.rgbaMixCustom,!0),g.options.customBG.luminance=a(g.options.customBG,!0)),i}function i(r,t){var o,i,h,d=t||p,b=m,f=g.options,v=u,x=d.RND,w="",_="",y={hsl:"hsv",rgb:r},M=x.rgb;if("alpha"!==r){for(var C in v)if(!v[C][C])for(w in r!==C&&(_=y[C]||"rgb",d[C]=b[_+"2"+C](d[_])),x[C]||(x[C]={}),o=d[C])x[C][w]=Math.round(o[w]*v[C][w][1]);M=x.rgb,d.HEX=b.RGB2HEX(M),d.equivalentGrey=f.grey.r*d.rgb.r+f.grey.g*d.rgb.g+f.grey.b*d.rgb.b,d.webSave=i=n(M,51),d.webSmart=h=n(M,17),d.saveColor=M.r===i.r&&M.g===i.g&&M.b===i.b?"web save":M.r===h.r&&M.g===h.g&&M.b===h.b?"web smart":"",d.hueRGB=m.hue2RGB(d.hsv.h),t&&(d.background=e(M,d.rgb,d.alpha))}var k,B,G,R=d.rgb,H=d.alpha,E="luminance",z=d.background;return(k=c(R,{r:0,g:0,b:0},H,1))[E]=a(k,!0),d.rgbaMixBlack=k,(B=c(R,{r:1,g:1,b:1},H,1))[E]=a(B,!0),d.rgbaMixWhite=B,f.customBG&&((G=c(R,z.rgbaMixCustom,H,1))[E]=a(G,!0),G.WCAG2Ratio=l(G[E],z.rgbaMixCustom[E]),d.rgbaMixBGMixCustom=G,G.luminanceDelta=Math.abs(G[E]-z.rgbaMixCustom[E]),G.hueDelta=s(z.rgbaMixCustom,G,!0)),d.RGBLuminance=a(M),d.HUELuminance=a(d.hueRGB),f.convertCallback&&f.convertCallback(d,r),d}function n(r,t){var o={},e=0,i=t/2;for(var n in r)e=r[n]%t,o[n]=r[n]+(e>i?t-e:-e);return o}function s(r,t,o){return(Math.max(r.r-t.r,t.r-r.r)+Math.max(r.g-t.g,t.g-r.g)+Math.max(r.b-t.b,t.b-r.b))*(o?255:1)/765}function a(r,t){for(var o=t?1:255,e=[r.r/o,r.g/o,r.b/o],i=g.options.luminance,n=e.length;n--;)e[n]=e[n]<=.03928?e[n]/12.92:Math.pow((e[n]+.055)/1.055,2.4);return i.r*e[0]+i.g*e[1]+i.b*e[2]}function c(r,o,e,i){var n={},s=e!==t?e:1,a=i!==t?i:1,c=s+a*(1-s);for(var l in r)n[l]=(r[l]*s+o[l]*a*(1-s))/c;return n.a=c,n}function l(r,t){var o=1;return o=r>=t?(r+.05)/(t+.05):(t+.05)/(r+.05),Math.round(100*o)/100}function h(r,t,o){return r>o?o:t>r?t:r}var u={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},g={},p={},d={r:.298954,g:.586434,b:.114612},b={r:.2126,g:.7152,b:.0722},f=r.Colors=function(r){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",grey:d,luminance:b,valueRanges:u},v(this,r||{})},v=function(r,e){var i,n=r.options;for(var s in x(r),e)e[s]!==t&&(n[s]=e[s]);i=n.customBG,n.customBG="string"==typeof i?m.txt2color(i).rgb:i,p=o(r.colors,n.color,t,!0)},x=function(r){g!==r&&(g=r,p=r.colors)};f.prototype.setColor=function(r,e,n){return x(this),r?o(this.colors,r,e,t,n):(n!==t&&(this.colors.alpha=n),i(e))},f.prototype.setCustomBackground=function(r){return x(this),this.options.customBG="string"==typeof r?m.txt2color(r).rgb:r,o(this.colors,t,"rgb")},f.prototype.saveAsBackground=function(){return x(this),o(this.colors,t,"rgb",!0)};var m={txt2color:function(r){var t={},o=r.replace(/(?:#|\)|%)/g,"").split("("),e=(o[1]||"").split(/,\s*/),i=o[1]?o[0].substr(0,3):"rgb",n="";if(t.type=i,t[i]={},o[1])for(var s=3;s--;)n=i[s]||i.charAt(s),t[i][n]=+e[s]/u[i][n][1];else t.rgb=m.HEX2rgb(o[0]);return t.alpha=e[3]?+e[3]:1,t},RGB2HEX:function(r){return((r.r<16?"0":"")+r.r.toString(16)+(r.g<16?"0":"")+r.g.toString(16)+(r.b<16?"0":"")+r.b.toString(16)).toUpperCase()},HEX2rgb:function(r){return r=r.split(""),{r:parseInt(r[0]+r[r[3]?1:0],16)/255,g:parseInt(r[r[3]?2:1]+(r[3]||r[1]),16)/255,b:parseInt((r[4]||r[2])+(r[5]||r[2]),16)/255}},hue2RGB:function(r){var t=6*r,o=~~t%6,e=6===t?0:t-o;return{r:Math.round(255*[1,1-e,0,0,e,1][o]),g:Math.round(255*[e,1,1,1-e,0,0][o]),b:Math.round(255*[0,0,e,1,1,1-e][o])}},rgb2hsv:function(r){var t,o,e=r.r,i=r.g,n=r.b,s=0;return n>i&&(i=n+(n=i,0),s=-1),o=n,i>e&&(e=i+(i=e,0),s=-2/6-s,o=Math.min(i,n)),t=e-o,{h:1e-15>(e?t/e:0)?p&&p.hsl&&p.hsl.h||0:t?Math.abs(s+(i-n)/(6*t)):0,s:e?t/e:p&&p.hsv&&p.hsv.s||0,v:e}},hsv2rgb:function(r){var t=6*r.h,o=r.s,e=r.v,i=~~t,n=t-i,s=e*(1-o),a=e*(1-n*o),c=e*(1-(1-n)*o),l=i%6;return{r:[e,a,s,s,c,e][l],g:[c,e,e,a,s,s][l],b:[s,s,c,e,e,a][l]}},hsv2hsl:function(r){var t=(2-r.s)*r.v,o=r.s*r.v;return o=r.s?1>t?t?o/t:0:o/(2-t):0,{h:r.h,s:r.v||o?o:p&&p.hsl&&p.hsl.s||0,l:t/2}},rgb2hsl:function(r,t){var o=m.rgb2hsv(r);return m.hsv2hsl(t?o:p.hsv=o)},hsl2rgb:function(r){var t=6*r.h,o=r.s,e=r.l,i=.5>e?e*(1+o):e+o-o*e,n=e+e-i,s=~~t,a=i*(i?(i-n)/i:0)*(t-s),c=n+a,l=i-a,h=s%6;return{r:[i,l,n,n,c,i][h],g:[c,i,i,l,n,n][h],b:[n,n,c,i,i,l][h]}}}}(window),function(r,t,o){"use strict";function e(t){return t.value||t.getAttribute("value")||r(t).css("background-color")||"#fff"}function i(r){return r.originalEvent.touches?r.originalEvent.touches[0]:r}function n(t){return r(t.find(x.doRender)[0]||t[0])}function s(t){var o=r(this),i=o.offset(),s=r(window),c=x.gap;t?(m=n(o),f.$trigger=o,(w||a()).css({left:(w[0]._left=i.left)-((w[0]._left=w[0]._left+w[0]._width-(s.scrollLeft()+s.width()))+c>0?w[0]._left+c:0),top:(w[0]._top=i.top+o.outerHeight())-((w[0]._top=w[0]._top+w[0]._height-(s.scrollTop()+s.height()))+c>0?w[0]._top+c:0)}).show(x.animationSpeed,(function(){!0!==t&&(C._width=C.width(),_._width=_.width(),_._height=_.height(),v.setColor(e(m[0])),p(!0))}))):r(w).hide(x.animationSpeed,(function(){m.blur(),f.$trigger=null,p(!1)}))}function a(){return r("head").append('<style type="text/css">'+(x.css||A)+(x.cssAddon||"")+"</style>"),f.$UI=w=r(X).css({margin:x.margin}).appendTo("body").show(0,(function(){E=x.GPU&&r(this).css("perspective")!==o,_=r(".cp-xy-slider",this),y=r(".cp-xy-cursor",this),M=r(".cp-z-cursor",this),C=r(".cp-alpha",this).toggle(!!x.opacity),k=r(".cp-alpha-cursor",this),x.buidCallback.call(f,r(this)),r(this).prepend("<div>").children().eq(0).css("width",r(this).children().eq(0).width()),this._width=this.offsetWidth,this._height=this.offsetHeight})).hide().on("touchstart mousedown pointerdown",".cp-xy-slider,.cp-z-slider,.cp-alpha",c)}function c(t){var o=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");t.preventDefault&&t.preventDefault(),t.returnValue=!1,m._offset=r(this).offset(),(o="xy_slider"===o?h:"z_slider"===o?u:g)(t),B.on(H,l).on(R,o)}function l(){B.off(R).off(H)}function h(r){var t=i(r),o=t.pageX-m._offset.left,e=t.pageY-m._offset.top;v.setColor({s:o/_._width*100,v:100-e/_._height*100},"hsv"),p()}function u(r){var t=i(r).pageY-m._offset.top;v.colors.hsv,v.setColor({h:360-t/_._height*360},"hsv"),p()}function g(r){var t=(i(r).pageX-m._offset.left)/C._width;v.setColor({},"rgb",t>1?1:0>t?0:t),p()}function p(r){var t=v.colors,e=t.hueRGB,i=t.RND.rgb,n=t.RND.hsl,s="#222",a="#ddd",c=m.data("colorMode"),l=1!==t.alpha,h=Math.round(100*t.alpha)/100,u=i.r+", "+i.g+", "+i.b,g="HEX"!==c||l?"rgb"===c||"HEX"===c&&l?l?"rgba("+u+", "+h+")":"rgb("+u+")":"hsl"+(l?"a(":"(")+n.h+", "+n.s+"%, "+n.l+"%"+(l?", "+h:"")+")":"#"+t.HEX,p=t.HUELuminance>.22?s:a,b=t.rgbaMixBlack.luminance>.22?s:a,f=(1-t.hsv.h)*_._height,x=t.hsv.s*_._width,w=(1-t.hsv.v)*_._height,B=h*C._width,G=E?"translate3d":"";_._css={backgroundColor:"rgb("+e.r+","+e.g+","+e.b+")"},y._css={transform:G+"("+x+"px, "+w+"px, 0)",left:E?"":x,top:E?"":w,borderColor:t.RGBLuminance>.22?s:a},M._css={transform:G+"(0, "+f+"px, 0)",top:E?"":f,borderColor:"transparent "+p},C._css={backgroundColor:"rgb("+u+")"},k._css={transform:G+"("+B+"px, 0, 0)",left:E?"":B,borderColor:b+" transparent"},m._css={backgroundColor:g,color:t.rgbaMixBGMixCustom.luminance>.22?s:a},m.text=m.val()!==g?g:"",r!==o?d(r):z(d)}function d(r){_.css(_._css),y.css(y._css),M.css(M._css),C.css(C._css),k.css(k._css),x.doRender&&m.css(m._css),m.text&&m.val(m.text),x.renderCallback.call(f,m,"boolean"==typeof r?r:o)}var b,f,v,x,m,w,_,y,M,C,k,B=r(document),G="",R="touchmove mousemove pointermove",H="touchend mouseup pointerup",E=!1,z=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(r){r()},X='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',A=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",F=function(r){v=this.color=new t(r),x=v.options};F.prototype={render:p,toggle:s},r.fn.colorPicker=function(t){var o=function(){};return t=r.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:o,buidCallback:o,body:document.body,scrollResize:!0,gap:4},t),!f&&t.scrollResize&&r(window).on("resize scroll",(function(){f.$trigger&&f.toggle.call(f.$trigger[0],!0)})),(b=b?b.add(this):this).colorPicker=f||(f=new F(t)),G+=(G?", ":"")+this.selector,r(t.body).off(".a").on("touchstart.a mousedown.a pointerdown.a",(function(t){var o=r(t.target);-1!==r.inArray(o.closest(G)[0],b)||o.closest(w).length||s()})).on("focus.a click.a",G,s).on("change.a",G,(function(){v.setColor(this.value),b.colorPicker.render()})),this.each((function(){var o=e(this),i=o.split("("),s=n(r(this));s.data("colorMode",i[1]?i[0].substr(0,3):"HEX").attr("readonly",x.preventFocus),t.doRender&&s.css({"background-color":o,color:function(){return v.setColor(o).rgbaMixBGMixCustom.luminance>.22?"#222":"#ddd"}})}))}}(window.jQuery,Colors);