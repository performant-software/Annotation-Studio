!function(){function e(){return a.tinymce}var t,n,i,r,a,c=[];a="undefined"!=typeof global?global:window,(r=a.jQuery).fn.tinymce=function(t){function l(){var n=[],a=0;i||(o(),i=!0),p.each((function(i,r){var c,o=r.id,l=t.oninit;o||(r.id=o=e().DOM.uniqueId()),e().get(o)||(c=e().createEditor(o,t),n.push(c),c.on("init",(function(){var t,i=l;p.css("visibility",""),l&&++a==n.length&&("string"==typeof i&&(t=-1===i.indexOf(".")?null:e().resolve(i.replace(/\.\w+$/,"")),i=e().resolve(i)),i.apply(t||e(),n))})))})),r.each(n,(function(e,t){t.render()}))}var u,s,f,p=this,d="";if(!p.length)return p;if(!t)return e()?e().get(p[0].id):null;if(p.css("visibility","hidden"),a.tinymce||n||!(u=t.script_url))1===n?c.push(l):l();else{n=1,s=u.substring(0,u.lastIndexOf("/")),-1!=u.indexOf(".min")&&(d=".min"),a.tinymce=a.tinyMCEPreInit||{base:s,suffix:d},-1!=u.indexOf("gzip")&&(f=t.language||"en",u=u+(/\?/.test(u)?"&":"?")+"js=true&core=true&suffix="+escape(d)+"&themes="+escape(t.theme||"modern")+"&plugins="+escape(t.plugins||"")+"&languages="+(f||""),a.tinyMCE_GZ||(a.tinyMCE_GZ={start:function(){function n(t){e().ScriptLoader.markDone(e().baseURI.toAbsolute(t))}n("langs/"+f+".js"),n("themes/"+t.theme+"/theme"+d+".js"),n("themes/"+t.theme+"/langs/"+f+".js"),r.each(t.plugins.split(","),(function(e,t){t&&(n("plugins/"+t+"/plugin"+d+".js"),n("plugins/"+t+"/langs/"+f+".js"))}))},end:function(){}}));var v=document.createElement("script");v.type="text/javascript",v.onload=v.onreadystatechange=function(i){i=i||window.event,2===n||"load"!=i.type&&!/complete|loaded/.test(v.readyState)||(e().dom.Event.domLoaded=1,n=2,t.script_loaded&&t.script_loaded(),l(),r.each(c,(function(e,t){t()})))},v.src=u,document.body.appendChild(v)}return p},r.extend(r.expr[":"],{tinymce:function(t){var n;return!!(t.id&&"tinymce"in a&&(n=e().get(t.id))&&n.editorManager===e())}});var o=function(){function n(t){"remove"===t&&this.each((function(e,t){var n=o(t);n&&n.remove()})),this.find("span.mceEditor,div.mceEditor").each((function(t,n){var i=e().get(n.id.replace(/_parent$/,""));i&&i.remove()}))}function i(t){var i,r=this;if(null!=t)n.call(r),r.each((function(n,i){var r;(r=e().get(i.id))&&r.setContent(t)}));else if(0<r.length&&(i=e().get(r[0].id)))return i.getContent()}function c(e){return!!(e&&e.length&&a.tinymce&&e.is(":tinymce"))}var o=function(t){var n=null;return t&&t.id&&a.tinymce&&(n=e().get(t.id)),n},l={};r.each(["text","html","val"],(function(e,n){var a=l[n]=r.fn[n],u="text"===n;r.fn[n]=function(e){var n=this;if(!c(n))return a.apply(n,arguments);if(e!==t)return i.call(n.filter(":tinymce"),e),a.apply(n.not(":tinymce"),arguments),n;var l="",s=arguments;return(u?n:n.eq(0)).each((function(e,t){var n=o(t);l+=n?u?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):a.apply(r(t),s)})),l}})),r.each(["append","prepend"],(function(e,n){var i=l[n]=r.fn[n],a="prepend"===n;r.fn[n]=function(e){var n=this;return c(n)?e!==t?("string"==typeof e&&n.filter(":tinymce").each((function(t,n){var i=o(n);i&&i.setContent(a?e+i.getContent():i.getContent()+e)})),i.apply(n.not(":tinymce"),arguments),n):void 0:i.apply(n,arguments)}})),r.each(["remove","replaceWith","replaceAll","empty"],(function(e,t){var i=l[t]=r.fn[t];r.fn[t]=function(){return n.call(this,t),i.apply(this,arguments)}})),l.attr=r.fn.attr,r.fn.attr=function(e,n){var a=this,u=arguments;if(!e||"value"!==e||!c(a))return l.attr.apply(a,u);if(n!==t)return i.call(a.filter(":tinymce"),n),l.attr.apply(a.not(":tinymce"),u),a;var s=a[0],f=o(s);return f?f.getContent({save:!0}):l.attr.apply(r(s),u)}}}();