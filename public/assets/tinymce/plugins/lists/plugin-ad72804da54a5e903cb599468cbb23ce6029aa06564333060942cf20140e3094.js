!function(e){"use strict";function n(){}function t(e){return function(){return e}}function r(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return!e.apply(null,n)}}function o(){return je}function i(e){return e.isNone()}function u(e){return e()}function s(e){return e}function a(e){return function(n){return function(e){if(null===e)return"null";var n=typeof e;return"object"==n&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":n}(n)===e}}function c(e,n){for(var t=e.length,r=new Array(t),o=0;o<t;o++){var i=e[o];r[o]=n(i,o)}return r}function f(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}function d(e,n){for(var t=[],r=0,o=e.length;r<o;r++){var i=e[r];n(i,r)&&t.push(i)}return t}function l(e,n,t){return f(e,(function(e){t=n(t,e)})),t}function m(e,n){for(var t=0,r=e.length;t<r;t++){var o=e[t];if(n(o,t))return $e.some(o)}return $e.none()}function g(e,n){return function(e){for(var n=[],t=0,r=e.length;t<r;++t){if(!We(e[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+e);Qe.apply(n,e[t])}return n}(c(e,n))}function p(e){return 0===e.length?$e.none():$e.some(e[0])}function v(e){return 0===e.length?$e.none():$e.some(e[e.length-1])}function h(e,n,t){return 0!=(e.compareDocumentPosition(n)&t)}function N(e,n){function t(e){return Number(n.replace(r,"$"+e))}var r=function(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.test(n))return r}}(e,n);return r?Ze(t(1),t(2)):{major:0,minor:0}}function y(e,n){return function(){return n===e}}function S(e,n){return function(){return n===e}}function O(e,n){var t=String(n).toLowerCase();return m(e,(function(e){return e.search(t)}))}function C(e,n){return-1!==e.indexOf(n)}function b(e){return function(n){return C(n,e)}}function L(e,n){return e.dom()===n.dom()}function T(e,n,t){return e.isSome()&&n.isSome()?$e.some(t(e.getOrDie(),n.getOrDie())):$e.none()}function D(e){return $e.from(e.dom().parentNode).map(bn.fromDom)}function E(e){return c(e.dom().childNodes,bn.fromDom)}function w(e,n){var t=e.dom().childNodes;return $e.from(t[n]).map(bn.fromDom)}function k(e){return w(e,0)}function A(e){return w(e,e.dom().childNodes.length-1)}function x(e,n){D(e).each((function(t){t.dom().insertBefore(n.dom(),e.dom())}))}function R(e,n){e.dom().appendChild(n.dom())}function I(e,n){f(n,(function(n){R(e,n)}))}function _(e){var n=e.dom();null!==n.parentNode&&n.parentNode.removeChild(n)}function B(e,n,t){return e.fire("ListMutation",{action:n,element:t})}function P(e,n){return function(e,n){for(var t=null!=n?n:Rn,r=0;r<e.length&&null!=t;++r)t=t[e[r]];return t}(e.split("."),n)}function M(e){return e&&"BR"===e.nodeName}function U(e){var n=e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",Yn(e,n))}function F(e){var n=e.selection.getSelectedBlocks();return Pn.grep(function(e,n){var t=Pn.map(n,(function(n){return e.dom.getParent(n,"li,dd,dt",Yn(e,n))||n}));return Bn.unique(t)}(e,n),(function(e){return Hn(e)}))}function j(e,n){return v(e.dom.getParents(n,"ol,ul",Yn(e,n)))}function H(e,n){var t,r,o,i,u=e.dom,s=e.schema.getBlockElements(),a=u.createFragment();if(e.settings.forced_root_block&&(o=e.settings.forced_root_block),o&&((r=u.create(o)).tagName===e.settings.forced_root_block&&u.setAttribs(r,e.settings.forced_root_block_attrs),zn(n.firstChild,s)||a.appendChild(r)),n)for(;t=n.firstChild;){var c=t.nodeName;i||"SPAN"===c&&"bookmark"===t.getAttribute("data-mce-type")||(i=!0),zn(t,s)?(a.appendChild(t),r=null):o?(r||(r=u.create(o),a.appendChild(r)),r.appendChild(t)):a.appendChild(t)}return e.settings.forced_root_block?i||r.appendChild(u.create("br",{"data-mce-bogus":"1"})):a.appendChild(u.create("br")),a}function $(e){return e.dom().nodeName.toLowerCase()}function q(n,t){var r=n.dom();!function(e,n){for(var t=xn(e),r=0,o=t.length;r<o;r++){var i=t[r];n(e[i],i)}}(t,(function(n,t){!function(n,t,r){if(!(qe(r)||Ve(r)||Ke(r)))throw e.console.error("Invalid call to Attr.set. Key ",t,":: Value ",r,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(t,r+"")}(r,t,n)}))}function W(e){return l(e.dom().attributes,(function(e,n){return e[n.name]=n.value,e}),{})}function V(n,t,r){if(!qe(r))throw e.console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",n),new Error("CSS value must be a string: "+r);!function(e){return void 0!==e.style&&ze(e.style.getPropertyValue)}(n)||n.style.setProperty(t,r)}function z(e){return function(e,n){return bn.fromDom(e.dom().cloneNode(n))}(e,!0)}function K(e,n){var t=function(e,n){var t=bn.fromTag(n);return q(t,W(e)),t}(e,n);return x(e,t),I(t,E(e)),_(e),t}function X(e,n){R(e.item,n.list)}function Q(e,n,t){var r=n.slice(0,t.depth);return v(r).each((function(n){!function(e,n){R(e.list,n),e.item=n}(n,function(e,n,t){var r=bn.fromTag("li",e);return q(r,n),I(r,t),r}(e,t.itemAttributes,t.content)),function(e,n){$(e.list)!==n.listType&&(e.list=K(e.list,n.listType)),q(e.list,n.listAttributes)}(n,t)})),r}function Y(e,n,t){var r=function(e,n,t){for(var r,o,i,u=[],s=0;s<t;s++)u.push((r=e,o=n.listType,R((i={list:bn.fromTag(o,r),item:bn.fromTag("li",r)}).list,i.item),i));return u}(e,t,t.depth-n.length);return function(e){for(var n=1;n<e.length;n++)X(e[n-1],e[n])}(r),function(e,n){for(var t=0;t<e.length-1;t++)r="list-style-type",o="none",V(e[t].item.dom(),r,o);var r,o;v(e).each((function(e){q(e.list,n.listAttributes),q(e.item,n.itemAttributes),I(e.item,n.content)}))}(r,t),function(e,n){T(v(e),p(n),X)}(n,r),n.concat(r)}function G(e){return En(e,"OL,UL")}function J(e){return k(e).map(G).getOr(!1)}function Z(e){return 0<e.depth}function ee(e){return e.isSelected}function ne(e){var n=E(e),t=function(e){return A(e).map(G).getOr(!1)}(e)?n.slice(0,-1):n;return c(t,z)}function te(e){f(e,(function(n,t){(function(e,n){for(var t=e[n].depth,r=n-1;0<=r;r--){if(e[r].depth===t)return $e.some(e[r]);if(e[r].depth<t)break}return $e.none()})(e,t).each((function(e){!function(e,n){e.listType=n.listType,e.listAttributes=nt({},n.listAttributes)}(n,e)}))}))}function re(e,n,t,r){return k(r).filter(G).fold((function(){n.each((function(e){L(e.start,r)&&t.set(!0)}));var o=function(e,n,t){return D(e).filter(Zn).map((function(r){return{depth:n,isSelected:t,content:ne(e),itemAttributes:W(e),listAttributes:W(r),listType:$(r)}}))}(r,e,t.get());n.each((function(e){L(e.end,r)&&t.set(!1)}));var i=A(r).filter(G).map((function(r){return tt(e,n,t,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return tt(e,n,t,r)}))}function oe(n,t){return c(t,(function(t){var r=function(n){var t=(void 0||e.document).createDocumentFragment();return f(n,(function(e){t.appendChild(e.dom())})),bn.fromDom(t)}(t.content);return bn.fromDom(H(n,r.dom()))}))}function ie(e,n){return te(n),function(e,n){var t=l(n,(function(n,t){return t.depth>n.length?Y(e,n,t):Q(e,n,t)}),[]);return p(t).map((function(e){return e.list}))}(e.contentDocument,n).toArray()}function ue(e){var n=c(Jn.getSelectedListItems(e),bn.fromDom);return T(m(n,r(J)),m(function(e){var n=Xe.call(e,0);return n.reverse(),n}(n),r(J)),(function(e,n){return{start:e,end:n}}))}function se(e,n,t){var r=function(e,n){var t=Ge(!1);return c(e,(function(e){return{sourceList:e,entries:tt(0,n,t,e)}}))}(n,ue(e));f(r,(function(n){!function(e,n){f(d(e,ee),(function(e){return function(e,n){switch(e){case"Indent":n.depth++;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0}}(n,e)}))}(n.entries,t);var r=function(e,n){return g(function(e,n){if(0===e.length)return[];for(var t=n(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var s=e[i],a=n(s);a!==t&&(r.push(o),o=[]),t=a,o.push(s)}return 0!==o.length&&r.push(o),r}(n,Z),(function(n){return p(n).map(Z).getOr(!1)?ie(e,n):oe(e,n)}))}(e,n.entries);f(r,(function(n){B(e,"Indent"===t?"IndentList":"OutdentList",n.dom())})),function(e,n){f(n,(function(n){x(e,n)}))}(n.sourceList,r),_(n.sourceList)}))}function ae(e){En(e,"dt")&&K(e,"dd")}function ce(e,n,t){f(t,"Indent"===n?ae:function(n){return function(e,n){En(n,"dd")?K(n,"dt"):En(n,"dt")&&D(n).each((function(t){return it(e,t.dom(),n.dom())}))}(e,n)})}function fe(e,n){if(Mn(e))return{container:e,offset:n};var t=wn.getNode(e,n);return Mn(t)?{container:t,offset:n>=e.childNodes.length?t.data.length:0}:t.previousSibling&&Mn(t.previousSibling)?{container:t.previousSibling,offset:t.previousSibling.data.length}:t.nextSibling&&Mn(t.nextSibling)?{container:t.nextSibling,offset:0}:{container:e,offset:n}}function de(e,n){var t=c(Jn.getSelectedListRoots(e),bn.fromDom),r=c(Jn.getSelectedDlItems(e),bn.fromDom),o=!1;if(t.length||r.length){var i=e.selection.getBookmark();se(e,t,n),ce(e,n,r),e.selection.moveToBookmark(i),e.selection.setRng(ut(e.selection.getRng())),e.nodeChanged(),o=!0}return o}function le(e){return de(e,"Indent")}function me(e){return de(e,"Outdent")}function ge(e){return de(e,"Flatten")}function pe(e){return/\btox\-/.test(e.className)}function ve(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}}function he(e,n){Pn.each(n,(function(n,t){e.setAttribute(t,n)}))}function Ne(e,n,t){!function(e,n,t){var r=t["list-style-type"]?t["list-style-type"]:null;e.setStyle(n,"list-style-type",r)}(e,n,t),function(e,n,t){he(n,t["list-attributes"]),Pn.each(e.select("li",n),(function(e){he(e,t["list-item-attributes"])}))}(e,n,t)}function ye(e,n,t,r){var o,i;for(o=n[t?"startContainer":"endContainer"],i=n[t?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!t&&qn(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(Vn(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o}function Se(e,n,t){void 0===t&&(t={});var r,o=e.selection.getRng(!0),i="LI",u=Jn.getClosestListRootElm(e,e.selection.getStart(!0)),s=e.dom;"false"!==s.getContentEditable(e.selection.getNode())&&("DL"===(n=n.toUpperCase())&&(i="DT"),r=ct(o),Pn.each(function(e,n,t){for(var r,o=[],i=e.dom,u=ye(e,n,!0,t),s=ye(e,n,!1,t),a=[],c=u;c&&(a.push(c),c!==s);c=c.nextSibling);return Pn.each(a,(function(n){if(Vn(e,n))return o.push(n),void(r=null);if(i.isBlock(n)||qn(n))return qn(n)&&i.remove(n),void(r=null);var u=n.nextSibling;st.isBookmarkNode(n)&&(Vn(e,u)||!u&&n.parentNode===t)?r=null:(r||(r=i.create("p"),n.parentNode.insertBefore(r,n),o.push(r)),r.appendChild(n))})),o}(e,o,u),(function(r){var o,u;(u=r.previousSibling)&&Un(u)&&u.nodeName===n&&function(e,n,t){var r=e.getStyle(n,"list-style-type"),o=t?t["list-style-type"]:"";return r===(null===o?"":o)}(s,u,t)?(o=u,r=s.rename(r,i),u.appendChild(r)):(o=s.create(n),r.parentNode.insertBefore(o,r),o.appendChild(r),r=s.rename(r,i)),function(e,n,t){Pn.each(t,(function(t){var r;return e.setStyle(n,((r={})[t]="",r))}))}(s,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Ne(s,o,t),dt(e.dom,o)})),e.selection.setRng(ft(r)))}function Oe(e,n,t){return function(e,n){return e&&n&&Un(e)&&e.nodeName===n.nodeName}(n,t)&&function(e,n,t){return e.getStyle(n,"list-style-type",!0)===e.getStyle(t,"list-style-type",!0)}(e,n,t)&&function(e,n){return e.className===n.className}(n,t)}function Ce(e,n,t,r,o){if(n.nodeName!==r||lt(o)){var i=ct(e.selection.getRng(!0));Pn.each([n].concat(t),(function(n){!function(e,n,t,r){if(n.nodeName!==t){var o=e.dom.rename(n,t);Ne(e.dom,o,r),B(e,ve(t),o)}else Ne(e.dom,n,r),B(e,ve(t),n)}(e,n,r,o)})),e.selection.setRng(ft(i))}else ge(e)}function be(e,n){var t,r=n.parentNode;"LI"===r.nodeName&&r.firstChild===n&&((t=r.previousSibling)&&"LI"===t.nodeName?(t.appendChild(n),Xn(e,r)&&gt.remove(r)):gt.setStyle(r,"listStyleType","none")),Un(r)&&(t=r.previousSibling)&&"LI"===t.nodeName&&t.appendChild(n)}function Le(e,n,t,r){var o=n.startContainer,i=n.startOffset;if(Mn(o)&&(t?i<o.data.length:0<i))return o;var u=e.schema.getNonEmptyElements();1===o.nodeType&&(o=wn.getNode(o,i));var s=new kn(o,r);for(t&&Kn(e.dom,o)&&s.next();o=s[t?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(u[o.nodeName])return o;if(Mn(o)&&0<o.data.length)return o}}function Te(e,n){var t=n.childNodes;return 1===t.length&&!Un(t[0])&&e.isBlock(t[0])}function De(e,n,t){var r,o;if(o=Te(e,t)?t.firstChild:t,function(e,n){Te(e,n)&&e.remove(n.firstChild,!0)}(e,n),!Xn(e,n,!0))for(;r=n.firstChild;)o.appendChild(r)}function Ee(e,n,t){var r,o,i=n.parentNode;if(Qn(e,n)&&Qn(e,t)){Un(t.lastChild)&&(o=t.lastChild),i===t.lastChild&&qn(i.previousSibling)&&e.remove(i.previousSibling),(r=t.lastChild)&&qn(r)&&n.hasChildNodes()&&e.remove(r),Xn(e,t,!0)&&e.$(t).empty(),De(e,n,t),o&&t.appendChild(o);var u=Dn(bn.fromDom(t),bn.fromDom(n))?e.getParents(n,Un,t):[];e.remove(n),f(u,(function(n){Xn(e,n)&&n!==e.getRoot()&&e.remove(n)}))}}function we(e,n,t,r){var o=e.dom;if(o.isEmpty(r))!function(e,n,t){e.dom.$(t).empty(),Ee(e.dom,n,t),e.selection.setCursorLocation(t)}(e,t,r);else{var i=ct(n);Ee(o,t,r),e.selection.setRng(ft(i))}}function ke(e,n){var t=e.dom,r=e.selection,o=r.getStart(),i=Jn.getClosestListRootElm(e,o),u=t.getParent(r.getStart(),"LI",i);if(u){var s=u.parentNode;if(s===e.getBody()&&Xn(t,s))return!0;var a=ut(r.getRng()),c=t.getParent(Le(e,a,n,i),"LI",i);if(c&&c!==u)return e.undoManager.transact((function(){n?we(e,a,c,u):Wn(u)?me(e):function(e,n,t,r){var o=ct(n);Ee(e.dom,t,r);var i=ft(o);e.selection.setRng(i)}(e,a,u,c)})),!0;if(!c&&!n&&0===a.startOffset&&0===a.endOffset)return e.undoManager.transact((function(){ge(e)})),!0}return!1}function Ae(e,n){return ke(e,n)||function(e,n){var t=e.dom,r=e.selection.getStart(),o=Jn.getClosestListRootElm(e,r),i=t.getParent(r,t.isBlock,o);if(i&&t.isEmpty(i)){var u=ut(e.selection.getRng()),s=t.getParent(Le(e,u,n,o),"LI",o);if(s)return e.undoManager.transact((function(){!function(e,n,t){var r=e.getParent(n.parentNode,e.isBlock,t);e.remove(n),r&&e.isEmpty(r)&&e.remove(r)}(t,i,o),mt.mergeWithAdjacentLists(t,s.parentNode),e.selection.select(s,!0),e.selection.collapse(n)})),!0}return!1}(e,n)}function xe(e,n){return e.selection.isCollapsed()?Ae(e,n):function(e){var n=e.selection.getStart(),t=Jn.getClosestListRootElm(e,n);return!!(e.dom.getParent(n,"LI,DT,DD",t)||0<Jn.getSelectedListItems(e).length)&&(e.undoManager.transact((function(){e.execCommand("Delete"),pt(e.dom,e.getBody())})),!0)}(e)}function Re(e,n){return function(){var t=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return t&&t.nodeName===n}}function Ie(e,n){return function(t){function r(e){var r=function(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t;return-1}(e.parents,$n),o=-1!==r?e.parents.slice(0,r):e.parents,i=Pn.grep(o,Un);t.setActive(0<i.length&&i[0].nodeName===n&&!pe(i[0]))}return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}}var _e,Be,Pe,Me=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ue=t(!1),Fe=t(!0),je=(_e={fold:function(e){return e()},is:Ue,isSome:Ue,isNone:Fe,getOr:s,getOrThunk:u,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:t(null),getOrUndefined:t(void 0),or:s,orThunk:u,map:o,each:n,bind:o,exists:Ue,forall:Fe,filter:o,equals:i,equals_:i,toArray:function(){return[]},toString:t("none()")},Object.freeze&&Object.freeze(_e),_e),He=function(e){function n(){return i}function r(n){return n(e)}var o=t(e),i={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:Fe,isNone:Ue,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:n,orThunk:n,map:function(n){return He(n(e))},each:function(n){n(e)},bind:r,exists:r,forall:r,filter:function(n){return n(e)?i:je},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(Ue,(function(n){return t(e,n)}))}};return i},$e={some:He,none:o,from:function(e){return null==e?je:He(e)}},qe=a("string"),We=a("array"),Ve=a("boolean"),ze=a("function"),Ke=a("number"),Xe=Array.prototype.slice,Qe=Array.prototype.push,Ye=(ze(Array.from)&&Array.from,function(n,t){return h(n,t,e.Node.DOCUMENT_POSITION_CONTAINED_BY)}),Ge=function(e){function n(){return t}var t=e;return{get:n,set:function(e){t=e},clone:function(){return Ge(n())}}},Je=function(){return Ze(0,0)},Ze=function(e,n){return{major:e,minor:n}},en={nu:Ze,detect:function(e,n){var t=String(n).toLowerCase();return 0===e.length?Je():N(e,t)},unknown:Je},nn="Edge",tn="Chrome",rn="Opera",on="Firefox",un="Safari",sn=function(e){var n=e.current;return{current:n,version:e.version,isEdge:y(nn,n),isChrome:y(tn,n),isIE:y("IE",n),isOpera:y(rn,n),isFirefox:y(on,n),isSafari:y(un,n)}},an={unknown:function(){return sn({current:void 0,version:en.unknown()})},nu:sn,edge:t(nn),chrome:t(tn),ie:t("IE"),opera:t(rn),firefox:t(on),safari:t(un)},cn="Windows",fn="Android",dn="Solaris",ln="FreeBSD",mn=function(e){var n=e.current;return{current:n,version:e.version,isWindows:S(cn,n),isiOS:S("iOS",n),isAndroid:S(fn,n),isOSX:S("OSX",n),isLinux:S("Linux",n),isSolaris:S(dn,n),isFreeBSD:S(ln,n)}},gn={unknown:function(){return mn({current:void 0,version:en.unknown()})},nu:mn,windows:t(cn),ios:t("iOS"),android:t(fn),linux:t("Linux"),osx:t("OSX"),solaris:t(dn),freebsd:t(ln)},pn=function(e,n){return O(e,n).map((function(e){var t=en.detect(e.versionRegexes,n);return{current:e.name,version:t}}))},vn=function(e,n){return O(e,n).map((function(e){var t=en.detect(e.versionRegexes,n);return{current:e.name,version:t}}))},hn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Nn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return C(e,"edge/")&&C(e,"chrome")&&C(e,"safari")&&C(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,hn],search:function(e){return C(e,"chrome")&&!C(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return C(e,"msie")||C(e,"trident")}},{name:"Opera",versionRegexes:[hn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:b("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:b("firefox")},{name:"Safari",versionRegexes:[hn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(C(e,"safari")||C(e,"mobile/"))&&C(e,"applewebkit")}}],yn=[{name:"Windows",search:b("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return C(e,"iphone")||C(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:b("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:b("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:b("linux"),versionRegexes:[]},{name:"Solaris",search:b("sunos"),versionRegexes:[]},{name:"FreeBSD",search:b("freebsd"),versionRegexes:[]}],Sn={browsers:t(Nn),oses:t(yn)},On=Ge(function(e,n){var r=Sn.browsers(),o=Sn.oses(),i=pn(r,e).fold(an.unknown,an.nu),u=vn(o,e).fold(gn.unknown,gn.nu);return{browser:i,os:u,deviceType:function(e,n,r,o){var i=e.isiOS()&&!0===/ipad/i.test(r),u=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),c=i||!u&&s&&o("(min-device-width:768px)"),f=u||s&&!c,d=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),l=!f&&!c&&!d;return{isiPad:t(i),isiPhone:t(u),isTablet:t(c),isPhone:t(f),isTouch:t(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:t(d),isDesktop:t(l)}}(u,i,e,n)}}(e.navigator.userAgent,(function(n){return e.window.matchMedia(n).matches}))),Cn=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:t(e)}},bn={fromHtml:function(n,t){var r=(t||e.document).createElement("div");if(r.innerHTML=n,!r.hasChildNodes()||1<r.childNodes.length)throw e.console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return Cn(r.childNodes[0])},fromTag:function(n,t){var r=(t||e.document).createElement(n);return Cn(r)},fromText:function(n,t){var r=(t||e.document).createTextNode(n);return Cn(r)},fromDom:Cn,fromPoint:function(e,n,t){var r=e.dom();return $e.from(r.elementFromPoint(n,t)).map(Cn)}},Ln=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Tn=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,Ln),Dn=On.get().browser.isIE()?function(e,n){return Ye(e.dom(),n.dom())}:function(e,n){var t=e.dom(),r=n.dom();return t!==r&&t.contains(r)},En=function(e,n){var t=e.dom();if(t.nodeType!==Tn)return!1;var r=t;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},wn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),kn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),An=tinymce.util.Tools.resolve("tinymce.util.VK"),xn=Object.keys,Rn=(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}("element","offset"),void 0!==e.window?e.window:Function("return this;")()),In=function(e,n){var t=function(e,n){return P(e,n)}(e,n);if(null==t)throw new Error(e+" not available on this browser");return t},_n=function(e){return function(e){return In("HTMLElement",e)}(P("ownerDocument.defaultView",e)).prototype.isPrototypeOf(e)},Bn=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Pn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Mn=function(e){return e&&3===e.nodeType},Un=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},Fn=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},jn=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},Hn=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},$n=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},qn=M,Wn=function(e){return e.parentNode.firstChild===e},Vn=function(e,n){return n&&!!e.schema.getTextBlockElements()[n.nodeName]},zn=function(e,n){return e&&e.nodeName in n},Kn=function(e,n){return!!M(n)&&!(!e.isBlock(n.nextSibling)||M(n.previousSibling))},Xn=function(e,n,t){var r=e.isEmpty(n);return!(t&&0<e.select("span[data-mce-type=bookmark]",n).length)&&r},Qn=function(e,n){return e.isChildOf(n,e.getRoot())},Yn=function(e,n){var t=e.dom.getParents(n,"TD,TH");return 0<t.length?t[0]:e.getBody()},Gn=function(e,n){var t=c(n,(function(n){return j(e,n).getOr(n)}));return Bn.unique(t)},Jn={isList:function(e){var n=U(e);return _n(n)},getParentList:U,getSelectedSubLists:function(e){var n=U(e),t=e.selection.getSelectedBlocks();return function(e,n){return e&&1===n.length&&n[0]===e}(n,t)?function(e){return Pn.grep(e.querySelectorAll("ol,ul,dl"),(function(e){return Un(e)}))}(n):Pn.grep(t,(function(e){return Un(e)&&n!==e}))},getSelectedListItems:F,getClosestListRootElm:Yn,getSelectedDlItems:function(e){return d(F(e),jn)},getSelectedListRoots:function(e){var n=function(e){var n=j(e,e.selection.getStart()),t=d(e.selection.getSelectedBlocks(),Fn);return n.toArray().concat(t)}(e);return Gn(e,n)}},Zn=(Be=Ln,function(e){return function(e){return e.dom().nodeType}(e)===Be}),et=Object.prototype.hasOwnProperty,nt=(Pe=function(e,n){return n},function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var t={},r=0;r<e.length;r++){var o=e[r];for(var i in o)et.call(o,i)&&(t[i]=Pe(t[i],o[i]))}return t}),tt=function(e,n,t,r){return g(E(r),(function(r){return(G(r)?tt:re)(e+1,n,t,r)}))},rt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ot=rt.DOM,it=function(e,n,t){var r,o,i,u,s,a;for(i=ot.select('span[data-mce-type="bookmark"]',n),s=H(e,t),(r=ot.createRng()).setStartAfter(t),r.setEndAfter(n),u=(o=r.extractContents()).firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){ot.remove(u);break}e.dom.isEmpty(o)||ot.insertAfter(o,n),ot.insertAfter(s,n),Xn(e.dom,t.parentNode)&&(a=t.parentNode,Pn.each(i,(function(e){a.parentNode.insertBefore(e,t.parentNode)})),ot.remove(a)),ot.remove(t),Xn(e.dom,n)&&ot.remove(n)},ut=function(e){var n=e.cloneRange(),t=fe(e.startContainer,e.startOffset);n.setStart(t.container,t.offset);var r=fe(e.endContainer,e.endOffset);return n.setEnd(r.container,r.offset),n},st=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),at=rt.DOM,ct=function(e){function n(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=at.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):at.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i}var t={};return n(!0),e.collapsed||n(),t},ft=function(e){function n(n){var t,r,o;t=o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],t&&(1===t.nodeType&&(r=function(e){for(var n=e.parentNode.firstChild,t=0;n;){if(n===e)return t;1===n.nodeType&&"bookmark"===n.getAttribute("data-mce-type")||t++,n=n.nextSibling}return-1}(t),t=t.parentNode,at.remove(o),!t.hasChildNodes()&&at.isBlock(t)&&t.appendChild(at.create("br"))),e[n?"startContainer":"endContainer"]=t,e[n?"startOffset":"endOffset"]=r)}n(!0),n();var t=at.createRng();return t.setStart(e.startContainer,e.startOffset),e.endContainer&&t.setEnd(e.endContainer,e.endOffset),ut(t)},dt=function(e,n){var t,r;if(Oe(e,n,t=n.nextSibling)){for(;r=t.firstChild;)n.appendChild(r);e.remove(t)}if(Oe(e,n,t=n.previousSibling)){for(;r=t.lastChild;)n.insertBefore(r,n.firstChild);e.remove(t)}},lt=function(e){return"list-style-type"in e},mt={toggleList:function(e,n,t){var r=Jn.getParentList(e),o=Jn.getSelectedSubLists(e);t=t||{},r&&0<o.length?Ce(e,r,o,n,t):function(e,n,t,r){if(n!==e.getBody())if(n)if(n.nodeName!==t||lt(r)||pe(n)){var o=ct(e.selection.getRng(!0));Ne(e.dom,n,r);var i=e.dom.rename(n,t);dt(e.dom,i),e.selection.setRng(ft(o)),B(e,ve(t),i)}else ge(e);else Se(e,t,r),B(e,ve(t),n)}(e,r,n,t)},mergeWithAdjacentLists:dt},gt=rt.DOM,pt=function(e,n){Pn.each(Pn.grep(e.select("ol,ul",n)),(function(n){be(e,n)}))},vt=function(e){e.on("keydown",(function(n){n.keyCode===An.BACKSPACE?xe(e,!1)&&n.preventDefault():n.keyCode===An.DELETE&&xe(e,!0)&&n.preventDefault()}))},ht=xe,Nt=function(e){return{backspaceDelete:function(n){ht(e,n)}}},yt=function(e){e.on("BeforeExecCommand",(function(n){var t=n.command.toLowerCase();"indent"===t?le(e):"outdent"===t&&me(e)})),e.addCommand("InsertUnorderedList",(function(n,t){mt.toggleList(e,"UL",t)})),e.addCommand("InsertOrderedList",(function(n,t){mt.toggleList(e,"OL",t)})),e.addCommand("InsertDefinitionList",(function(n,t){mt.toggleList(e,"DL",t)})),e.addCommand("RemoveList",(function(){ge(e)})),e.addQueryStateHandler("InsertUnorderedList",Re(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Re(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Re(e,"DL"))},St=function(e){return e.getParam("lists_indent_on_tab",!0)},Ot=function(e){St(e)&&function(e){e.on("keydown",(function(n){n.keyCode!==An.TAB||An.metaKeyPressed(n)||e.undoManager.transact((function(){(n.shiftKey?me(e):le(e))&&n.preventDefault()}))}))}(e),vt(e)},Ct=function(e){function n(n){return function(){return e.execCommand(n)}}var t,r,o;r="advlist",o=(t=e).settings.plugins?t.settings.plugins:"",-1===Pn.inArray(o.split(/[ ,]/),r)&&(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:n("InsertOrderedList"),onSetup:Ie(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:n("InsertUnorderedList"),onSetup:Ie(e,"UL")}))};Me.add("lists",(function(e){return Ot(e),Ct(e),yt(e),Nt(e)}))}(window);