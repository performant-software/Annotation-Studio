!function(g){"use strict";function e(){}function i(e){return function(){return e}}function t(){return ve}function n(e){return e.isNone()}function r(e){return e()}function o(e){return e}function s(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function c(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function a(e){g.setTimeout(function(){throw e},0)}function u(a,e){return e(function(r){var o=[],i=0;0===a.length?r([]):c(a,function(e,t){var n;e.get((n=t,function(e){o[n]=e,++i>=a.length&&r(o)}))})})}function l(e,t){return u(s(e,t),Se)}function f(e){return e.replace(/\r?\n/g,"<br>")}function d(e,i,t){var n=e.split(/\n\n/),r=function(e,t){var n,r=[],o="<"+i;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+He.encodeAllRaw(t[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"}(0,t),o="</"+i+">",a=Re.map(n,function(e){return e.split(/\n/).join("<br />")});return 1===a.length?a[0]:Re.map(a,function(e){return r+e+o}).join("")}function m(t,e){return Re.each(e,function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}function p(t){var n,e;return e=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),Re.each(e,function(e){if(e.test(t))return!(n=!0)}),n}function h(e){function n(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)for(;t+=n(e),e=e.next;);return t}function i(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!i(e,t))return!1}while(e=e.next);return!0}function t(e,t,n){var r=e._listLevel||s;r!==s&&(a=r<s?a&&a.parent.parent:(u=a,null)),a&&a.name===t?a.append(e):(u=u||a,a=new Ve(t,1),1<n&&a.attr("start",""+n),e.wrap(a)),e.name="li",s<r&&u&&u.lastChild.append(a),s=r,function o(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)for(;o(e),e=e.next;);}(e),i(e,/^\u00a0+/),i(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(e,/^\u00a0+/)}for(var a,u,s=1,r=[],o=e.firstChild;null!=o;)if(r.push(o),null!==(o=o.walk()))for(;void 0!==o&&o.parent!==e;)o=o.walk();for(var c=0;c<r.length;c++)if("p"===(e=r[c]).name&&e.firstChild){var l=n(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(l)){t(e,"ul");continue}if(p(l)){var f=/([0-9]+)\./.exec(l),d=1;f&&(d=parseInt(f[1],10)),t(e,"ol",d);continue}if(e._listLevel){t(e,"ul",1);continue}a=null}else u=a,a=null}function v(n,r,o,i){var a,u={},e=n.dom.parseStyle(i);return Re.each(e,function(e,t){switch(t){case"mso-list":(a=/\w+ \w+([0-9]+)/i.exec(i))&&(o._listLevel=parseInt(a[1],10)),/Ignore/i.test(e)&&o.firstChild&&(o._listIgnore=!0,o.firstChild._listIgnore=!0);break;case"horiz-align":t="text-align";break;case"vert-align":t="vertical-align";break;case"font-color":case"mso-foreground":t="color";break;case"mso-background":case"mso-highlight":t="background";break;case"font-weight":case"font-style":return void("normal"!==e&&(u[t]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void o.remove()}0!==t.indexOf("mso-comment")?0!==t.indexOf("mso-")&&("all"===qe.getRetainStyleProps(n)||r&&r[t])&&(u[t]=e):o.remove()}),/(bold)/i.test(u["font-weight"])&&(delete u["font-weight"],o.wrap(new Ve("b",1))),/(italic)/i.test(u["font-style"])&&(delete u["font-style"],o.wrap(new Ve("i",1))),(u=n.dom.serializeStyle(u,o.name))||null}function y(e,t){return{content:e,cancelled:t}}function b(e,t,n,r){var o,i,a,u,s,c,l=ce(e,t,n,r),f=function(e,t){var n=Ue({},e.schema);n.addNodeFilter("meta",function(e){Re.each(e,function(e){return e.remove()})});var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return ze({validate:e.settings.validate},e.schema).serialize(r)}(e,l.content);return e.hasEventListeners("PastePostProcess")&&!l.isDefaultPrevented()?(i=f,a=n,u=r,s=(o=e).dom.create("div",{style:"display:none"},i),y((c=le(o,s,a,u)).node.innerHTML,c.isDefaultPrevented())):y(f,l.isDefaultPrevented())}function w(e,t){return e.insertContent(t,{merge:qe.shouldMergeFormats(e),paste:!0}),!0}function x(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)}function _(e){return x(e)&&/.(gif|jpe?g|png)$/.test(e)}function P(e,t,n){return!(!1!==e.selection.isCollapsed()||!x(t)||(o=t,i=n,(r=e).undoManager.extra(function(){i(r,o)},function(){r.execCommand("mceInsertLink",!1,o)}),0));var r,o,i}function T(e,t,n){return!!_(t)&&(o=t,i=n,(r=e).undoManager.extra(function(){i(r,o)},function(){r.insertContent('<img src="'+o+'">')}),!0);var r,o,i}function D(e){return"\n"===e||"\r"===e}function C(i){return(t=function(e,t){return o=t,-1!==" \f\t\x0B".indexOf(o)||"\xa0"===t?e.pcIsSpace||""===e.str||e.str.length===i.length-1||(n=i,(r=e.str.length+1)<n.length&&0<=r&&D(n[r]))?{pcIsSpace:!1,str:e.str+"\xa0"}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:D(t),str:e.str+t};var n,r,o},n={pcIsSpace:!1,str:""},c(i,function(e){n=t(n,e)}),n).str;var t,n}function k(e,t,n){var r=n||Ne(t),o=Ye(e,Le(t),r);!1===o.cancelled&&Ze(e,o.content)}function F(e,t){var n=C(e.dom.encode(t).replace(/\r\n/g,"\n"));k(e,We(n,e.settings.forced_root_block,e.settings.forced_root_block_attrs),!1)}function S(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&0<n.length&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(i){t[o]=""}}}return t}function E(e,t){return t in e&&0<e[t].length}function I(e){return E(e,"text/html")||E(e,"text/plain")}function R(t,e,n){var r,o,i,a="paste"===e.type?e.clipboardData:e.dataTransfer;if(t.settings.paste_data_images&&a){var u=(o=(r=a).items?s(_e(r.items),function(e){return e.getAsFile()}):[],i=r.files?_e(r.files):[],function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(0<o.length?o:i,function(e){return/^image\/(jpeg|png|gif|bmp)$/.test(e.type)}));if(0<u.length)return e.preventDefault(),l(u,function(r){return Se(function(e){var t=r.getAsFile?r.getAsFile():r,n=new window.FileReader;n.onload=function(){e({blob:t,uri:n.result})},n.readAsDataURL(t)})}).get(function(e){n&&t.selection.setRng(n),c(e,function(e){!function(e,t){var n,r,o,i,a,u,s=(o=t.uri,-1!==(i=o.indexOf(","))?o.substr(i+1):null),c=Je(),l=e.settings.images_reuse_filename&&t.blob.name?(n=e,(r=t.blob.name.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i))?n.dom.encode(r[1]):null):c,f=new g.Image;if(f.src=t.uri,a=e.settings,u=f,!a.images_dataimg_filter||a.images_dataimg_filter(u)){var d,m=e.editorUpload.blobCache,p=void 0;(d=m.findFirst(function(e){return e.base64()===s}))?p=d:(p=m.create(c,t.blob,s,l),m.add(p)),k(e,'<img src="'+p.blobUri()+'">',!1)}else k(e,'<img src="'+t.uri+'">',!1)}(t,e)})}),!0}return!1}function O(e){return Oe.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode}function A(s,c,l){function f(e,t,n,r){var o,i;E(e,"text/html")?o=e["text/html"]:(o=c.getHtml(),r=r||Ne(o),c.isDefaultContent(o)&&(n=!0)),o=Ge.trimHtml(o),c.remove(),i=!1===r&&$e(o),o.length&&!i||(n=!0),n&&(o=E(e,"text/plain")&&i?e["text/plain"]:Ge.innerText(o)),c.isDefaultContent(o)?t||s.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):n?F(s,o):k(s,o,r)}var d,t,m=(t=ie(be.none()),{clear:function(){t.set(be.none())},set:function(e){t.set(be.some(e))},isSet:function(){return t.get().isSome()},on:function(e){t.get().each(e)}});s.on("keydown",function(e){function t(e){O(e)&&!e.isDefaultPrevented()&&c.remove()}if(O(e)&&!e.isDefaultPrevented()){if((d=e.shiftKey&&86===e.keyCode)&&Ee.webkit&&-1!==g.navigator.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),m.set(e),window.setTimeout(function(){m.clear()},100),Ee.ie&&d)return e.preventDefault(),void de(s,!0);c.remove(),c.create(),s.once("keyup",t),s.once("paste",function(){s.off("keyup",t)})}}),s.on("paste",function(e){var t,n,r,o=m.isSet(),i=(t=s,n=S(e.clipboardData||t.getDoc().dataTransfer),Ge.isMsEdge()?Re.extend(n,{"text/html":""}):n),a="text"===l.get()||d,u=E(i,Be());d=!1,e.isDefaultPrevented()||(r=e.clipboardData,-1!==g.navigator.userAgent.indexOf("Android")&&r&&r.items&&0===r.items.length)?c.remove():I(i)||!R(s,e,c.getLastRng()||s.selection.getRng())?(o||e.preventDefault(),!Ee.ie||o&&!e.ieFake||E(i,"text/html")||(c.create(),s.dom.bind(c.getEl(),"paste",function(e){e.stopPropagation()}),s.getDoc().execCommand("Paste",!1,null),i["text/html"]=c.getHtml()),E(i,"text/html")?(e.preventDefault(),u=u||Ne(i["text/html"]),f(i,o,a,u)):Ie.setEditorTimeout(s,function(){f(i,o,a,u)},0)):c.remove()})}function j(e){return Ee.ie&&e.inline?g.document.body:e.getBody()}function M(e,t,n){var r;j(r=e)===r.getBody()||e.dom.bind(t,"paste keyup",function(){et(e,n)||e.fire("paste")})}function L(e,t){return t===e}function N(a){var u=ie(null),s="%MCEPASTEBIN%";return{create:function(){return t=u,n=s,o=(e=a).dom,i=e.getBody(),t.set(e.selection.getRng()),r=e.dom.add(j(e),"div",{id:"mcepastebin","class":"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(Ee.ie||Ee.gecko)&&o.setStyle(r,"left","rtl"===o.getStyle(i,"direction",!0)?65535:-65535),o.bind(r,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),M(e,r,n),r.focus(),void e.selection.select(r,!0);var e,t,n,r,o,i},remove:function(){return function(e,t){if(Qe(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)}(a,u)},getEl:function(){return Qe(a)},getHtml:function(){return function(n){function t(e,t){e.appendChild(t),n.dom.remove(t,!0)}var r,e,o,i,a;for(e=Re.grep(j(n).childNodes,function(e){return"mcepastebin"===e.id}),r=e.shift(),Re.each(e,function(e){t(r,e)}),o=(i=n.dom.select("div[id=mcepastebin]",r)).length-1;0<=o;o--)a=n.dom.create("div"),r.insertBefore(a,i[o]),t(a,i[o]);return r?r.innerHTML:""}(a)},getLastRng:function(){return u.get()},isDefault:function(){return et(a,s)},isDefaultContent:function(e){return L(s,e)}}}function B(n,e){var t=N(n);return n.on("PreInit",function(){return A(a=n,t,e),void a.parser.addNodeFilter("img",function(e,t,n){function r(e){e.attr("data-mce-object")||u===Ee.transparentSrc||e.remove()}var o;if(!a.settings.paste_data_images&&(o=n).data&&!0===o.data.paste)for(var i=e.length;i--;)(u=e[i].attr("src"))&&(0===u.indexOf("webkit-fake-url")?r(e[i]):a.settings.allow_html_data_urls||0!==u.indexOf("data:")||r(e[i]))});var a,u}),{pasteFormat:e,pasteHtml:function(e,t){return k(n,e,t)},pasteText:function(e){return F(n,e)},pasteImageData:function(e,t){return R(n,e,t)},getDataTransferItems:S,hasHtmlOrText:I,hasContentType:E}}function H(){}function $(e,t,n){if(r=e,!1!==Ee.iOS||r===undefined||"function"!=typeof r.setData||!0===Ge.isMsEdge())return!1;var r;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(Be(),t),!0}catch(ae){return!1}}function W(e,t,n,r){$(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)}function U(u){return function(e,t){var n=Me(e),r=u.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),o=u.dom.create("div",{contenteditable:"true"},n);u.dom.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(o),u.dom.add(u.getBody(),r);var i=u.selection.getRng();o.focus();var a=u.dom.createRng();a.selectNodeContents(o),u.selection.setRng(a),Ie.setTimeout(function(){u.selection.setRng(i),r.parentNode.removeChild(r),t()},0)}}function z(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}}function V(e){return!e.selection.isCollapsed()||!!(t=e).dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody());var t}function K(e,t){return nt.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())}function q(e,t){e.focus(),e.selection.setRng(t)}function G(t,n){t.on("PastePreProcess",function(e){e.content=n(t,e.content,e.internal,e.wordContent)})}function X(e,t){if(!Xe.isWordContent(t))return t;var n=[];Re.each(e.schema.getBlockElements(),function(e,t){n.push(t)});var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=Ge.filter(t,[[r,"$1"]]),Ge.filter(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function Y(e,t,n,r){if(r||n)return t;var c,o=qe.getWebkitStyles(e);if(!1===qe.shouldRemoveWebKitStyles(e)||"all"===o)return t;if(o&&(c=o.split(/[, ]/)),c){var l=e.dom,f=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var o=l.parseStyle(l.decode(n)),i={};if("none"===c)return t+r;for(var a=0;a<c.length;a++){var u=o[c[a]],s=l.getStyle(f,c[a],!0);/color/.test(c[a])&&(u=l.toHex(u),s=l.toHex(s)),s!==u&&(i[c[a]]=u)}return(i=l.serializeStyle(i,"span"))?t+' style="'+i+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function Z(n,e){n.$("a",e).find("font,u").each(function(e,t){n.dom.remove(t,!0)})}function J(n,r){return function(t){function e(e){return t.setActive(e.state)}return t.setActive("text"===r.pasteFormat.get()),n.on("PastePlainTextToggle",e),function(){return n.off("PastePlainTextToggle",e)}}}var Q,ee,te,ne,re,oe,ie=function(e){function t(){return n}var n=e;return{get:t,set:function(e){n=e},clone:function(){return ie(t())}}},ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),ue=function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!ae.get("powerpaste")||("undefined"!=typeof g.window.console&&g.window.console.log&&g.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))},se=function(e,t){return{clipboard:e,quirks:t}},ce=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},le=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},fe=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},de=function(e,t){return e.fire("paste",{ieFake:t})},me=function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),fe(e,!1)):(t.pasteFormat.set("text"),fe(e,!0)),e.focus()},pe=function(e,n){e.addCommand("mceTogglePlainTextPaste",function(){me(e,n)}),e.addCommand("mceInsertClipboardContent",function(e,t){t.content&&n.pasteHtml(t.content,t.internal),t.text&&n.pasteText(t.text)})},ge=i(!1),he=i(!0),ve=(Q={fold:function(e){return e()},is:ge,isSome:ge,isNone:he,getOr:o,getOrThunk:r,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(undefined),or:o,orThunk:r,map:t,each:e,bind:t,exists:ge,forall:he,filter:t,equals:n,equals_:n,toArray:function(){return[]},toString:i("none()")},Object.freeze&&Object.freeze(Q),Q),ye=function(n){function e(){return o}function t(e){return e(n)}var r=i(n),o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:he,isNone:ge,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return ye(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?o:ve},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(ge,function(e){return t(n,e)})}};return o},be={some:ye,none:t,from:function(e){return null===e||e===undefined?ve:ye(e)}},we=(ee="function",function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===ee}),xe=Array.prototype.slice,_e=we(Array.from)?Array.from:function(e){return xe.call(e)},Pe={},Te={exports:Pe};te=undefined,ne=Pe,re=Te,oe=undefined,function(e){"object"==typeof ne&&void 0!==re?re.exports=e():"function"==typeof te&&te.amd?te([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}(function(){return function l(i,a,u){function s(t,e){if(!a[t]){if(!i[t]){var n="function"==typeof oe&&oe;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[t]={exports:{}};i[t][0].call(o.exports,function(e){return s(i[t][1][e]||e)},o,o.exports,l,i,a,u)}return a[t].exports}for(var c="function"==typeof oe&&oe,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(){p&&d&&(p=!1,d.length?m=d.concat(m):g=-1,m.length&&a())}function a(){if(!p){var e=o(i);p=!0;for(var t=m.length;t;){for(d=m,m=[];++g<t;)d&&d[g].run();g=-1,t=m.length}d=null,p=!1,function n(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function u(e,t){this.fun=e,this.array=t}function s(){}var c,l,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var d,m=[],p=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||p||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.prependListener=s,f.prependOnceListener=s,f.listeners=function(){return[]},f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],2:[function(e,n){(function(t){function s(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],l(e,this)}function r(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var e=1===n._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(f){return void a(r.promise,f)}o(r.promise,t)}else(1===n._state?o:a)(r.promise,n._value)})):n._deferreds.push(r)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void l(function s(t,n){return function(){t.apply(n,arguments)}}(n,t),e)}e._state=1,e._value=t,u(e)}catch(r){a(e,r)}}function a(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,a(t,e))})}catch(s){if(n)return;n=!0,a(t,s)}}var e,f;e=this,f=setTimeout,i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(s);return r(this,new c(e,t,n)),n},i.all=function(e){var u=Array.prototype.slice.call(e);return new i(function(r,o){function i(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){i(t,e)},o)}u[t]=e,0==--a&&r(u)}catch(s){o(s)}}if(0===u.length)return r([]);for(var a=u.length,e=0;e<u.length;e++)i(e,u[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},i._immediateFn="function"==typeof t?function(e){t(e)}:function(e){f(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==n&&n.exports?n.exports=i:e.Promise||(e.Promise=i)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(s,e,c){(function(e,t){function n(e,t){this._id=e,this._clearFn=t}var r=s("process/browser.js").nextTick,o=Function.prototype.apply,i=Array.prototype.slice,a={},u=0;c.setTimeout=function(){return new n(o.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new n(o.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(e){e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},c.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},c._unrefActive=c.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},c.setImmediate="function"==typeof e?e:function(e){var t=u++,n=!(arguments.length<2)&&i.call(arguments,1);return a[t]=!0,r(function(){a[t]&&(n?e.apply(null,n):e.call(null),c.clearImmediate(t))}),t},c.clearImmediate="function"==typeof t?t:function(e){delete a[e]}}).call(this,s("timers").setImmediate,s("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t){var n=e("promise-polyfill"),r="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:r.Promise||n}},{"promise-polyfill":2}]},{},[4])(4)});var De=Te.exports.boltExport,Ce=function(e){var n=be.none(),t=[],r=function(e){o()?a(e):t.push(e)},o=function(){return n.isSome()},i=function(e){c(e,a)},a=function(t){n.each(function(e){g.setTimeout(function(){t(e)},0)})};return e(function(e){n=be.some(e),i(t),t=[]}),{get:r,map:function(n){return Ce(function(t){r(function(e){t(n(e))})})},isReady:o}},ke={nu:Ce,pure:function(t){return Ce(function(e){e(t)})}},Fe=function(n){function e(e){n().then(e,a)}return{map:function(e){return Fe(function(){return n().then(e)})},bind:function(t){return Fe(function(){return n().then(function(e){return t(e).toPromise()})})},anonBind:function(e){return Fe(function(){return n().then(function(){return e.toPromise()})})},toLazy:function(){return ke.nu(e)},toCached:function(){var e=null;return Fe(function(){return null===e&&(e=n()),e})},toPromise:n,get:e}},Se=function(e){return Fe(function(){return new De(e)})},Ee=tinymce.util.Tools.resolve("tinymce.Env"),Ie=tinymce.util.Tools.resolve("tinymce.util.Delay"),Re=tinymce.util.Tools.resolve("tinymce.util.Tools"),Oe=tinymce.util.Tools.resolve("tinymce.util.VK"),Ae="x-tinymce/html",je="<!-- "+Ae+" -->",Me=function(e){return je+e},Le=function(e){return e.replace(je,"")},Ne=function(e){return-1!==e.indexOf(je)},Be=function(){return Ae},He=tinymce.util.Tools.resolve("tinymce.html.Entities"),$e=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},We=function(e,t,n){return t?d(e,!0===t?"p":t,n):f(e)},Ue=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ze=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Ve=tinymce.util.Tools.resolve("tinymce.html.Node"),Ke=tinymce.util.Tools.resolve("tinymce.html.Schema"),qe={shouldBlockDrop:function(e){return e.getParam("paste_block_drop",!1)},shouldPasteDataImages:function(e){return e.getParam("paste_data_images",!1)},shouldFilterDrop:function(e){return e.getParam("paste_filter_drop",!0)},getPreProcess:function(e){return e.getParam("paste_preprocess")},getPostProcess:function(e){return e.getParam("paste_postprocess")},getWebkitStyles:function(e){return e.getParam("paste_webkit_styles")},shouldRemoveWebKitStyles:function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},shouldMergeFormats:function(e){return e.getParam("paste_merge_formats",!0)},isSmartPasteEnabled:function(e){return e.getParam("smart_paste",!0)},isPasteAsTextEnabled:function(e){return e.getParam("paste_as_text",!1)},getRetainStyleProps:function(e){return e.getParam("paste_retain_style_properties")},getWordValidElements:function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},shouldConvertWordFakeLists:function(e){return e.getParam("paste_convert_word_fake_lists",!0)},shouldUseDefaultFilters:function(e){return e.getParam("paste_enable_default_filters",!0)}},Ge={filter:m,innerText:function ut(e){var t=Ke(),n=Ue({},t),r="",o=t.getShortEndedElements(),i=Re.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements();return e=m(e,[/<!\[[^\]]+\]>/g]),function u(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(o[t]&&(r+=" "),i[t])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))for(;u(e),e=e.next;);a[t]&&n.next&&(r+="\n","p"===t&&(r+="\n"))}}else r+="\n"}(n.parse(e)),r},trimHtml:function st(e){return m(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function ae(t,n,r){return n||r?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function ct(e){var t=0;return function(){return e+t++}},isMsEdge:function(){return-1!==g.navigator.userAgent.indexOf(" Edge/")}},Xe={preProcess:function(e,t){return qe.shouldUseDefaultFilters(e)?function(r,e){var t,o;(t=qe.getRetainStyleProps(r))&&(o=Re.makeMap(t.split(/[, ]/))),e=Ge.filter(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0<t.length?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("\xa0"):""}]]);var n=qe.getWordValidElements(r),i=Ke({valid_elements:n,valid_children:"-li[p]"});Re.each(i.elements,function(e){e.attributes["class"]||(e.attributes["class"]={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var a=Ue({},i);a.addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",v(r,o,t,t.attr("style"))),"span"===t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),a.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),a.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),a.addNodeFilter("a",function(e){for(var t,n,r,o=e.length;o--;)if(n=(t=e[o]).attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=(n=n.split("#")[1])&&"#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var u=a.parse(e);return qe.shouldConvertWordFakeLists(r)&&h(u),ze({validate:r.settings.validate},i).serialize(u)}(e,t):t},isWordContent:function lt(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}},Ye=function(e,t,n){var r=Xe.isWordContent(t);return b(e,r?Xe.preProcess(e,t):t,n,r)},Ze=function(e,t){var n,r;!1===qe.isSmartPasteEnabled(e)?w(e,t):(n=e,r=t,Re.each([P,T,w],function(e){return!0!==e(n,r,w)}))},Je=Ge.createIdGenerator("mceclip"),Qe=function(e){return e.dom.get("mcepastebin")},et=function(e,t){var n=Qe(e);return n&&"mcepastebin"===n.id&&L(t,n.innerHTML)},tt=function(e){var t,n;e.on("cut",(n=e,function(e){V(n)&&W(e,z(n),U(n),function(){if(Ee.browser.isChrome()){var e=n.selection.getRng();Ie.setEditorTimeout(n,function(){n.selection.setRng(e),n.execCommand("Delete")},0)}else n.execCommand("Delete")})})),e.on("copy",(t=e,function(e){V(t)&&W(e,z(t),U(t),H)}))},nt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),rt=function(a,u,s){qe.shouldBlockDrop(a)&&a.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),qe.shouldPasteDataImages(a)||a.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&0<t.files.length&&e.preventDefault()}),a.on("drop",function(e){var t,n,r;if(n=K(a,e),!e.isDefaultPrevented()&&!s.get()){t=u.getDataTransferItems(e.dataTransfer);var o=u.hasContentType(t,Be());if((u.hasHtmlOrText(t)&&(!(r=t["text/plain"])||0!==r.indexOf("file://"))||!u.pasteImageData(e,n))&&n&&qe.shouldFilterDrop(a)){var i=t["mce-internal"]||t["text/html"]||t["text/plain"];i&&(e.preventDefault(),Ie.setEditorTimeout(a,function(){a.undoManager.transact(function(){t["mce-internal"]&&a.execCommand("Delete"),q(a,n),i=Ge.trimHtml(i),t["text/html"]?u.pasteHtml(i,o):u.pasteText(i)})}))}}}),a.on("dragstart",function(){s.set(!0)}),a.on("dragover dragend",function(e){qe.shouldPasteDataImages(a)&&!1===s.get()&&(e.preventDefault(),q(a,K(a,e))),"dragend"===e.type&&s.set(!1)})},ot=function(e){var t=e.plugins.paste,n=qe.getPreProcess(e);n&&e.on("PastePreProcess",function(e){n.call(t,t,e)});var r=qe.getPostProcess(e);r&&e.on("PastePostProcess",function(e){r.call(t,t,e)})},it=function(e){Ee.webkit&&G(e,Y),Ee.ie&&(G(e,X),function r(t,n){t.on("PastePostProcess",function(e){n(t,e.node)})}(e,Z))},at=function(e,t){e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:J(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:J(e,t)})};!function ft(){ae.add("paste",function(e){if(!1===ue(e)){var t=ie(!1),n=B(e,ie(qe.isPasteAsTextEnabled(e)?"text":"html")),r=it(e);return at(e,n),pe(e,n),ot(e),tt(e),rt(e,n,t),se(n,r)}})}()}(window);